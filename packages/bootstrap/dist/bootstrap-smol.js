#!/usr/bin/env node
"use strict";var Bp=Object.create;var Fo=Object.defineProperty;var Up=Object.getOwnPropertyDescriptor;var Fp=Object.getOwnPropertyNames;var Hp=Object.getPrototypeOf,Gp=Object.prototype.hasOwnProperty;var _e=(e,u)=>()=>(u||e((u={exports:{}}).exports,u),u.exports);var Vp=(e,u,h,p)=>{if(u&&typeof u=="object"||typeof u=="function")for(let o of Fp(u))!Gp.call(e,o)&&o!==h&&Fo(e,o,{get:()=>u[o],enumerable:!(p=Up(u,o))||p.enumerable});return e};var Ds=(e,u,h)=>(h=e!=null?Bp(Hp(e)):{},Vp(u||!e||!e.__esModule?Fo(h,"default",{value:e,enumerable:!0}):h,e));var Vi=_e((J1,Ql)=>{var Xo=Object.defineProperty,v=(e,u)=>Xo(e,"name",{value:u,configurable:!0}),Wp=(e,u)=>()=>(e&&(u=e(e=0)),u),J=(e,u)=>()=>(u||e((u={exports:{}}).exports,u),u.exports),zp=(e,u)=>{for(var h in u)Xo(e,h,{get:u[h],enumerable:!0})},Qo=J((e,u)=>{"use strict";var h=Symbol.for("indent"),p=Symbol.for("newline"),o=`
`,l="  ",n=/^\uFEFF/,t=/^\s*[{[]((?:\r?\n)+)([\s\t]*)/,r=/^(?:\{\}|\[\])((?:\r?\n)+)?$/,s=/^Unexpected token '?(.)'?(,)? /i,i=v(y=>{let S=y.charCodeAt(0).toString(16).toUpperCase();return`0x${S.length%2?"0":""}${S}`},"hexify"),c=v(y=>String(y).replace(n,""),"stripBOM"),a=v((y,S,b=0)=>({message:`${y} while parsing ${S}`,position:b}),"makeParsedError"),d=v((y,S,b=20)=>{let E=y.message;if(!S)return a(E,"empty string");let _=E.match(s),w=E.match(/ position\s+(\d+)/i);_&&(E=E.replace(s,`Unexpected token ${JSON.stringify(_[1])} (${i(_[1])})$2 `));let O;if(w?O=+w[1]:E.match(/^Unexpected end of JSON.*/i)&&(O=S.length-1),O==null)return a(E,`'${S.slice(0,b*2)}'`);let R=O<=b?0:O-b,I=O+b>=S.length?S.length:O+b,P=`${R?"...":""}${S.slice(R,I)}${I===S.length?"":"..."}`;return a(E,`${S===P?"":"near "}${JSON.stringify(P)}`,O)},"parseError"),g=class extends SyntaxError{static{v(this,"JSONParseError")}constructor(y,S,b,E){let _=d(y,S,b);super(_.message),Object.assign(this,_),this.code="EJSONPARSE",this.systemError=y,Error.captureStackTrace(this,E||this.constructor)}get name(){return this.constructor.name}set name(y){}get[Symbol.toStringTag](){return this.constructor.name}},m=v((y,S)=>{let b=JSON.parse(y,S);if(b&&typeof b=="object"){let E=y.match(r)||y.match(t)||[null,"",""];b[p]=E[1]??o,b[h]=E[2]??l}return b},"parseJson"),f=v((y,S,b)=>{let E=c(y);try{return m(E,S)}catch(_){if(typeof y!="string"&&!Buffer.isBuffer(y)){let w=Array.isArray(y)&&y.length===0?"an empty array":String(y);throw Object.assign(new TypeError(`Cannot parse ${w}`),{code:"EJSONPARSE",systemError:_})}throw new g(_,E,b,f)}},"parseJsonError");u.exports=f,f.JSONParseError=g,f.noExceptions=(y,S)=>{try{return m(c(y),S)}catch{}}}),Kp=J((e,u)=>{var h=new Set(["dependencies","optionalDependencies","devDependencies","peerDependencies"]),p=v(l=>{for(let n of h)l&&l[n]&&(l[n]=Object.keys(l[n]).sort((t,r)=>t.localeCompare(r,"en")).reduce((t,r)=>(t[r]=l[n][r],t),{}));return l},"orderDeps"),o=v(({content:l,originalContent:n})=>{let t=p({...l});if(t.dependencies&&t.optionalDependencies)for(let a of Object.keys(t.optionalDependencies))delete t.dependencies[a];let r={...n};for(let a of h)t[a]&&(r[a]=t[a]),t[a]&&typeof t=="object"&&Object.keys(t[a]).length===0&&delete r[a];let{dependencies:s,peerDependencies:i}=n||{},{peerDependencies:c}=r;if(s&&i&&c)for(let a of Object.keys(i))s[a]!==void 0&&c[a]!==void 0&&(r.dependencies=r.dependencies||{},r.dependencies[a]=c[a]);return r},"updateDependencies");o.knownKeys=h,u.exports=o}),Jp=J((e,u)=>{var h=v(({content:p,originalContent:o={}})=>{let l=p.scripts;if(!l)return o;if(v(()=>Object.entries(l).some(([n,t])=>typeof n!="string"||typeof t!="string"),"hasInvalidScripts")())throw Object.assign(new TypeError("package.json scripts should be a key-value pair of strings."),{code:"ESCRIPTSINVALID"});return{...o,scripts:{...l}}},"updateScripts");u.exports=h}),qp=J((e,u)=>{var h=v(({content:p,originalContent:o={}})=>{let l=p.workspaces;if(!l)return o;let n=v(()=>l.some(t=>typeof t!="string"),"hasInvalidWorkspaces");if(!l.length||n())throw Object.assign(new TypeError("workspaces should be an array of strings."),{code:"EWORKSPACESINVALID"});return{...o,workspaces:[...l]}},"updateWorkspaces");u.exports=h}),br=J((e,u)=>{"use strict";var h=typeof process=="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...p)=>{}:()=>{};u.exports=h}),Er=J((e,u)=>{"use strict";var h="2.0.0",p=Number.MAX_SAFE_INTEGER||9007199254740991,o=16,l=250,n=["major","premajor","minor","preminor","patch","prepatch","prerelease"];u.exports={MAX_LENGTH:256,MAX_SAFE_COMPONENT_LENGTH:o,MAX_SAFE_BUILD_LENGTH:l,MAX_SAFE_INTEGER:p,RELEASE_TYPES:n,SEMVER_SPEC_VERSION:h,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2}}),Gt=J((e,u)=>{"use strict";var{MAX_SAFE_COMPONENT_LENGTH:h,MAX_SAFE_BUILD_LENGTH:p,MAX_LENGTH:o}=Er(),l=br();e=u.exports={};var n=e.re=[],t=e.safeRe=[],r=e.src=[],s=e.safeSrc=[],i=e.t={},c=0,a="[a-zA-Z0-9-]",d=[["\\s",1],["\\d",o],[a,p]],g=v(f=>{for(let[y,S]of d)f=f.split(`${y}*`).join(`${y}{0,${S}}`).split(`${y}+`).join(`${y}{1,${S}}`);return f},"makeSafeRegex"),m=v((f,y,S)=>{let b=g(y),E=c++;l(f,E,y),i[f]=E,r[E]=y,s[E]=b,n[E]=new RegExp(y,S?"g":void 0),t[E]=new RegExp(b,S?"g":void 0)},"createToken");m("NUMERICIDENTIFIER","0|[1-9]\\d*"),m("NUMERICIDENTIFIERLOOSE","\\d+"),m("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${a}*`),m("MAINVERSION",`(${r[i.NUMERICIDENTIFIER]})\\.(${r[i.NUMERICIDENTIFIER]})\\.(${r[i.NUMERICIDENTIFIER]})`),m("MAINVERSIONLOOSE",`(${r[i.NUMERICIDENTIFIERLOOSE]})\\.(${r[i.NUMERICIDENTIFIERLOOSE]})\\.(${r[i.NUMERICIDENTIFIERLOOSE]})`),m("PRERELEASEIDENTIFIER",`(?:${r[i.NONNUMERICIDENTIFIER]}|${r[i.NUMERICIDENTIFIER]})`),m("PRERELEASEIDENTIFIERLOOSE",`(?:${r[i.NONNUMERICIDENTIFIER]}|${r[i.NUMERICIDENTIFIERLOOSE]})`),m("PRERELEASE",`(?:-(${r[i.PRERELEASEIDENTIFIER]}(?:\\.${r[i.PRERELEASEIDENTIFIER]})*))`),m("PRERELEASELOOSE",`(?:-?(${r[i.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${r[i.PRERELEASEIDENTIFIERLOOSE]})*))`),m("BUILDIDENTIFIER",`${a}+`),m("BUILD",`(?:\\+(${r[i.BUILDIDENTIFIER]}(?:\\.${r[i.BUILDIDENTIFIER]})*))`),m("FULLPLAIN",`v?${r[i.MAINVERSION]}${r[i.PRERELEASE]}?${r[i.BUILD]}?`),m("FULL",`^${r[i.FULLPLAIN]}$`),m("LOOSEPLAIN",`[v=\\s]*${r[i.MAINVERSIONLOOSE]}${r[i.PRERELEASELOOSE]}?${r[i.BUILD]}?`),m("LOOSE",`^${r[i.LOOSEPLAIN]}$`),m("GTLT","((?:<|>)?=?)"),m("XRANGEIDENTIFIERLOOSE",`${r[i.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),m("XRANGEIDENTIFIER",`${r[i.NUMERICIDENTIFIER]}|x|X|\\*`),m("XRANGEPLAIN",`[v=\\s]*(${r[i.XRANGEIDENTIFIER]})(?:\\.(${r[i.XRANGEIDENTIFIER]})(?:\\.(${r[i.XRANGEIDENTIFIER]})(?:${r[i.PRERELEASE]})?${r[i.BUILD]}?)?)?`),m("XRANGEPLAINLOOSE",`[v=\\s]*(${r[i.XRANGEIDENTIFIERLOOSE]})(?:\\.(${r[i.XRANGEIDENTIFIERLOOSE]})(?:\\.(${r[i.XRANGEIDENTIFIERLOOSE]})(?:${r[i.PRERELEASELOOSE]})?${r[i.BUILD]}?)?)?`),m("XRANGE",`^${r[i.GTLT]}\\s*${r[i.XRANGEPLAIN]}$`),m("XRANGELOOSE",`^${r[i.GTLT]}\\s*${r[i.XRANGEPLAINLOOSE]}$`),m("COERCEPLAIN",`(^|[^\\d])(\\d{1,${h}})(?:\\.(\\d{1,${h}}))?(?:\\.(\\d{1,${h}}))?`),m("COERCE",`${r[i.COERCEPLAIN]}(?:$|[^\\d])`),m("COERCEFULL",r[i.COERCEPLAIN]+`(?:${r[i.PRERELEASE]})?(?:${r[i.BUILD]})?(?:$|[^\\d])`),m("COERCERTL",r[i.COERCE],!0),m("COERCERTLFULL",r[i.COERCEFULL],!0),m("LONETILDE","(?:~>?)"),m("TILDETRIM",`(\\s*)${r[i.LONETILDE]}\\s+`,!0),e.tildeTrimReplace="$1~",m("TILDE",`^${r[i.LONETILDE]}${r[i.XRANGEPLAIN]}$`),m("TILDELOOSE",`^${r[i.LONETILDE]}${r[i.XRANGEPLAINLOOSE]}$`),m("LONECARET","(?:\\^)"),m("CARETTRIM",`(\\s*)${r[i.LONECARET]}\\s+`,!0),e.caretTrimReplace="$1^",m("CARET",`^${r[i.LONECARET]}${r[i.XRANGEPLAIN]}$`),m("CARETLOOSE",`^${r[i.LONECARET]}${r[i.XRANGEPLAINLOOSE]}$`),m("COMPARATORLOOSE",`^${r[i.GTLT]}\\s*(${r[i.LOOSEPLAIN]})$|^$`),m("COMPARATOR",`^${r[i.GTLT]}\\s*(${r[i.FULLPLAIN]})$|^$`),m("COMPARATORTRIM",`(\\s*)${r[i.GTLT]}\\s*(${r[i.LOOSEPLAIN]}|${r[i.XRANGEPLAIN]})`,!0),e.comparatorTrimReplace="$1$2$3",m("HYPHENRANGE",`^\\s*(${r[i.XRANGEPLAIN]})\\s+-\\s+(${r[i.XRANGEPLAIN]})\\s*$`),m("HYPHENRANGELOOSE",`^\\s*(${r[i.XRANGEPLAINLOOSE]})\\s+-\\s+(${r[i.XRANGEPLAINLOOSE]})\\s*$`),m("STAR","(<|>)?=?\\s*\\*"),m("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),m("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")}),oi=J((e,u)=>{"use strict";var h=Object.freeze({loose:!0}),p=Object.freeze({}),o=v(l=>l?typeof l!="object"?h:l:p,"parseOptions");u.exports=o}),ea=J((e,u)=>{"use strict";var h=/^[0-9]+$/,p=v((l,n)=>{let t=h.test(l),r=h.test(n);return t&&r&&(l=+l,n=+n),l===n?0:t&&!r?-1:r&&!t?1:l<n?-1:1},"compareIdentifiers"),o=v((l,n)=>p(n,l),"rcompareIdentifiers");u.exports={compareIdentifiers:p,rcompareIdentifiers:o}}),ke=J((e,u)=>{"use strict";var h=br(),{MAX_LENGTH:p,MAX_SAFE_INTEGER:o}=Er(),{safeRe:l,t:n}=Gt(),t=oi(),{compareIdentifiers:r}=ea(),s=class Ye{static{v(this,"SemVer")}constructor(c,a){if(a=t(a),c instanceof Ye){if(c.loose===!!a.loose&&c.includePrerelease===!!a.includePrerelease)return c;c=c.version}else if(typeof c!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof c}".`);if(c.length>p)throw new TypeError(`version is longer than ${p} characters`);h("SemVer",c,a),this.options=a,this.loose=!!a.loose,this.includePrerelease=!!a.includePrerelease;let d=c.trim().match(a.loose?l[n.LOOSE]:l[n.FULL]);if(!d)throw new TypeError(`Invalid Version: ${c}`);if(this.raw=c,this.major=+d[1],this.minor=+d[2],this.patch=+d[3],this.major>o||this.major<0)throw new TypeError("Invalid major version");if(this.minor>o||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>o||this.patch<0)throw new TypeError("Invalid patch version");d[4]?this.prerelease=d[4].split(".").map(g=>{if(/^[0-9]+$/.test(g)){let m=+g;if(m>=0&&m<o)return m}return g}):this.prerelease=[],this.build=d[5]?d[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(c){if(h("SemVer.compare",this.version,this.options,c),!(c instanceof Ye)){if(typeof c=="string"&&c===this.version)return 0;c=new Ye(c,this.options)}return c.version===this.version?0:this.compareMain(c)||this.comparePre(c)}compareMain(c){return c instanceof Ye||(c=new Ye(c,this.options)),r(this.major,c.major)||r(this.minor,c.minor)||r(this.patch,c.patch)}comparePre(c){if(c instanceof Ye||(c=new Ye(c,this.options)),this.prerelease.length&&!c.prerelease.length)return-1;if(!this.prerelease.length&&c.prerelease.length)return 1;if(!this.prerelease.length&&!c.prerelease.length)return 0;let a=0;do{let d=this.prerelease[a],g=c.prerelease[a];if(h("prerelease compare",a,d,g),d===void 0&&g===void 0)return 0;if(g===void 0)return 1;if(d===void 0)return-1;if(d!==g)return r(d,g)}while(++a)}compareBuild(c){c instanceof Ye||(c=new Ye(c,this.options));let a=0;do{let d=this.build[a],g=c.build[a];if(h("build compare",a,d,g),d===void 0&&g===void 0)return 0;if(g===void 0)return 1;if(d===void 0)return-1;if(d!==g)return r(d,g)}while(++a)}inc(c,a,d){if(c.startsWith("pre")){if(!a&&d===!1)throw new Error("invalid increment argument: identifier is empty");if(a){let g=`-${a}`.match(this.options.loose?l[n.PRERELEASELOOSE]:l[n.PRERELEASE]);if(!g||g[1]!==a)throw new Error(`invalid identifier: ${a}`)}}switch(c){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",a,d);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",a,d);break;case"prepatch":this.prerelease.length=0,this.inc("patch",a,d),this.inc("pre",a,d);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",a,d),this.inc("pre",a,d);break;case"release":if(this.prerelease.length===0)throw new Error(`version ${this.raw} is not a prerelease`);this.prerelease.length=0;break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{let g=Number(d)?1:0;if(this.prerelease.length===0)this.prerelease=[g];else{let m=this.prerelease.length;for(;--m>=0;)typeof this.prerelease[m]=="number"&&(this.prerelease[m]++,m=-2);if(m===-1){if(a===this.prerelease.join(".")&&d===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(g)}}if(a){let m=[a,g];d===!1&&(m=[a]),r(this.prerelease[0],a)===0?isNaN(this.prerelease[1])&&(this.prerelease=m):this.prerelease=m}break}default:throw new Error(`invalid increment argument: ${c}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}};u.exports=s}),Et=J((e,u)=>{"use strict";var h=ke(),p=v((o,l,n=!1)=>{if(o instanceof h)return o;try{return new h(o,l)}catch(t){if(!n)return null;throw t}},"parse");u.exports=p}),ta=J((e,u)=>{"use strict";var h=Et(),p=v((o,l)=>{let n=h(o,l);return n?n.version:null},"valid");u.exports=p}),ra=J((e,u)=>{"use strict";var h=Et(),p=v((o,l)=>{let n=h(o.trim().replace(/^[=v]+/,""),l);return n?n.version:null},"clean");u.exports=p}),We=J((e,u)=>{var h=Symbol("proc-log.meta");u.exports={META:h,output:{LEVELS:["standard","error","buffer","flush"],KEYS:{standard:"standard",error:"error",buffer:"buffer",flush:"flush"},standard:v(function(...p){return process.emit("output","standard",...p)},"standard"),error:v(function(...p){return process.emit("output","error",...p)},"error"),buffer:v(function(...p){return process.emit("output","buffer",...p)},"buffer"),flush:v(function(...p){return process.emit("output","flush",...p)},"flush")},log:{LEVELS:["notice","error","warn","info","verbose","http","silly","timing","pause","resume"],KEYS:{notice:"notice",error:"error",warn:"warn",info:"info",verbose:"verbose",http:"http",silly:"silly",timing:"timing",pause:"pause",resume:"resume"},error:v(function(...p){return process.emit("log","error",...p)},"error"),notice:v(function(...p){return process.emit("log","notice",...p)},"notice"),warn:v(function(...p){return process.emit("log","warn",...p)},"warn"),info:v(function(...p){return process.emit("log","info",...p)},"info"),verbose:v(function(...p){return process.emit("log","verbose",...p)},"verbose"),http:v(function(...p){return process.emit("log","http",...p)},"http"),silly:v(function(...p){return process.emit("log","silly",...p)},"silly"),timing:v(function(...p){return process.emit("log","timing",...p)},"timing"),pause:v(function(){return process.emit("log","pause")},"pause"),resume:v(function(){return process.emit("log","resume")},"resume")},time:{LEVELS:["start","end"],KEYS:{start:"start",end:"end"},start:v(function(p,o){process.emit("time","start",p);function l(){return process.emit("time","end",p)}if(v(l,"end"),typeof o=="function"){let n=o();return n&&n.finally?n.finally(l):(l(),n)}return l},"start"),end:v(function(p){return process.emit("time","end",p)},"end")},input:{LEVELS:["start","end","read"],KEYS:{start:"start",end:"end",read:"read"},start:v(function(p){process.emit("input","start");function o(){return process.emit("input","end")}if(v(o,"end"),typeof p=="function"){let l=p();return l&&l.finally?l.finally(o):(o(),l)}return o},"start"),end:v(function(){return process.emit("input","end")},"end"),read:v(function(...p){let o,l,n=new Promise((t,r)=>{o=t,l=r});return process.emit("input","read",o,l,...p),n},"read")}}}),_t=J(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LRUCache=void 0;var u=typeof performance=="object"&&performance&&typeof performance.now=="function"?performance:Date,h=new Set,p=typeof process=="object"&&process?process:{},o=v((g,m,f,y)=>{typeof p.emitWarning=="function"&&p.emitWarning(g,m,f,y)},"emitWarning"),l=globalThis.AbortController,n=globalThis.AbortSignal;if(typeof l>"u"){n=class{static{v(this,"AbortSignal")}onabort;_onabort=[];reason;aborted=!1;addEventListener(f,y){this._onabort.push(y)}},l=class{static{v(this,"AbortController")}constructor(){m()}signal=new n;abort(f){if(!this.signal.aborted){this.signal.reason=f,this.signal.aborted=!0;for(let y of this.signal._onabort)y(f);this.signal.onabort?.(f)}}};let g=p.env?.LRU_CACHE_IGNORE_AC_WARNING!=="1",m=v(()=>{g&&(g=!1,o("AbortController is not defined. If using lru-cache in node 14, load an AbortController polyfill from the `node-abort-controller` package. A minimal polyfill is provided for use by LRUCache.fetch(), but it should not be relied upon in other contexts (eg, passing it to other APIs that use AbortController/AbortSignal might have undesirable effects). You may disable this with LRU_CACHE_IGNORE_AC_WARNING=1 in the env.","NO_ABORT_CONTROLLER","ENOTSUP",m))},"warnACPolyfill")}var t=v(g=>!h.has(g),"shouldWarn"),r=Symbol("type"),s=v(g=>g&&g===Math.floor(g)&&g>0&&isFinite(g),"isPosInt"),i=v(g=>s(g)?g<=Math.pow(2,8)?Uint8Array:g<=Math.pow(2,16)?Uint16Array:g<=Math.pow(2,32)?Uint32Array:g<=Number.MAX_SAFE_INTEGER?c:null:null,"getUintArray"),c=class extends Array{static{v(this,"ZeroArray")}constructor(g){super(g),this.fill(0)}},a=class Ut{static{v(this,"Stack")}heap;length;static#e=!1;static create(m){let f=i(m);if(!f)return[];Ut.#e=!0;let y=new Ut(m,f);return Ut.#e=!1,y}constructor(m,f){if(!Ut.#e)throw new TypeError("instantiate Stack using Stack.create(n)");this.heap=new f(m),this.length=0}push(m){this.heap[this.length++]=m}pop(){return this.heap[--this.length]}},d=class sa{static{v(this,"LRUCache")}#e;#t;#r;#s;#i;#c;#l;#p;get perf(){return this.#p}ttl;ttlResolution;ttlAutopurge;updateAgeOnGet;updateAgeOnHas;allowStale;noDisposeOnSet;noUpdateTTL;maxEntrySize;sizeCalculation;noDeleteOnFetchRejection;noDeleteOnStaleGet;allowStaleOnFetchAbort;allowStaleOnFetchRejection;ignoreFetchAbort;#n;#h;#o;#d;#a;#f;#y;#E;#g;#C;#b;#_;#A;#w;#S;#P;#O;#u;static unsafeExposeInternals(m){return{starts:m.#A,ttls:m.#w,sizes:m.#_,keyMap:m.#o,keyList:m.#d,valList:m.#a,next:m.#f,prev:m.#y,get head(){return m.#E},get tail(){return m.#g},free:m.#C,isBackgroundFetch:v(f=>m.#m(f),"isBackgroundFetch"),backgroundFetch:v((f,y,S,b)=>m.#U(f,y,S,b),"backgroundFetch"),moveToTail:v(f=>m.#G(f),"moveToTail"),indexes:v(f=>m.#k(f),"indexes"),rindexes:v(f=>m.#L(f),"rindexes"),isStale:v(f=>m.#I(f),"isStale")}}get max(){return this.#e}get maxSize(){return this.#t}get calculatedSize(){return this.#h}get size(){return this.#n}get fetchMethod(){return this.#c}get memoMethod(){return this.#l}get dispose(){return this.#r}get onInsert(){return this.#s}get disposeAfter(){return this.#i}constructor(m){let{max:f=0,ttl:y,ttlResolution:S=1,ttlAutopurge:b,updateAgeOnGet:E,updateAgeOnHas:_,allowStale:w,dispose:O,onInsert:R,disposeAfter:I,noDisposeOnSet:P,noUpdateTTL:L,maxSize:M=0,maxEntrySize:x=0,sizeCalculation:j,fetchMethod:U,memoMethod:V,noDeleteOnFetchRejection:B,noDeleteOnStaleGet:G,allowStaleOnFetchRejection:W,allowStaleOnFetchAbort:k,ignoreFetchAbort:D,perf:T}=m;if(T!==void 0&&typeof T?.now!="function")throw new TypeError("perf option must have a now() method if specified");if(this.#p=T??u,f!==0&&!s(f))throw new TypeError("max option must be a nonnegative integer");let C=f?i(f):Array;if(!C)throw new Error("invalid max value: "+f);if(this.#e=f,this.#t=M,this.maxEntrySize=x||this.#t,this.sizeCalculation=j,this.sizeCalculation){if(!this.#t&&!this.maxEntrySize)throw new TypeError("cannot set sizeCalculation without setting maxSize or maxEntrySize");if(typeof this.sizeCalculation!="function")throw new TypeError("sizeCalculation set to non-function")}if(V!==void 0&&typeof V!="function")throw new TypeError("memoMethod must be a function if defined");if(this.#l=V,U!==void 0&&typeof U!="function")throw new TypeError("fetchMethod must be a function if specified");if(this.#c=U,this.#P=!!U,this.#o=new Map,this.#d=new Array(f).fill(void 0),this.#a=new Array(f).fill(void 0),this.#f=new C(f),this.#y=new C(f),this.#E=0,this.#g=0,this.#C=a.create(f),this.#n=0,this.#h=0,typeof O=="function"&&(this.#r=O),typeof R=="function"&&(this.#s=R),typeof I=="function"?(this.#i=I,this.#b=[]):(this.#i=void 0,this.#b=void 0),this.#S=!!this.#r,this.#u=!!this.#s,this.#O=!!this.#i,this.noDisposeOnSet=!!P,this.noUpdateTTL=!!L,this.noDeleteOnFetchRejection=!!B,this.allowStaleOnFetchRejection=!!W,this.allowStaleOnFetchAbort=!!k,this.ignoreFetchAbort=!!D,this.maxEntrySize!==0){if(this.#t!==0&&!s(this.#t))throw new TypeError("maxSize must be a positive integer if specified");if(!s(this.maxEntrySize))throw new TypeError("maxEntrySize must be a positive integer if specified");this.#F()}if(this.allowStale=!!w,this.noDeleteOnStaleGet=!!G,this.updateAgeOnGet=!!E,this.updateAgeOnHas=!!_,this.ttlResolution=s(S)||S===0?S:1,this.ttlAutopurge=!!b,this.ttl=y||0,this.ttl){if(!s(this.ttl))throw new TypeError("ttl must be a positive integer if specified");this.#M()}if(this.#e===0&&this.ttl===0&&this.#t===0)throw new TypeError("At least one of max, maxSize, or ttl is required");if(!this.ttlAutopurge&&!this.#e&&!this.#t){let Z="LRU_CACHE_UNBOUNDED";t(Z)&&(h.add(Z),o("TTL caching without ttlAutopurge, max, or maxSize can result in unbounded memory consumption.","UnboundedCacheWarning",Z,sa))}}getRemainingTTL(m){return this.#o.has(m)?1/0:0}#M(){let m=new c(this.#e),f=new c(this.#e);this.#w=m,this.#A=f,this.#j=(b,E,_=this.#p.now())=>{if(f[b]=E!==0?_:0,m[b]=E,E!==0&&this.ttlAutopurge){let w=setTimeout(()=>{this.#I(b)&&this.#D(this.#d[b],"expire")},E+1);w.unref&&w.unref()}},this.#R=b=>{f[b]=m[b]!==0?this.#p.now():0},this.#T=(b,E)=>{if(m[E]){let _=m[E],w=f[E];if(!_||!w)return;b.ttl=_,b.start=w,b.now=y||S();let O=b.now-w;b.remainingTTL=_-O}};let y=0,S=v(()=>{let b=this.#p.now();if(this.ttlResolution>0){y=b;let E=setTimeout(()=>y=0,this.ttlResolution);E.unref&&E.unref()}return b},"getNow");this.getRemainingTTL=b=>{let E=this.#o.get(b);if(E===void 0)return 0;let _=m[E],w=f[E];if(!_||!w)return 1/0;let O=(y||S())-w;return _-O},this.#I=b=>{let E=f[b],_=m[b];return!!_&&!!E&&(y||S())-E>_}}#R=v(()=>{},"#updateItemAge");#T=v(()=>{},"#statusTTL");#j=v(()=>{},"#setItemTTL");#I=v(()=>!1,"#isStale");#F(){let m=new c(this.#e);this.#h=0,this.#_=m,this.#x=f=>{this.#h-=m[f],m[f]=0},this.#$=(f,y,S,b)=>{if(this.#m(y))return 0;if(!s(S))if(b){if(typeof b!="function")throw new TypeError("sizeCalculation must be a function");if(S=b(y,f),!s(S))throw new TypeError("sizeCalculation return invalid (expect positive integer)")}else throw new TypeError("invalid size value (must be positive integer). When maxSize or maxEntrySize is used, sizeCalculation or size must be set.");return S},this.#N=(f,y,S)=>{if(m[f]=y,this.#t){let b=this.#t-m[f];for(;this.#h>b;)this.#B(!0)}this.#h+=m[f],S&&(S.entrySize=y,S.totalCalculatedSize=this.#h)}}#x=v(m=>{},"#removeItemSize");#N=v((m,f,y)=>{},"#addItemSize");#$=v((m,f,y,S)=>{if(y||S)throw new TypeError("cannot set size without setting maxSize or maxEntrySize on cache");return 0},"#requireSize");*#k({allowStale:m=this.allowStale}={}){if(this.#n)for(let f=this.#g;!(!this.#v(f)||((m||!this.#I(f))&&(yield f),f===this.#E));)f=this.#y[f]}*#L({allowStale:m=this.allowStale}={}){if(this.#n)for(let f=this.#E;!(!this.#v(f)||((m||!this.#I(f))&&(yield f),f===this.#g));)f=this.#f[f]}#v(m){return m!==void 0&&this.#o.get(this.#d[m])===m}*entries(){for(let m of this.#k())this.#a[m]!==void 0&&this.#d[m]!==void 0&&!this.#m(this.#a[m])&&(yield[this.#d[m],this.#a[m]])}*rentries(){for(let m of this.#L())this.#a[m]!==void 0&&this.#d[m]!==void 0&&!this.#m(this.#a[m])&&(yield[this.#d[m],this.#a[m]])}*keys(){for(let m of this.#k()){let f=this.#d[m];f!==void 0&&!this.#m(this.#a[m])&&(yield f)}}*rkeys(){for(let m of this.#L()){let f=this.#d[m];f!==void 0&&!this.#m(this.#a[m])&&(yield f)}}*values(){for(let m of this.#k())this.#a[m]!==void 0&&!this.#m(this.#a[m])&&(yield this.#a[m])}*rvalues(){for(let m of this.#L())this.#a[m]!==void 0&&!this.#m(this.#a[m])&&(yield this.#a[m])}[Symbol.iterator](){return this.entries()}[Symbol.toStringTag]="LRUCache";find(m,f={}){for(let y of this.#k()){let S=this.#a[y],b=this.#m(S)?S.__staleWhileFetching:S;if(b!==void 0&&m(b,this.#d[y],this))return this.get(this.#d[y],f)}}forEach(m,f=this){for(let y of this.#k()){let S=this.#a[y],b=this.#m(S)?S.__staleWhileFetching:S;b!==void 0&&m.call(f,b,this.#d[y],this)}}rforEach(m,f=this){for(let y of this.#L()){let S=this.#a[y],b=this.#m(S)?S.__staleWhileFetching:S;b!==void 0&&m.call(f,b,this.#d[y],this)}}purgeStale(){let m=!1;for(let f of this.#L({allowStale:!0}))this.#I(f)&&(this.#D(this.#d[f],"expire"),m=!0);return m}info(m){let f=this.#o.get(m);if(f===void 0)return;let y=this.#a[f],S=this.#m(y)?y.__staleWhileFetching:y;if(S===void 0)return;let b={value:S};if(this.#w&&this.#A){let E=this.#w[f],_=this.#A[f];if(E&&_){let w=E-(this.#p.now()-_);b.ttl=w,b.start=Date.now()}}return this.#_&&(b.size=this.#_[f]),b}dump(){let m=[];for(let f of this.#k({allowStale:!0})){let y=this.#d[f],S=this.#a[f],b=this.#m(S)?S.__staleWhileFetching:S;if(b===void 0||y===void 0)continue;let E={value:b};if(this.#w&&this.#A){E.ttl=this.#w[f];let _=this.#p.now()-this.#A[f];E.start=Math.floor(Date.now()-_)}this.#_&&(E.size=this.#_[f]),m.unshift([y,E])}return m}load(m){this.clear();for(let[f,y]of m){if(y.start){let S=Date.now()-y.start;y.start=this.#p.now()-S}this.set(f,y.value,y)}}set(m,f,y={}){if(f===void 0)return this.delete(m),this;let{ttl:S=this.ttl,start:b,noDisposeOnSet:E=this.noDisposeOnSet,sizeCalculation:_=this.sizeCalculation,status:w}=y,{noUpdateTTL:O=this.noUpdateTTL}=y,R=this.#$(m,f,y.size||0,_);if(this.maxEntrySize&&R>this.maxEntrySize)return w&&(w.set="miss",w.maxEntrySizeExceeded=!0),this.#D(m,"set"),this;let I=this.#n===0?void 0:this.#o.get(m);if(I===void 0)I=this.#n===0?this.#g:this.#C.length!==0?this.#C.pop():this.#n===this.#e?this.#B(!1):this.#n,this.#d[I]=m,this.#a[I]=f,this.#o.set(m,I),this.#f[this.#g]=I,this.#y[I]=this.#g,this.#g=I,this.#n++,this.#N(I,R,w),w&&(w.set="add"),O=!1,this.#u&&this.#s?.(f,m,"add");else{this.#G(I);let P=this.#a[I];if(f!==P){if(this.#P&&this.#m(P)){P.__abortController.abort(new Error("replaced"));let{__staleWhileFetching:L}=P;L!==void 0&&!E&&(this.#S&&this.#r?.(L,m,"set"),this.#O&&this.#b?.push([L,m,"set"]))}else E||(this.#S&&this.#r?.(P,m,"set"),this.#O&&this.#b?.push([P,m,"set"]));if(this.#x(I),this.#N(I,R,w),this.#a[I]=f,w){w.set="replace";let L=P&&this.#m(P)?P.__staleWhileFetching:P;L!==void 0&&(w.oldValue=L)}}else w&&(w.set="update");this.#u&&this.onInsert?.(f,m,f===P?"update":"replace")}if(S!==0&&!this.#w&&this.#M(),this.#w&&(O||this.#j(I,S,b),w&&this.#T(w,I)),!E&&this.#O&&this.#b){let P=this.#b,L;for(;L=P?.shift();)this.#i?.(...L)}return this}pop(){try{for(;this.#n;){let m=this.#a[this.#E];if(this.#B(!0),this.#m(m)){if(m.__staleWhileFetching)return m.__staleWhileFetching}else if(m!==void 0)return m}}finally{if(this.#O&&this.#b){let m=this.#b,f;for(;f=m?.shift();)this.#i?.(...f)}}}#B(m){let f=this.#E,y=this.#d[f],S=this.#a[f];return this.#P&&this.#m(S)?S.__abortController.abort(new Error("evicted")):(this.#S||this.#O)&&(this.#S&&this.#r?.(S,y,"evict"),this.#O&&this.#b?.push([S,y,"evict"])),this.#x(f),m&&(this.#d[f]=void 0,this.#a[f]=void 0,this.#C.push(f)),this.#n===1?(this.#E=this.#g=0,this.#C.length=0):this.#E=this.#f[f],this.#o.delete(y),this.#n--,f}has(m,f={}){let{updateAgeOnHas:y=this.updateAgeOnHas,status:S}=f,b=this.#o.get(m);if(b!==void 0){let E=this.#a[b];if(this.#m(E)&&E.__staleWhileFetching===void 0)return!1;if(this.#I(b))S&&(S.has="stale",this.#T(S,b));else return y&&this.#R(b),S&&(S.has="hit",this.#T(S,b)),!0}else S&&(S.has="miss");return!1}peek(m,f={}){let{allowStale:y=this.allowStale}=f,S=this.#o.get(m);if(S===void 0||!y&&this.#I(S))return;let b=this.#a[S];return this.#m(b)?b.__staleWhileFetching:b}#U(m,f,y,S){let b=f===void 0?void 0:this.#a[f];if(this.#m(b))return b;let E=new l,{signal:_}=y;_?.addEventListener("abort",()=>E.abort(_.reason),{signal:E.signal});let w={signal:E.signal,options:y,context:S},O=v((x,j=!1)=>{let{aborted:U}=E.signal,V=y.ignoreFetchAbort&&x!==void 0;if(y.status&&(U&&!j?(y.status.fetchAborted=!0,y.status.fetchError=E.signal.reason,V&&(y.status.fetchAbortIgnored=!0)):y.status.fetchResolved=!0),U&&!V&&!j)return I(E.signal.reason);let B=L,G=this.#a[f];return(G===L||V&&j&&G===void 0)&&(x===void 0?B.__staleWhileFetching!==void 0?this.#a[f]=B.__staleWhileFetching:this.#D(m,"fetch"):(y.status&&(y.status.fetchUpdated=!0),this.set(m,x,w.options))),x},"cb"),R=v(x=>(y.status&&(y.status.fetchRejected=!0,y.status.fetchError=x),I(x)),"eb"),I=v(x=>{let{aborted:j}=E.signal,U=j&&y.allowStaleOnFetchAbort,V=U||y.allowStaleOnFetchRejection,B=V||y.noDeleteOnFetchRejection,G=L;if(this.#a[f]===L&&(!B||G.__staleWhileFetching===void 0?this.#D(m,"fetch"):U||(this.#a[f]=G.__staleWhileFetching)),V)return y.status&&G.__staleWhileFetching!==void 0&&(y.status.returnedStale=!0),G.__staleWhileFetching;if(G.__returned===G)throw x},"fetchFail"),P=v((x,j)=>{let U=this.#c?.(m,b,w);U&&U instanceof Promise&&U.then(V=>x(V===void 0?void 0:V),j),E.signal.addEventListener("abort",()=>{(!y.ignoreFetchAbort||y.allowStaleOnFetchAbort)&&(x(void 0),y.allowStaleOnFetchAbort&&(x=v(V=>O(V,!0),"res")))})},"pcall");y.status&&(y.status.fetchDispatched=!0);let L=new Promise(P).then(O,R),M=Object.assign(L,{__abortController:E,__staleWhileFetching:b,__returned:void 0});return f===void 0?(this.set(m,M,{...w.options,status:void 0}),f=this.#o.get(m)):this.#a[f]=M,M}#m(m){if(!this.#P)return!1;let f=m;return!!f&&f instanceof Promise&&f.hasOwnProperty("__staleWhileFetching")&&f.__abortController instanceof l}async fetch(m,f={}){let{allowStale:y=this.allowStale,updateAgeOnGet:S=this.updateAgeOnGet,noDeleteOnStaleGet:b=this.noDeleteOnStaleGet,ttl:E=this.ttl,noDisposeOnSet:_=this.noDisposeOnSet,size:w=0,sizeCalculation:O=this.sizeCalculation,noUpdateTTL:R=this.noUpdateTTL,noDeleteOnFetchRejection:I=this.noDeleteOnFetchRejection,allowStaleOnFetchRejection:P=this.allowStaleOnFetchRejection,ignoreFetchAbort:L=this.ignoreFetchAbort,allowStaleOnFetchAbort:M=this.allowStaleOnFetchAbort,context:x,forceRefresh:j=!1,status:U,signal:V}=f;if(!this.#P)return U&&(U.fetch="get"),this.get(m,{allowStale:y,updateAgeOnGet:S,noDeleteOnStaleGet:b,status:U});let B={allowStale:y,updateAgeOnGet:S,noDeleteOnStaleGet:b,ttl:E,noDisposeOnSet:_,size:w,sizeCalculation:O,noUpdateTTL:R,noDeleteOnFetchRejection:I,allowStaleOnFetchRejection:P,allowStaleOnFetchAbort:M,ignoreFetchAbort:L,status:U,signal:V},G=this.#o.get(m);if(G===void 0){U&&(U.fetch="miss");let W=this.#U(m,G,B,x);return W.__returned=W}else{let W=this.#a[G];if(this.#m(W)){let C=y&&W.__staleWhileFetching!==void 0;return U&&(U.fetch="inflight",C&&(U.returnedStale=!0)),C?W.__staleWhileFetching:W.__returned=W}let k=this.#I(G);if(!j&&!k)return U&&(U.fetch="hit"),this.#G(G),S&&this.#R(G),U&&this.#T(U,G),W;let D=this.#U(m,G,B,x),T=D.__staleWhileFetching!==void 0&&y;return U&&(U.fetch=k?"stale":"refresh",T&&k&&(U.returnedStale=!0)),T?D.__staleWhileFetching:D.__returned=D}}async forceFetch(m,f={}){let y=await this.fetch(m,f);if(y===void 0)throw new Error("fetch() returned undefined");return y}memo(m,f={}){let y=this.#l;if(!y)throw new Error("no memoMethod provided to constructor");let{context:S,forceRefresh:b,...E}=f,_=this.get(m,E);if(!b&&_!==void 0)return _;let w=y(m,_,{options:E,context:S});return this.set(m,w,E),w}get(m,f={}){let{allowStale:y=this.allowStale,updateAgeOnGet:S=this.updateAgeOnGet,noDeleteOnStaleGet:b=this.noDeleteOnStaleGet,status:E}=f,_=this.#o.get(m);if(_!==void 0){let w=this.#a[_],O=this.#m(w);return E&&this.#T(E,_),this.#I(_)?(E&&(E.get="stale"),O?(E&&y&&w.__staleWhileFetching!==void 0&&(E.returnedStale=!0),y?w.__staleWhileFetching:void 0):(b||this.#D(m,"expire"),E&&y&&(E.returnedStale=!0),y?w:void 0)):(E&&(E.get="hit"),O?w.__staleWhileFetching:(this.#G(_),S&&this.#R(_),w))}else E&&(E.get="miss")}#H(m,f){this.#y[f]=m,this.#f[m]=f}#G(m){m!==this.#g&&(m===this.#E?this.#E=this.#f[m]:this.#H(this.#y[m],this.#f[m]),this.#H(this.#g,m),this.#g=m)}delete(m){return this.#D(m,"delete")}#D(m,f){let y=!1;if(this.#n!==0){let S=this.#o.get(m);if(S!==void 0)if(y=!0,this.#n===1)this.#V(f);else{this.#x(S);let b=this.#a[S];if(this.#m(b)?b.__abortController.abort(new Error("deleted")):(this.#S||this.#O)&&(this.#S&&this.#r?.(b,m,f),this.#O&&this.#b?.push([b,m,f])),this.#o.delete(m),this.#d[S]=void 0,this.#a[S]=void 0,S===this.#g)this.#g=this.#y[S];else if(S===this.#E)this.#E=this.#f[S];else{let E=this.#y[S];this.#f[E]=this.#f[S];let _=this.#f[S];this.#y[_]=this.#y[S]}this.#n--,this.#C.push(S)}}if(this.#O&&this.#b?.length){let S=this.#b,b;for(;b=S?.shift();)this.#i?.(...b)}return y}clear(){return this.#V("delete")}#V(m){for(let f of this.#L({allowStale:!0})){let y=this.#a[f];if(this.#m(y))y.__abortController.abort(new Error("deleted"));else{let S=this.#d[f];this.#S&&this.#r?.(y,S,m),this.#O&&this.#b?.push([y,S,m])}}if(this.#o.clear(),this.#a.fill(void 0),this.#d.fill(void 0),this.#w&&this.#A&&(this.#w.fill(0),this.#A.fill(0)),this.#_&&this.#_.fill(0),this.#E=0,this.#g=0,this.#C.length=0,this.#h=0,this.#n=0,this.#O&&this.#b){let f=this.#b,y;for(;y=f?.shift();)this.#i?.(...y)}}};e.LRUCache=d}),Zp=J((e,u)=>{"use strict";var h=v((...t)=>t.every(r=>r)?t.join(""):"","maybeJoin"),p=v(t=>t?encodeURIComponent(t):"","maybeEncode"),o=v(t=>t.toLowerCase().replace(/^\W+/g,"").replace(/(?<!\W)\W+$/,"").replace(/\//g,"").replace(/\W+/g,"-"),"formatHashFragment"),l={sshtemplate:v(({domain:t,user:r,project:s,committish:i})=>`git@${t}:${r}/${s}.git${h("#",i)}`,"sshtemplate"),sshurltemplate:v(({domain:t,user:r,project:s,committish:i})=>`git+ssh://git@${t}/${r}/${s}.git${h("#",i)}`,"sshurltemplate"),edittemplate:v(({domain:t,user:r,project:s,committish:i,editpath:c,path:a})=>`https://${t}/${r}/${s}${h("/",c,"/",p(i||"HEAD"),"/",a)}`,"edittemplate"),browsetemplate:v(({domain:t,user:r,project:s,committish:i,treepath:c})=>`https://${t}/${r}/${s}${h("/",c,"/",p(i))}`,"browsetemplate"),browsetreetemplate:v(({domain:t,user:r,project:s,committish:i,treepath:c,path:a,fragment:d,hashformat:g})=>`https://${t}/${r}/${s}/${c}/${p(i||"HEAD")}/${a}${h("#",g(d||""))}`,"browsetreetemplate"),browseblobtemplate:v(({domain:t,user:r,project:s,committish:i,blobpath:c,path:a,fragment:d,hashformat:g})=>`https://${t}/${r}/${s}/${c}/${p(i||"HEAD")}/${a}${h("#",g(d||""))}`,"browseblobtemplate"),docstemplate:v(({domain:t,user:r,project:s,treepath:i,committish:c})=>`https://${t}/${r}/${s}${h("/",i,"/",p(c))}#readme`,"docstemplate"),httpstemplate:v(({auth:t,domain:r,user:s,project:i,committish:c})=>`git+https://${h(t,"@")}${r}/${s}/${i}.git${h("#",c)}`,"httpstemplate"),filetemplate:v(({domain:t,user:r,project:s,committish:i,path:c})=>`https://${t}/${r}/${s}/raw/${p(i||"HEAD")}/${c}`,"filetemplate"),shortcuttemplate:v(({type:t,user:r,project:s,committish:i})=>`${t}:${r}/${s}${h("#",i)}`,"shortcuttemplate"),pathtemplate:v(({user:t,project:r,committish:s})=>`${t}/${r}${h("#",s)}`,"pathtemplate"),bugstemplate:v(({domain:t,user:r,project:s})=>`https://${t}/${r}/${s}/issues`,"bugstemplate"),hashformat:o},n={};n.github={protocols:["git:","http:","git+ssh:","git+https:","ssh:","https:"],domain:"github.com",treepath:"tree",blobpath:"blob",editpath:"edit",filetemplate:v(({auth:t,user:r,project:s,committish:i,path:c})=>`https://${h(t,"@")}raw.githubusercontent.com/${r}/${s}/${p(i||"HEAD")}/${c}`,"filetemplate"),gittemplate:v(({auth:t,domain:r,user:s,project:i,committish:c})=>`git://${h(t,"@")}${r}/${s}/${i}.git${h("#",c)}`,"gittemplate"),tarballtemplate:v(({domain:t,user:r,project:s,committish:i})=>`https://codeload.${t}/${r}/${s}/tar.gz/${p(i||"HEAD")}`,"tarballtemplate"),extract:v(t=>{let[,r,s,i,c]=t.pathname.split("/",5);if(!(i&&i!=="tree")&&(i||(c=t.hash.slice(1)),s&&s.endsWith(".git")&&(s=s.slice(0,-4)),!(!r||!s)))return{user:r,project:s,committish:c}},"extract")},n.bitbucket={protocols:["git+ssh:","git+https:","ssh:","https:"],domain:"bitbucket.org",treepath:"src",blobpath:"src",editpath:"?mode=edit",edittemplate:v(({domain:t,user:r,project:s,committish:i,treepath:c,path:a,editpath:d})=>`https://${t}/${r}/${s}${h("/",c,"/",p(i||"HEAD"),"/",a,d)}`,"edittemplate"),tarballtemplate:v(({domain:t,user:r,project:s,committish:i})=>`https://${t}/${r}/${s}/get/${p(i||"HEAD")}.tar.gz`,"tarballtemplate"),extract:v(t=>{let[,r,s,i]=t.pathname.split("/",4);if(!["get"].includes(i)&&(s&&s.endsWith(".git")&&(s=s.slice(0,-4)),!(!r||!s)))return{user:r,project:s,committish:t.hash.slice(1)}},"extract")},n.gitlab={protocols:["git+ssh:","git+https:","ssh:","https:"],domain:"gitlab.com",treepath:"tree",blobpath:"tree",editpath:"-/edit",tarballtemplate:v(({domain:t,user:r,project:s,committish:i})=>`https://${t}/${r}/${s}/repository/archive.tar.gz?ref=${p(i||"HEAD")}`,"tarballtemplate"),extract:v(t=>{let r=t.pathname.slice(1);if(r.includes("/-/")||r.includes("/archive.tar.gz"))return;let s=r.split("/"),i=s.pop();i.endsWith(".git")&&(i=i.slice(0,-4));let c=s.join("/");if(!(!c||!i))return{user:c,project:i,committish:t.hash.slice(1)}},"extract")},n.gist={protocols:["git:","git+ssh:","git+https:","ssh:","https:"],domain:"gist.github.com",editpath:"edit",sshtemplate:v(({domain:t,project:r,committish:s})=>`git@${t}:${r}.git${h("#",s)}`,"sshtemplate"),sshurltemplate:v(({domain:t,project:r,committish:s})=>`git+ssh://git@${t}/${r}.git${h("#",s)}`,"sshurltemplate"),edittemplate:v(({domain:t,user:r,project:s,committish:i,editpath:c})=>`https://${t}/${r}/${s}${h("/",p(i))}/${c}`,"edittemplate"),browsetemplate:v(({domain:t,project:r,committish:s})=>`https://${t}/${r}${h("/",p(s))}`,"browsetemplate"),browsetreetemplate:v(({domain:t,project:r,committish:s,path:i,hashformat:c})=>`https://${t}/${r}${h("/",p(s))}${h("#",c(i))}`,"browsetreetemplate"),browseblobtemplate:v(({domain:t,project:r,committish:s,path:i,hashformat:c})=>`https://${t}/${r}${h("/",p(s))}${h("#",c(i))}`,"browseblobtemplate"),docstemplate:v(({domain:t,project:r,committish:s})=>`https://${t}/${r}${h("/",p(s))}`,"docstemplate"),httpstemplate:v(({domain:t,project:r,committish:s})=>`git+https://${t}/${r}.git${h("#",s)}`,"httpstemplate"),filetemplate:v(({user:t,project:r,committish:s,path:i})=>`https://gist.githubusercontent.com/${t}/${r}/raw${h("/",p(s))}/${i}`,"filetemplate"),shortcuttemplate:v(({type:t,project:r,committish:s})=>`${t}:${r}${h("#",s)}`,"shortcuttemplate"),pathtemplate:v(({project:t,committish:r})=>`${t}${h("#",r)}`,"pathtemplate"),bugstemplate:v(({domain:t,project:r})=>`https://${t}/${r}`,"bugstemplate"),gittemplate:v(({domain:t,project:r,committish:s})=>`git://${t}/${r}.git${h("#",s)}`,"gittemplate"),tarballtemplate:v(({project:t,committish:r})=>`https://codeload.github.com/gist/${t}/tar.gz/${p(r||"HEAD")}`,"tarballtemplate"),extract:v(t=>{let[,r,s,i]=t.pathname.split("/",4);if(i!=="raw"){if(!s){if(!r)return;s=r,r=null}return s.endsWith(".git")&&(s=s.slice(0,-4)),{user:r,project:s,committish:t.hash.slice(1)}}},"extract"),hashformat:v(function(t){return t&&"file-"+o(t)},"hashformat")},n.sourcehut={protocols:["git+ssh:","https:"],domain:"git.sr.ht",treepath:"tree",blobpath:"tree",filetemplate:v(({domain:t,user:r,project:s,committish:i,path:c})=>`https://${t}/${r}/${s}/blob/${p(i)||"HEAD"}/${c}`,"filetemplate"),httpstemplate:v(({domain:t,user:r,project:s,committish:i})=>`https://${t}/${r}/${s}.git${h("#",i)}`,"httpstemplate"),tarballtemplate:v(({domain:t,user:r,project:s,committish:i})=>`https://${t}/${r}/${s}/archive/${p(i)||"HEAD"}.tar.gz`,"tarballtemplate"),bugstemplate:v(()=>null,"bugstemplate"),extract:v(t=>{let[,r,s,i]=t.pathname.split("/",4);if(!["archive"].includes(i)&&(s&&s.endsWith(".git")&&(s=s.slice(0,-4)),!(!r||!s)))return{user:r,project:s,committish:t.hash.slice(1)}},"extract")};for(let[t,r]of Object.entries(n))n[t]=Object.assign({},l,r);u.exports=n}),ia=J((e,u)=>{var h=require("url"),p=v((t,r,s)=>{let i=t.indexOf(s);return t.lastIndexOf(r,i>-1?i:1/0)},"lastIndexOfBefore"),o=v(t=>{try{return new h.URL(t)}catch{}},"safeUrl"),l=v((t,r)=>{let s=t.indexOf(":"),i=t.slice(0,s+1);if(Object.prototype.hasOwnProperty.call(r,i)||t.substr(s,3)==="://")return t;let c=t.indexOf("@");return c>-1?c>s?`git+ssh://${t}`:t:`${t.slice(0,s+1)}//${t.slice(s+1)}`},"correctProtocol"),n=v(t=>{let r=p(t,"@","#"),s=p(t,":","#");return s>r&&(t=t.slice(0,s)+"/"+t.slice(s+1)),p(t,":","#")===-1&&t.indexOf("//")===-1&&(t=`git+ssh://${t}`),t},"correctUrl");u.exports=(t,r)=>{let s=r?l(t,r):t;return o(s)||o(n(s))}}),Yp=J((e,u)=>{"use strict";var h=ia(),p=v(o=>{let l=o.indexOf("#"),n=o.indexOf("/"),t=o.indexOf("/",n+1),r=o.indexOf(":"),s=/\s/.exec(o),i=o.indexOf("@"),c=!s||l>-1&&s.index>l,a=i===-1||l>-1&&i>l,d=r===-1||l>-1&&r>l,g=t===-1||l>-1&&t>l,m=n>0,f=l>-1?o[l-1]!=="/":!o.endsWith("/"),y=!o.startsWith(".");return c&&m&&f&&y&&a&&d&&g},"isGitHubShorthand");u.exports=(o,l,{gitHosts:n,protocols:t})=>{if(!o)return;let r=p(o)?`github:${o}`:o,s=h(r,t);if(!s)return;let i=n.byShortcut[s.protocol],c=n.byDomain[s.hostname.startsWith("www.")?s.hostname.slice(4):s.hostname],a=i||c;if(!a)return;let d=n[i||c],g=null;t[s.protocol]?.auth&&(s.username||s.password)&&(g=`${s.username}${s.password?":"+s.password:""}`);let m=null,f=null,y=null,S=null;try{if(i){let b=s.pathname.startsWith("/")?s.pathname.slice(1):s.pathname,E=b.indexOf("@");E>-1&&(b=b.slice(E+1));let _=b.lastIndexOf("/");_>-1?(f=decodeURIComponent(b.slice(0,_)),f||(f=null),y=decodeURIComponent(b.slice(_+1))):y=decodeURIComponent(b),y.endsWith(".git")&&(y=y.slice(0,-4)),s.hash&&(m=decodeURIComponent(s.hash.slice(1))),S="shortcut"}else{if(!d.protocols.includes(s.protocol))return;let b=d.extract(s);if(!b)return;f=b.user&&decodeURIComponent(b.user),y=decodeURIComponent(b.project),m=decodeURIComponent(b.committish),S=t[s.protocol]?.name||s.protocol.slice(0,-1)}}catch(b){if(b instanceof URIError)return;throw b}return[a,f,g,y,m,S,l]}}),ai=J((e,u)=>{"use strict";var{LRUCache:h}=_t(),p=Zp(),o=Yp(),l=ia(),n=new h({max:1e3});function t(s){try{let{protocol:i,hostname:c,pathname:a}=new URL(s);if(!c)return null;let d=/(?:git\+)http:$/.test(i)?"http:":"https:",g=a.replace(/\.git$/,"");return`${d}//${c}${g}`}catch{return null}}v(t,"unknownHostedUrl");var r=class He{static{v(this,"GitHost")}constructor(i,c,a,d,g,m,f={}){Object.assign(this,He.#e[i],{type:i,user:c,auth:a,project:d,committish:g,default:m,opts:f})}static#e={byShortcut:{},byDomain:{}};static#t={"git+ssh:":{name:"sshurl"},"ssh:":{name:"sshurl"},"git+https:":{name:"https",auth:!0},"git:":{auth:!0},"http:":{auth:!0},"https:":{auth:!0},"git+http:":{auth:!0}};static addHost(i,c){He.#e[i]=c,He.#e.byDomain[c.domain]=i,He.#e.byShortcut[`${i}:`]=i,He.#t[`${i}:`]={name:i}}static fromUrl(i,c){if(typeof i!="string")return;let a=i+JSON.stringify(c||{});if(!n.has(a)){let d=o(i,c,{gitHosts:He.#e,protocols:He.#t});n.set(a,d?new He(...d):void 0)}return n.get(a)}static fromManifest(i,c={}){if(!i||typeof i!="object")return;let a=i.repository,d=a&&(typeof a=="string"?a:typeof a=="object"&&typeof a.url=="string"?a.url:null);if(!d)throw new Error("no repository");let g=d&&He.fromUrl(d.replace(/^git\+/,""),c)||null;if(g)return g;let m=t(d);return He.fromUrl(m,c)||m}static parseUrl(i){return l(i)}#r(i,c){if(typeof i!="function")return null;let a={...this,...this.opts,...c};a.path||(a.path=""),a.path.startsWith("/")&&(a.path=a.path.slice(1)),a.noCommittish&&(a.committish=null);let d=i(a);return a.noGitPlus&&d.startsWith("git+")?d.slice(4):d}hash(){return this.committish?`#${this.committish}`:""}ssh(i){return this.#r(this.sshtemplate,i)}sshurl(i){return this.#r(this.sshurltemplate,i)}browse(i,...c){return typeof i!="string"?this.#r(this.browsetemplate,i):typeof c[0]!="string"?this.#r(this.browsetreetemplate,{...c[0],path:i}):this.#r(this.browsetreetemplate,{...c[1],fragment:c[0],path:i})}browseFile(i,...c){return typeof c[0]!="string"?this.#r(this.browseblobtemplate,{...c[0],path:i}):this.#r(this.browseblobtemplate,{...c[1],fragment:c[0],path:i})}docs(i){return this.#r(this.docstemplate,i)}bugs(i){return this.#r(this.bugstemplate,i)}https(i){return this.#r(this.httpstemplate,i)}git(i){return this.#r(this.gittemplate,i)}shortcut(i){return this.#r(this.shortcuttemplate,i)}path(i){return this.#r(this.pathtemplate,i)}tarball(i){return this.#r(this.tarballtemplate,{...i,noCommittish:!1})}file(i,c){return this.#r(this.filetemplate,{...c,path:i})}edit(i,c){return this.#r(this.edittemplate,{...c,path:i})}getDefaultRepresentation(){return this.default}toString(i){return this.default&&typeof this[this.default]=="function"?this[this.default](i):this.sshurl(i)}};for(let[s,i]of Object.entries(p))r.addHost(s,i);u.exports=r}),Xp=J(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.range=e.balanced=void 0;var u=v((o,l,n)=>{let t=o instanceof RegExp?h(o,n):o,r=l instanceof RegExp?h(l,n):l,s=t!==null&&r!=null&&(0,e.range)(t,r,n);return s&&{start:s[0],end:s[1],pre:n.slice(0,s[0]),body:n.slice(s[0]+t.length,s[1]),post:n.slice(s[1]+r.length)}},"balanced");e.balanced=u;var h=v((o,l)=>{let n=l.match(o);return n?n[0]:null},"maybeMatch"),p=v((o,l,n)=>{let t,r,s,i,c,a=n.indexOf(o),d=n.indexOf(l,a+1),g=a;if(a>=0&&d>0){if(o===l)return[a,d];for(t=[],s=n.length;g>=0&&!c;){if(g===a)t.push(g),a=n.indexOf(o,g+1);else if(t.length===1){let m=t.pop();m!==void 0&&(c=[m,d])}else r=t.pop(),r!==void 0&&r<s&&(s=r,i=d),d=n.indexOf(l,g+1);g=a<d&&a>=0?a:d}t.length&&i!==void 0&&(c=[s,i])}return c},"range");e.range=p}),Qp=J(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.expand=_;var u=Xp(),h="\0SLASH"+Math.random()+"\0",p="\0OPEN"+Math.random()+"\0",o="\0CLOSE"+Math.random()+"\0",l="\0COMMA"+Math.random()+"\0",n="\0PERIOD"+Math.random()+"\0",t=new RegExp(h,"g"),r=new RegExp(p,"g"),s=new RegExp(o,"g"),i=new RegExp(l,"g"),c=new RegExp(n,"g"),a=/\\\\/g,d=/\\{/g,g=/\\}/g,m=/\\,/g,f=/\\./g;function y(L){return isNaN(L)?L.charCodeAt(0):parseInt(L,10)}v(y,"numeric");function S(L){return L.replace(a,h).replace(d,p).replace(g,o).replace(m,l).replace(f,n)}v(S,"escapeBraces");function b(L){return L.replace(t,"\\").replace(r,"{").replace(s,"}").replace(i,",").replace(c,".")}v(b,"unescapeBraces");function E(L){if(!L)return[""];let M=[],x=(0,u.balanced)("{","}",L);if(!x)return L.split(",");let{pre:j,body:U,post:V}=x,B=j.split(",");B[B.length-1]+="{"+U+"}";let G=E(V);return V.length&&(B[B.length-1]+=G.shift(),B.push.apply(B,G)),M.push.apply(M,B),M}v(E,"parseCommaParts");function _(L){return L?(L.slice(0,2)==="{}"&&(L="\\{\\}"+L.slice(2)),P(S(L),!0).map(b)):[]}v(_,"expand");function w(L){return"{"+L+"}"}v(w,"embrace");function O(L){return/^-?0\d/.test(L)}v(O,"isPadded");function R(L,M){return L<=M}v(R,"lte");function I(L,M){return L>=M}v(I,"gte");function P(L,M){let x=[],j=(0,u.balanced)("{","}",L);if(!j)return[L];let U=j.pre,V=j.post.length?P(j.post,!1):[""];if(/\$$/.test(j.pre))for(let B=0;B<V.length;B++){let G=U+"{"+j.body+"}"+V[B];x.push(G)}else{let B=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(j.body),G=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(j.body),W=B||G,k=j.body.indexOf(",")>=0;if(!W&&!k)return j.post.match(/,(?!,).*\}/)?(L=j.pre+"{"+j.body+o+j.post,P(L)):[L];let D;if(W)D=j.body.split(/\.\./);else if(D=E(j.body),D.length===1&&D[0]!==void 0&&(D=P(D[0],!1).map(w),D.length===1))return V.map(C=>j.pre+D[0]+C);let T;if(W&&D[0]!==void 0&&D[1]!==void 0){let C=y(D[0]),Z=y(D[1]),Y=Math.max(D[0].length,D[1].length),Q=D.length===3&&D[2]!==void 0?Math.abs(y(D[2])):1,N=R;Z<C&&(Q*=-1,N=I);let F=D.some(O);T=[];for(let z=C;N(z,Z);z+=Q){let $;if(G)$=String.fromCharCode(z),$==="\\"&&($="");else if($=String(z),F){let K=Y-$.length;if(K>0){let q=new Array(K+1).join("0");z<0?$="-"+q+$.slice(1):$=q+$}}T.push($)}}else{T=[];for(let C=0;C<D.length;C++)T.push.apply(T,P(D[C],!1))}for(let C=0;C<T.length;C++)for(let Z=0;Z<V.length;Z++){let Y=U+T[C]+V[Z];(!M||W||Y)&&x.push(Y)}}return x}v(P,"expand_")}),ed=J(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.assertValidPattern=void 0;var u=1024*64,h=v(p=>{if(typeof p!="string")throw new TypeError("invalid pattern");if(p.length>u)throw new TypeError("pattern is too long")},"assertValidPattern");e.assertValidPattern=h}),td=J(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.parseClass=void 0;var u={"[:alnum:]":["\\p{L}\\p{Nl}\\p{Nd}",!0],"[:alpha:]":["\\p{L}\\p{Nl}",!0],"[:ascii:]":["\\x00-\\x7f",!1],"[:blank:]":["\\p{Zs}\\t",!0],"[:cntrl:]":["\\p{Cc}",!0],"[:digit:]":["\\p{Nd}",!0],"[:graph:]":["\\p{Z}\\p{C}",!0,!0],"[:lower:]":["\\p{Ll}",!0],"[:print:]":["\\p{C}",!0],"[:punct:]":["\\p{P}",!0],"[:space:]":["\\p{Z}\\t\\r\\n\\v\\f",!0],"[:upper:]":["\\p{Lu}",!0],"[:word:]":["\\p{L}\\p{Nl}\\p{Nd}\\p{Pc}",!0],"[:xdigit:]":["A-Fa-f0-9",!1]},h=v(n=>n.replace(/[[\]\\-]/g,"\\$&"),"braceEscape"),p=v(n=>n.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),"regexpEscape"),o=v(n=>n.join(""),"rangesToString"),l=v((n,t)=>{let r=t;if(n.charAt(r)!=="[")throw new Error("not in a brace expression");let s=[],i=[],c=r+1,a=!1,d=!1,g=!1,m=!1,f=r,y="";e:for(;c<n.length;){let E=n.charAt(c);if((E==="!"||E==="^")&&c===r+1){m=!0,c++;continue}if(E==="]"&&a&&!g){f=c+1;break}if(a=!0,E==="\\"&&!g){g=!0,c++;continue}if(E==="["&&!g){for(let[_,[w,O,R]]of Object.entries(u))if(n.startsWith(_,c)){if(y)return["$.",!1,n.length-r,!0];c+=_.length,R?i.push(w):s.push(w),d=d||O;continue e}}if(g=!1,y){E>y?s.push(h(y)+"-"+h(E)):E===y&&s.push(h(E)),y="",c++;continue}if(n.startsWith("-]",c+1)){s.push(h(E+"-")),c+=2;continue}if(n.startsWith("-",c+1)){y=E,c+=2;continue}s.push(h(E)),c++}if(f<c)return["",!1,0,!1];if(!s.length&&!i.length)return["$.",!1,n.length-r,!0];if(i.length===0&&s.length===1&&/^\\?.$/.test(s[0])&&!m){let E=s[0].length===2?s[0].slice(-1):s[0];return[p(E),!1,f-r,!1]}let S="["+(m?"^":"")+o(s)+"]",b="["+(m?"":"^")+o(i)+"]";return[s.length&&i.length?"("+S+"|"+b+")":s.length?S:b,d,f-r,!0]},"parseClass");e.parseClass=l}),Ms=J(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.unescape=void 0;var u=v((h,{windowsPathsNoEscape:p=!1}={})=>p?h.replace(/\[([^\/\\])\]/g,"$1"):h.replace(/((?!\\).|^)\[([^\/\\])\]/g,"$1$2").replace(/\\([^\/])/g,"$1"),"unescape");e.unescape=u}),Ho=J(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AST=void 0;var u=td(),h=Ms(),p=new Set(["!","?","+","*","@"]),o=v(m=>p.has(m),"isExtglobType"),l="(?!(?:^|/)\\.\\.?(?:$|/))",n="(?!\\.)",t=new Set(["[","."]),r=new Set(["..","."]),s=new Set("().*{}+?[]^$\\!"),i=v(m=>m.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),"regExpEscape"),c="[^/]",a=c+"*?",d=c+"+?",g=class De{static{v(this,"AST")}type;#e;#t;#r=!1;#s=[];#i;#c;#l;#p=!1;#n;#h;#o=!1;constructor(f,y,S={}){this.type=f,f&&(this.#t=!0),this.#i=y,this.#e=this.#i?this.#i.#e:this,this.#n=this.#e===this?S:this.#e.#n,this.#l=this.#e===this?[]:this.#e.#l,f==="!"&&!this.#e.#p&&this.#l.push(this),this.#c=this.#i?this.#i.#s.length:0}get hasMagic(){if(this.#t!==void 0)return this.#t;for(let f of this.#s)if(typeof f!="string"&&(f.type||f.hasMagic))return this.#t=!0;return this.#t}toString(){return this.#h!==void 0?this.#h:this.type?this.#h=this.type+"("+this.#s.map(f=>String(f)).join("|")+")":this.#h=this.#s.map(f=>String(f)).join("")}#d(){if(this!==this.#e)throw new Error("should only call on root");if(this.#p)return this;this.toString(),this.#p=!0;let f;for(;f=this.#l.pop();){if(f.type!=="!")continue;let y=f,S=y.#i;for(;S;){for(let b=y.#c+1;!S.type&&b<S.#s.length;b++)for(let E of f.#s){if(typeof E=="string")throw new Error("string part in extglob AST??");E.copyIn(S.#s[b])}y=S,S=y.#i}}return this}push(...f){for(let y of f)if(y!==""){if(typeof y!="string"&&!(y instanceof De&&y.#i===this))throw new Error("invalid part: "+y);this.#s.push(y)}}toJSON(){let f=this.type===null?this.#s.slice().map(y=>typeof y=="string"?y:y.toJSON()):[this.type,...this.#s.map(y=>y.toJSON())];return this.isStart()&&!this.type&&f.unshift([]),this.isEnd()&&(this===this.#e||this.#e.#p&&this.#i?.type==="!")&&f.push({}),f}isStart(){if(this.#e===this)return!0;if(!this.#i?.isStart())return!1;if(this.#c===0)return!0;let f=this.#i;for(let y=0;y<this.#c;y++){let S=f.#s[y];if(!(S instanceof De&&S.type==="!"))return!1}return!0}isEnd(){if(this.#e===this||this.#i?.type==="!")return!0;if(!this.#i?.isEnd())return!1;if(!this.type)return this.#i?.isEnd();let f=this.#i?this.#i.#s.length:0;return this.#c===f-1}copyIn(f){typeof f=="string"?this.push(f):this.push(f.clone(this))}clone(f){let y=new De(this.type,f);for(let S of this.#s)y.copyIn(S);return y}static#a(f,y,S,b){let E=!1,_=!1,w=-1,O=!1;if(y.type===null){let M=S,x="";for(;M<f.length;){let j=f.charAt(M++);if(E||j==="\\"){E=!E,x+=j;continue}if(_){M===w+1?(j==="^"||j==="!")&&(O=!0):j==="]"&&!(M===w+2&&O)&&(_=!1),x+=j;continue}else if(j==="["){_=!0,w=M,O=!1,x+=j;continue}if(!b.noext&&o(j)&&f.charAt(M)==="("){y.push(x),x="";let U=new De(j,y);M=De.#a(f,U,M,b),y.push(U);continue}x+=j}return y.push(x),M}let R=S+1,I=new De(null,y),P=[],L="";for(;R<f.length;){let M=f.charAt(R++);if(E||M==="\\"){E=!E,L+=M;continue}if(_){R===w+1?(M==="^"||M==="!")&&(O=!0):M==="]"&&!(R===w+2&&O)&&(_=!1),L+=M;continue}else if(M==="["){_=!0,w=R,O=!1,L+=M;continue}if(o(M)&&f.charAt(R)==="("){I.push(L),L="";let x=new De(M,I);I.push(x),R=De.#a(f,x,R,b);continue}if(M==="|"){I.push(L),L="",P.push(I),I=new De(null,y);continue}if(M===")")return L===""&&y.#s.length===0&&(y.#o=!0),I.push(L),L="",y.push(...P,I),R;L+=M}return y.type=null,y.#t=void 0,y.#s=[f.substring(S-1)],R}static fromGlob(f,y={}){let S=new De(null,void 0,y);return De.#a(f,S,0,y),S}toMMPattern(){if(this!==this.#e)return this.#e.toMMPattern();let f=this.toString(),[y,S,b,E]=this.toRegExpSource();if(!(b||this.#t||this.#n.nocase&&!this.#n.nocaseMagicOnly&&f.toUpperCase()!==f.toLowerCase()))return S;let _=(this.#n.nocase?"i":"")+(E?"u":"");return Object.assign(new RegExp(`^${y}$`,_),{_src:y,_glob:f})}get options(){return this.#n}toRegExpSource(f){let y=f??!!this.#n.dot;if(this.#e===this&&this.#d(),!this.type){let O=this.isStart()&&this.isEnd(),R=this.#s.map(L=>{let[M,x,j,U]=typeof L=="string"?De.#y(L,this.#t,O):L.toRegExpSource(f);return this.#t=this.#t||j,this.#r=this.#r||U,M}).join(""),I="";if(this.isStart()&&typeof this.#s[0]=="string"&&!(this.#s.length===1&&r.has(this.#s[0]))){let L=t,M=y&&L.has(R.charAt(0))||R.startsWith("\\.")&&L.has(R.charAt(2))||R.startsWith("\\.\\.")&&L.has(R.charAt(4)),x=!y&&!f&&L.has(R.charAt(0));I=M?l:x?n:""}let P="";return this.isEnd()&&this.#e.#p&&this.#i?.type==="!"&&(P="(?:$|\\/)"),[I+R+P,(0,h.unescape)(R),this.#t=!!this.#t,this.#r]}let S=this.type==="*"||this.type==="+",b=this.type==="!"?"(?:(?!(?:":"(?:",E=this.#f(y);if(this.isStart()&&this.isEnd()&&!E&&this.type!=="!"){let O=this.toString();return this.#s=[O],this.type=null,this.#t=void 0,[O,(0,h.unescape)(this.toString()),!1,!1]}let _=!S||f||y||!n?"":this.#f(!0);_===E&&(_=""),_&&(E=`(?:${E})(?:${_})*?`);let w="";if(this.type==="!"&&this.#o)w=(this.isStart()&&!y?n:"")+d;else{let O=this.type==="!"?"))"+(this.isStart()&&!y&&!f?n:"")+a+")":this.type==="@"?")":this.type==="?"?")?":this.type==="+"&&_?")":this.type==="*"&&_?")?":`)${this.type}`;w=b+E+O}return[w,(0,h.unescape)(E),this.#t=!!this.#t,this.#r]}#f(f){return this.#s.map(y=>{if(typeof y=="string")throw new Error("string type in extglob ast??");let[S,b,E,_]=y.toRegExpSource(f);return this.#r=this.#r||_,S}).filter(y=>!(this.isStart()&&this.isEnd())||!!y).join("|")}static#y(f,y,S=!1){let b=!1,E="",_=!1;for(let w=0;w<f.length;w++){let O=f.charAt(w);if(b){b=!1,E+=(s.has(O)?"\\":"")+O;continue}if(O==="\\"){w===f.length-1?E+="\\\\":b=!0;continue}if(O==="["){let[R,I,P,L]=(0,u.parseClass)(f,w);if(P){E+=R,_=_||I,w+=P-1,y=y||L;continue}}if(O==="*"){S&&f==="*"?E+=d:E+=a,y=!0;continue}if(O==="?"){E+=c,y=!0;continue}E+=i(O)}return[E,(0,h.unescape)(f),!!y,_]}};e.AST=g}),Go=J(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.escape=void 0;var u=v((h,{windowsPathsNoEscape:p=!1}={})=>p?h.replace(/[?*()[\]]/g,"[$&]"):h.replace(/[?*()[\]\\]/g,"\\$&"),"escape");e.escape=u}),st=J(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.unescape=e.escape=e.AST=e.Minimatch=e.match=e.makeRe=e.braceExpand=e.defaults=e.filter=e.GLOBSTAR=e.sep=e.minimatch=void 0;var u=Qp(),h=ed(),p=Ho(),o=Go(),l=Ms(),n=v((z,$,K={})=>((0,h.assertValidPattern)($),!K.nocomment&&$.charAt(0)==="#"?!1:new Y($,K).match(z)),"minimatch");e.minimatch=n;var t=/^\*+([^+@!?\*\[\(]*)$/,r=v(z=>$=>!$.startsWith(".")&&$.endsWith(z),"starDotExtTest"),s=v(z=>$=>$.endsWith(z),"starDotExtTestDot"),i=v(z=>(z=z.toLowerCase(),$=>!$.startsWith(".")&&$.toLowerCase().endsWith(z)),"starDotExtTestNocase"),c=v(z=>(z=z.toLowerCase(),$=>$.toLowerCase().endsWith(z)),"starDotExtTestNocaseDot"),a=/^\*+\.\*+$/,d=v(z=>!z.startsWith(".")&&z.includes("."),"starDotStarTest"),g=v(z=>z!=="."&&z!==".."&&z.includes("."),"starDotStarTestDot"),m=/^\.\*+$/,f=v(z=>z!=="."&&z!==".."&&z.startsWith("."),"dotStarTest"),y=/^\*+$/,S=v(z=>z.length!==0&&!z.startsWith("."),"starTest"),b=v(z=>z.length!==0&&z!=="."&&z!=="..","starTestDot"),E=/^\?+([^+@!?\*\[\(]*)?$/,_=v(([z,$=""])=>{let K=I([z]);return $?($=$.toLowerCase(),q=>K(q)&&q.toLowerCase().endsWith($)):K},"qmarksTestNocase"),w=v(([z,$=""])=>{let K=P([z]);return $?($=$.toLowerCase(),q=>K(q)&&q.toLowerCase().endsWith($)):K},"qmarksTestNocaseDot"),O=v(([z,$=""])=>{let K=P([z]);return $?q=>K(q)&&q.endsWith($):K},"qmarksTestDot"),R=v(([z,$=""])=>{let K=I([z]);return $?q=>K(q)&&q.endsWith($):K},"qmarksTest"),I=v(([z])=>{let $=z.length;return K=>K.length===$&&!K.startsWith(".")},"qmarksTestNoExt"),P=v(([z])=>{let $=z.length;return K=>K.length===$&&K!=="."&&K!==".."},"qmarksTestNoExtDot"),L=typeof process=="object"&&process?typeof process.env=="object"&&process.env&&process.env.__MINIMATCH_TESTING_PLATFORM__||process.platform:"posix",M={win32:{sep:"\\"},posix:{sep:"/"}};e.sep=L==="win32"?M.win32.sep:M.posix.sep,e.minimatch.sep=e.sep,e.GLOBSTAR=Symbol("globstar **"),e.minimatch.GLOBSTAR=e.GLOBSTAR;var x="[^/]",j=x+"*?",U="(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?",V="(?:(?!(?:\\/|^)\\.).)*?",B=v((z,$={})=>K=>(0,e.minimatch)(K,z,$),"filter");e.filter=B,e.minimatch.filter=e.filter;var G=v((z,$={})=>Object.assign({},z,$),"ext"),W=v(z=>{if(!z||typeof z!="object"||!Object.keys(z).length)return e.minimatch;let $=e.minimatch;return Object.assign(v((K,q,X={})=>$(K,q,G(z,X)),"m"),{Minimatch:class extends $.Minimatch{static{v(this,"Minimatch")}constructor(K,q={}){super(K,G(z,q))}static defaults(K){return $.defaults(G(z,K)).Minimatch}},AST:class extends $.AST{static{v(this,"AST")}constructor(K,q,X={}){super(K,q,G(z,X))}static fromGlob(K,q={}){return $.AST.fromGlob(K,G(z,q))}},unescape:v((K,q={})=>$.unescape(K,G(z,q)),"unescape"),escape:v((K,q={})=>$.escape(K,G(z,q)),"escape"),filter:v((K,q={})=>$.filter(K,G(z,q)),"filter"),defaults:v(K=>$.defaults(G(z,K)),"defaults"),makeRe:v((K,q={})=>$.makeRe(K,G(z,q)),"makeRe"),braceExpand:v((K,q={})=>$.braceExpand(K,G(z,q)),"braceExpand"),match:v((K,q,X={})=>$.match(K,q,G(z,X)),"match"),sep:$.sep,GLOBSTAR:e.GLOBSTAR})},"defaults");e.defaults=W,e.minimatch.defaults=e.defaults;var k=v((z,$={})=>((0,h.assertValidPattern)(z),$.nobrace||!/\{(?:(?!\{).)*\}/.test(z)?[z]:(0,u.expand)(z)),"braceExpand");e.braceExpand=k,e.minimatch.braceExpand=e.braceExpand;var D=v((z,$={})=>new Y(z,$).makeRe(),"makeRe");e.makeRe=D,e.minimatch.makeRe=e.makeRe;var T=v((z,$,K={})=>{let q=new Y($,K);return z=z.filter(X=>q.match(X)),q.options.nonull&&!z.length&&z.push($),z},"match");e.match=T,e.minimatch.match=e.match;var C=/[?*]|[+@!]\(.*?\)|\[|\]/,Z=v(z=>z.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),"regExpEscape"),Y=class{static{v(this,"Minimatch")}options;set;pattern;windowsPathsNoEscape;nonegate;negate;comment;empty;preserveMultipleSlashes;partial;globSet;globParts;nocase;isWindows;platform;windowsNoMagicRoot;regexp;constructor(z,$={}){(0,h.assertValidPattern)(z),$=$||{},this.options=$,this.pattern=z,this.platform=$.platform||L,this.isWindows=this.platform==="win32",this.windowsPathsNoEscape=!!$.windowsPathsNoEscape||$.allowWindowsEscape===!1,this.windowsPathsNoEscape&&(this.pattern=this.pattern.replace(/\\/g,"/")),this.preserveMultipleSlashes=!!$.preserveMultipleSlashes,this.regexp=null,this.negate=!1,this.nonegate=!!$.nonegate,this.comment=!1,this.empty=!1,this.partial=!!$.partial,this.nocase=!!this.options.nocase,this.windowsNoMagicRoot=$.windowsNoMagicRoot!==void 0?$.windowsNoMagicRoot:!!(this.isWindows&&this.nocase),this.globSet=[],this.globParts=[],this.set=[],this.make()}hasMagic(){if(this.options.magicalBraces&&this.set.length>1)return!0;for(let z of this.set)for(let $ of z)if(typeof $!="string")return!0;return!1}debug(...z){}make(){let z=this.pattern,$=this.options;if(!$.nocomment&&z.charAt(0)==="#"){this.comment=!0;return}if(!z){this.empty=!0;return}this.parseNegate(),this.globSet=[...new Set(this.braceExpand())],$.debug&&(this.debug=(...X)=>{}),this.debug(this.pattern,this.globSet);let K=this.globSet.map(X=>this.slashSplit(X));this.globParts=this.preprocess(K),this.debug(this.pattern,this.globParts);let q=this.globParts.map((X,A,H)=>{if(this.isWindows&&this.windowsNoMagicRoot){let ee=X[0]===""&&X[1]===""&&(X[2]==="?"||!C.test(X[2]))&&!C.test(X[3]),ne=/^[a-z]:/i.test(X[0]);if(ee)return[...X.slice(0,4),...X.slice(4).map(te=>this.parse(te))];if(ne)return[X[0],...X.slice(1).map(te=>this.parse(te))]}return X.map(ee=>this.parse(ee))});if(this.debug(this.pattern,q),this.set=q.filter(X=>X.indexOf(!1)===-1),this.isWindows)for(let X=0;X<this.set.length;X++){let A=this.set[X];A[0]===""&&A[1]===""&&this.globParts[X][2]==="?"&&typeof A[3]=="string"&&/^[a-z]:$/i.test(A[3])&&(A[2]="?")}this.debug(this.pattern,this.set)}preprocess(z){if(this.options.noglobstar)for(let K=0;K<z.length;K++)for(let q=0;q<z[K].length;q++)z[K][q]==="**"&&(z[K][q]="*");let{optimizationLevel:$=1}=this.options;return $>=2?(z=this.firstPhasePreProcess(z),z=this.secondPhasePreProcess(z)):$>=1?z=this.levelOneOptimize(z):z=this.adjascentGlobstarOptimize(z),z}adjascentGlobstarOptimize(z){return z.map($=>{let K=-1;for(;(K=$.indexOf("**",K+1))!==-1;){let q=K;for(;$[q+1]==="**";)q++;q!==K&&$.splice(K,q-K)}return $})}levelOneOptimize(z){return z.map($=>($=$.reduce((K,q)=>{let X=K[K.length-1];return q==="**"&&X==="**"?K:q===".."&&X&&X!==".."&&X!=="."&&X!=="**"?(K.pop(),K):(K.push(q),K)},[]),$.length===0?[""]:$))}levelTwoFileOptimize(z){Array.isArray(z)||(z=this.slashSplit(z));let $=!1;do{if($=!1,!this.preserveMultipleSlashes){for(let q=1;q<z.length-1;q++){let X=z[q];q===1&&X===""&&z[0]===""||(X==="."||X==="")&&($=!0,z.splice(q,1),q--)}z[0]==="."&&z.length===2&&(z[1]==="."||z[1]==="")&&($=!0,z.pop())}let K=0;for(;(K=z.indexOf("..",K+1))!==-1;){let q=z[K-1];q&&q!=="."&&q!==".."&&q!=="**"&&($=!0,z.splice(K-1,2),K-=2)}}while($);return z.length===0?[""]:z}firstPhasePreProcess(z){let $=!1;do{$=!1;for(let K of z){let q=-1;for(;(q=K.indexOf("**",q+1))!==-1;){let A=q;for(;K[A+1]==="**";)A++;A>q&&K.splice(q+1,A-q);let H=K[q+1],ee=K[q+2],ne=K[q+3];if(H!==".."||!ee||ee==="."||ee===".."||!ne||ne==="."||ne==="..")continue;$=!0,K.splice(q,1);let te=K.slice(0);te[q]="**",z.push(te),q--}if(!this.preserveMultipleSlashes){for(let A=1;A<K.length-1;A++){let H=K[A];A===1&&H===""&&K[0]===""||(H==="."||H==="")&&($=!0,K.splice(A,1),A--)}K[0]==="."&&K.length===2&&(K[1]==="."||K[1]==="")&&($=!0,K.pop())}let X=0;for(;(X=K.indexOf("..",X+1))!==-1;){let A=K[X-1];if(A&&A!=="."&&A!==".."&&A!=="**"){$=!0;let H=X===1&&K[X+1]==="**"?["."]:[];K.splice(X-1,2,...H),K.length===0&&K.push(""),X-=2}}}}while($);return z}secondPhasePreProcess(z){for(let $=0;$<z.length-1;$++)for(let K=$+1;K<z.length;K++){let q=this.partsMatch(z[$],z[K],!this.preserveMultipleSlashes);if(q){z[$]=[],z[K]=q;break}}return z.filter($=>$.length)}partsMatch(z,$,K=!1){let q=0,X=0,A=[],H="";for(;q<z.length&&X<$.length;)if(z[q]===$[X])A.push(H==="b"?$[X]:z[q]),q++,X++;else if(K&&z[q]==="**"&&$[X]===z[q+1])A.push(z[q]),q++;else if(K&&$[X]==="**"&&z[q]===$[X+1])A.push($[X]),X++;else if(z[q]==="*"&&$[X]&&(this.options.dot||!$[X].startsWith("."))&&$[X]!=="**"){if(H==="b")return!1;H="a",A.push(z[q]),q++,X++}else if($[X]==="*"&&z[q]&&(this.options.dot||!z[q].startsWith("."))&&z[q]!=="**"){if(H==="a")return!1;H="b",A.push($[X]),q++,X++}else return!1;return z.length===$.length&&A}parseNegate(){if(this.nonegate)return;let z=this.pattern,$=!1,K=0;for(let q=0;q<z.length&&z.charAt(q)==="!";q++)$=!$,K++;K&&(this.pattern=z.slice(K)),this.negate=$}matchOne(z,$,K=!1){let q=this.options;if(this.isWindows){let ie=typeof z[0]=="string"&&/^[a-z]:$/i.test(z[0]),le=!ie&&z[0]===""&&z[1]===""&&z[2]==="?"&&/^[a-z]:$/i.test(z[3]),fe=typeof $[0]=="string"&&/^[a-z]:$/i.test($[0]),ge=!fe&&$[0]===""&&$[1]===""&&$[2]==="?"&&typeof $[3]=="string"&&/^[a-z]:$/i.test($[3]),ce=le?3:ie?0:void 0,pe=ge?3:fe?0:void 0;if(typeof ce=="number"&&typeof pe=="number"){let[de,me]=[z[ce],$[pe]];de.toLowerCase()===me.toLowerCase()&&($[pe]=de,pe>ce?$=$.slice(pe):ce>pe&&(z=z.slice(ce)))}}let{optimizationLevel:X=1}=this.options;X>=2&&(z=this.levelTwoFileOptimize(z)),this.debug("matchOne",this,{file:z,pattern:$}),this.debug("matchOne",z.length,$.length);for(var A=0,H=0,ee=z.length,ne=$.length;A<ee&&H<ne;A++,H++){this.debug("matchOne loop");var te=$[H],ae=z[A];if(this.debug($,te,ae),te===!1)return!1;if(te===e.GLOBSTAR){this.debug("GLOBSTAR",[$,te,ae]);var he=A,re=H+1;if(re===ne){for(this.debug("** at the end");A<ee;A++)if(z[A]==="."||z[A]===".."||!q.dot&&z[A].charAt(0)===".")return!1;return!0}for(;he<ee;){var ue=z[he];if(this.debug(`
globstar while`,z,he,$,re,ue),this.matchOne(z.slice(he),$.slice(re),K))return this.debug("globstar found match!",he,ee,ue),!0;if(ue==="."||ue===".."||!q.dot&&ue.charAt(0)==="."){this.debug("dot detected!",z,he,$,re);break}this.debug("globstar swallow a segment, and continue"),he++}return!!(K&&(this.debug(`
>>> no match, partial?`,z,he,$,re),he===ee))}let ie;if(typeof te=="string"?(ie=ae===te,this.debug("string match",te,ae,ie)):(ie=te.test(ae),this.debug("pattern match",te,ae,ie)),!ie)return!1}if(A===ee&&H===ne)return!0;if(A===ee)return K;if(H===ne)return A===ee-1&&z[A]==="";throw new Error("wtf?")}braceExpand(){return(0,e.braceExpand)(this.pattern,this.options)}parse(z){(0,h.assertValidPattern)(z);let $=this.options;if(z==="**")return e.GLOBSTAR;if(z==="")return"";let K,q=null;(K=z.match(y))?q=$.dot?b:S:(K=z.match(t))?q=($.nocase?$.dot?c:i:$.dot?s:r)(K[1]):(K=z.match(E))?q=($.nocase?$.dot?w:_:$.dot?O:R)(K):(K=z.match(a))?q=$.dot?g:d:(K=z.match(m))&&(q=f);let X=p.AST.fromGlob(z,this.options).toMMPattern();return q&&typeof X=="object"&&Reflect.defineProperty(X,"test",{value:q}),X}makeRe(){if(this.regexp||this.regexp===!1)return this.regexp;let z=this.set;if(!z.length)return this.regexp=!1,this.regexp;let $=this.options,K=$.noglobstar?j:$.dot?U:V,q=new Set($.nocase?["i"]:[]),X=z.map(ee=>{let ne=ee.map(te=>{if(te instanceof RegExp)for(let ae of te.flags.split(""))q.add(ae);return typeof te=="string"?Z(te):te===e.GLOBSTAR?e.GLOBSTAR:te._src});return ne.forEach((te,ae)=>{let he=ne[ae+1],re=ne[ae-1];te!==e.GLOBSTAR||re===e.GLOBSTAR||(re===void 0?he!==void 0&&he!==e.GLOBSTAR?ne[ae+1]="(?:\\/|"+K+"\\/)?"+he:ne[ae]=K:he===void 0?ne[ae-1]=re+"(?:\\/|"+K+")?":he!==e.GLOBSTAR&&(ne[ae-1]=re+"(?:\\/|\\/"+K+"\\/)"+he,ne[ae+1]=e.GLOBSTAR))}),ne.filter(te=>te!==e.GLOBSTAR).join("/")}).join("|"),[A,H]=z.length>1?["(?:",")"]:["",""];X="^"+A+X+H+"$",this.negate&&(X="^(?!"+X+").+$");try{this.regexp=new RegExp(X,[...q].join(""))}catch{this.regexp=!1}return this.regexp}slashSplit(z){return this.preserveMultipleSlashes?z.split("/"):this.isWindows&&/^\/\/[^\/]+/.test(z)?["",...z.split(/\/+/)]:z.split(/\/+/)}match(z,$=this.partial){if(this.debug("match",z,this.pattern),this.comment)return!1;if(this.empty)return z==="";if(z==="/"&&$)return!0;let K=this.options;this.isWindows&&(z=z.split("\\").join("/"));let q=this.slashSplit(z);this.debug(this.pattern,"split",q);let X=this.set;this.debug(this.pattern,"set",X);let A=q[q.length-1];if(!A)for(let H=q.length-2;!A&&H>=0;H--)A=q[H];for(let H=0;H<X.length;H++){let ee=X[H],ne=q;if(K.matchBase&&ee.length===1&&(ne=[A]),this.matchOne(ne,ee,$))return K.flipNegate?!0:!this.negate}return K.flipNegate?!1:this.negate}static defaults(z){return e.minimatch.defaults(z).Minimatch}};e.Minimatch=Y;var Q=Ho();Object.defineProperty(e,"AST",{enumerable:!0,get:v(function(){return Q.AST},"get")});var N=Go();Object.defineProperty(e,"escape",{enumerable:!0,get:v(function(){return N.escape},"get")});var F=Ms();Object.defineProperty(e,"unescape",{enumerable:!0,get:v(function(){return F.unescape},"get")}),e.minimatch.AST=p.AST,e.minimatch.Minimatch=Y,e.minimatch.escape=o.escape,e.minimatch.unescape=l.unescape}),Ae=J(e=>{"use strict";var u=e&&e.__importDefault||function(A){return A&&A.__esModule?A:{default:A}};Object.defineProperty(e,"__esModule",{value:!0}),e.Minipass=e.isWritable=e.isReadable=e.isStream=void 0;var h=typeof process=="object"&&process?process:{stdout:null,stderr:null},p=require("events"),o=u(require("stream")),l=require("string_decoder"),n=v(A=>!!A&&typeof A=="object"&&(A instanceof X||A instanceof o.default||(0,e.isReadable)(A)||(0,e.isWritable)(A)),"isStream");e.isStream=n;var t=v(A=>!!A&&typeof A=="object"&&A instanceof p.EventEmitter&&typeof A.pipe=="function"&&A.pipe!==o.default.Writable.prototype.pipe,"isReadable");e.isReadable=t;var r=v(A=>!!A&&typeof A=="object"&&A instanceof p.EventEmitter&&typeof A.write=="function"&&typeof A.end=="function","isWritable");e.isWritable=r;var s=Symbol("EOF"),i=Symbol("maybeEmitEnd"),c=Symbol("emittedEnd"),a=Symbol("emittingEnd"),d=Symbol("emittedError"),g=Symbol("closed"),m=Symbol("read"),f=Symbol("flush"),y=Symbol("flushChunk"),S=Symbol("encoding"),b=Symbol("decoder"),E=Symbol("flowing"),_=Symbol("paused"),w=Symbol("resume"),O=Symbol("buffer"),R=Symbol("pipes"),I=Symbol("bufferLength"),P=Symbol("bufferPush"),L=Symbol("bufferShift"),M=Symbol("objectMode"),x=Symbol("destroyed"),j=Symbol("error"),U=Symbol("emitData"),V=Symbol("emitEnd"),B=Symbol("emitEnd2"),G=Symbol("async"),W=Symbol("abort"),k=Symbol("aborted"),D=Symbol("signal"),T=Symbol("dataListeners"),C=Symbol("discarded"),Z=v(A=>Promise.resolve().then(A),"defer"),Y=v(A=>A(),"nodefer"),Q=v(A=>A==="end"||A==="finish"||A==="prefinish","isEndish"),N=v(A=>A instanceof ArrayBuffer||!!A&&typeof A=="object"&&A.constructor&&A.constructor.name==="ArrayBuffer"&&A.byteLength>=0,"isArrayBufferLike"),F=v(A=>!Buffer.isBuffer(A)&&ArrayBuffer.isView(A),"isArrayBufferView"),z=class{static{v(this,"Pipe")}src;dest;opts;ondrain;constructor(A,H,ee){this.src=A,this.dest=H,this.opts=ee,this.ondrain=()=>A[w](),this.dest.on("drain",this.ondrain)}unpipe(){this.dest.removeListener("drain",this.ondrain)}proxyErrors(A){}end(){this.unpipe(),this.opts.end&&this.dest.end()}},$=class extends z{static{v(this,"PipeProxyErrors")}unpipe(){this.src.removeListener("error",this.proxyErrors),super.unpipe()}constructor(A,H,ee){super(A,H,ee),this.proxyErrors=ne=>H.emit("error",ne),A.on("error",this.proxyErrors)}},K=v(A=>!!A.objectMode,"isObjectModeOptions"),q=v(A=>!A.objectMode&&!!A.encoding&&A.encoding!=="buffer","isEncodingOptions"),X=class extends p.EventEmitter{static{v(this,"Minipass")}[E]=!1;[_]=!1;[R]=[];[O]=[];[M];[S];[G];[b];[s]=!1;[c]=!1;[a]=!1;[g]=!1;[d]=null;[I]=0;[x]=!1;[D];[k]=!1;[T]=0;[C]=!1;writable=!0;readable=!0;constructor(...A){let H=A[0]||{};if(super(),H.objectMode&&typeof H.encoding=="string")throw new TypeError("Encoding and objectMode may not be used together");K(H)?(this[M]=!0,this[S]=null):q(H)?(this[S]=H.encoding,this[M]=!1):(this[M]=!1,this[S]=null),this[G]=!!H.async,this[b]=this[S]?new l.StringDecoder(this[S]):null,H&&H.debugExposeBuffer===!0&&Object.defineProperty(this,"buffer",{get:v(()=>this[O],"get")}),H&&H.debugExposePipes===!0&&Object.defineProperty(this,"pipes",{get:v(()=>this[R],"get")});let{signal:ee}=H;ee&&(this[D]=ee,ee.aborted?this[W]():ee.addEventListener("abort",()=>this[W]()))}get bufferLength(){return this[I]}get encoding(){return this[S]}set encoding(A){throw new Error("Encoding must be set at instantiation time")}setEncoding(A){throw new Error("Encoding must be set at instantiation time")}get objectMode(){return this[M]}set objectMode(A){throw new Error("objectMode must be set at instantiation time")}get async(){return this[G]}set async(A){this[G]=this[G]||!!A}[W](){this[k]=!0,this.emit("abort",this[D]?.reason),this.destroy(this[D]?.reason)}get aborted(){return this[k]}set aborted(A){}write(A,H,ee){if(this[k])return!1;if(this[s])throw new Error("write after end");if(this[x])return this.emit("error",Object.assign(new Error("Cannot call write after a stream was destroyed"),{code:"ERR_STREAM_DESTROYED"})),!0;typeof H=="function"&&(ee=H,H="utf8"),H||(H="utf8");let ne=this[G]?Z:Y;if(!this[M]&&!Buffer.isBuffer(A)){if(F(A))A=Buffer.from(A.buffer,A.byteOffset,A.byteLength);else if(N(A))A=Buffer.from(A);else if(typeof A!="string")throw new Error("Non-contiguous data written to non-objectMode stream")}return this[M]?(this[E]&&this[I]!==0&&this[f](!0),this[E]?this.emit("data",A):this[P](A),this[I]!==0&&this.emit("readable"),ee&&ne(ee),this[E]):A.length?(typeof A=="string"&&!(H===this[S]&&!this[b]?.lastNeed)&&(A=Buffer.from(A,H)),Buffer.isBuffer(A)&&this[S]&&(A=this[b].write(A)),this[E]&&this[I]!==0&&this[f](!0),this[E]?this.emit("data",A):this[P](A),this[I]!==0&&this.emit("readable"),ee&&ne(ee),this[E]):(this[I]!==0&&this.emit("readable"),ee&&ne(ee),this[E])}read(A){if(this[x])return null;if(this[C]=!1,this[I]===0||A===0||A&&A>this[I])return this[i](),null;this[M]&&(A=null),this[O].length>1&&!this[M]&&(this[O]=[this[S]?this[O].join(""):Buffer.concat(this[O],this[I])]);let H=this[m](A||null,this[O][0]);return this[i](),H}[m](A,H){if(this[M])this[L]();else{let ee=H;A===ee.length||A===null?this[L]():typeof ee=="string"?(this[O][0]=ee.slice(A),H=ee.slice(0,A),this[I]-=A):(this[O][0]=ee.subarray(A),H=ee.subarray(0,A),this[I]-=A)}return this.emit("data",H),!this[O].length&&!this[s]&&this.emit("drain"),H}end(A,H,ee){return typeof A=="function"&&(ee=A,A=void 0),typeof H=="function"&&(ee=H,H="utf8"),A!==void 0&&this.write(A,H),ee&&this.once("end",ee),this[s]=!0,this.writable=!1,(this[E]||!this[_])&&this[i](),this}[w](){this[x]||(!this[T]&&!this[R].length&&(this[C]=!0),this[_]=!1,this[E]=!0,this.emit("resume"),this[O].length?this[f]():this[s]?this[i]():this.emit("drain"))}resume(){return this[w]()}pause(){this[E]=!1,this[_]=!0,this[C]=!1}get destroyed(){return this[x]}get flowing(){return this[E]}get paused(){return this[_]}[P](A){this[M]?this[I]+=1:this[I]+=A.length,this[O].push(A)}[L](){return this[M]?this[I]-=1:this[I]-=this[O][0].length,this[O].shift()}[f](A=!1){do;while(this[y](this[L]())&&this[O].length);!A&&!this[O].length&&!this[s]&&this.emit("drain")}[y](A){return this.emit("data",A),this[E]}pipe(A,H){if(this[x])return A;this[C]=!1;let ee=this[c];return H=H||{},A===h.stdout||A===h.stderr?H.end=!1:H.end=H.end!==!1,H.proxyErrors=!!H.proxyErrors,ee?H.end&&A.end():(this[R].push(H.proxyErrors?new $(this,A,H):new z(this,A,H)),this[G]?Z(()=>this[w]()):this[w]()),A}unpipe(A){let H=this[R].find(ee=>ee.dest===A);H&&(this[R].length===1?(this[E]&&this[T]===0&&(this[E]=!1),this[R]=[]):this[R].splice(this[R].indexOf(H),1),H.unpipe())}addListener(A,H){return this.on(A,H)}on(A,H){let ee=super.on(A,H);if(A==="data")this[C]=!1,this[T]++,!this[R].length&&!this[E]&&this[w]();else if(A==="readable"&&this[I]!==0)super.emit("readable");else if(Q(A)&&this[c])super.emit(A),this.removeAllListeners(A);else if(A==="error"&&this[d]){let ne=H;this[G]?Z(()=>ne.call(this,this[d])):ne.call(this,this[d])}return ee}removeListener(A,H){return this.off(A,H)}off(A,H){let ee=super.off(A,H);return A==="data"&&(this[T]=this.listeners("data").length,this[T]===0&&!this[C]&&!this[R].length&&(this[E]=!1)),ee}removeAllListeners(A){let H=super.removeAllListeners(A);return(A==="data"||A===void 0)&&(this[T]=0,!this[C]&&!this[R].length&&(this[E]=!1)),H}get emittedEnd(){return this[c]}[i](){!this[a]&&!this[c]&&!this[x]&&this[O].length===0&&this[s]&&(this[a]=!0,this.emit("end"),this.emit("prefinish"),this.emit("finish"),this[g]&&this.emit("close"),this[a]=!1)}emit(A,...H){let ee=H[0];if(A!=="error"&&A!=="close"&&A!==x&&this[x])return!1;if(A==="data")return!this[M]&&!ee?!1:this[G]?(Z(()=>this[U](ee)),!0):this[U](ee);if(A==="end")return this[V]();if(A==="close"){if(this[g]=!0,!this[c]&&!this[x])return!1;let te=super.emit("close");return this.removeAllListeners("close"),te}else if(A==="error"){this[d]=ee,super.emit(j,ee);let te=!this[D]||this.listeners("error").length?super.emit("error",ee):!1;return this[i](),te}else if(A==="resume"){let te=super.emit("resume");return this[i](),te}else if(A==="finish"||A==="prefinish"){let te=super.emit(A);return this.removeAllListeners(A),te}let ne=super.emit(A,...H);return this[i](),ne}[U](A){for(let ee of this[R])ee.dest.write(A)===!1&&this.pause();let H=this[C]?!1:super.emit("data",A);return this[i](),H}[V](){return this[c]?!1:(this[c]=!0,this.readable=!1,this[G]?(Z(()=>this[B]()),!0):this[B]())}[B](){if(this[b]){let H=this[b].end();if(H){for(let ee of this[R])ee.dest.write(H);this[C]||super.emit("data",H)}}for(let H of this[R])H.end();let A=super.emit("end");return this.removeAllListeners("end"),A}async collect(){let A=Object.assign([],{dataLength:0});this[M]||(A.dataLength=0);let H=this.promise();return this.on("data",ee=>{A.push(ee),this[M]||(A.dataLength+=ee.length)}),await H,A}async concat(){if(this[M])throw new Error("cannot concat in objectMode");let A=await this.collect();return this[S]?A.join(""):Buffer.concat(A,A.dataLength)}async promise(){return new Promise((A,H)=>{this.on(x,()=>H(new Error("stream destroyed"))),this.on("error",ee=>H(ee)),this.on("end",()=>A())})}[Symbol.asyncIterator](){this[C]=!1;let A=!1,H=v(async()=>(this.pause(),A=!0,{value:void 0,done:!0}),"stop");return{next:v(()=>{if(A)return H();let ee=this.read();if(ee!==null)return Promise.resolve({done:!1,value:ee});if(this[s])return H();let ne,te,ae=v(ie=>{this.off("data",he),this.off("end",re),this.off(x,ue),H(),te(ie)},"onerr"),he=v(ie=>{this.off("error",ae),this.off("end",re),this.off(x,ue),this.pause(),ne({value:ie,done:!!this[s]})},"ondata"),re=v(()=>{this.off("error",ae),this.off("data",he),this.off(x,ue),H(),ne({done:!0,value:void 0})},"onend"),ue=v(()=>ae(new Error("stream destroyed")),"ondestroy");return new Promise((ie,le)=>{te=le,ne=ie,this.once(x,ue),this.once("error",ae),this.once("end",re),this.once("data",he)})},"next"),throw:H,return:H,[Symbol.asyncIterator](){return this}}}[Symbol.iterator](){this[C]=!1;let A=!1,H=v(()=>(this.pause(),this.off(j,H),this.off(x,H),this.off("end",H),A=!0,{done:!0,value:void 0}),"stop"),ee=v(()=>{if(A)return H();let ne=this.read();return ne===null?H():{done:!1,value:ne}},"next");return this.once("end",H),this.once(j,H),this.once(x,H),{next:ee,throw:H,return:H,[Symbol.iterator](){return this}}}destroy(A){if(this[x])return A?this.emit("error",A):this.emit(x),this;this[x]=!0,this[C]=!0,this[O].length=0,this[I]=0;let H=this;return typeof H.close=="function"&&!this[g]&&H.close(),A?this.emit("error",A):this.emit(x),this}static get isStream(){return e.isStream}};e.Minipass=X}),rd=J(e=>{"use strict";var u=e&&e.__createBinding||(Object.create?function(A,H,ee,ne){ne===void 0&&(ne=ee);var te=Object.getOwnPropertyDescriptor(H,ee);(!te||("get"in te?!H.__esModule:te.writable||te.configurable))&&(te={enumerable:!0,get:v(function(){return H[ee]},"get")}),Object.defineProperty(A,ne,te)}:function(A,H,ee,ne){ne===void 0&&(ne=ee),A[ne]=H[ee]}),h=e&&e.__setModuleDefault||(Object.create?function(A,H){Object.defineProperty(A,"default",{enumerable:!0,value:H})}:function(A,H){A.default=H}),p=e&&e.__importStar||function(A){if(A&&A.__esModule)return A;var H={};if(A!=null)for(var ee in A)ee!=="default"&&Object.prototype.hasOwnProperty.call(A,ee)&&u(H,A,ee);return h(H,A),H};Object.defineProperty(e,"__esModule",{value:!0}),e.PathScurry=e.Path=e.PathScurryDarwin=e.PathScurryPosix=e.PathScurryWin32=e.PathScurryBase=e.PathPosix=e.PathWin32=e.PathBase=e.ChildrenCache=e.ResolveCache=void 0;var o=_t(),l=require("path"),n=require("url"),t=require("fs"),r=p(require("fs")),s=t.realpathSync.native,i=require("internal/fs/promises"),c=Ae(),a={lstatSync:t.lstatSync,readdir:t.readdir,readdirSync:t.readdirSync,readlinkSync:t.readlinkSync,realpathSync:s,promises:{lstat:i.lstat,readdir:i.readdir,readlink:i.readlink,realpath:i.realpath}},d=v(A=>!A||A===a||A===r?a:{...a,...A,promises:{...a.promises,...A.promises||{}}},"fsFromOption"),g=/^\\\\\?\\([a-z]:)\\?$/i,m=v(A=>A.replace(/\//g,"\\").replace(g,"$1\\"),"uncToDrive"),f=/[\\\/]/,y=0,S=1,b=2,E=4,_=6,w=8,O=10,R=12,I=15,P=~I,L=16,M=32,x=64,j=128,U=256,V=512,B=x|j|V,G=1023,W=v(A=>A.isFile()?w:A.isDirectory()?E:A.isSymbolicLink()?O:A.isCharacterDevice()?b:A.isBlockDevice()?_:A.isSocket()?R:A.isFIFO()?S:y,"entToType"),k=new Map,D=v(A=>{let H=k.get(A);if(H)return H;let ee=A.normalize("NFKD");return k.set(A,ee),ee},"normalize"),T=new Map,C=v(A=>{let H=T.get(A);if(H)return H;let ee=D(A.toLowerCase());return T.set(A,ee),ee},"normalizeNocase"),Z=class extends o.LRUCache{static{v(this,"ResolveCache")}constructor(){super({max:256})}};e.ResolveCache=Z;var Y=class extends o.LRUCache{static{v(this,"ChildrenCache")}constructor(A=16*1024){super({maxSize:A,sizeCalculation:v(H=>H.length+1,"sizeCalculation")})}};e.ChildrenCache=Y;var Q=Symbol("PathScurry setAsCwd"),N=class{static{v(this,"PathBase")}name;root;roots;parent;nocase;isCWD=!1;#e;#t;get dev(){return this.#t}#r;get mode(){return this.#r}#s;get nlink(){return this.#s}#i;get uid(){return this.#i}#c;get gid(){return this.#c}#l;get rdev(){return this.#l}#p;get blksize(){return this.#p}#n;get ino(){return this.#n}#h;get size(){return this.#h}#o;get blocks(){return this.#o}#d;get atimeMs(){return this.#d}#a;get mtimeMs(){return this.#a}#f;get ctimeMs(){return this.#f}#y;get birthtimeMs(){return this.#y}#E;get atime(){return this.#E}#g;get mtime(){return this.#g}#C;get ctime(){return this.#C}#b;get birthtime(){return this.#b}#_;#A;#w;#S;#P;#O;#u;#M;#R;#T;get parentPath(){return(this.parent||this).fullpath()}get path(){return this.parentPath}constructor(A,H=y,ee,ne,te,ae,he){this.name=A,this.#_=te?C(A):D(A),this.#u=H&G,this.nocase=te,this.roots=ne,this.root=ee||this,this.#M=ae,this.#w=he.fullpath,this.#P=he.relative,this.#O=he.relativePosix,this.parent=he.parent,this.parent?this.#e=this.parent.#e:this.#e=d(he.fs)}depth(){return this.#A!==void 0?this.#A:this.parent?this.#A=this.parent.depth()+1:this.#A=0}childrenCache(){return this.#M}resolve(A){if(!A)return this;let H=this.getRootString(A),ee=A.substring(H.length).split(this.splitSep);return H?this.getRoot(H).#j(ee):this.#j(ee)}#j(A){let H=this;for(let ee of A)H=H.child(ee);return H}children(){let A=this.#M.get(this);if(A)return A;let H=Object.assign([],{provisional:0});return this.#M.set(this,H),this.#u&=~L,H}child(A,H){if(A===""||A===".")return this;if(A==="..")return this.parent||this;let ee=this.children(),ne=this.nocase?C(A):D(A);for(let re of ee)if(re.#_===ne)return re;let te=this.parent?this.sep:"",ae=this.#w?this.#w+te+A:void 0,he=this.newChild(A,y,{...H,parent:this,fullpath:ae});return this.canReaddir()||(he.#u|=j),ee.push(he),he}relative(){if(this.isCWD)return"";if(this.#P!==void 0)return this.#P;let A=this.name,H=this.parent;if(!H)return this.#P=this.name;let ee=H.relative();return ee+(!ee||!H.parent?"":this.sep)+A}relativePosix(){if(this.sep==="/")return this.relative();if(this.isCWD)return"";if(this.#O!==void 0)return this.#O;let A=this.name,H=this.parent;if(!H)return this.#O=this.fullpathPosix();let ee=H.relativePosix();return ee+(!ee||!H.parent?"":"/")+A}fullpath(){if(this.#w!==void 0)return this.#w;let A=this.name,H=this.parent;if(!H)return this.#w=this.name;let ee=H.fullpath()+(H.parent?this.sep:"")+A;return this.#w=ee}fullpathPosix(){if(this.#S!==void 0)return this.#S;if(this.sep==="/")return this.#S=this.fullpath();if(!this.parent){let ne=this.fullpath().replace(/\\/g,"/");return/^[a-z]:\//i.test(ne)?this.#S=`//?/${ne}`:this.#S=ne}let A=this.parent,H=A.fullpathPosix(),ee=H+(!H||!A.parent?"":"/")+this.name;return this.#S=ee}isUnknown(){return(this.#u&I)===y}isType(A){return this[`is${A}`]()}getType(){return this.isUnknown()?"Unknown":this.isDirectory()?"Directory":this.isFile()?"File":this.isSymbolicLink()?"SymbolicLink":this.isFIFO()?"FIFO":this.isCharacterDevice()?"CharacterDevice":this.isBlockDevice()?"BlockDevice":this.isSocket()?"Socket":"Unknown"}isFile(){return(this.#u&I)===w}isDirectory(){return(this.#u&I)===E}isCharacterDevice(){return(this.#u&I)===b}isBlockDevice(){return(this.#u&I)===_}isFIFO(){return(this.#u&I)===S}isSocket(){return(this.#u&I)===R}isSymbolicLink(){return(this.#u&O)===O}lstatCached(){return this.#u&M?this:void 0}readlinkCached(){return this.#R}realpathCached(){return this.#T}readdirCached(){let A=this.children();return A.slice(0,A.provisional)}canReadlink(){if(this.#R)return!0;if(!this.parent)return!1;let A=this.#u&I;return!(A!==y&&A!==O||this.#u&U||this.#u&j)}calledReaddir(){return!!(this.#u&L)}isENOENT(){return!!(this.#u&j)}isNamed(A){return this.nocase?this.#_===C(A):this.#_===D(A)}async readlink(){let A=this.#R;if(A)return A;if(this.canReadlink()&&this.parent)try{let H=await this.#e.promises.readlink(this.fullpath()),ee=(await this.parent.realpath())?.resolve(H);if(ee)return this.#R=ee}catch(H){this.#v(H.code);return}}readlinkSync(){let A=this.#R;if(A)return A;if(this.canReadlink()&&this.parent)try{let H=this.#e.readlinkSync(this.fullpath()),ee=this.parent.realpathSync()?.resolve(H);if(ee)return this.#R=ee}catch(H){this.#v(H.code);return}}#I(A){this.#u|=L;for(let H=A.provisional;H<A.length;H++){let ee=A[H];ee&&ee.#F()}}#F(){this.#u&j||(this.#u=(this.#u|j)&P,this.#x())}#x(){let A=this.children();A.provisional=0;for(let H of A)H.#F()}#N(){this.#u|=V,this.#$()}#$(){if(this.#u&x)return;let A=this.#u;(A&I)===E&&(A&=P),this.#u=A|x,this.#x()}#k(A=""){A==="ENOTDIR"||A==="EPERM"?this.#$():A==="ENOENT"?this.#F():this.children().provisional=0}#L(A=""){A==="ENOTDIR"?this.parent.#$():A==="ENOENT"&&this.#F()}#v(A=""){let H=this.#u;H|=U,A==="ENOENT"&&(H|=j),(A==="EINVAL"||A==="UNKNOWN")&&(H&=P),this.#u=H,A==="ENOTDIR"&&this.parent&&this.parent.#$()}#B(A,H){return this.#m(A,H)||this.#U(A,H)}#U(A,H){let ee=W(A),ne=this.newChild(A.name,ee,{parent:this}),te=ne.#u&I;return te!==E&&te!==O&&te!==y&&(ne.#u|=x),H.unshift(ne),H.provisional++,ne}#m(A,H){for(let ee=H.provisional;ee<H.length;ee++){let ne=H[ee];if((this.nocase?C(A.name):D(A.name))===ne.#_)return this.#H(A,ne,ee,H)}}#H(A,H,ee,ne){let te=H.name;return H.#u=H.#u&P|W(A),te!==A.name&&(H.name=A.name),ee!==ne.provisional&&(ee===ne.length-1?ne.pop():ne.splice(ee,1),ne.unshift(H)),ne.provisional++,H}async lstat(){if(!(this.#u&j))try{return this.#G(await this.#e.promises.lstat(this.fullpath())),this}catch(A){this.#L(A.code)}}lstatSync(){if(!(this.#u&j))try{return this.#G(this.#e.lstatSync(this.fullpath())),this}catch(A){this.#L(A.code)}}#G(A){let{atime:H,atimeMs:ee,birthtime:ne,birthtimeMs:te,blksize:ae,blocks:he,ctime:re,ctimeMs:ue,dev:ie,gid:le,ino:fe,mode:ge,mtime:ce,mtimeMs:pe,nlink:de,rdev:me,size:Se,uid:we}=A;this.#E=H,this.#d=ee,this.#b=ne,this.#y=te,this.#p=ae,this.#o=he,this.#C=re,this.#f=ue,this.#t=ie,this.#c=le,this.#n=fe,this.#r=ge,this.#g=ce,this.#a=pe,this.#s=de,this.#l=me,this.#h=Se,this.#i=we;let Pe=W(A);this.#u=this.#u&P|Pe|M,Pe!==y&&Pe!==E&&Pe!==O&&(this.#u|=x)}#D=[];#V=!1;#z(A){this.#V=!1;let H=this.#D.slice();this.#D.length=0,H.forEach(ee=>ee(null,A))}readdirCB(A,H=!1){if(!this.canReaddir()){H?A(null,[]):queueMicrotask(()=>A(null,[]));return}let ee=this.children();if(this.calledReaddir()){let te=ee.slice(0,ee.provisional);H?A(null,te):queueMicrotask(()=>A(null,te));return}if(this.#D.push(A),this.#V)return;this.#V=!0;let ne=this.fullpath();this.#e.readdir(ne,{withFileTypes:!0},(te,ae)=>{if(te)this.#k(te.code),ee.provisional=0;else{for(let he of ae)this.#B(he,ee);this.#I(ee)}this.#z(ee.slice(0,ee.provisional))})}#W;async readdir(){if(!this.canReaddir())return[];let A=this.children();if(this.calledReaddir())return A.slice(0,A.provisional);let H=this.fullpath();if(this.#W)await this.#W;else{let ee=v(()=>{},"resolve");this.#W=new Promise(ne=>ee=ne);try{for(let ne of await this.#e.promises.readdir(H,{withFileTypes:!0}))this.#B(ne,A);this.#I(A)}catch(ne){this.#k(ne.code),A.provisional=0}this.#W=void 0,ee()}return A.slice(0,A.provisional)}readdirSync(){if(!this.canReaddir())return[];let A=this.children();if(this.calledReaddir())return A.slice(0,A.provisional);let H=this.fullpath();try{for(let ee of this.#e.readdirSync(H,{withFileTypes:!0}))this.#B(ee,A);this.#I(A)}catch(ee){this.#k(ee.code),A.provisional=0}return A.slice(0,A.provisional)}canReaddir(){if(this.#u&B)return!1;let A=I&this.#u;return A===y||A===E||A===O}shouldWalk(A,H){return(this.#u&E)===E&&!(this.#u&B)&&!A.has(this)&&(!H||H(this))}async realpath(){if(this.#T)return this.#T;if(!((V|U|j)&this.#u))try{let A=await this.#e.promises.realpath(this.fullpath());return this.#T=this.resolve(A)}catch{this.#N()}}realpathSync(){if(this.#T)return this.#T;if(!((V|U|j)&this.#u))try{let A=this.#e.realpathSync(this.fullpath());return this.#T=this.resolve(A)}catch{this.#N()}}[Q](A){if(A===this)return;A.isCWD=!1,this.isCWD=!0;let H=new Set([]),ee=[],ne=this;for(;ne&&ne.parent;)H.add(ne),ne.#P=ee.join(this.sep),ne.#O=ee.join("/"),ne=ne.parent,ee.push("..");for(ne=A;ne&&ne.parent&&!H.has(ne);)ne.#P=void 0,ne.#O=void 0,ne=ne.parent}};e.PathBase=N;var F=class na extends N{static{v(this,"PathWin32")}sep="\\";splitSep=f;constructor(H,ee=y,ne,te,ae,he,re){super(H,ee,ne,te,ae,he,re)}newChild(H,ee=y,ne={}){return new na(H,ee,this.root,this.roots,this.nocase,this.childrenCache(),ne)}getRootString(H){return l.win32.parse(H).root}getRoot(H){if(H=m(H.toUpperCase()),H===this.root.name)return this.root;for(let[ee,ne]of Object.entries(this.roots))if(this.sameRoot(H,ee))return this.roots[H]=ne;return this.roots[H]=new K(H,this).root}sameRoot(H,ee=this.root.name){return H=H.toUpperCase().replace(/\//g,"\\").replace(g,"$1\\"),H===ee}};e.PathWin32=F;var z=class oa extends N{static{v(this,"PathPosix")}splitSep="/";sep="/";constructor(H,ee=y,ne,te,ae,he,re){super(H,ee,ne,te,ae,he,re)}getRootString(H){return H.startsWith("/")?"/":""}getRoot(H){return this.root}newChild(H,ee=y,ne={}){return new oa(H,ee,this.root,this.roots,this.nocase,this.childrenCache(),ne)}};e.PathPosix=z;var $=class{static{v(this,"PathScurryBase")}root;rootPath;roots;cwd;#e;#t;#r;nocase;#s;constructor(A=process.cwd(),H,ee,{nocase:ne,childrenCacheSize:te=16*1024,fs:ae=a}={}){this.#s=d(ae),(A instanceof URL||A.startsWith("file://"))&&(A=(0,n.fileURLToPath)(A));let he=H.resolve(A);this.roots=Object.create(null),this.rootPath=this.parseRootPath(he),this.#e=new Z,this.#t=new Z,this.#r=new Y(te);let re=he.substring(this.rootPath.length).split(ee);if(re.length===1&&!re[0]&&re.pop(),ne===void 0)throw new TypeError("must provide nocase setting to PathScurryBase ctor");this.nocase=ne,this.root=this.newRoot(this.#s),this.roots[this.rootPath]=this.root;let ue=this.root,ie=re.length-1,le=H.sep,fe=this.rootPath,ge=!1;for(let ce of re){let pe=ie--;ue=ue.child(ce,{relative:new Array(pe).fill("..").join(le),relativePosix:new Array(pe).fill("..").join("/"),fullpath:fe+=(ge?"":le)+ce}),ge=!0}this.cwd=ue}depth(A=this.cwd){return typeof A=="string"&&(A=this.cwd.resolve(A)),A.depth()}childrenCache(){return this.#r}resolve(...A){let H="";for(let te=A.length-1;te>=0;te--){let ae=A[te];if(!(!ae||ae===".")&&(H=H?`${ae}/${H}`:ae,this.isAbsolute(ae)))break}let ee=this.#e.get(H);if(ee!==void 0)return ee;let ne=this.cwd.resolve(H).fullpath();return this.#e.set(H,ne),ne}resolvePosix(...A){let H="";for(let te=A.length-1;te>=0;te--){let ae=A[te];if(!(!ae||ae===".")&&(H=H?`${ae}/${H}`:ae,this.isAbsolute(ae)))break}let ee=this.#t.get(H);if(ee!==void 0)return ee;let ne=this.cwd.resolve(H).fullpathPosix();return this.#t.set(H,ne),ne}relative(A=this.cwd){return typeof A=="string"&&(A=this.cwd.resolve(A)),A.relative()}relativePosix(A=this.cwd){return typeof A=="string"&&(A=this.cwd.resolve(A)),A.relativePosix()}basename(A=this.cwd){return typeof A=="string"&&(A=this.cwd.resolve(A)),A.name}dirname(A=this.cwd){return typeof A=="string"&&(A=this.cwd.resolve(A)),(A.parent||A).fullpath()}async readdir(A=this.cwd,H={withFileTypes:!0}){typeof A=="string"?A=this.cwd.resolve(A):A instanceof N||(H=A,A=this.cwd);let{withFileTypes:ee}=H;if(A.canReaddir()){let ne=await A.readdir();return ee?ne:ne.map(te=>te.name)}else return[]}readdirSync(A=this.cwd,H={withFileTypes:!0}){typeof A=="string"?A=this.cwd.resolve(A):A instanceof N||(H=A,A=this.cwd);let{withFileTypes:ee=!0}=H;return A.canReaddir()?ee?A.readdirSync():A.readdirSync().map(ne=>ne.name):[]}async lstat(A=this.cwd){return typeof A=="string"&&(A=this.cwd.resolve(A)),A.lstat()}lstatSync(A=this.cwd){return typeof A=="string"&&(A=this.cwd.resolve(A)),A.lstatSync()}async readlink(A=this.cwd,{withFileTypes:H}={withFileTypes:!1}){typeof A=="string"?A=this.cwd.resolve(A):A instanceof N||(H=A.withFileTypes,A=this.cwd);let ee=await A.readlink();return H?ee:ee?.fullpath()}readlinkSync(A=this.cwd,{withFileTypes:H}={withFileTypes:!1}){typeof A=="string"?A=this.cwd.resolve(A):A instanceof N||(H=A.withFileTypes,A=this.cwd);let ee=A.readlinkSync();return H?ee:ee?.fullpath()}async realpath(A=this.cwd,{withFileTypes:H}={withFileTypes:!1}){typeof A=="string"?A=this.cwd.resolve(A):A instanceof N||(H=A.withFileTypes,A=this.cwd);let ee=await A.realpath();return H?ee:ee?.fullpath()}realpathSync(A=this.cwd,{withFileTypes:H}={withFileTypes:!1}){typeof A=="string"?A=this.cwd.resolve(A):A instanceof N||(H=A.withFileTypes,A=this.cwd);let ee=A.realpathSync();return H?ee:ee?.fullpath()}async walk(A=this.cwd,H={}){typeof A=="string"?A=this.cwd.resolve(A):A instanceof N||(H=A,A=this.cwd);let{withFileTypes:ee=!0,follow:ne=!1,filter:te,walkFilter:ae}=H,he=[];(!te||te(A))&&he.push(ee?A:A.fullpath());let re=new Set,ue=v((le,fe)=>{re.add(le),le.readdirCB((ge,ce)=>{if(ge)return fe(ge);let pe=ce.length;if(!pe)return fe();let de=v(()=>{--pe===0&&fe()},"next");for(let me of ce)(!te||te(me))&&he.push(ee?me:me.fullpath()),ne&&me.isSymbolicLink()?me.realpath().then(Se=>Se?.isUnknown()?Se.lstat():Se).then(Se=>Se?.shouldWalk(re,ae)?ue(Se,de):de()):me.shouldWalk(re,ae)?ue(me,de):de()},!0)},"walk"),ie=A;return new Promise((le,fe)=>{ue(ie,ge=>{if(ge)return fe(ge);le(he)})})}walkSync(A=this.cwd,H={}){typeof A=="string"?A=this.cwd.resolve(A):A instanceof N||(H=A,A=this.cwd);let{withFileTypes:ee=!0,follow:ne=!1,filter:te,walkFilter:ae}=H,he=[];(!te||te(A))&&he.push(ee?A:A.fullpath());let re=new Set([A]);for(let ue of re){let ie=ue.readdirSync();for(let le of ie){(!te||te(le))&&he.push(ee?le:le.fullpath());let fe=le;if(le.isSymbolicLink()){if(!(ne&&(fe=le.realpathSync())))continue;fe.isUnknown()&&fe.lstatSync()}fe.shouldWalk(re,ae)&&re.add(fe)}}return he}[Symbol.asyncIterator](){return this.iterate()}iterate(A=this.cwd,H={}){return typeof A=="string"?A=this.cwd.resolve(A):A instanceof N||(H=A,A=this.cwd),this.stream(A,H)[Symbol.asyncIterator]()}[Symbol.iterator](){return this.iterateSync()}*iterateSync(A=this.cwd,H={}){typeof A=="string"?A=this.cwd.resolve(A):A instanceof N||(H=A,A=this.cwd);let{withFileTypes:ee=!0,follow:ne=!1,filter:te,walkFilter:ae}=H;(!te||te(A))&&(yield ee?A:A.fullpath());let he=new Set([A]);for(let re of he){let ue=re.readdirSync();for(let ie of ue){(!te||te(ie))&&(yield ee?ie:ie.fullpath());let le=ie;if(ie.isSymbolicLink()){if(!(ne&&(le=ie.realpathSync())))continue;le.isUnknown()&&le.lstatSync()}le.shouldWalk(he,ae)&&he.add(le)}}}stream(A=this.cwd,H={}){typeof A=="string"?A=this.cwd.resolve(A):A instanceof N||(H=A,A=this.cwd);let{withFileTypes:ee=!0,follow:ne=!1,filter:te,walkFilter:ae}=H,he=new c.Minipass({objectMode:!0});(!te||te(A))&&he.write(ee?A:A.fullpath());let re=new Set,ue=[A],ie=0,le=v(()=>{let fe=!1;for(;!fe;){let ge=ue.shift();if(!ge){ie===0&&he.end();return}ie++,re.add(ge);let ce=v((de,me,Se=!1)=>{if(de)return he.emit("error",de);if(ne&&!Se){let we=[];for(let Pe of me)Pe.isSymbolicLink()&&we.push(Pe.realpath().then(mt=>mt?.isUnknown()?mt.lstat():mt));if(we.length){Promise.all(we).then(()=>ce(null,me,!0));return}}for(let we of me)we&&(!te||te(we))&&(he.write(ee?we:we.fullpath())||(fe=!0));ie--;for(let we of me){let Pe=we.realpathCached()||we;Pe.shouldWalk(re,ae)&&ue.push(Pe)}fe&&!he.flowing?he.once("drain",le):pe||le()},"onReaddir"),pe=!0;ge.readdirCB(ce,!0),pe=!1}},"process");return le(),he}streamSync(A=this.cwd,H={}){typeof A=="string"?A=this.cwd.resolve(A):A instanceof N||(H=A,A=this.cwd);let{withFileTypes:ee=!0,follow:ne=!1,filter:te,walkFilter:ae}=H,he=new c.Minipass({objectMode:!0}),re=new Set;(!te||te(A))&&he.write(ee?A:A.fullpath());let ue=[A],ie=0,le=v(()=>{let fe=!1;for(;!fe;){let ge=ue.shift();if(!ge){ie===0&&he.end();return}ie++,re.add(ge);let ce=ge.readdirSync();for(let pe of ce)(!te||te(pe))&&(he.write(ee?pe:pe.fullpath())||(fe=!0));ie--;for(let pe of ce){let de=pe;if(pe.isSymbolicLink()){if(!(ne&&(de=pe.realpathSync())))continue;de.isUnknown()&&de.lstatSync()}de.shouldWalk(re,ae)&&ue.push(de)}}fe&&!he.flowing&&he.once("drain",le)},"process");return le(),he}chdir(A=this.cwd){let H=this.cwd;this.cwd=typeof A=="string"?this.cwd.resolve(A):A,this.cwd[Q](H)}};e.PathScurryBase=$;var K=class extends ${static{v(this,"PathScurryWin32")}sep="\\";constructor(A=process.cwd(),H={}){let{nocase:ee=!0}=H;super(A,l.win32,"\\",{...H,nocase:ee}),this.nocase=ee;for(let ne=this.cwd;ne;ne=ne.parent)ne.nocase=this.nocase}parseRootPath(A){return l.win32.parse(A).root.toUpperCase()}newRoot(A){return new F(this.rootPath,E,void 0,this.roots,this.nocase,this.childrenCache(),{fs:A})}isAbsolute(A){return A.startsWith("/")||A.startsWith("\\")||/^[a-z]:(\/|\\)/i.test(A)}};e.PathScurryWin32=K;var q=class extends ${static{v(this,"PathScurryPosix")}sep="/";constructor(A=process.cwd(),H={}){let{nocase:ee=!1}=H;super(A,l.posix,"/",{...H,nocase:ee}),this.nocase=ee}parseRootPath(A){return"/"}newRoot(A){return new z(this.rootPath,E,void 0,this.roots,this.nocase,this.childrenCache(),{fs:A})}isAbsolute(A){return A.startsWith("/")}};e.PathScurryPosix=q;var X=class extends q{static{v(this,"PathScurryDarwin")}constructor(A=process.cwd(),H={}){let{nocase:ee=!0}=H;super(A,{...H,nocase:ee})}};e.PathScurryDarwin=X,e.Path=process.platform==="win32"?F:z,e.PathScurry=process.platform==="win32"?K:process.platform==="darwin"?X:q}),aa=J(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Pattern=void 0;var u=st(),h=v(l=>l.length>=1,"isPatternList"),p=v(l=>l.length>=1,"isGlobList"),o=class la{static{v(this,"Pattern")}#e;#t;#r;length;#s;#i;#c;#l;#p;#n;#h=!0;constructor(n,t,r,s){if(!h(n))throw new TypeError("empty pattern list");if(!p(t))throw new TypeError("empty glob list");if(t.length!==n.length)throw new TypeError("mismatched pattern list and glob list lengths");if(this.length=n.length,r<0||r>=this.length)throw new TypeError("index out of range");if(this.#e=n,this.#t=t,this.#r=r,this.#s=s,this.#r===0){if(this.isUNC()){let[i,c,a,d,...g]=this.#e,[m,f,y,S,...b]=this.#t;g[0]===""&&(g.shift(),b.shift());let E=[i,c,a,d,""].join("/"),_=[m,f,y,S,""].join("/");this.#e=[E,...g],this.#t=[_,...b],this.length=this.#e.length}else if(this.isDrive()||this.isAbsolute()){let[i,...c]=this.#e,[a,...d]=this.#t;c[0]===""&&(c.shift(),d.shift());let g=i+"/",m=a+"/";this.#e=[g,...c],this.#t=[m,...d],this.length=this.#e.length}}}pattern(){return this.#e[this.#r]}isString(){return typeof this.#e[this.#r]=="string"}isGlobstar(){return this.#e[this.#r]===u.GLOBSTAR}isRegExp(){return this.#e[this.#r]instanceof RegExp}globString(){return this.#c=this.#c||(this.#r===0?this.isAbsolute()?this.#t[0]+this.#t.slice(1).join("/"):this.#t.join("/"):this.#t.slice(this.#r).join("/"))}hasMore(){return this.length>this.#r+1}rest(){return this.#i!==void 0?this.#i:this.hasMore()?(this.#i=new la(this.#e,this.#t,this.#r+1,this.#s),this.#i.#n=this.#n,this.#i.#p=this.#p,this.#i.#l=this.#l,this.#i):this.#i=null}isUNC(){let n=this.#e;return this.#p!==void 0?this.#p:this.#p=this.#s==="win32"&&this.#r===0&&n[0]===""&&n[1]===""&&typeof n[2]=="string"&&!!n[2]&&typeof n[3]=="string"&&!!n[3]}isDrive(){let n=this.#e;return this.#l!==void 0?this.#l:this.#l=this.#s==="win32"&&this.#r===0&&this.length>1&&typeof n[0]=="string"&&/^[a-z]:$/i.test(n[0])}isAbsolute(){let n=this.#e;return this.#n!==void 0?this.#n:this.#n=n[0]===""&&n.length>1||this.isDrive()||this.isUNC()}root(){let n=this.#e[0];return typeof n=="string"&&this.isAbsolute()&&this.#r===0?n:""}checkFollowGlobstar(){return!(this.#r===0||!this.isGlobstar()||!this.#h)}markFollowGlobstar(){return this.#r===0||!this.isGlobstar()||!this.#h?!1:(this.#h=!1,!0)}};e.Pattern=o}),ca=J(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Ignore=void 0;var u=st(),h=aa(),p=typeof process=="object"&&process&&typeof process.platform=="string"?process.platform:"linux",o=class{static{v(this,"Ignore")}relative;relativeChildren;absolute;absoluteChildren;platform;mmopts;constructor(l,{nobrace:n,nocase:t,noext:r,noglobstar:s,platform:i=p}){this.relative=[],this.absolute=[],this.relativeChildren=[],this.absoluteChildren=[],this.platform=i,this.mmopts={dot:!0,nobrace:n,nocase:t,noext:r,noglobstar:s,optimizationLevel:2,platform:i,nocomment:!0,nonegate:!0};for(let c of l)this.add(c)}add(l){let n=new u.Minimatch(l,this.mmopts);for(let t=0;t<n.set.length;t++){let r=n.set[t],s=n.globParts[t];if(!r||!s)throw new Error("invalid pattern object");for(;r[0]==="."&&s[0]===".";)r.shift(),s.shift();let i=new h.Pattern(r,s,0,this.platform),c=new u.Minimatch(i.globString(),this.mmopts),a=s[s.length-1]==="**",d=i.isAbsolute();d?this.absolute.push(c):this.relative.push(c),a&&(d?this.absoluteChildren.push(c):this.relativeChildren.push(c))}}ignored(l){let n=l.fullpath(),t=`${n}/`,r=l.relative()||".",s=`${r}/`;for(let i of this.relative)if(i.match(r)||i.match(s))return!0;for(let i of this.absolute)if(i.match(n)||i.match(t))return!0;return!1}childrenIgnored(l){let n=l.fullpath()+"/",t=(l.relative()||".")+"/";for(let r of this.relativeChildren)if(r.match(t))return!0;for(let r of this.absoluteChildren)if(r.match(n))return!0;return!1}};e.Ignore=o}),sd=J(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Processor=e.SubWalks=e.MatchRecord=e.HasWalkedCache=void 0;var u=st(),h=class ua{static{v(this,"HasWalkedCache")}store;constructor(t=new Map){this.store=t}copy(){return new ua(new Map(this.store))}hasWalked(t,r){return this.store.get(t.fullpath())?.has(r.globString())}storeWalked(t,r){let s=t.fullpath(),i=this.store.get(s);i?i.add(r.globString()):this.store.set(s,new Set([r.globString()]))}};e.HasWalkedCache=h;var p=class{static{v(this,"MatchRecord")}store=new Map;add(n,t,r){let s=(t?2:0)|(r?1:0),i=this.store.get(n);this.store.set(n,i===void 0?s:s&i)}entries(){return[...this.store.entries()].map(([n,t])=>[n,!!(t&2),!!(t&1)])}};e.MatchRecord=p;var o=class{static{v(this,"SubWalks")}store=new Map;add(n,t){if(!n.canReaddir())return;let r=this.store.get(n);r?r.find(s=>s.globString()===t.globString())||r.push(t):this.store.set(n,[t])}get(n){let t=this.store.get(n);if(!t)throw new Error("attempting to walk unknown path");return t}entries(){return this.keys().map(n=>[n,this.store.get(n)])}keys(){return[...this.store.keys()].filter(n=>n.canReaddir())}};e.SubWalks=o;var l=class ha{static{v(this,"Processor")}hasWalkedCache;matches=new p;subwalks=new o;patterns;follow;dot;opts;constructor(t,r){this.opts=t,this.follow=!!t.follow,this.dot=!!t.dot,this.hasWalkedCache=r?r.copy():new h}processPatterns(t,r){this.patterns=r;let s=r.map(i=>[t,i]);for(let[i,c]of s){this.hasWalkedCache.storeWalked(i,c);let a=c.root(),d=c.isAbsolute()&&this.opts.absolute!==!1;if(a){i=i.resolve(a==="/"&&this.opts.root!==void 0?this.opts.root:a);let y=c.rest();if(y)c=y;else{this.matches.add(i,!0,!1);continue}}if(i.isENOENT())continue;let g,m,f=!1;for(;typeof(g=c.pattern())=="string"&&(m=c.rest());)i=i.resolve(g),c=m,f=!0;if(g=c.pattern(),m=c.rest(),f){if(this.hasWalkedCache.hasWalked(i,c))continue;this.hasWalkedCache.storeWalked(i,c)}if(typeof g=="string"){let y=g===".."||g===""||g===".";this.matches.add(i.resolve(g),d,y);continue}else if(g===u.GLOBSTAR){(!i.isSymbolicLink()||this.follow||c.checkFollowGlobstar())&&this.subwalks.add(i,c);let y=m?.pattern(),S=m?.rest();if(!m||(y===""||y===".")&&!S)this.matches.add(i,d,y===""||y===".");else if(y===".."){let b=i.parent||i;S?this.hasWalkedCache.hasWalked(b,S)||this.subwalks.add(b,S):this.matches.add(b,d,!0)}}else g instanceof RegExp&&this.subwalks.add(i,c)}return this}subwalkTargets(){return this.subwalks.keys()}child(){return new ha(this.opts,this.hasWalkedCache)}filterEntries(t,r){let s=this.subwalks.get(t),i=this.child();for(let c of r)for(let a of s){let d=a.isAbsolute(),g=a.pattern(),m=a.rest();g===u.GLOBSTAR?i.testGlobstar(c,a,m,d):g instanceof RegExp?i.testRegExp(c,g,m,d):i.testString(c,g,m,d)}return i}testGlobstar(t,r,s,i){if((this.dot||!t.name.startsWith("."))&&(r.hasMore()||this.matches.add(t,i,!1),t.canReaddir()&&(this.follow||!t.isSymbolicLink()?this.subwalks.add(t,r):t.isSymbolicLink()&&(s&&r.checkFollowGlobstar()?this.subwalks.add(t,s):r.markFollowGlobstar()&&this.subwalks.add(t,r)))),s){let c=s.pattern();if(typeof c=="string"&&c!==".."&&c!==""&&c!==".")this.testString(t,c,s.rest(),i);else if(c===".."){let a=t.parent||t;this.subwalks.add(a,s)}else c instanceof RegExp&&this.testRegExp(t,c,s.rest(),i)}}testRegExp(t,r,s,i){r.test(t.name)&&(s?this.subwalks.add(t,s):this.matches.add(t,i,!1))}testString(t,r,s,i){t.isNamed(r)&&(s?this.subwalks.add(t,s):this.matches.add(t,i,!1))}};e.Processor=l}),id=J(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GlobStream=e.GlobWalker=e.GlobUtil=void 0;var u=Ae(),h=ca(),p=sd(),o=v((r,s)=>typeof r=="string"?new h.Ignore([r],s):Array.isArray(r)?new h.Ignore(r,s):r,"makeIgnore"),l=class{static{v(this,"GlobUtil")}path;patterns;opts;seen=new Set;paused=!1;aborted=!1;#e=[];#t;#r;signal;maxDepth;includeChildMatches;constructor(r,s,i){if(this.patterns=r,this.path=s,this.opts=i,this.#r=!i.posix&&i.platform==="win32"?"\\":"/",this.includeChildMatches=i.includeChildMatches!==!1,(i.ignore||!this.includeChildMatches)&&(this.#t=o(i.ignore??[],i),!this.includeChildMatches&&typeof this.#t.add!="function")){let c="cannot ignore child matches, ignore lacks add() method.";throw new Error(c)}this.maxDepth=i.maxDepth||1/0,i.signal&&(this.signal=i.signal,this.signal.addEventListener("abort",()=>{this.#e.length=0}))}#s(r){return this.seen.has(r)||!!this.#t?.ignored?.(r)}#i(r){return!!this.#t?.childrenIgnored?.(r)}pause(){this.paused=!0}resume(){if(this.signal?.aborted)return;this.paused=!1;let r;for(;!this.paused&&(r=this.#e.shift());)r()}onResume(r){this.signal?.aborted||(this.paused?this.#e.push(r):r())}async matchCheck(r,s){if(s&&this.opts.nodir)return;let i;if(this.opts.realpath){if(i=r.realpathCached()||await r.realpath(),!i)return;r=i}let c=r.isUnknown()||this.opts.stat?await r.lstat():r;if(this.opts.follow&&this.opts.nodir&&c?.isSymbolicLink()){let a=await c.realpath();a&&(a.isUnknown()||this.opts.stat)&&await a.lstat()}return this.matchCheckTest(c,s)}matchCheckTest(r,s){return r&&(this.maxDepth===1/0||r.depth()<=this.maxDepth)&&(!s||r.canReaddir())&&(!this.opts.nodir||!r.isDirectory())&&(!this.opts.nodir||!this.opts.follow||!r.isSymbolicLink()||!r.realpathCached()?.isDirectory())&&!this.#s(r)?r:void 0}matchCheckSync(r,s){if(s&&this.opts.nodir)return;let i;if(this.opts.realpath){if(i=r.realpathCached()||r.realpathSync(),!i)return;r=i}let c=r.isUnknown()||this.opts.stat?r.lstatSync():r;if(this.opts.follow&&this.opts.nodir&&c?.isSymbolicLink()){let a=c.realpathSync();a&&(a?.isUnknown()||this.opts.stat)&&a.lstatSync()}return this.matchCheckTest(c,s)}matchFinish(r,s){if(this.#s(r))return;if(!this.includeChildMatches&&this.#t?.add){let a=`${r.relativePosix()}/**`;this.#t.add(a)}let i=this.opts.absolute===void 0?s:this.opts.absolute;this.seen.add(r);let c=this.opts.mark&&r.isDirectory()?this.#r:"";if(this.opts.withFileTypes)this.matchEmit(r);else if(i){let a=this.opts.posix?r.fullpathPosix():r.fullpath();this.matchEmit(a+c)}else{let a=this.opts.posix?r.relativePosix():r.relative(),d=this.opts.dotRelative&&!a.startsWith(".."+this.#r)?"."+this.#r:"";this.matchEmit(a?d+a+c:"."+c)}}async match(r,s,i){let c=await this.matchCheck(r,i);c&&this.matchFinish(c,s)}matchSync(r,s,i){let c=this.matchCheckSync(r,i);c&&this.matchFinish(c,s)}walkCB(r,s,i){this.signal?.aborted&&i(),this.walkCB2(r,s,new p.Processor(this.opts),i)}walkCB2(r,s,i,c){if(this.#i(r))return c();if(this.signal?.aborted&&c(),this.paused){this.onResume(()=>this.walkCB2(r,s,i,c));return}i.processPatterns(r,s);let a=1,d=v(()=>{--a===0&&c()},"next");for(let[g,m,f]of i.matches.entries())this.#s(g)||(a++,this.match(g,m,f).then(()=>d()));for(let g of i.subwalkTargets()){if(this.maxDepth!==1/0&&g.depth()>=this.maxDepth)continue;a++;let m=g.readdirCached();g.calledReaddir()?this.walkCB3(g,m,i,d):g.readdirCB((f,y)=>this.walkCB3(g,y,i,d),!0)}d()}walkCB3(r,s,i,c){i=i.filterEntries(r,s);let a=1,d=v(()=>{--a===0&&c()},"next");for(let[g,m,f]of i.matches.entries())this.#s(g)||(a++,this.match(g,m,f).then(()=>d()));for(let[g,m]of i.subwalks.entries())a++,this.walkCB2(g,m,i.child(),d);d()}walkCBSync(r,s,i){this.signal?.aborted&&i(),this.walkCB2Sync(r,s,new p.Processor(this.opts),i)}walkCB2Sync(r,s,i,c){if(this.#i(r))return c();if(this.signal?.aborted&&c(),this.paused){this.onResume(()=>this.walkCB2Sync(r,s,i,c));return}i.processPatterns(r,s);let a=1,d=v(()=>{--a===0&&c()},"next");for(let[g,m,f]of i.matches.entries())this.#s(g)||this.matchSync(g,m,f);for(let g of i.subwalkTargets()){if(this.maxDepth!==1/0&&g.depth()>=this.maxDepth)continue;a++;let m=g.readdirSync();this.walkCB3Sync(g,m,i,d)}d()}walkCB3Sync(r,s,i,c){i=i.filterEntries(r,s);let a=1,d=v(()=>{--a===0&&c()},"next");for(let[g,m,f]of i.matches.entries())this.#s(g)||this.matchSync(g,m,f);for(let[g,m]of i.subwalks.entries())a++,this.walkCB2Sync(g,m,i.child(),d);d()}};e.GlobUtil=l;var n=class extends l{static{v(this,"GlobWalker")}matches=new Set;constructor(r,s,i){super(r,s,i)}matchEmit(r){this.matches.add(r)}async walk(){if(this.signal?.aborted)throw this.signal.reason;return this.path.isUnknown()&&await this.path.lstat(),await new Promise((r,s)=>{this.walkCB(this.path,this.patterns,()=>{this.signal?.aborted?s(this.signal.reason):r(this.matches)})}),this.matches}walkSync(){if(this.signal?.aborted)throw this.signal.reason;return this.path.isUnknown()&&this.path.lstatSync(),this.walkCBSync(this.path,this.patterns,()=>{if(this.signal?.aborted)throw this.signal.reason}),this.matches}};e.GlobWalker=n;var t=class extends l{static{v(this,"GlobStream")}results;constructor(r,s,i){super(r,s,i),this.results=new u.Minipass({signal:this.signal,objectMode:!0}),this.results.on("drain",()=>this.resume()),this.results.on("resume",()=>this.resume())}matchEmit(r){this.results.write(r),this.results.flowing||this.pause()}stream(){let r=this.path;return r.isUnknown()?r.lstat().then(()=>{this.walkCB(r,this.patterns,()=>this.results.end())}):this.walkCB(r,this.patterns,()=>this.results.end()),this.results}streamSync(){return this.path.isUnknown()&&this.path.lstatSync(),this.walkCBSync(this.path,this.patterns,()=>this.results.end()),this.results}};e.GlobStream=t}),Vo=J(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Glob=void 0;var u=st(),h=require("url"),p=rd(),o=aa(),l=id(),n=typeof process=="object"&&process&&typeof process.platform=="string"?process.platform:"linux",t=class{static{v(this,"Glob")}absolute;cwd;root;dot;dotRelative;follow;ignore;magicalBraces;mark;matchBase;maxDepth;nobrace;nocase;nodir;noext;noglobstar;pattern;platform;realpath;scurry;stat;signal;windowsPathsNoEscape;withFileTypes;includeChildMatches;opts;patterns;constructor(r,s){if(!s)throw new TypeError("glob options required");if(this.withFileTypes=!!s.withFileTypes,this.signal=s.signal,this.follow=!!s.follow,this.dot=!!s.dot,this.dotRelative=!!s.dotRelative,this.nodir=!!s.nodir,this.mark=!!s.mark,s.cwd?(s.cwd instanceof URL||s.cwd.startsWith("file://"))&&(s.cwd=(0,h.fileURLToPath)(s.cwd)):this.cwd="",this.cwd=s.cwd||"",this.root=s.root,this.magicalBraces=!!s.magicalBraces,this.nobrace=!!s.nobrace,this.noext=!!s.noext,this.realpath=!!s.realpath,this.absolute=s.absolute,this.includeChildMatches=s.includeChildMatches!==!1,this.noglobstar=!!s.noglobstar,this.matchBase=!!s.matchBase,this.maxDepth=typeof s.maxDepth=="number"?s.maxDepth:1/0,this.stat=!!s.stat,this.ignore=s.ignore,this.withFileTypes&&this.absolute!==void 0)throw new Error("cannot set absolute and withFileTypes:true");if(typeof r=="string"&&(r=[r]),this.windowsPathsNoEscape=!!s.windowsPathsNoEscape||s.allowWindowsEscape===!1,this.windowsPathsNoEscape&&(r=r.map(m=>m.replace(/\\/g,"/"))),this.matchBase){if(s.noglobstar)throw new TypeError("base matching requires globstar");r=r.map(m=>m.includes("/")?m:`./**/${m}`)}if(this.pattern=r,this.platform=s.platform||n,this.opts={...s,platform:this.platform},s.scurry){if(this.scurry=s.scurry,s.nocase!==void 0&&s.nocase!==s.scurry.nocase)throw new Error("nocase option contradicts provided scurry option")}else{let m=s.platform==="win32"?p.PathScurryWin32:s.platform==="darwin"?p.PathScurryDarwin:s.platform?p.PathScurryPosix:p.PathScurry;this.scurry=new m(this.cwd,{nocase:s.nocase,fs:s.fs})}this.nocase=this.scurry.nocase;let i=this.platform==="darwin"||this.platform==="win32",c={...s,dot:this.dot,matchBase:this.matchBase,nobrace:this.nobrace,nocase:this.nocase,nocaseMagicOnly:i,nocomment:!0,noext:this.noext,nonegate:!0,optimizationLevel:2,platform:this.platform,windowsPathsNoEscape:this.windowsPathsNoEscape,debug:!!this.opts.debug},a=this.pattern.map(m=>new u.Minimatch(m,c)),[d,g]=a.reduce((m,f)=>(m[0].push(...f.set),m[1].push(...f.globParts),m),[[],[]]);this.patterns=d.map((m,f)=>{let y=g[f];if(!y)throw new Error("invalid pattern object");return new o.Pattern(m,y,0,this.platform)})}async walk(){return[...await new l.GlobWalker(this.patterns,this.scurry.cwd,{...this.opts,maxDepth:this.maxDepth!==1/0?this.maxDepth+this.scurry.cwd.depth():1/0,platform:this.platform,nocase:this.nocase,includeChildMatches:this.includeChildMatches}).walk()]}walkSync(){return[...new l.GlobWalker(this.patterns,this.scurry.cwd,{...this.opts,maxDepth:this.maxDepth!==1/0?this.maxDepth+this.scurry.cwd.depth():1/0,platform:this.platform,nocase:this.nocase,includeChildMatches:this.includeChildMatches}).walkSync()]}stream(){return new l.GlobStream(this.patterns,this.scurry.cwd,{...this.opts,maxDepth:this.maxDepth!==1/0?this.maxDepth+this.scurry.cwd.depth():1/0,platform:this.platform,nocase:this.nocase,includeChildMatches:this.includeChildMatches}).stream()}streamSync(){return new l.GlobStream(this.patterns,this.scurry.cwd,{...this.opts,maxDepth:this.maxDepth!==1/0?this.maxDepth+this.scurry.cwd.depth():1/0,platform:this.platform,nocase:this.nocase,includeChildMatches:this.includeChildMatches}).streamSync()}iterateSync(){return this.streamSync()[Symbol.iterator]()}[Symbol.iterator](){return this.iterateSync()}iterate(){return this.stream()[Symbol.asyncIterator]()}[Symbol.asyncIterator](){return this.iterate()}};e.Glob=t}),Wo=J(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.hasMagic=void 0;var u=st(),h=v((p,o={})=>{Array.isArray(p)||(p=[p]);for(let l of p)if(new u.Minimatch(l,o).hasMagic())return!0;return!1},"hasMagic");e.hasMagic=h}),pa=J(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.glob=e.sync=e.iterate=e.iterateSync=e.stream=e.streamSync=e.Ignore=e.hasMagic=e.Glob=e.unescape=e.escape=void 0,e.globStreamSync=r,e.globStream=s,e.globSync=i,e.globIterateSync=a,e.globIterate=d;var u=st(),h=Vo(),p=Wo(),o=st();Object.defineProperty(e,"escape",{enumerable:!0,get:v(function(){return o.escape},"get")}),Object.defineProperty(e,"unescape",{enumerable:!0,get:v(function(){return o.unescape},"get")});var l=Vo();Object.defineProperty(e,"Glob",{enumerable:!0,get:v(function(){return l.Glob},"get")});var n=Wo();Object.defineProperty(e,"hasMagic",{enumerable:!0,get:v(function(){return n.hasMagic},"get")});var t=ca();Object.defineProperty(e,"Ignore",{enumerable:!0,get:v(function(){return t.Ignore},"get")});function r(g,m={}){return new h.Glob(g,m).streamSync()}v(r,"globStreamSync");function s(g,m={}){return new h.Glob(g,m).stream()}v(s,"globStream");function i(g,m={}){return new h.Glob(g,m).walkSync()}v(i,"globSync");async function c(g,m={}){return new h.Glob(g,m).walk()}v(c,"glob_");function a(g,m={}){return new h.Glob(g,m).iterateSync()}v(a,"globIterateSync");function d(g,m={}){return new h.Glob(g,m).iterate()}v(d,"globIterate"),e.streamSync=r,e.stream=Object.assign(s,{sync:r}),e.iterateSync=a,e.iterate=Object.assign(d,{sync:a}),e.sync=Object.assign(i,{stream:r,iterate:a}),e.glob=Object.assign(c,{glob:c,globSync:i,sync:e.sync,globStream:s,stream:e.stream,globStreamSync:r,streamSync:e.streamSync,globIterate:d,iterate:e.iterate,globIterateSync:a,iterateSync:e.iterateSync,Glob:h.Glob,hasMagic:p.hasMagic,escape:u.escape,unescape:u.unescape}),e.glob.glob=e.glob}),da=J((e,u)=>{u.exports=["0BSD","3D-Slicer-1.0","AAL","ADSL","AFL-1.1","AFL-1.2","AFL-2.0","AFL-2.1","AFL-3.0","AGPL-1.0-only","AGPL-1.0-or-later","AGPL-3.0-only","AGPL-3.0-or-later","AMD-newlib","AMDPLPA","AML","AML-glslang","AMPAS","ANTLR-PD","ANTLR-PD-fallback","APAFML","APL-1.0","APSL-1.0","APSL-1.1","APSL-1.2","APSL-2.0","ASWF-Digital-Assets-1.0","ASWF-Digital-Assets-1.1","Abstyles","AdaCore-doc","Adobe-2006","Adobe-Display-PostScript","Adobe-Glyph","Adobe-Utopia","Afmparse","Aladdin","Apache-1.0","Apache-1.1","Apache-2.0","App-s2p","Arphic-1999","Artistic-1.0","Artistic-1.0-Perl","Artistic-1.0-cl8","Artistic-2.0","Artistic-dist","Aspell-RU","BSD-1-Clause","BSD-2-Clause","BSD-2-Clause-Darwin","BSD-2-Clause-Patent","BSD-2-Clause-Views","BSD-2-Clause-first-lines","BSD-2-Clause-pkgconf-disclaimer","BSD-3-Clause","BSD-3-Clause-Attribution","BSD-3-Clause-Clear","BSD-3-Clause-HP","BSD-3-Clause-LBNL","BSD-3-Clause-Modification","BSD-3-Clause-No-Military-License","BSD-3-Clause-No-Nuclear-License","BSD-3-Clause-No-Nuclear-License-2014","BSD-3-Clause-No-Nuclear-Warranty","BSD-3-Clause-Open-MPI","BSD-3-Clause-Sun","BSD-3-Clause-acpica","BSD-3-Clause-flex","BSD-4-Clause","BSD-4-Clause-Shortened","BSD-4-Clause-UC","BSD-4.3RENO","BSD-4.3TAHOE","BSD-Advertising-Acknowledgement","BSD-Attribution-HPND-disclaimer","BSD-Inferno-Nettverk","BSD-Protection","BSD-Source-Code","BSD-Source-beginning-file","BSD-Systemics","BSD-Systemics-W3Works","BSL-1.0","BUSL-1.1","Baekmuk","Bahyph","Barr","Beerware","BitTorrent-1.0","BitTorrent-1.1","Bitstream-Charter","Bitstream-Vera","BlueOak-1.0.0","Boehm-GC","Boehm-GC-without-fee","Borceux","Brian-Gladman-2-Clause","Brian-Gladman-3-Clause","C-UDA-1.0","CAL-1.0","CAL-1.0-Combined-Work-Exception","CATOSL-1.1","CC-BY-1.0","CC-BY-2.0","CC-BY-2.5","CC-BY-2.5-AU","CC-BY-3.0","CC-BY-3.0-AT","CC-BY-3.0-AU","CC-BY-3.0-DE","CC-BY-3.0-IGO","CC-BY-3.0-NL","CC-BY-3.0-US","CC-BY-4.0","CC-BY-NC-1.0","CC-BY-NC-2.0","CC-BY-NC-2.5","CC-BY-NC-3.0","CC-BY-NC-3.0-DE","CC-BY-NC-4.0","CC-BY-NC-ND-1.0","CC-BY-NC-ND-2.0","CC-BY-NC-ND-2.5","CC-BY-NC-ND-3.0","CC-BY-NC-ND-3.0-DE","CC-BY-NC-ND-3.0-IGO","CC-BY-NC-ND-4.0","CC-BY-NC-SA-1.0","CC-BY-NC-SA-2.0","CC-BY-NC-SA-2.0-DE","CC-BY-NC-SA-2.0-FR","CC-BY-NC-SA-2.0-UK","CC-BY-NC-SA-2.5","CC-BY-NC-SA-3.0","CC-BY-NC-SA-3.0-DE","CC-BY-NC-SA-3.0-IGO","CC-BY-NC-SA-4.0","CC-BY-ND-1.0","CC-BY-ND-2.0","CC-BY-ND-2.5","CC-BY-ND-3.0","CC-BY-ND-3.0-DE","CC-BY-ND-4.0","CC-BY-SA-1.0","CC-BY-SA-2.0","CC-BY-SA-2.0-UK","CC-BY-SA-2.1-JP","CC-BY-SA-2.5","CC-BY-SA-3.0","CC-BY-SA-3.0-AT","CC-BY-SA-3.0-DE","CC-BY-SA-3.0-IGO","CC-BY-SA-4.0","CC-PDDC","CC-PDM-1.0","CC-SA-1.0","CC0-1.0","CDDL-1.0","CDDL-1.1","CDL-1.0","CDLA-Permissive-1.0","CDLA-Permissive-2.0","CDLA-Sharing-1.0","CECILL-1.0","CECILL-1.1","CECILL-2.0","CECILL-2.1","CECILL-B","CECILL-C","CERN-OHL-1.1","CERN-OHL-1.2","CERN-OHL-P-2.0","CERN-OHL-S-2.0","CERN-OHL-W-2.0","CFITSIO","CMU-Mach","CMU-Mach-nodoc","CNRI-Jython","CNRI-Python","CNRI-Python-GPL-Compatible","COIL-1.0","CPAL-1.0","CPL-1.0","CPOL-1.02","CUA-OPL-1.0","Caldera","Caldera-no-preamble","Catharon","ClArtistic","Clips","Community-Spec-1.0","Condor-1.1","Cornell-Lossless-JPEG","Cronyx","Crossword","CryptoSwift","CrystalStacker","Cube","D-FSL-1.0","DEC-3-Clause","DL-DE-BY-2.0","DL-DE-ZERO-2.0","DOC","DRL-1.0","DRL-1.1","DSDP","DocBook-DTD","DocBook-Schema","DocBook-Stylesheet","DocBook-XML","Dotseqn","ECL-1.0","ECL-2.0","EFL-1.0","EFL-2.0","EPICS","EPL-1.0","EPL-2.0","EUDatagrid","EUPL-1.0","EUPL-1.1","EUPL-1.2","Elastic-2.0","Entessa","ErlPL-1.1","Eurosym","FBM","FDK-AAC","FSFAP","FSFAP-no-warranty-disclaimer","FSFUL","FSFULLR","FSFULLRSD","FSFULLRWD","FSL-1.1-ALv2","FSL-1.1-MIT","FTL","Fair","Ferguson-Twofish","Frameworx-1.0","FreeBSD-DOC","FreeImage","Furuseth","GCR-docs","GD","GFDL-1.1-invariants-only","GFDL-1.1-invariants-or-later","GFDL-1.1-no-invariants-only","GFDL-1.1-no-invariants-or-later","GFDL-1.1-only","GFDL-1.1-or-later","GFDL-1.2-invariants-only","GFDL-1.2-invariants-or-later","GFDL-1.2-no-invariants-only","GFDL-1.2-no-invariants-or-later","GFDL-1.2-only","GFDL-1.2-or-later","GFDL-1.3-invariants-only","GFDL-1.3-invariants-or-later","GFDL-1.3-no-invariants-only","GFDL-1.3-no-invariants-or-later","GFDL-1.3-only","GFDL-1.3-or-later","GL2PS","GLWTPL","GPL-1.0-only","GPL-1.0-or-later","GPL-2.0-only","GPL-2.0-or-later","GPL-3.0-only","GPL-3.0-or-later","Game-Programming-Gems","Giftware","Glide","Glulxe","Graphics-Gems","Gutmann","HDF5","HIDAPI","HP-1986","HP-1989","HPND","HPND-DEC","HPND-Fenneberg-Livingston","HPND-INRIA-IMAG","HPND-Intel","HPND-Kevlin-Henney","HPND-MIT-disclaimer","HPND-Markus-Kuhn","HPND-Netrek","HPND-Pbmplus","HPND-UC","HPND-UC-export-US","HPND-doc","HPND-doc-sell","HPND-export-US","HPND-export-US-acknowledgement","HPND-export-US-modify","HPND-export2-US","HPND-merchantability-variant","HPND-sell-MIT-disclaimer-xserver","HPND-sell-regexpr","HPND-sell-variant","HPND-sell-variant-MIT-disclaimer","HPND-sell-variant-MIT-disclaimer-rev","HTMLTIDY","HaskellReport","Hippocratic-2.1","IBM-pibs","ICU","IEC-Code-Components-EULA","IJG","IJG-short","IPA","IPL-1.0","ISC","ISC-Veillard","ImageMagick","Imlib2","Info-ZIP","Inner-Net-2.0","InnoSetup","Intel","Intel-ACPI","Interbase-1.0","JPL-image","JPNIC","JSON","Jam","JasPer-2.0","Kastrup","Kazlib","Knuth-CTAN","LAL-1.2","LAL-1.3","LGPL-2.0-only","LGPL-2.0-or-later","LGPL-2.1-only","LGPL-2.1-or-later","LGPL-3.0-only","LGPL-3.0-or-later","LGPLLR","LOOP","LPD-document","LPL-1.0","LPL-1.02","LPPL-1.0","LPPL-1.1","LPPL-1.2","LPPL-1.3a","LPPL-1.3c","LZMA-SDK-9.11-to-9.20","LZMA-SDK-9.22","Latex2e","Latex2e-translated-notice","Leptonica","LiLiQ-P-1.1","LiLiQ-R-1.1","LiLiQ-Rplus-1.1","Libpng","Linux-OpenIB","Linux-man-pages-1-para","Linux-man-pages-copyleft","Linux-man-pages-copyleft-2-para","Linux-man-pages-copyleft-var","Lucida-Bitmap-Fonts","MIPS","MIT","MIT-0","MIT-CMU","MIT-Click","MIT-Festival","MIT-Khronos-old","MIT-Modern-Variant","MIT-Wu","MIT-advertising","MIT-enna","MIT-feh","MIT-open-group","MIT-testregex","MITNFA","MMIXware","MPEG-SSG","MPL-1.0","MPL-1.1","MPL-2.0","MPL-2.0-no-copyleft-exception","MS-LPL","MS-PL","MS-RL","MTLL","Mackerras-3-Clause","Mackerras-3-Clause-acknowledgment","MakeIndex","Martin-Birgmeier","McPhee-slideshow","Minpack","MirOS","Motosoto","MulanPSL-1.0","MulanPSL-2.0","Multics","Mup","NAIST-2003","NASA-1.3","NBPL-1.0","NCBI-PD","NCGL-UK-2.0","NCL","NCSA","NGPL","NICTA-1.0","NIST-PD","NIST-PD-fallback","NIST-Software","NLOD-1.0","NLOD-2.0","NLPL","NOSL","NPL-1.0","NPL-1.1","NPOSL-3.0","NRL","NTIA-PD","NTP","NTP-0","Naumen","NetCDF","Newsletr","Nokia","Noweb","O-UDA-1.0","OAR","OCCT-PL","OCLC-2.0","ODC-By-1.0","ODbL-1.0","OFFIS","OFL-1.0","OFL-1.0-RFN","OFL-1.0-no-RFN","OFL-1.1","OFL-1.1-RFN","OFL-1.1-no-RFN","OGC-1.0","OGDL-Taiwan-1.0","OGL-Canada-2.0","OGL-UK-1.0","OGL-UK-2.0","OGL-UK-3.0","OGTSL","OLDAP-1.1","OLDAP-1.2","OLDAP-1.3","OLDAP-1.4","OLDAP-2.0","OLDAP-2.0.1","OLDAP-2.1","OLDAP-2.2","OLDAP-2.2.1","OLDAP-2.2.2","OLDAP-2.3","OLDAP-2.4","OLDAP-2.5","OLDAP-2.6","OLDAP-2.7","OLDAP-2.8","OLFL-1.3","OML","OPL-1.0","OPL-UK-3.0","OPUBL-1.0","OSET-PL-2.1","OSL-1.0","OSL-1.1","OSL-2.0","OSL-2.1","OSL-3.0","OpenPBS-2.3","OpenSSL","OpenSSL-standalone","OpenVision","PADL","PDDL-1.0","PHP-3.0","PHP-3.01","PPL","PSF-2.0","Parity-6.0.0","Parity-7.0.0","Pixar","Plexus","PolyForm-Noncommercial-1.0.0","PolyForm-Small-Business-1.0.0","PostgreSQL","Python-2.0","Python-2.0.1","QPL-1.0","QPL-1.0-INRIA-2004","Qhull","RHeCos-1.1","RPL-1.1","RPL-1.5","RPSL-1.0","RSA-MD","RSCPL","Rdisc","Ruby","Ruby-pty","SAX-PD","SAX-PD-2.0","SCEA","SGI-B-1.0","SGI-B-1.1","SGI-B-2.0","SGI-OpenGL","SGP4","SHL-0.5","SHL-0.51","SISSL","SISSL-1.2","SL","SMAIL-GPL","SMLNJ","SMPPL","SNIA","SOFA","SPL-1.0","SSH-OpenSSH","SSH-short","SSLeay-standalone","SSPL-1.0","SUL-1.0","SWL","Saxpath","SchemeReport","Sendmail","Sendmail-8.23","Sendmail-Open-Source-1.1","SimPL-2.0","Sleepycat","Soundex","Spencer-86","Spencer-94","Spencer-99","SugarCRM-1.1.3","Sun-PPP","Sun-PPP-2000","SunPro","Symlinks","TAPR-OHL-1.0","TCL","TCP-wrappers","TGPPL-1.0","TMate","TORQUE-1.1","TOSL","TPDL","TPL-1.0","TTWL","TTYP0","TU-Berlin-1.0","TU-Berlin-2.0","TermReadKey","ThirdEye","TrustedQSL","UCAR","UCL-1.0","UMich-Merit","UPL-1.0","URT-RLE","Ubuntu-font-1.0","Unicode-3.0","Unicode-DFS-2015","Unicode-DFS-2016","Unicode-TOU","UnixCrypt","Unlicense","Unlicense-libtelnet","Unlicense-libwhirlpool","VOSTROM","VSL-1.0","Vim","W3C","W3C-19980720","W3C-20150513","WTFPL","Watcom-1.0","Widget-Workshop","Wsuipa","X11","X11-distribute-modifications-variant","X11-swapped","XFree86-1.1","XSkat","Xdebug-1.03","Xerox","Xfig","Xnet","YPL-1.0","YPL-1.1","ZPL-1.1","ZPL-2.0","ZPL-2.1","Zed","Zeeff","Zend-2.0","Zimbra-1.3","Zimbra-1.4","Zlib","any-OSI","any-OSI-perl-modules","bcrypt-Solar-Designer","blessing","bzip2-1.0.6","check-cvs","checkmk","copyleft-next-0.3.0","copyleft-next-0.3.1","curl","cve-tou","diffmark","dtoa","dvipdfm","eGenix","etalab-2.0","fwlw","gSOAP-1.3b","generic-xts","gnuplot","gtkbook","hdparm","iMatix","jove","libpng-1.6.35","libpng-2.0","libselinux-1.0","libtiff","libutil-David-Nugent","lsof","magaz","mailprio","man2html","metamail","mpi-permissive","mpich2","mplus","ngrep","pkgconf","pnmstitch","psfrag","psutils","python-ldap","radvd","snprintf","softSurfer","ssh-keyscan","swrule","threeparttable","ulem","w3m","wwl","xinetd","xkeyboard-config-Zinoviev","xlock","xpp","xzoom","zlib-acknowledgement"]}),nd=J((e,u)=>{u.exports=["AGPL-1.0","AGPL-3.0","BSD-2-Clause-FreeBSD","BSD-2-Clause-NetBSD","GFDL-1.1","GFDL-1.2","GFDL-1.3","GPL-1.0","GPL-2.0","GPL-2.0-with-GCC-exception","GPL-2.0-with-autoconf-exception","GPL-2.0-with-bison-exception","GPL-2.0-with-classpath-exception","GPL-2.0-with-font-exception","GPL-3.0","GPL-3.0-with-GCC-exception","GPL-3.0-with-autoconf-exception","LGPL-2.0","LGPL-2.1","LGPL-3.0","Net-SNMP","Nunit","StandardML-NJ","bzip2-1.0.5","eCos-2.0","wxWindows"]}),od=J((e,u)=>{u.exports=["389-exception","Asterisk-exception","Autoconf-exception-2.0","Autoconf-exception-3.0","Autoconf-exception-generic","Autoconf-exception-generic-3.0","Autoconf-exception-macro","Bison-exception-1.24","Bison-exception-2.2","Bootloader-exception","Classpath-exception-2.0","CLISP-exception-2.0","cryptsetup-OpenSSL-exception","DigiRule-FOSS-exception","eCos-exception-2.0","Fawkes-Runtime-exception","FLTK-exception","fmt-exception","Font-exception-2.0","freertos-exception-2.0","GCC-exception-2.0","GCC-exception-2.0-note","GCC-exception-3.1","Gmsh-exception","GNAT-exception","GNOME-examples-exception","GNU-compiler-exception","gnu-javamail-exception","GPL-3.0-interface-exception","GPL-3.0-linking-exception","GPL-3.0-linking-source-exception","GPL-CC-1.0","GStreamer-exception-2005","GStreamer-exception-2008","i2p-gpl-java-exception","KiCad-libraries-exception","LGPL-3.0-linking-exception","libpri-OpenH323-exception","Libtool-exception","Linux-syscall-note","LLGPL","LLVM-exception","LZMA-exception","mif-exception","OCaml-LGPL-linking-exception","OCCT-exception-1.0","OpenJDK-assembly-exception-1.0","openvpn-openssl-exception","PS-or-PDF-font-exception-20170817","QPL-1.0-INRIA-2004-exception","Qt-GPL-exception-1.0","Qt-LGPL-exception-1.1","Qwt-exception-1.0","SANE-exception","SHL-2.0","SHL-2.1","stunnel-exception","SWI-exception","Swift-exception","Texinfo-exception","u-boot-exception-2.0","UBDL-exception","Universal-FOSS-exception-1.0","vsftpd-openssl-exception","WxWindows-exception-3.1","x11vnc-openssl-exception"]}),ad=J((e,u)=>{"use strict";var h=[].concat(da()).concat(nd()),p=od();u.exports=function(o){var l=0;function n(){return l<o.length}v(n,"hasMore");function t(S){if(S instanceof RegExp){var b=o.slice(l),E=b.match(S);if(E)return l+=E[0].length,E[0]}else if(o.indexOf(S,l)===l)return l+=S.length,S}v(t,"read");function r(){t(/[ ]*/)}v(r,"skipWhitespace");function s(){for(var S,b=["WITH","AND","OR","(",")",":","+"],E=0;E<b.length&&(S=t(b[E]),!S);E++);if(S==="+"&&l>1&&o[l-2]===" ")throw new Error("Space before `+`");return S&&{type:"OPERATOR",string:S}}v(s,"operator");function i(){return t(/[A-Za-z0-9-.]+/)}v(i,"idstring");function c(){var S=i();if(!S)throw new Error("Expected idstring at offset "+l);return S}v(c,"expectIdstring");function a(){if(t("DocumentRef-")){var S=c();return{type:"DOCUMENTREF",string:S}}}v(a,"documentRef");function d(){if(t("LicenseRef-")){var S=c();return{type:"LICENSEREF",string:S}}}v(d,"licenseRef");function g(){var S=l,b=i();if(h.indexOf(b)!==-1)return{type:"LICENSE",string:b};if(p.indexOf(b)!==-1)return{type:"EXCEPTION",string:b};l=S}v(g,"identifier");function m(){return s()||a()||d()||g()}v(m,"parseToken");for(var f=[];n()&&(r(),!!n());){var y=m();if(!y)throw new Error("Unexpected `"+o[l]+"` at offset "+l);f.push(y)}return f}}),ld=J((e,u)=>{"use strict";u.exports=function(h){var p=0;function o(){return p<h.length}v(o,"hasMore");function l(){return o()?h[p]:null}v(l,"token");function n(){if(!o())throw new Error;p++}v(n,"next");function t(y){var S=l();if(S&&S.type==="OPERATOR"&&y===S.string)return n(),S.string}v(t,"parseOperator");function r(){if(t("WITH")){var y=l();if(y&&y.type==="EXCEPTION")return n(),y.string;throw new Error("Expected exception after `WITH`")}}v(r,"parseWith");function s(){var y=p,S="",b=l();if(b.type==="DOCUMENTREF"&&(n(),S+="DocumentRef-"+b.string+":",!t(":")))throw new Error("Expected `:` after `DocumentRef-...`");if(b=l(),b.type==="LICENSEREF")return n(),S+="LicenseRef-"+b.string,{license:S};p=y}v(s,"parseLicenseRef");function i(){var y=l();if(y&&y.type==="LICENSE"){n();var S={license:y.string};t("+")&&(S.plus=!0);var b=r();return b&&(S.exception=b),S}}v(i,"parseLicense");function c(){var y=t("(");if(y){var S=m();if(!t(")"))throw new Error("Expected `)`");return S}}v(c,"parseParenthesizedExpression");function a(){return c()||s()||i()}v(a,"parseAtom");function d(y,S){return v(function b(){var E=S();if(E){if(!t(y))return E;var _=b();if(!_)throw new Error("Expected expression");return{left:E,conjunction:y.toLowerCase(),right:_}}},"parseBinaryOp")}v(d,"makeBinaryOpParser");var g=d("AND",a),m=d("OR",g),f=m();if(!f||o())throw new Error("Syntax error");return f}}),fa=J((e,u)=>{"use strict";var h=ad(),p=ld();u.exports=function(o){return p(h(o))}}),cd=J((e,u)=>{var h=fa(),p=da();function o(b){try{return h(b),!0}catch{return!1}}v(o,"valid");function l(b,E){var _=E[0].length-b[0].length;return _!==0?_:b[0].toUpperCase().localeCompare(E[0].toUpperCase())}v(l,"sortTranspositions");var n=[["APGL","AGPL"],["Gpl","GPL"],["GLP","GPL"],["APL","Apache"],["ISD","ISC"],["GLP","GPL"],["IST","ISC"],["Claude","Clause"],[" or later","+"],[" International",""],["GNU","GPL"],["GUN","GPL"],["+",""],["GNU GPL","GPL"],["GNU LGPL","LGPL"],["GNU/GPL","GPL"],["GNU GLP","GPL"],["GNU LESSER GENERAL PUBLIC LICENSE","LGPL"],["GNU Lesser General Public License","LGPL"],["GNU LESSER GENERAL PUBLIC LICENSE","LGPL-2.1"],["GNU Lesser General Public License","LGPL-2.1"],["LESSER GENERAL PUBLIC LICENSE","LGPL"],["Lesser General Public License","LGPL"],["LESSER GENERAL PUBLIC LICENSE","LGPL-2.1"],["Lesser General Public License","LGPL-2.1"],["GNU General Public License","GPL"],["Gnu public license","GPL"],["GNU Public License","GPL"],["GNU GENERAL PUBLIC LICENSE","GPL"],["MTI","MIT"],["Mozilla Public License","MPL"],["Universal Permissive License","UPL"],["WTH","WTF"],["WTFGPL","WTFPL"],["-License",""]].sort(l),t=0,r=1,s=[function(b){return b.toUpperCase()},function(b){return b.trim()},function(b){return b.replace(/\./g,"")},function(b){return b.replace(/\s+/g,"")},function(b){return b.replace(/\s+/g,"-")},function(b){return b.replace("v","-")},function(b){return b.replace(/,?\s*(\d)/,"-$1")},function(b){return b.replace(/,?\s*(\d)/,"-$1.0")},function(b){return b.replace(/,?\s*(V\.|v\.|V|v|Version|version)\s*(\d)/,"-$2")},function(b){return b.replace(/,?\s*(V\.|v\.|V|v|Version|version)\s*(\d)/,"-$2.0")},function(b){return b[0].toUpperCase()+b.slice(1)},function(b){return b.replace("/","-")},function(b){return b.replace(/\s*V\s*(\d)/,"-$1").replace(/(\d)$/,"$1.0")},function(b){return b.indexOf("3.0")!==-1?b+"-or-later":b+"-only"},function(b){return b+"only"},function(b){return b.replace(/(\d)$/,"-$1.0")},function(b){return b.replace(/(-| )?(\d)$/,"-$2-Clause")},function(b){return b.replace(/(-| )clause(-| )(\d)/,"-$3-Clause")},function(b){return b.replace(/\b(Modified|New|Revised)(-| )?BSD((-| )License)?/i,"BSD-3-Clause")},function(b){return b.replace(/\bSimplified(-| )?BSD((-| )License)?/i,"BSD-2-Clause")},function(b){return b.replace(/\b(Free|Net)(-| )?BSD((-| )License)?/i,"BSD-2-Clause-$1BSD")},function(b){return b.replace(/\bClear(-| )?BSD((-| )License)?/i,"BSD-3-Clause-Clear")},function(b){return b.replace(/\b(Old|Original)(-| )?BSD((-| )License)?/i,"BSD-4-Clause")},function(b){return"CC-"+b},function(b){return"CC-"+b+"-4.0"},function(b){return b.replace("Attribution","BY").replace("NonCommercial","NC").replace("NoDerivatives","ND").replace(/ (\d)/,"-$1").replace(/ ?International/,"")},function(b){return"CC-"+b.replace("Attribution","BY").replace("NonCommercial","NC").replace("NoDerivatives","ND").replace(/ (\d)/,"-$1").replace(/ ?International/,"")+"-4.0"}],i=p.map(function(b){var E=/^(.*)-\d+\.\d+$/.exec(b);return E?[E[0],E[1]]:[b,null]}).reduce(function(b,E){var _=E[1];return b[_]=b[_]||[],b[_].push(E[0]),b},{}),c=Object.keys(i).map(v(function(b){return[b,i[b]]},"makeEntries")).filter(v(function(b){return b[1].length===1&&b[0]!==null&&b[0]!=="APL"},"identifySoleVersions")).map(v(function(b){return[b[0],b[1][0]]},"createLastResorts"));i=void 0;var a=[["UNLI","Unlicense"],["WTF","WTFPL"],["2 CLAUSE","BSD-2-Clause"],["2-CLAUSE","BSD-2-Clause"],["3 CLAUSE","BSD-3-Clause"],["3-CLAUSE","BSD-3-Clause"],["AFFERO","AGPL-3.0-or-later"],["AGPL","AGPL-3.0-or-later"],["APACHE","Apache-2.0"],["ARTISTIC","Artistic-2.0"],["Affero","AGPL-3.0-or-later"],["BEER","Beerware"],["BOOST","BSL-1.0"],["BSD","BSD-2-Clause"],["CDDL","CDDL-1.1"],["ECLIPSE","EPL-1.0"],["FUCK","WTFPL"],["GNU","GPL-3.0-or-later"],["LGPL","LGPL-3.0-or-later"],["GPLV1","GPL-1.0-only"],["GPL-1","GPL-1.0-only"],["GPLV2","GPL-2.0-only"],["GPL-2","GPL-2.0-only"],["GPL","GPL-3.0-or-later"],["MIT +NO-FALSE-ATTRIBS","MITNFA"],["MIT","MIT"],["MPL","MPL-2.0"],["X11","X11"],["ZLIB","Zlib"]].concat(c).sort(l),d=0,g=1,m=v(function(b){for(var E=0;E<s.length;E++){var _=s[E](b).trim();if(_!==b&&o(_))return _}return null},"validTransformation"),f=v(function(b){for(var E=b.toUpperCase(),_=0;_<a.length;_++){var w=a[_];if(E.indexOf(w[d])>-1)return w[g]}return null},"validLastResort"),y=v(function(b,E){for(var _=0;_<n.length;_++){var w=n[_],O=w[t];if(b.indexOf(O)>-1){var R=b.replace(O,w[r]),I=E(R);if(I!==null)return I}}return null},"anyCorrection");u.exports=function(b,E){E=E||{};var _=E.upgrade===void 0?!0:!!E.upgrade;function w(P){return _?S(P):P}v(w,"postprocess");var O=typeof b=="string"&&b.trim().length!==0;if(!O)throw Error("Invalid argument. Expected non-empty string.");if(b=b.trim(),o(b))return w(b);var R=b.replace(/\+$/,"").trim();if(o(R))return w(R);var I=m(b);return I!==null||(I=y(b,function(P){return o(P)?P:m(P)}),I!==null)||(I=f(b),I!==null)||(I=y(b,f),I!==null)?w(I):null};function S(b){return["GPL-1.0","LGPL-1.0","AGPL-1.0","GPL-2.0","LGPL-2.0","AGPL-2.0","LGPL-2.1"].indexOf(b)!==-1?b+"-only":["GPL-1.0+","GPL-2.0+","GPL-3.0+","LGPL-2.0+","LGPL-2.1+","LGPL-3.0+","AGPL-1.0+","AGPL-3.0+"].indexOf(b)!==-1?b.replace(/\+$/,"-or-later"):["GPL-3.0","LGPL-3.0","AGPL-3.0"].indexOf(b)!==-1?b+"-or-later":b}v(S,"upgradeGPLs")}),ud=J((e,u)=>{var h=fa(),p=cd(),o='license should be a valid SPDX license expression (without "LicenseRef"), "UNLICENSED", or "SEE LICENSE IN <filename>"',l=/^SEE LICEN[CS]E IN (.+)$/;function n(r,s){return s.slice(0,r.length)===r}v(n,"startsWith");function t(r){if(r.hasOwnProperty("license")){var s=r.license;return n("LicenseRef",s)||n("DocumentRef",s)}else return t(r.left)||t(r.right)}v(t,"usesLicenseRef"),u.exports=function(r){var s;try{s=h(r)}catch{var i;if(r==="UNLICENSED"||r==="UNLICENCED")return{validForOldPackages:!0,validForNewPackages:!0,unlicensed:!0};if(i=l.exec(r))return{validForOldPackages:!0,validForNewPackages:!0,inFile:i[1]};var c={validForOldPackages:!1,validForNewPackages:!1,warnings:[o]};if(r.trim().length!==0){var a=p(r);a&&c.warnings.push('license is similar to the valid expression "'+a+'"')}return c}return t(s)?{validForNewPackages:!1,validForOldPackages:!1,spdx:!0,warnings:[o]}:{validForNewPackages:!0,validForOldPackages:!0,spdx:!0}}}),hd=J((e,u)=>{var{URL:h}=require("url"),p=ai(),o=ud(),l={dependancies:"dependencies",dependecies:"dependencies",depdenencies:"dependencies",devEependencies:"devDependencies",depends:"dependencies","dev-dependencies":"devDependencies",devDependences:"devDependencies",devDepenencies:"devDependencies",devdependencies:"devDependencies",repostitory:"repository",repo:"repository",prefereGlobal:"preferGlobal",hompage:"homepage",hampage:"homepage",autohr:"author",autor:"author",contributers:"contributors",publicationConfig:"publishConfig",script:"scripts"},n=v(i=>i.includes("@")&&i.indexOf("@")<i.lastIndexOf("."),"isEmail");function t(i){let c=i.trim().split(`
`),a=0;for(;c[a]?.trim().match(/^(#|$)/);)a++;let d=a+1;for(;d<c.length&&c[d].trim();)d++;return c.slice(a,d).join(" ").trim()}v(t,"extractDescription");function r(i){if(typeof i!="string"){let m=i.name||"",f=i.url||i.web,y=f?" ("+f+")":"",S=i.email||i.mail,b=S?" <"+S+">":"";i=m+b+y}let c=i.match(/^([^(<]+)/),a=i.match(/\(([^()]+)\)/),d=i.match(/<([^<>]+)>/),g={};return c?.[0].trim()&&(g.name=c[0].trim()),d&&(g.email=d[1]),a&&(g.url=a[1]),g}v(r,"stringifyPerson");function s(i,c){i.description&&typeof i.description!="string"&&(c?.push("'description' field should be a string"),delete i.description),i.readme&&!i.description&&i.readme!=="ERROR: No README data found!"&&(i.description=t(i.readme)),i.description===void 0&&delete i.description,i.description||c?.push("No description"),i.modules&&(c?.push("modules field is deprecated"),delete i.modules);let a=i.files;if(a&&!Array.isArray(a)?(c?.push("Invalid 'files' member"),delete i.files):i.files&&(i.files=i.files.filter(function(f){return!f||typeof f!="string"?(c?.push(`Invalid filename in 'files' list: ${f}`),!1):!0})),i.man&&typeof i.man=="string"&&(i.man=[i.man]),!i.bugs&&i.repository?.url){let f=p.fromUrl(i.repository.url);f&&f.bugs()&&(i.bugs={url:f.bugs()})}else if(i.bugs){if(typeof i.bugs=="string")n(i.bugs)?i.bugs={email:i.bugs}:h.canParse(i.bugs)?i.bugs={url:i.bugs}:c?.push("Bug string field must be url, email, or {email,url}");else{for(let y in i.bugs)["web","name"].includes(y)&&(c?.push(`bugs['${y}'] should probably be bugs['url'].`),i.bugs.url=i.bugs[y],delete i.bugs[y]);let f=i.bugs;i.bugs={},f.url&&(h.canParse(f.url)?i.bugs.url=f.url:c?.push("bugs.url field must be a string url. Deleted.")),f.email&&(typeof f.email=="string"&&n(f.email)?i.bugs.email=f.email:c?.push("bugs.email field must be a string email. Deleted."))}!i.bugs.email&&!i.bugs.url&&(delete i.bugs,c?.push("Normalized value of bugs field is an empty object. Deleted."))}typeof i.keywords=="string"&&(i.keywords=i.keywords.split(/,\s+/)),i.keywords&&!Array.isArray(i.keywords)?(delete i.keywords,c?.push("keywords should be an array of strings")):i.keywords&&(i.keywords=i.keywords.filter(function(f){return typeof f!="string"||!f?(c?.push("keywords should be an array of strings"),!1):!0}));let d="bundledDependencies",g="bundleDependencies";if(i[d]&&!i[g]&&(i[g]=i[d],delete i[d]),i[g]&&!Array.isArray(i[g])?(c?.push("Invalid 'bundleDependencies' list. Must be array of package names"),delete i[g]):i[g]&&(i[g]=i[g].filter(function(f){return!f||typeof f!="string"?(c?.push(`Invalid bundleDependencies member: ${f}`),!1):(i.dependencies||(i.dependencies={}),Object.prototype.hasOwnProperty.call(i.dependencies,f)||(c?.push(`Non-dependency in bundleDependencies: ${f}`),i.dependencies[f]="*"),!0)})),!i.homepage&&i.repository&&i.repository.url){let f=p.fromUrl(i.repository.url);f&&(i.homepage=f.docs())}i.homepage&&(typeof i.homepage!="string"?(c?.push("homepage field must be a string url. Deleted."),delete i.homepage):h.canParse(i.homepage)||(i.homepage="http://"+i.homepage)),i.readme||(c?.push("No README data"),i.readme="ERROR: No README data found!");let m=i.license||i.licence;m?typeof m!="string"||m.length<1||m.trim()===""?c?.push("license should be a valid SPDX license expression"):o(m).validForNewPackages||c?.push("license should be a valid SPDX license expression"):c?.push("No license field."),i.author&&(i.author=r(i.author)),["maintainers","contributors"].forEach(function(f){Array.isArray(i[f])&&(i[f]=i[f].map(r))});for(let f in l)Object.prototype.hasOwnProperty.call(i,f)&&c?.push(`${f} should probably be ${l[f]}.`)}v(s,"normalizeData"),u.exports={normalizeData:s}}),pd=J(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.sync=e.isexe=void 0;var u=require("fs"),h=require("internal/fs/promises"),p=v(async(t,r={})=>{let{ignoreErrors:s=!1}=r;try{return l(await(0,h.stat)(t),r)}catch(i){let c=i;if(s||c.code==="EACCES")return!1;throw c}},"isexe");e.isexe=p;var o=v((t,r={})=>{let{ignoreErrors:s=!1}=r;try{return l((0,u.statSync)(t),r)}catch(i){let c=i;if(s||c.code==="EACCES")return!1;throw c}},"sync");e.sync=o;var l=v((t,r)=>t.isFile()&&n(t,r),"checkStat"),n=v((t,r)=>{let s=r.uid??process.getuid?.(),i=r.groups??process.getgroups?.()??[],c=r.gid??process.getgid?.()??i[0];if(s===void 0||c===void 0)throw new Error("cannot get uid or gid");let a=new Set([c,...i]),d=t.mode,g=t.uid,m=t.gid,f=parseInt("100",8),y=parseInt("010",8),S=parseInt("001",8),b=f|y;return!!(d&S||d&y&&a.has(m)||d&f&&g===s||d&b&&s===0)},"checkMode")}),dd=J(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.sync=e.isexe=void 0;var u=require("fs"),h=require("internal/fs/promises"),p=v(async(t,r={})=>{let{ignoreErrors:s=!1}=r;try{return n(await(0,h.stat)(t),t,r)}catch(i){let c=i;if(s||c.code==="EACCES")return!1;throw c}},"isexe");e.isexe=p;var o=v((t,r={})=>{let{ignoreErrors:s=!1}=r;try{return n((0,u.statSync)(t),t,r)}catch(i){let c=i;if(s||c.code==="EACCES")return!1;throw c}},"sync");e.sync=o;var l=v((t,r)=>{let{pathExt:s=process.env.PATHEXT||""}=r,i=s.split(";");if(i.indexOf("")!==-1)return!0;for(let c=0;c<i.length;c++){let a=i[c].toLowerCase(),d=t.substring(t.length-a.length).toLowerCase();if(a&&d===a)return!0}return!1},"checkPathExt"),n=v((t,r,s)=>t.isFile()&&l(r,s),"checkStat")}),fd=J(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})}),gd=J(e=>{"use strict";var u=e&&e.__createBinding||(Object.create?function(s,i,c,a){a===void 0&&(a=c);var d=Object.getOwnPropertyDescriptor(i,c);(!d||("get"in d?!i.__esModule:d.writable||d.configurable))&&(d={enumerable:!0,get:v(function(){return i[c]},"get")}),Object.defineProperty(s,a,d)}:function(s,i,c,a){a===void 0&&(a=c),s[a]=i[c]}),h=e&&e.__setModuleDefault||(Object.create?function(s,i){Object.defineProperty(s,"default",{enumerable:!0,value:i})}:function(s,i){s.default=i}),p=e&&e.__importStar||function(s){if(s&&s.__esModule)return s;var i={};if(s!=null)for(var c in s)c!=="default"&&Object.prototype.hasOwnProperty.call(s,c)&&u(i,s,c);return h(i,s),i},o=e&&e.__exportStar||function(s,i){for(var c in s)c!=="default"&&!Object.prototype.hasOwnProperty.call(i,c)&&u(i,s,c)};Object.defineProperty(e,"__esModule",{value:!0}),e.sync=e.isexe=e.posix=e.win32=void 0;var l=p(pd());e.posix=l;var n=p(dd());e.win32=n,o(fd(),e);var t=process.env._ISEXE_TEST_PLATFORM_||process.platform,r=t==="win32"?n:l;e.isexe=r.isexe,e.sync=r.sync}),ga=J((e,u)=>{var{isexe:h,sync:p}=gd(),{join:o,delimiter:l,sep:n,posix:t}=require("path"),r=process.platform==="win32",s=new RegExp(`[${t.sep}${n===t.sep?"":n}]`.replace(/(\\)/g,"\\$1")),i=new RegExp(`^\\.${s.source}`),c=v(f=>Object.assign(new Error(`not found: ${f}`),{code:"ENOENT"}),"getNotFoundError"),a=v((f,{path:y=process.env.PATH,pathExt:S=process.env.PATHEXT,delimiter:b=l})=>{let E=f.match(s)?[""]:[...r?[process.cwd()]:[],...(y||"").split(b)];if(r){let _=S||[".EXE",".CMD",".BAT",".COM"].join(b),w=_.split(b).flatMap(O=>[O,O.toLowerCase()]);return f.includes(".")&&w[0]!==""&&w.unshift(""),{pathEnv:E,pathExt:w,pathExtExe:_}}return{pathEnv:E,pathExt:[""]}},"getPathInfo"),d=v((f,y)=>{let S=/^".*"$/.test(f)?f.slice(1,-1):f;return(!S&&i.test(y)?y.slice(0,2):"")+o(S,y)},"getPathPart"),g=v(async(f,y={})=>{let{pathEnv:S,pathExt:b,pathExtExe:E}=a(f,y),_=[];for(let w of S){let O=d(w,f);for(let R of b){let I=O+R;if(await h(I,{pathExt:E,ignoreErrors:!0})){if(!y.all)return I;_.push(I)}}}if(y.all&&_.length)return _;if(y.nothrow)return null;throw c(f)},"which"),m=v((f,y={})=>{let{pathEnv:S,pathExt:b,pathExtExe:E}=a(f,y),_=[];for(let w of S){let O=d(w,f);for(let R of b){let I=O+R;if(p(I,{pathExt:E,ignoreErrors:!0})){if(!y.all)return I;_.push(I)}}}if(y.all&&_.length)return _;if(y.nothrow)return null;throw c(f)},"whichSync");u.exports=g,g.sync=m}),md=J((e,u)=>{"use strict";var h=v((o,l)=>{if(!o.length)return'""';let n;if(!/[ \t\n\v"]/.test(o))n=o;else{n='"';for(let t=0;t<=o.length;++t){let r=0;for(;o[t]==="\\";)++t,++r;if(t===o.length){n+="\\".repeat(r*2);break}o[t]==='"'?(n+="\\".repeat(r*2+1),n+=o[t]):(n+="\\".repeat(r),n+=o[t])}n+='"'}return n=n.replace(/[ !%^&()<>|"]/g,"^$&"),l&&(n=n.replace(/[ !%^&()<>|"]/g,"^$&")),n},"cmd"),p=v(o=>o.length?/[\t\n\r "#$&'()*;<>?\\`|~]/.test(o)?`'${o.replace(/'/g,"'\\''")}'`.replace(/^(?:'')+(?!$)/,"").replace(/\\'''/g,"\\'"):o:"''","sh");u.exports={cmd:h,sh:p}}),li=J((e,u)=>{"use strict";var{spawn:h}=require("internal/child_process"),p=require("os"),o=ga(),l=md(),n=v((a,d,g={},m={})=>{if(g.shell)return t(a,d,g,m);let f,y,S=new Promise((I,P)=>{f=I,y=P}),b=new Error("command failed"),E=[],_=[],w=v(I=>({cmd:a,args:d,...I,...i(E,_,g),...m}),"getResult"),O=v((I,P)=>{let L=w(P);y(Object.assign(I,L))},"rejectWithOpts"),R=h(a,d,g);return S.stdin=R.stdin,S.process=R,R.on("error",O),R.stdout&&(R.stdout.on("data",I=>E.push(I)),R.stdout.on("error",O)),R.stderr&&(R.stderr.on("data",I=>_.push(I)),R.stderr.on("error",O)),R.on("close",(I,P)=>{I||P?O(b,{code:I,signal:P}):f(w({code:I,signal:P}))}),S},"promiseSpawn"),t=v((a,d,g,m)=>{let f=g.shell;f===!0&&(f=process.platform==="win32"?process.env.ComSpec||"cmd.exe":"sh");let y={...g,shell:!1},S=[],b=a;if(/(?:^|\\)cmd(?:\.exe)?$/i.test(f)){let E=!1,_="",w=!1;for(let R=0;R<a.length;++R){let I=a.charAt(R);if(I===" "&&!w)break;_+=I,(I==='"'||I==="'")&&(w=!w)}let O;try{O=o.sync(_,{path:y.env&&c(y.env,"PATH")||process.env.PATH,pathext:y.env&&c(y.env,"PATHEXT")||process.env.PATHEXT}).toLowerCase()}catch{O=_.toLowerCase()}E=O.endsWith(".cmd")||O.endsWith(".bat");for(let R of d)b+=` ${l.cmd(R,E)}`;S.push("/d","/s","/c",b),y.windowsVerbatimArguments=!0}else{for(let E of d)b+=` ${l.sh(E)}`;S.push("-c",b)}return n(f,S,y,m)},"spawnWithShell"),r=v((a,d={},g={})=>{let m={...d,shell:!0},f=[].concat(a),y=process.platform;if(y==="linux"&&p.release().toLowerCase().includes("microsoft")&&(y="wsl",!process.env.BROWSER))return Promise.reject(new Error("Set the BROWSER environment variable to your desired browser."));let S=m.command;return S||(y==="win32"?(m.shell=process.env.ComSpec,S='start ""'):y==="wsl"?S="sensible-browser":y==="darwin"?S="open":S="xdg-open"),t(S,f,m,g)},"open");n.open=r;var s=v((a="pipe",d)=>a==="pipe"||a===null?!0:Array.isArray(a)?s(a[d],d):!1,"isPipe"),i=v((a,d,{stdioString:g=!0,stdio:m})=>{let f={stdout:null,stderr:null};return s(m,1)&&(f.stdout=Buffer.concat(a),g&&(f.stdout=f.stdout.toString().trim())),s(m,2)&&(f.stderr=Buffer.concat(d),g&&(f.stderr=f.stderr.toString().trim())),f},"stdioResult"),c=v((a,d)=>{d=d.toLowerCase();for(let g of Object.keys(a).sort())if(g.toLowerCase()===d)return a[g]},"findInObject");u.exports=n}),yd=J((e,u)=>{"use strict";function h(o,l){for(let n in l)Object.defineProperty(o,n,{value:l[n],enumerable:!0,configurable:!0});return o}v(h,"assign");function p(o,l,n){if(!o||typeof o=="string")throw new TypeError("Please pass an Error to err-code");n||(n={}),typeof l=="object"&&(n=l,l=void 0),l!=null&&(n.code=l);try{return h(o,n)}catch{n.message=o.message,n.stack=o.stack;let t=v(function(){},"ErrClass");return t.prototype=Object.create(Object.getPrototypeOf(o)),h(new t,n)}}v(p,"createError"),u.exports=p}),vd=J((e,u)=>{function h(p,o){typeof o=="boolean"&&(o={forever:o}),this._originalTimeouts=JSON.parse(JSON.stringify(p)),this._timeouts=p,this._options=o||{},this._maxRetryTime=o&&o.maxRetryTime||1/0,this._fn=null,this._errors=[],this._attempts=1,this._operationTimeout=null,this._operationTimeoutCb=null,this._timeout=null,this._operationStart=null,this._options.forever&&(this._cachedTimeouts=this._timeouts.slice(0))}v(h,"RetryOperation"),u.exports=h,h.prototype.reset=function(){this._attempts=1,this._timeouts=this._originalTimeouts},h.prototype.stop=function(){this._timeout&&clearTimeout(this._timeout),this._timeouts=[],this._cachedTimeouts=null},h.prototype.retry=function(p){if(this._timeout&&clearTimeout(this._timeout),!p)return!1;var o=new Date().getTime();if(p&&o-this._operationStart>=this._maxRetryTime)return this._errors.unshift(new Error("RetryOperation timeout occurred")),!1;this._errors.push(p);var l=this._timeouts.shift();if(l===void 0)if(this._cachedTimeouts)this._errors.splice(this._errors.length-1,this._errors.length),this._timeouts=this._cachedTimeouts.slice(0),l=this._timeouts.shift();else return!1;var n=this,t=setTimeout(function(){n._attempts++,n._operationTimeoutCb&&(n._timeout=setTimeout(function(){n._operationTimeoutCb(n._attempts)},n._operationTimeout),n._options.unref&&n._timeout.unref()),n._fn(n._attempts)},l);return this._options.unref&&t.unref(),!0},h.prototype.attempt=function(p,o){this._fn=p,o&&(o.timeout&&(this._operationTimeout=o.timeout),o.cb&&(this._operationTimeoutCb=o.cb));var l=this;this._operationTimeoutCb&&(this._timeout=setTimeout(function(){l._operationTimeoutCb()},l._operationTimeout)),this._operationStart=new Date().getTime(),this._fn(this._attempts)},h.prototype.try=function(p){this.attempt(p)},h.prototype.start=function(p){this.attempt(p)},h.prototype.start=h.prototype.try,h.prototype.errors=function(){return this._errors},h.prototype.attempts=function(){return this._attempts},h.prototype.mainError=function(){if(this._errors.length===0)return null;for(var p={},o=null,l=0,n=0;n<this._errors.length;n++){var t=this._errors[n],r=t.message,s=(p[r]||0)+1;p[r]=s,s>=l&&(o=t,l=s)}return o}}),Sd=J(e=>{var u=vd();e.operation=function(h){var p=e.timeouts(h);return new u(p,{forever:h&&h.forever,unref:h&&h.unref,maxRetryTime:h&&h.maxRetryTime})},e.timeouts=function(h){if(h instanceof Array)return[].concat(h);var p={retries:10,factor:2,minTimeout:1*1e3,maxTimeout:1/0,randomize:!1};for(var o in h)p[o]=h[o];if(p.minTimeout>p.maxTimeout)throw new Error("minTimeout is greater than maxTimeout");for(var l=[],n=0;n<p.retries;n++)l.push(this.createTimeout(n,p));return h&&h.forever&&!l.length&&l.push(this.createTimeout(n,p)),l.sort(function(t,r){return t-r}),l},e.createTimeout=function(h,p){var o=p.randomize?Math.random()+1:1,l=Math.round(o*p.minTimeout*Math.pow(p.factor,h));return l=Math.min(l,p.maxTimeout),l},e.wrap=function(h,p,o){if(p instanceof Array&&(o=p,p=null),!o){o=[];for(var l in h)typeof h[l]=="function"&&o.push(l)}for(var n=0;n<o.length;n++){var t=o[n],r=h[t];h[t]=v(function(s){var i=e.operation(p),c=Array.prototype.slice.call(arguments,1),a=c.pop();c.push(function(d){i.retry(d)||(d&&(arguments[0]=i.mainError()),a.apply(this,arguments))}),i.attempt(function(){s.apply(h,c)})},"retryWrapper").bind(h,r),h[t].options=p}}}),bd=J((e,u)=>{u.exports=Sd()}),_r=J((e,u)=>{"use strict";var h=yd(),p=bd(),o=Object.prototype.hasOwnProperty;function l(t){return t&&t.code==="EPROMISERETRY"&&o.call(t,"retried")}v(l,"isRetryError");function n(t,r){var s,i;return typeof t=="object"&&typeof r=="function"&&(s=r,r=t,t=s),i=p.operation(r),new Promise(function(c,a){i.attempt(function(d){Promise.resolve().then(function(){return t(function(g){throw l(g)&&(g=g.retried),h(new Error("Retrying"),"EPROMISERETRY",{retried:g})},d)}).then(c,function(g){l(g)&&(g=g.retried,i.retry(g||new Error))||a(g)})})})}v(n,"promiseRetry"),u.exports=n}),ma=J((e,u)=>{var h=class extends Error{static{v(this,"GitError")}shouldRetry(){return!1}},p=class extends h{static{v(this,"GitConnectionError")}constructor(){super("A git connection error occurred")}shouldRetry(n){return n<3}},o=class extends h{static{v(this,"GitPathspecError")}constructor(){super("The git reference could not be found")}},l=class extends h{static{v(this,"GitUnknownError")}constructor(){super("An unknown git error occurred")}};u.exports={GitConnectionError:p,GitPathspecError:o,GitUnknownError:l}}),Ed=J((e,u)=>{var{GitConnectionError:h,GitPathspecError:p,GitUnknownError:o}=ma(),l=new RegExp(["remote error: Internal Server Error","The remote end hung up unexpectedly","Connection timed out","Operation timed out","Failed to connect to .* Timed out","Connection reset by peer","SSL_ERROR_SYSCALL","The requested URL returned error: 503"].join("|")),n=/pathspec .* did not match any file\(s\) known to git/;function t(r){let s=r.stderr,i;return l.test(s)?i=new h(s):n.test(s)?i=new p(s):i=new o(s),Object.assign(i,r)}v(t,"makeError"),u.exports=t}),_d=J((e,u)=>{var{hasOwnProperty:h}=Object.prototype,p=v((s,i={})=>{typeof i=="string"&&(i={section:i}),i.align=i.align===!0,i.newline=i.newline===!0,i.sort=i.sort===!0,i.whitespace=i.whitespace===!0||i.align===!0,i.platform=i.platform||typeof process<"u"&&process.platform,i.bracketedArray=i.bracketedArray!==!1;let c=i.platform==="win32"?`\r
`:`
`,a=i.whitespace?" = ":"=",d=[],g=i.sort?Object.keys(s).sort():Object.keys(s),m=0;i.align&&(m=t(g.filter(S=>s[S]===null||Array.isArray(s[S])||typeof s[S]!="object").map(S=>Array.isArray(s[S])?`${S}[]`:S).concat([""]).reduce((S,b)=>t(S).length>=t(b).length?S:b)).length);let f="",y=i.bracketedArray?"[]":"";for(let S of g){let b=s[S];if(b&&Array.isArray(b))for(let E of b)f+=t(`${S}${y}`).padEnd(m," ")+a+t(E)+c;else b&&typeof b=="object"?d.push(S):f+=t(S).padEnd(m," ")+a+t(b)+c}i.section&&f.length&&(f="["+t(i.section)+"]"+(i.newline?c+c:c)+f);for(let S of d){let b=o(S,".").join("\\."),E=(i.section?i.section+".":"")+b,_=p(s[S],{...i,section:E});f.length&&_.length&&(f+=c),f+=_}return f},"encode");function o(s,i){var c=0,a=0,d=0,g=[];do if(d=s.indexOf(i,c),d!==-1){if(c=d+i.length,d>0&&s[d-1]==="\\")continue;g.push(s.slice(a,d)),a=d+i.length}while(d!==-1);return g.push(s.slice(a)),g}v(o,"splitSections");var l=v((s,i={})=>{i.bracketedArray=i.bracketedArray!==!1;let c=Object.create(null),a=c,d=null,g=/^\[([^\]]*)\]\s*$|^([^=]+)(=(.*))?$/i,m=s.split(/[\r\n]+/g),f={};for(let S of m){if(!S||S.match(/^\s*[;#]/)||S.match(/^\s*$/))continue;let b=S.match(g);if(!b)continue;if(b[1]!==void 0){if(d=r(b[1]),d==="__proto__"){a=Object.create(null);continue}a=c[d]=c[d]||Object.create(null);continue}let E=r(b[2]),_;i.bracketedArray?_=E.length>2&&E.slice(-2)==="[]":(f[E]=(f?.[E]||0)+1,_=f[E]>1);let w=_&&E.endsWith("[]")?E.slice(0,-2):E;if(w==="__proto__")continue;let O=b[3]?r(b[4]):!0,R=O==="true"||O==="false"||O==="null"?JSON.parse(O):O;_&&(h.call(a,w)?Array.isArray(a[w])||(a[w]=[a[w]]):a[w]=[]),Array.isArray(a[w])?a[w].push(R):a[w]=R}let y=[];for(let S of Object.keys(c)){if(!h.call(c,S)||typeof c[S]!="object"||Array.isArray(c[S]))continue;let b=o(S,".");a=c;let E=b.pop(),_=E.replace(/\\\./g,".");for(let w of b)w!=="__proto__"&&((!h.call(a,w)||typeof a[w]!="object")&&(a[w]=Object.create(null)),a=a[w]);a===c&&_===E||(a[_]=c[S],y.push(S))}for(let S of y)delete c[S];return c},"decode"),n=v(s=>s.startsWith('"')&&s.endsWith('"')||s.startsWith("'")&&s.endsWith("'"),"isQuoted"),t=v(s=>typeof s!="string"||s.match(/[=\r\n]/)||s.match(/^\[/)||s.length>1&&n(s)||s!==s.trim()?JSON.stringify(s):s.split(";").join("\\;").split("#").join("\\#"),"safe"),r=v(s=>{if(s=(s||"").trim(),n(s)){s.charAt(0)==="'"&&(s=s.slice(1,-1));try{s=JSON.parse(s)}catch{}}else{let i=!1,c="";for(let a=0,d=s.length;a<d;a++){let g=s.charAt(a);if(i)"\\;#".indexOf(g)!==-1?c+=g:c+="\\"+g,i=!1;else{if(";#".indexOf(g)!==-1)break;g==="\\"?i=!0:c+=g}}return i&&(c+="\\"),c.trim()}return s},"unsafe");u.exports={parse:l,decode:l,stringify:p,encode:p,safe:t,unsafe:r}}),wd=J((e,u)=>{var h=require("fs"),p=require("os"),o=require("path"),l=_d(),n=o.join(p.homedir(),".gitconfig"),t=null,r=v(()=>{if(t===null)try{if(t={},h.existsSync(n)){let m=h.readFileSync(n,"utf-8");t=l.parse(m)}}catch{t={}}return t},"loadGitConfig"),s=v(()=>{let m=r();return{sshCommandSetInConfig:m?.core?.sshCommand!==void 0,askPassSetInConfig:m?.core?.askpass!==void 0}},"checkGitConfigs"),i=process.env.GIT_SSH_COMMAND!==void 0,c=process.env.GIT_ASKPASS!==void 0,{sshCommandSetInConfig:a,askPassSetInConfig:d}=s(),g={...c||d?{}:{GIT_ASKPASS:"echo"},...i||a?{}:{GIT_SSH_COMMAND:"ssh -oStrictHostKeyChecking=accept-new"}};u.exports=(m={})=>({stdioString:!0,...m,shell:!1,env:m.env||{...g,...process.env}}),u.exports.loadGitConfig=r}),Od=J((e,u)=>{var h=ga(),p;try{p=h.sync("git")}catch{}u.exports=(o={})=>o.git?o.git:!p||o.git===!1?Object.assign(new Error("No git binary found in $PATH"),{code:"ENOGIT"}):p}),wr=J((e,u)=>{var h=li(),p=_r(),{log:o}=We(),l=Ed(),n=wd();u.exports=(t,r={})=>{let s=Od()(r);if(s instanceof Error)return Promise.reject(s);let i=r.allowReplace||t[0]==="--no-replace-objects"?t:["--no-replace-objects",...t],c=r.retry;return c==null&&(c={retries:r.fetchRetries||2,factor:r.fetchRetryFactor||10,maxTimeout:r.fetchRetryMaxtimeout||6e4,minTimeout:r.fetchRetryMintimeout||1e3}),p((a,d)=>(d!==1&&o.silly("git",`Retrying git command: ${i.join(" ")} attempt # ${d}`),h(s,i,n(r)).catch(g=>{let m=l(g);if(!m.shouldRetry(d))throw m;a(m)})),c)}}),ya=J(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LRUCache=void 0;var u=typeof performance=="object"&&performance&&typeof performance.now=="function"?performance:Date,h=new Set,p=typeof process=="object"&&process?process:{},o=v((g,m,f,y)=>{typeof p.emitWarning=="function"&&p.emitWarning(g,m,f,y)},"emitWarning"),l=globalThis.AbortController,n=globalThis.AbortSignal;if(typeof l>"u"){n=class{static{v(this,"AbortSignal")}onabort;_onabort=[];reason;aborted=!1;addEventListener(f,y){this._onabort.push(y)}},l=class{static{v(this,"AbortController")}constructor(){m()}signal=new n;abort(f){if(!this.signal.aborted){this.signal.reason=f,this.signal.aborted=!0;for(let y of this.signal._onabort)y(f);this.signal.onabort?.(f)}}};let g=p.env?.LRU_CACHE_IGNORE_AC_WARNING!=="1",m=v(()=>{g&&(g=!1,o("AbortController is not defined. If using lru-cache in node 14, load an AbortController polyfill from the `node-abort-controller` package. A minimal polyfill is provided for use by LRUCache.fetch(), but it should not be relied upon in other contexts (eg, passing it to other APIs that use AbortController/AbortSignal might have undesirable effects). You may disable this with LRU_CACHE_IGNORE_AC_WARNING=1 in the env.","NO_ABORT_CONTROLLER","ENOTSUP",m))},"warnACPolyfill")}var t=v(g=>!h.has(g),"shouldWarn"),r=Symbol("type"),s=v(g=>g&&g===Math.floor(g)&&g>0&&isFinite(g),"isPosInt"),i=v(g=>s(g)?g<=Math.pow(2,8)?Uint8Array:g<=Math.pow(2,16)?Uint16Array:g<=Math.pow(2,32)?Uint32Array:g<=Number.MAX_SAFE_INTEGER?c:null:null,"getUintArray"),c=class extends Array{static{v(this,"ZeroArray")}constructor(g){super(g),this.fill(0)}},a=class Ft{static{v(this,"Stack")}heap;length;static#e=!1;static create(m){let f=i(m);if(!f)return[];Ft.#e=!0;let y=new Ft(m,f);return Ft.#e=!1,y}constructor(m,f){if(!Ft.#e)throw new TypeError("instantiate Stack using Stack.create(n)");this.heap=new f(m),this.length=0}push(m){this.heap[this.length++]=m}pop(){return this.heap[--this.length]}},d=class va{static{v(this,"LRUCache")}#e;#t;#r;#s;#i;#c;ttl;ttlResolution;ttlAutopurge;updateAgeOnGet;updateAgeOnHas;allowStale;noDisposeOnSet;noUpdateTTL;maxEntrySize;sizeCalculation;noDeleteOnFetchRejection;noDeleteOnStaleGet;allowStaleOnFetchAbort;allowStaleOnFetchRejection;ignoreFetchAbort;#l;#p;#n;#h;#o;#d;#a;#f;#y;#E;#g;#C;#b;#_;#A;#w;#S;static unsafeExposeInternals(m){return{starts:m.#b,ttls:m.#_,sizes:m.#C,keyMap:m.#n,keyList:m.#h,valList:m.#o,next:m.#d,prev:m.#a,get head(){return m.#f},get tail(){return m.#y},free:m.#E,isBackgroundFetch:v(f=>m.#v(f),"isBackgroundFetch"),backgroundFetch:v((f,y,S,b)=>m.#L(f,y,S,b),"backgroundFetch"),moveToTail:v(f=>m.#U(f),"moveToTail"),indexes:v(f=>m.#x(f),"indexes"),rindexes:v(f=>m.#N(f),"rindexes"),isStale:v(f=>m.#R(f),"isStale")}}get max(){return this.#e}get maxSize(){return this.#t}get calculatedSize(){return this.#p}get size(){return this.#l}get fetchMethod(){return this.#i}get memoMethod(){return this.#c}get dispose(){return this.#r}get disposeAfter(){return this.#s}constructor(m){let{max:f=0,ttl:y,ttlResolution:S=1,ttlAutopurge:b,updateAgeOnGet:E,updateAgeOnHas:_,allowStale:w,dispose:O,disposeAfter:R,noDisposeOnSet:I,noUpdateTTL:P,maxSize:L=0,maxEntrySize:M=0,sizeCalculation:x,fetchMethod:j,memoMethod:U,noDeleteOnFetchRejection:V,noDeleteOnStaleGet:B,allowStaleOnFetchRejection:G,allowStaleOnFetchAbort:W,ignoreFetchAbort:k}=m;if(f!==0&&!s(f))throw new TypeError("max option must be a nonnegative integer");let D=f?i(f):Array;if(!D)throw new Error("invalid max value: "+f);if(this.#e=f,this.#t=L,this.maxEntrySize=M||this.#t,this.sizeCalculation=x,this.sizeCalculation){if(!this.#t&&!this.maxEntrySize)throw new TypeError("cannot set sizeCalculation without setting maxSize or maxEntrySize");if(typeof this.sizeCalculation!="function")throw new TypeError("sizeCalculation set to non-function")}if(U!==void 0&&typeof U!="function")throw new TypeError("memoMethod must be a function if defined");if(this.#c=U,j!==void 0&&typeof j!="function")throw new TypeError("fetchMethod must be a function if specified");if(this.#i=j,this.#w=!!j,this.#n=new Map,this.#h=new Array(f).fill(void 0),this.#o=new Array(f).fill(void 0),this.#d=new D(f),this.#a=new D(f),this.#f=0,this.#y=0,this.#E=a.create(f),this.#l=0,this.#p=0,typeof O=="function"&&(this.#r=O),typeof R=="function"?(this.#s=R,this.#g=[]):(this.#s=void 0,this.#g=void 0),this.#A=!!this.#r,this.#S=!!this.#s,this.noDisposeOnSet=!!I,this.noUpdateTTL=!!P,this.noDeleteOnFetchRejection=!!V,this.allowStaleOnFetchRejection=!!G,this.allowStaleOnFetchAbort=!!W,this.ignoreFetchAbort=!!k,this.maxEntrySize!==0){if(this.#t!==0&&!s(this.#t))throw new TypeError("maxSize must be a positive integer if specified");if(!s(this.maxEntrySize))throw new TypeError("maxEntrySize must be a positive integer if specified");this.#T()}if(this.allowStale=!!w,this.noDeleteOnStaleGet=!!B,this.updateAgeOnGet=!!E,this.updateAgeOnHas=!!_,this.ttlResolution=s(S)||S===0?S:1,this.ttlAutopurge=!!b,this.ttl=y||0,this.ttl){if(!s(this.ttl))throw new TypeError("ttl must be a positive integer if specified");this.#P()}if(this.#e===0&&this.ttl===0&&this.#t===0)throw new TypeError("At least one of max, maxSize, or ttl is required");if(!this.ttlAutopurge&&!this.#e&&!this.#t){let T="LRU_CACHE_UNBOUNDED";t(T)&&(h.add(T),o("TTL caching without ttlAutopurge, max, or maxSize can result in unbounded memory consumption.","UnboundedCacheWarning",T,va))}}getRemainingTTL(m){return this.#n.has(m)?1/0:0}#P(){let m=new c(this.#e),f=new c(this.#e);this.#_=m,this.#b=f,this.#M=(b,E,_=u.now())=>{if(f[b]=E!==0?_:0,m[b]=E,E!==0&&this.ttlAutopurge){let w=setTimeout(()=>{this.#R(b)&&this.#m(this.#h[b],"expire")},E+1);w.unref&&w.unref()}},this.#O=b=>{f[b]=m[b]!==0?u.now():0},this.#u=(b,E)=>{if(m[E]){let _=m[E],w=f[E];if(!_||!w)return;b.ttl=_,b.start=w,b.now=y||S();let O=b.now-w;b.remainingTTL=_-O}};let y=0,S=v(()=>{let b=u.now();if(this.ttlResolution>0){y=b;let E=setTimeout(()=>y=0,this.ttlResolution);E.unref&&E.unref()}return b},"getNow");this.getRemainingTTL=b=>{let E=this.#n.get(b);if(E===void 0)return 0;let _=m[E],w=f[E];if(!_||!w)return 1/0;let O=(y||S())-w;return _-O},this.#R=b=>{let E=f[b],_=m[b];return!!_&&!!E&&(y||S())-E>_}}#O=v(()=>{},"#updateItemAge");#u=v(()=>{},"#statusTTL");#M=v(()=>{},"#setItemTTL");#R=v(()=>!1,"#isStale");#T(){let m=new c(this.#e);this.#p=0,this.#C=m,this.#j=f=>{this.#p-=m[f],m[f]=0},this.#F=(f,y,S,b)=>{if(this.#v(y))return 0;if(!s(S))if(b){if(typeof b!="function")throw new TypeError("sizeCalculation must be a function");if(S=b(y,f),!s(S))throw new TypeError("sizeCalculation return invalid (expect positive integer)")}else throw new TypeError("invalid size value (must be positive integer). When maxSize or maxEntrySize is used, sizeCalculation or size must be set.");return S},this.#I=(f,y,S)=>{if(m[f]=y,this.#t){let b=this.#t-m[f];for(;this.#p>b;)this.#k(!0)}this.#p+=m[f],S&&(S.entrySize=y,S.totalCalculatedSize=this.#p)}}#j=v(m=>{},"#removeItemSize");#I=v((m,f,y)=>{},"#addItemSize");#F=v((m,f,y,S)=>{if(y||S)throw new TypeError("cannot set size without setting maxSize or maxEntrySize on cache");return 0},"#requireSize");*#x({allowStale:m=this.allowStale}={}){if(this.#l)for(let f=this.#y;!(!this.#$(f)||((m||!this.#R(f))&&(yield f),f===this.#f));)f=this.#a[f]}*#N({allowStale:m=this.allowStale}={}){if(this.#l)for(let f=this.#f;!(!this.#$(f)||((m||!this.#R(f))&&(yield f),f===this.#y));)f=this.#d[f]}#$(m){return m!==void 0&&this.#n.get(this.#h[m])===m}*entries(){for(let m of this.#x())this.#o[m]!==void 0&&this.#h[m]!==void 0&&!this.#v(this.#o[m])&&(yield[this.#h[m],this.#o[m]])}*rentries(){for(let m of this.#N())this.#o[m]!==void 0&&this.#h[m]!==void 0&&!this.#v(this.#o[m])&&(yield[this.#h[m],this.#o[m]])}*keys(){for(let m of this.#x()){let f=this.#h[m];f!==void 0&&!this.#v(this.#o[m])&&(yield f)}}*rkeys(){for(let m of this.#N()){let f=this.#h[m];f!==void 0&&!this.#v(this.#o[m])&&(yield f)}}*values(){for(let m of this.#x())this.#o[m]!==void 0&&!this.#v(this.#o[m])&&(yield this.#o[m])}*rvalues(){for(let m of this.#N())this.#o[m]!==void 0&&!this.#v(this.#o[m])&&(yield this.#o[m])}[Symbol.iterator](){return this.entries()}[Symbol.toStringTag]="LRUCache";find(m,f={}){for(let y of this.#x()){let S=this.#o[y],b=this.#v(S)?S.__staleWhileFetching:S;if(b!==void 0&&m(b,this.#h[y],this))return this.get(this.#h[y],f)}}forEach(m,f=this){for(let y of this.#x()){let S=this.#o[y],b=this.#v(S)?S.__staleWhileFetching:S;b!==void 0&&m.call(f,b,this.#h[y],this)}}rforEach(m,f=this){for(let y of this.#N()){let S=this.#o[y],b=this.#v(S)?S.__staleWhileFetching:S;b!==void 0&&m.call(f,b,this.#h[y],this)}}purgeStale(){let m=!1;for(let f of this.#N({allowStale:!0}))this.#R(f)&&(this.#m(this.#h[f],"expire"),m=!0);return m}info(m){let f=this.#n.get(m);if(f===void 0)return;let y=this.#o[f],S=this.#v(y)?y.__staleWhileFetching:y;if(S===void 0)return;let b={value:S};if(this.#_&&this.#b){let E=this.#_[f],_=this.#b[f];if(E&&_){let w=E-(u.now()-_);b.ttl=w,b.start=Date.now()}}return this.#C&&(b.size=this.#C[f]),b}dump(){let m=[];for(let f of this.#x({allowStale:!0})){let y=this.#h[f],S=this.#o[f],b=this.#v(S)?S.__staleWhileFetching:S;if(b===void 0||y===void 0)continue;let E={value:b};if(this.#_&&this.#b){E.ttl=this.#_[f];let _=u.now()-this.#b[f];E.start=Math.floor(Date.now()-_)}this.#C&&(E.size=this.#C[f]),m.unshift([y,E])}return m}load(m){this.clear();for(let[f,y]of m){if(y.start){let S=Date.now()-y.start;y.start=u.now()-S}this.set(f,y.value,y)}}set(m,f,y={}){if(f===void 0)return this.delete(m),this;let{ttl:S=this.ttl,start:b,noDisposeOnSet:E=this.noDisposeOnSet,sizeCalculation:_=this.sizeCalculation,status:w}=y,{noUpdateTTL:O=this.noUpdateTTL}=y,R=this.#F(m,f,y.size||0,_);if(this.maxEntrySize&&R>this.maxEntrySize)return w&&(w.set="miss",w.maxEntrySizeExceeded=!0),this.#m(m,"set"),this;let I=this.#l===0?void 0:this.#n.get(m);if(I===void 0)I=this.#l===0?this.#y:this.#E.length!==0?this.#E.pop():this.#l===this.#e?this.#k(!1):this.#l,this.#h[I]=m,this.#o[I]=f,this.#n.set(m,I),this.#d[this.#y]=I,this.#a[I]=this.#y,this.#y=I,this.#l++,this.#I(I,R,w),w&&(w.set="add"),O=!1;else{this.#U(I);let P=this.#o[I];if(f!==P){if(this.#w&&this.#v(P)){P.__abortController.abort(new Error("replaced"));let{__staleWhileFetching:L}=P;L!==void 0&&!E&&(this.#A&&this.#r?.(L,m,"set"),this.#S&&this.#g?.push([L,m,"set"]))}else E||(this.#A&&this.#r?.(P,m,"set"),this.#S&&this.#g?.push([P,m,"set"]));if(this.#j(I),this.#I(I,R,w),this.#o[I]=f,w){w.set="replace";let L=P&&this.#v(P)?P.__staleWhileFetching:P;L!==void 0&&(w.oldValue=L)}}else w&&(w.set="update")}if(S!==0&&!this.#_&&this.#P(),this.#_&&(O||this.#M(I,S,b),w&&this.#u(w,I)),!E&&this.#S&&this.#g){let P=this.#g,L;for(;L=P?.shift();)this.#s?.(...L)}return this}pop(){try{for(;this.#l;){let m=this.#o[this.#f];if(this.#k(!0),this.#v(m)){if(m.__staleWhileFetching)return m.__staleWhileFetching}else if(m!==void 0)return m}}finally{if(this.#S&&this.#g){let m=this.#g,f;for(;f=m?.shift();)this.#s?.(...f)}}}#k(m){let f=this.#f,y=this.#h[f],S=this.#o[f];return this.#w&&this.#v(S)?S.__abortController.abort(new Error("evicted")):(this.#A||this.#S)&&(this.#A&&this.#r?.(S,y,"evict"),this.#S&&this.#g?.push([S,y,"evict"])),this.#j(f),m&&(this.#h[f]=void 0,this.#o[f]=void 0,this.#E.push(f)),this.#l===1?(this.#f=this.#y=0,this.#E.length=0):this.#f=this.#d[f],this.#n.delete(y),this.#l--,f}has(m,f={}){let{updateAgeOnHas:y=this.updateAgeOnHas,status:S}=f,b=this.#n.get(m);if(b!==void 0){let E=this.#o[b];if(this.#v(E)&&E.__staleWhileFetching===void 0)return!1;if(this.#R(b))S&&(S.has="stale",this.#u(S,b));else return y&&this.#O(b),S&&(S.has="hit",this.#u(S,b)),!0}else S&&(S.has="miss");return!1}peek(m,f={}){let{allowStale:y=this.allowStale}=f,S=this.#n.get(m);if(S===void 0||!y&&this.#R(S))return;let b=this.#o[S];return this.#v(b)?b.__staleWhileFetching:b}#L(m,f,y,S){let b=f===void 0?void 0:this.#o[f];if(this.#v(b))return b;let E=new l,{signal:_}=y;_?.addEventListener("abort",()=>E.abort(_.reason),{signal:E.signal});let w={signal:E.signal,options:y,context:S},O=v((x,j=!1)=>{let{aborted:U}=E.signal,V=y.ignoreFetchAbort&&x!==void 0;if(y.status&&(U&&!j?(y.status.fetchAborted=!0,y.status.fetchError=E.signal.reason,V&&(y.status.fetchAbortIgnored=!0)):y.status.fetchResolved=!0),U&&!V&&!j)return I(E.signal.reason);let B=L;return this.#o[f]===L&&(x===void 0?B.__staleWhileFetching?this.#o[f]=B.__staleWhileFetching:this.#m(m,"fetch"):(y.status&&(y.status.fetchUpdated=!0),this.set(m,x,w.options))),x},"cb"),R=v(x=>(y.status&&(y.status.fetchRejected=!0,y.status.fetchError=x),I(x)),"eb"),I=v(x=>{let{aborted:j}=E.signal,U=j&&y.allowStaleOnFetchAbort,V=U||y.allowStaleOnFetchRejection,B=V||y.noDeleteOnFetchRejection,G=L;if(this.#o[f]===L&&(!B||G.__staleWhileFetching===void 0?this.#m(m,"fetch"):U||(this.#o[f]=G.__staleWhileFetching)),V)return y.status&&G.__staleWhileFetching!==void 0&&(y.status.returnedStale=!0),G.__staleWhileFetching;if(G.__returned===G)throw x},"fetchFail"),P=v((x,j)=>{let U=this.#i?.(m,b,w);U&&U instanceof Promise&&U.then(V=>x(V===void 0?void 0:V),j),E.signal.addEventListener("abort",()=>{(!y.ignoreFetchAbort||y.allowStaleOnFetchAbort)&&(x(void 0),y.allowStaleOnFetchAbort&&(x=v(V=>O(V,!0),"res")))})},"pcall");y.status&&(y.status.fetchDispatched=!0);let L=new Promise(P).then(O,R),M=Object.assign(L,{__abortController:E,__staleWhileFetching:b,__returned:void 0});return f===void 0?(this.set(m,M,{...w.options,status:void 0}),f=this.#n.get(m)):this.#o[f]=M,M}#v(m){if(!this.#w)return!1;let f=m;return!!f&&f instanceof Promise&&f.hasOwnProperty("__staleWhileFetching")&&f.__abortController instanceof l}async fetch(m,f={}){let{allowStale:y=this.allowStale,updateAgeOnGet:S=this.updateAgeOnGet,noDeleteOnStaleGet:b=this.noDeleteOnStaleGet,ttl:E=this.ttl,noDisposeOnSet:_=this.noDisposeOnSet,size:w=0,sizeCalculation:O=this.sizeCalculation,noUpdateTTL:R=this.noUpdateTTL,noDeleteOnFetchRejection:I=this.noDeleteOnFetchRejection,allowStaleOnFetchRejection:P=this.allowStaleOnFetchRejection,ignoreFetchAbort:L=this.ignoreFetchAbort,allowStaleOnFetchAbort:M=this.allowStaleOnFetchAbort,context:x,forceRefresh:j=!1,status:U,signal:V}=f;if(!this.#w)return U&&(U.fetch="get"),this.get(m,{allowStale:y,updateAgeOnGet:S,noDeleteOnStaleGet:b,status:U});let B={allowStale:y,updateAgeOnGet:S,noDeleteOnStaleGet:b,ttl:E,noDisposeOnSet:_,size:w,sizeCalculation:O,noUpdateTTL:R,noDeleteOnFetchRejection:I,allowStaleOnFetchRejection:P,allowStaleOnFetchAbort:M,ignoreFetchAbort:L,status:U,signal:V},G=this.#n.get(m);if(G===void 0){U&&(U.fetch="miss");let W=this.#L(m,G,B,x);return W.__returned=W}else{let W=this.#o[G];if(this.#v(W)){let C=y&&W.__staleWhileFetching!==void 0;return U&&(U.fetch="inflight",C&&(U.returnedStale=!0)),C?W.__staleWhileFetching:W.__returned=W}let k=this.#R(G);if(!j&&!k)return U&&(U.fetch="hit"),this.#U(G),S&&this.#O(G),U&&this.#u(U,G),W;let D=this.#L(m,G,B,x),T=D.__staleWhileFetching!==void 0&&y;return U&&(U.fetch=k?"stale":"refresh",T&&k&&(U.returnedStale=!0)),T?D.__staleWhileFetching:D.__returned=D}}async forceFetch(m,f={}){let y=await this.fetch(m,f);if(y===void 0)throw new Error("fetch() returned undefined");return y}memo(m,f={}){let y=this.#c;if(!y)throw new Error("no memoMethod provided to constructor");let{context:S,forceRefresh:b,...E}=f,_=this.get(m,E);if(!b&&_!==void 0)return _;let w=y(m,_,{options:E,context:S});return this.set(m,w,E),w}get(m,f={}){let{allowStale:y=this.allowStale,updateAgeOnGet:S=this.updateAgeOnGet,noDeleteOnStaleGet:b=this.noDeleteOnStaleGet,status:E}=f,_=this.#n.get(m);if(_!==void 0){let w=this.#o[_],O=this.#v(w);return E&&this.#u(E,_),this.#R(_)?(E&&(E.get="stale"),O?(E&&y&&w.__staleWhileFetching!==void 0&&(E.returnedStale=!0),y?w.__staleWhileFetching:void 0):(b||this.#m(m,"expire"),E&&y&&(E.returnedStale=!0),y?w:void 0)):(E&&(E.get="hit"),O?w.__staleWhileFetching:(this.#U(_),S&&this.#O(_),w))}else E&&(E.get="miss")}#B(m,f){this.#a[f]=m,this.#d[m]=f}#U(m){m!==this.#y&&(m===this.#f?this.#f=this.#d[m]:this.#B(this.#a[m],this.#d[m]),this.#B(this.#y,m),this.#y=m)}delete(m){return this.#m(m,"delete")}#m(m,f){let y=!1;if(this.#l!==0){let S=this.#n.get(m);if(S!==void 0)if(y=!0,this.#l===1)this.#H(f);else{this.#j(S);let b=this.#o[S];if(this.#v(b)?b.__abortController.abort(new Error("deleted")):(this.#A||this.#S)&&(this.#A&&this.#r?.(b,m,f),this.#S&&this.#g?.push([b,m,f])),this.#n.delete(m),this.#h[S]=void 0,this.#o[S]=void 0,S===this.#y)this.#y=this.#a[S];else if(S===this.#f)this.#f=this.#d[S];else{let E=this.#a[S];this.#d[E]=this.#d[S];let _=this.#d[S];this.#a[_]=this.#a[S]}this.#l--,this.#E.push(S)}}if(this.#S&&this.#g?.length){let S=this.#g,b;for(;b=S?.shift();)this.#s?.(...b)}return y}clear(){return this.#H("delete")}#H(m){for(let f of this.#N({allowStale:!0})){let y=this.#o[f];if(this.#v(y))y.__abortController.abort(new Error("deleted"));else{let S=this.#h[f];this.#A&&this.#r?.(y,S,m),this.#S&&this.#g?.push([y,S,m])}}if(this.#n.clear(),this.#o.fill(void 0),this.#h.fill(void 0),this.#_&&this.#b&&(this.#_.fill(0),this.#b.fill(0)),this.#C&&this.#C.fill(0),this.#f=0,this.#y=0,this.#E.length=0,this.#p=0,this.#l=0,this.#S&&this.#g){let f=this.#g,y;for(;y=f?.shift();)this.#s?.(...y)}}};e.LRUCache=d}),Ad=J((e,u)=>{"use strict";var h=ke(),p=v((o,l,n,t,r)=>{typeof n=="string"&&(r=t,t=n,n=void 0);try{return new h(o instanceof h?o.version:o,n).inc(l,t,r).version}catch{return null}},"inc");u.exports=p}),Rd=J((e,u)=>{"use strict";var h=Et(),p=v((o,l)=>{let n=h(o,null,!0),t=h(l,null,!0),r=n.compare(t);if(r===0)return null;let s=r>0,i=s?n:t,c=s?t:n,a=!!i.prerelease.length;if(c.prerelease.length&&!a){if(!c.patch&&!c.minor)return"major";if(c.compareMain(i)===0)return c.minor&&!c.patch?"minor":"patch"}let d=a?"pre":"";return n.major!==t.major?d+"major":n.minor!==t.minor?d+"minor":n.patch!==t.patch?d+"patch":"prerelease"},"diff");u.exports=p}),Cd=J((e,u)=>{"use strict";var h=ke(),p=v((o,l)=>new h(o,l).major,"major");u.exports=p}),Id=J((e,u)=>{"use strict";var h=ke(),p=v((o,l)=>new h(o,l).minor,"minor");u.exports=p}),Td=J((e,u)=>{"use strict";var h=ke(),p=v((o,l)=>new h(o,l).patch,"patch");u.exports=p}),Pd=J((e,u)=>{"use strict";var h=Et(),p=v((o,l)=>{let n=h(o,l);return n&&n.prerelease.length?n.prerelease:null},"prerelease");u.exports=p}),ze=J((e,u)=>{"use strict";var h=ke(),p=v((o,l,n)=>new h(o,n).compare(new h(l,n)),"compare");u.exports=p}),xd=J((e,u)=>{"use strict";var h=ze(),p=v((o,l,n)=>h(l,o,n),"rcompare");u.exports=p}),kd=J((e,u)=>{"use strict";var h=ze(),p=v((o,l)=>h(o,l,!0),"compareLoose");u.exports=p}),ci=J((e,u)=>{"use strict";var h=ke(),p=v((o,l,n)=>{let t=new h(o,n),r=new h(l,n);return t.compare(r)||t.compareBuild(r)},"compareBuild");u.exports=p}),Nd=J((e,u)=>{"use strict";var h=ci(),p=v((o,l)=>o.sort((n,t)=>h(n,t,l)),"sort");u.exports=p}),Ld=J((e,u)=>{"use strict";var h=ci(),p=v((o,l)=>o.sort((n,t)=>h(t,n,l)),"rsort");u.exports=p}),Or=J((e,u)=>{"use strict";var h=ze(),p=v((o,l,n)=>h(o,l,n)>0,"gt");u.exports=p}),ui=J((e,u)=>{"use strict";var h=ze(),p=v((o,l,n)=>h(o,l,n)<0,"lt");u.exports=p}),Sa=J((e,u)=>{"use strict";var h=ze(),p=v((o,l,n)=>h(o,l,n)===0,"eq");u.exports=p}),ba=J((e,u)=>{"use strict";var h=ze(),p=v((o,l,n)=>h(o,l,n)!==0,"neq");u.exports=p}),hi=J((e,u)=>{"use strict";var h=ze(),p=v((o,l,n)=>h(o,l,n)>=0,"gte");u.exports=p}),pi=J((e,u)=>{"use strict";var h=ze(),p=v((o,l,n)=>h(o,l,n)<=0,"lte");u.exports=p}),Ea=J((e,u)=>{"use strict";var h=Sa(),p=ba(),o=Or(),l=hi(),n=ui(),t=pi(),r=v((s,i,c,a)=>{switch(i){case"===":return typeof s=="object"&&(s=s.version),typeof c=="object"&&(c=c.version),s===c;case"!==":return typeof s=="object"&&(s=s.version),typeof c=="object"&&(c=c.version),s!==c;case"":case"=":case"==":return h(s,c,a);case"!=":return p(s,c,a);case">":return o(s,c,a);case">=":return l(s,c,a);case"<":return n(s,c,a);case"<=":return t(s,c,a);default:throw new TypeError(`Invalid operator: ${i}`)}},"cmp");u.exports=r}),Dd=J((e,u)=>{"use strict";var h=ke(),p=Et(),{safeRe:o,t:l}=Gt(),n=v((t,r)=>{if(t instanceof h)return t;if(typeof t=="number"&&(t=String(t)),typeof t!="string")return null;r=r||{};let s=null;if(!r.rtl)s=t.match(r.includePrerelease?o[l.COERCEFULL]:o[l.COERCE]);else{let m=r.includePrerelease?o[l.COERCERTLFULL]:o[l.COERCERTL],f;for(;(f=m.exec(t))&&(!s||s.index+s[0].length!==t.length);)(!s||f.index+f[0].length!==s.index+s[0].length)&&(s=f),m.lastIndex=f.index+f[1].length+f[2].length;m.lastIndex=-1}if(s===null)return null;let i=s[2],c=s[3]||"0",a=s[4]||"0",d=r.includePrerelease&&s[5]?`-${s[5]}`:"",g=r.includePrerelease&&s[6]?`+${s[6]}`:"";return p(`${i}.${c}.${a}${d}${g}`,r)},"coerce");u.exports=n}),Md=J((e,u)=>{"use strict";var h=class{static{v(this,"LRUCache")}constructor(){this.max=1e3,this.map=new Map}get(p){let o=this.map.get(p);if(o!==void 0)return this.map.delete(p),this.map.set(p,o),o}delete(p){return this.map.delete(p)}set(p,o){if(!this.delete(p)&&o!==void 0){if(this.map.size>=this.max){let l=this.map.keys().next().value;this.delete(l)}this.map.set(p,o)}return this}};u.exports=h}),Ke=J((e,u)=>{"use strict";var h=/\s+/g,p=class vr{static{v(this,"Range")}constructor(B,G){if(G=n(G),B instanceof vr)return B.loose===!!G.loose&&B.includePrerelease===!!G.includePrerelease?B:new vr(B.raw,G);if(B instanceof t)return this.raw=B.value,this.set=[[B]],this.formatted=void 0,this;if(this.options=G,this.loose=!!G.loose,this.includePrerelease=!!G.includePrerelease,this.raw=B.trim().replace(h," "),this.set=this.raw.split("||").map(W=>this.parseRange(W.trim())).filter(W=>W.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){let W=this.set[0];if(this.set=this.set.filter(k=>!y(k[0])),this.set.length===0)this.set=[W];else if(this.set.length>1){for(let k of this.set)if(k.length===1&&S(k[0])){this.set=[k];break}}}this.formatted=void 0}get range(){if(this.formatted===void 0){this.formatted="";for(let B=0;B<this.set.length;B++){B>0&&(this.formatted+="||");let G=this.set[B];for(let W=0;W<G.length;W++)W>0&&(this.formatted+=" "),this.formatted+=G[W].toString().trim()}}return this.formatted}format(){return this.range}toString(){return this.range}parseRange(B){let G=((this.options.includePrerelease&&m)|(this.options.loose&&f))+":"+B,W=l.get(G);if(W)return W;let k=this.options.loose,D=k?i[c.HYPHENRANGELOOSE]:i[c.HYPHENRANGE];B=B.replace(D,j(this.options.includePrerelease)),r("hyphen replace",B),B=B.replace(i[c.COMPARATORTRIM],a),r("comparator trim",B),B=B.replace(i[c.TILDETRIM],d),r("tilde trim",B),B=B.replace(i[c.CARETTRIM],g),r("caret trim",B);let T=B.split(" ").map(Q=>E(Q,this.options)).join(" ").split(/\s+/).map(Q=>x(Q,this.options));k&&(T=T.filter(Q=>(r("loose invalid filter",Q,this.options),!!Q.match(i[c.COMPARATORLOOSE])))),r("range list",T);let C=new Map,Z=T.map(Q=>new t(Q,this.options));for(let Q of Z){if(y(Q))return[Q];C.set(Q.value,Q)}C.size>1&&C.has("")&&C.delete("");let Y=[...C.values()];return l.set(G,Y),Y}intersects(B,G){if(!(B instanceof vr))throw new TypeError("a Range is required");return this.set.some(W=>b(W,G)&&B.set.some(k=>b(k,G)&&W.every(D=>k.every(T=>D.intersects(T,G)))))}test(B){if(!B)return!1;if(typeof B=="string")try{B=new s(B,this.options)}catch{return!1}for(let G=0;G<this.set.length;G++)if(U(this.set[G],B,this.options))return!0;return!1}};u.exports=p;var o=Md(),l=new o,n=oi(),t=Ar(),r=br(),s=ke(),{safeRe:i,t:c,comparatorTrimReplace:a,tildeTrimReplace:d,caretTrimReplace:g}=Gt(),{FLAG_INCLUDE_PRERELEASE:m,FLAG_LOOSE:f}=Er(),y=v(V=>V.value==="<0.0.0-0","isNullSet"),S=v(V=>V.value==="","isAny"),b=v((V,B)=>{let G=!0,W=V.slice(),k=W.pop();for(;G&&W.length;)G=W.every(D=>k.intersects(D,B)),k=W.pop();return G},"isSatisfiable"),E=v((V,B)=>(r("comp",V,B),V=R(V,B),r("caret",V),V=w(V,B),r("tildes",V),V=P(V,B),r("xrange",V),V=M(V,B),r("stars",V),V),"parseComparator"),_=v(V=>!V||V.toLowerCase()==="x"||V==="*","isX"),w=v((V,B)=>V.trim().split(/\s+/).map(G=>O(G,B)).join(" "),"replaceTildes"),O=v((V,B)=>{let G=B.loose?i[c.TILDELOOSE]:i[c.TILDE];return V.replace(G,(W,k,D,T,C)=>{r("tilde",V,W,k,D,T,C);let Z;return _(k)?Z="":_(D)?Z=`>=${k}.0.0 <${+k+1}.0.0-0`:_(T)?Z=`>=${k}.${D}.0 <${k}.${+D+1}.0-0`:C?(r("replaceTilde pr",C),Z=`>=${k}.${D}.${T}-${C} <${k}.${+D+1}.0-0`):Z=`>=${k}.${D}.${T} <${k}.${+D+1}.0-0`,r("tilde return",Z),Z})},"replaceTilde"),R=v((V,B)=>V.trim().split(/\s+/).map(G=>I(G,B)).join(" "),"replaceCarets"),I=v((V,B)=>{r("caret",V,B);let G=B.loose?i[c.CARETLOOSE]:i[c.CARET],W=B.includePrerelease?"-0":"";return V.replace(G,(k,D,T,C,Z)=>{r("caret",V,k,D,T,C,Z);let Y;return _(D)?Y="":_(T)?Y=`>=${D}.0.0${W} <${+D+1}.0.0-0`:_(C)?D==="0"?Y=`>=${D}.${T}.0${W} <${D}.${+T+1}.0-0`:Y=`>=${D}.${T}.0${W} <${+D+1}.0.0-0`:Z?(r("replaceCaret pr",Z),D==="0"?T==="0"?Y=`>=${D}.${T}.${C}-${Z} <${D}.${T}.${+C+1}-0`:Y=`>=${D}.${T}.${C}-${Z} <${D}.${+T+1}.0-0`:Y=`>=${D}.${T}.${C}-${Z} <${+D+1}.0.0-0`):(r("no pr"),D==="0"?T==="0"?Y=`>=${D}.${T}.${C}${W} <${D}.${T}.${+C+1}-0`:Y=`>=${D}.${T}.${C}${W} <${D}.${+T+1}.0-0`:Y=`>=${D}.${T}.${C} <${+D+1}.0.0-0`),r("caret return",Y),Y})},"replaceCaret"),P=v((V,B)=>(r("replaceXRanges",V,B),V.split(/\s+/).map(G=>L(G,B)).join(" ")),"replaceXRanges"),L=v((V,B)=>{V=V.trim();let G=B.loose?i[c.XRANGELOOSE]:i[c.XRANGE];return V.replace(G,(W,k,D,T,C,Z)=>{r("xRange",V,W,k,D,T,C,Z);let Y=_(D),Q=Y||_(T),N=Q||_(C),F=N;return k==="="&&F&&(k=""),Z=B.includePrerelease?"-0":"",Y?k===">"||k==="<"?W="<0.0.0-0":W="*":k&&F?(Q&&(T=0),C=0,k===">"?(k=">=",Q?(D=+D+1,T=0,C=0):(T=+T+1,C=0)):k==="<="&&(k="<",Q?D=+D+1:T=+T+1),k==="<"&&(Z="-0"),W=`${k+D}.${T}.${C}${Z}`):Q?W=`>=${D}.0.0${Z} <${+D+1}.0.0-0`:N&&(W=`>=${D}.${T}.0${Z} <${D}.${+T+1}.0-0`),r("xRange return",W),W})},"replaceXRange"),M=v((V,B)=>(r("replaceStars",V,B),V.trim().replace(i[c.STAR],"")),"replaceStars"),x=v((V,B)=>(r("replaceGTE0",V,B),V.trim().replace(i[B.includePrerelease?c.GTE0PRE:c.GTE0],"")),"replaceGTE0"),j=v(V=>(B,G,W,k,D,T,C,Z,Y,Q,N,F)=>(_(W)?G="":_(k)?G=`>=${W}.0.0${V?"-0":""}`:_(D)?G=`>=${W}.${k}.0${V?"-0":""}`:T?G=`>=${G}`:G=`>=${G}${V?"-0":""}`,_(Y)?Z="":_(Q)?Z=`<${+Y+1}.0.0-0`:_(N)?Z=`<${Y}.${+Q+1}.0-0`:F?Z=`<=${Y}.${Q}.${N}-${F}`:V?Z=`<${Y}.${Q}.${+N+1}-0`:Z=`<=${Z}`,`${G} ${Z}`.trim()),"hyphenReplace"),U=v((V,B,G)=>{for(let W=0;W<V.length;W++)if(!V[W].test(B))return!1;if(B.prerelease.length&&!G.includePrerelease){for(let W=0;W<V.length;W++)if(r(V[W].semver),V[W].semver!==t.ANY&&V[W].semver.prerelease.length>0){let k=V[W].semver;if(k.major===B.major&&k.minor===B.minor&&k.patch===B.patch)return!0}return!1}return!0},"testSet")}),Ar=J((e,u)=>{"use strict";var h=Symbol("SemVer ANY"),p=class js{static{v(this,"Comparator")}static get ANY(){return h}constructor(a,d){if(d=o(d),a instanceof js){if(a.loose===!!d.loose)return a;a=a.value}a=a.trim().split(/\s+/).join(" "),r("comparator",a,d),this.options=d,this.loose=!!d.loose,this.parse(a),this.semver===h?this.value="":this.value=this.operator+this.semver.version,r("comp",this)}parse(a){let d=this.options.loose?l[n.COMPARATORLOOSE]:l[n.COMPARATOR],g=a.match(d);if(!g)throw new TypeError(`Invalid comparator: ${a}`);this.operator=g[1]!==void 0?g[1]:"",this.operator==="="&&(this.operator=""),g[2]?this.semver=new s(g[2],this.options.loose):this.semver=h}toString(){return this.value}test(a){if(r("Comparator.test",a,this.options.loose),this.semver===h||a===h)return!0;if(typeof a=="string")try{a=new s(a,this.options)}catch{return!1}return t(a,this.operator,this.semver,this.options)}intersects(a,d){if(!(a instanceof js))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new i(a.value,d).test(this.value):a.operator===""?a.value===""?!0:new i(this.value,d).test(a.semver):(d=o(d),d.includePrerelease&&(this.value==="<0.0.0-0"||a.value==="<0.0.0-0")||!d.includePrerelease&&(this.value.startsWith("<0.0.0")||a.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&a.operator.startsWith(">")||this.operator.startsWith("<")&&a.operator.startsWith("<")||this.semver.version===a.semver.version&&this.operator.includes("=")&&a.operator.includes("=")||t(this.semver,"<",a.semver,d)&&this.operator.startsWith(">")&&a.operator.startsWith("<")||t(this.semver,">",a.semver,d)&&this.operator.startsWith("<")&&a.operator.startsWith(">")))}};u.exports=p;var o=oi(),{safeRe:l,t:n}=Gt(),t=Ea(),r=br(),s=ke(),i=Ke()}),Vt=J((e,u)=>{"use strict";var h=Ke(),p=v((o,l,n)=>{try{l=new h(l,n)}catch{return!1}return l.test(o)},"satisfies");u.exports=p}),jd=J((e,u)=>{"use strict";var h=Ke(),p=v((o,l)=>new h(o,l).set.map(n=>n.map(t=>t.value).join(" ").trim().split(" ")),"toComparators");u.exports=p}),$d=J((e,u)=>{"use strict";var h=ke(),p=Ke(),o=v((l,n,t)=>{let r=null,s=null,i=null;try{i=new p(n,t)}catch{return null}return l.forEach(c=>{i.test(c)&&(!r||s.compare(c)===-1)&&(r=c,s=new h(r,t))}),r},"maxSatisfying");u.exports=o}),Bd=J((e,u)=>{"use strict";var h=ke(),p=Ke(),o=v((l,n,t)=>{let r=null,s=null,i=null;try{i=new p(n,t)}catch{return null}return l.forEach(c=>{i.test(c)&&(!r||s.compare(c)===1)&&(r=c,s=new h(r,t))}),r},"minSatisfying");u.exports=o}),Ud=J((e,u)=>{"use strict";var h=ke(),p=Ke(),o=Or(),l=v((n,t)=>{n=new p(n,t);let r=new h("0.0.0");if(n.test(r)||(r=new h("0.0.0-0"),n.test(r)))return r;r=null;for(let s=0;s<n.set.length;++s){let i=n.set[s],c=null;i.forEach(a=>{let d=new h(a.semver.version);switch(a.operator){case">":d.prerelease.length===0?d.patch++:d.prerelease.push(0),d.raw=d.format();case"":case">=":(!c||o(d,c))&&(c=d);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${a.operator}`)}}),c&&(!r||o(r,c))&&(r=c)}return r&&n.test(r)?r:null},"minVersion");u.exports=l}),_a=J((e,u)=>{"use strict";var h=Ke(),p=v((o,l)=>{try{return new h(o,l).range||"*"}catch{return null}},"validRange");u.exports=p}),di=J((e,u)=>{"use strict";var h=ke(),p=Ar(),{ANY:o}=p,l=Ke(),n=Vt(),t=Or(),r=ui(),s=pi(),i=hi(),c=v((a,d,g,m)=>{a=new h(a,m),d=new l(d,m);let f,y,S,b,E;switch(g){case">":f=t,y=s,S=r,b=">",E=">=";break;case"<":f=r,y=i,S=t,b="<",E="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(n(a,d,m))return!1;for(let _=0;_<d.set.length;++_){let w=d.set[_],O=null,R=null;if(w.forEach(I=>{I.semver===o&&(I=new p(">=0.0.0")),O=O||I,R=R||I,f(I.semver,O.semver,m)?O=I:S(I.semver,R.semver,m)&&(R=I)}),O.operator===b||O.operator===E||(!R.operator||R.operator===b)&&y(a,R.semver)||R.operator===E&&S(a,R.semver))return!1}return!0},"outside");u.exports=c}),Fd=J((e,u)=>{"use strict";var h=di(),p=v((o,l,n)=>h(o,l,">",n),"gtr");u.exports=p}),Hd=J((e,u)=>{"use strict";var h=di(),p=v((o,l,n)=>h(o,l,"<",n),"ltr");u.exports=p}),Gd=J((e,u)=>{"use strict";var h=Ke(),p=v((o,l,n)=>(o=new h(o,n),l=new h(l,n),o.intersects(l,n)),"intersects");u.exports=p}),Vd=J((e,u)=>{"use strict";var h=Vt(),p=ze();u.exports=(o,l,n)=>{let t=[],r=null,s=null,i=o.sort((g,m)=>p(g,m,n));for(let g of i)h(g,l,n)?(s=g,r||(r=g)):(s&&t.push([r,s]),s=null,r=null);r&&t.push([r,null]);let c=[];for(let[g,m]of t)g===m?c.push(g):!m&&g===i[0]?c.push("*"):m?g===i[0]?c.push(`<=${m}`):c.push(`${g} - ${m}`):c.push(`>=${g}`);let a=c.join(" || "),d=typeof l.raw=="string"?l.raw:String(l);return a.length<d.length?a:l}}),Wd=J((e,u)=>{"use strict";var h=Ke(),p=Ar(),{ANY:o}=p,l=Vt(),n=ze(),t=v((d,g,m={})=>{if(d===g)return!0;d=new h(d,m),g=new h(g,m);let f=!1;e:for(let y of d.set){for(let S of g.set){let b=i(y,S,m);if(f=f||b!==null,b)continue e}if(f)return!1}return!0},"subset"),r=[new p(">=0.0.0-0")],s=[new p(">=0.0.0")],i=v((d,g,m)=>{if(d===g)return!0;if(d.length===1&&d[0].semver===o){if(g.length===1&&g[0].semver===o)return!0;m.includePrerelease?d=r:d=s}if(g.length===1&&g[0].semver===o){if(m.includePrerelease)return!0;g=s}let f=new Set,y,S;for(let P of d)P.operator===">"||P.operator===">="?y=c(y,P,m):P.operator==="<"||P.operator==="<="?S=a(S,P,m):f.add(P.semver);if(f.size>1)return null;let b;if(y&&S&&(b=n(y.semver,S.semver,m),b>0||b===0&&(y.operator!==">="||S.operator!=="<=")))return null;for(let P of f){if(y&&!l(P,String(y),m)||S&&!l(P,String(S),m))return null;for(let L of g)if(!l(P,String(L),m))return!1;return!0}let E,_,w,O,R=S&&!m.includePrerelease&&S.semver.prerelease.length?S.semver:!1,I=y&&!m.includePrerelease&&y.semver.prerelease.length?y.semver:!1;R&&R.prerelease.length===1&&S.operator==="<"&&R.prerelease[0]===0&&(R=!1);for(let P of g){if(O=O||P.operator===">"||P.operator===">=",w=w||P.operator==="<"||P.operator==="<=",y){if(I&&P.semver.prerelease&&P.semver.prerelease.length&&P.semver.major===I.major&&P.semver.minor===I.minor&&P.semver.patch===I.patch&&(I=!1),P.operator===">"||P.operator===">="){if(E=c(y,P,m),E===P&&E!==y)return!1}else if(y.operator===">="&&!l(y.semver,String(P),m))return!1}if(S){if(R&&P.semver.prerelease&&P.semver.prerelease.length&&P.semver.major===R.major&&P.semver.minor===R.minor&&P.semver.patch===R.patch&&(R=!1),P.operator==="<"||P.operator==="<="){if(_=a(S,P,m),_===P&&_!==S)return!1}else if(S.operator==="<="&&!l(S.semver,String(P),m))return!1}if(!P.operator&&(S||y)&&b!==0)return!1}return!(y&&w&&!S&&b!==0||S&&O&&!y&&b!==0||I||R)},"simpleSubset"),c=v((d,g,m)=>{if(!d)return g;let f=n(d.semver,g.semver,m);return f>0?d:f<0||g.operator===">"&&d.operator===">="?g:d},"higherGT"),a=v((d,g,m)=>{if(!d)return g;let f=n(d.semver,g.semver,m);return f<0?d:f>0||g.operator==="<"&&d.operator==="<="?g:d},"lowerLT");u.exports=t}),wt=J((e,u)=>{"use strict";var h=Gt(),p=Er(),o=ke(),l=ea(),n=Et(),t=ta(),r=ra(),s=Ad(),i=Rd(),c=Cd(),a=Id(),d=Td(),g=Pd(),m=ze(),f=xd(),y=kd(),S=ci(),b=Nd(),E=Ld(),_=Or(),w=ui(),O=Sa(),R=ba(),I=hi(),P=pi(),L=Ea(),M=Dd(),x=Ar(),j=Ke(),U=Vt(),V=jd(),B=$d(),G=Bd(),W=Ud(),k=_a(),D=di(),T=Fd(),C=Hd(),Z=Gd(),Y=Vd(),Q=Wd();u.exports={parse:n,valid:t,clean:r,inc:s,diff:i,major:c,minor:a,patch:d,prerelease:g,compare:m,rcompare:f,compareLoose:y,compareBuild:S,sort:b,rsort:E,gt:_,lt:w,eq:O,neq:R,gte:I,lte:P,cmp:L,coerce:M,Comparator:x,Range:j,satisfies:U,toComparators:V,maxSatisfying:B,minSatisfying:G,minVersion:W,validRange:k,outside:D,gtr:T,ltr:C,intersects:Z,simplifyRange:Y,subset:Q,SemVer:o,re:h.re,src:h.src,tokens:h.t,SEMVER_SPEC_VERSION:p.SEMVER_SPEC_VERSION,RELEASE_TYPES:p.RELEASE_TYPES,compareIdentifiers:l.compareIdentifiers,rcompareIdentifiers:l.rcompareIdentifiers}}),zd=J((e,u)=>{var h=wt();u.exports=i=>p(i.reduce(s,{versions:{},"dist-tags":{},refs:{},shas:{}}));var p=v(i=>n(o(l(i))),"finish"),o=v(i=>(Object.keys(i.refs).forEach(c=>{let a=i.refs[c];i.shas[a.sha]?i.shas[a.sha].push(c):i.shas[a.sha]=[c]}),i),"shaList"),l=v(i=>(Object.keys(i.refs).filter(c=>c.endsWith("^{}")).forEach(c=>{let a=i.refs[c],d=i.refs[c.replace(/\^\{\}$/,"")];d&&(d.sha=a.sha,delete i.refs[c])}),i),"peelTags"),n=v(i=>{let c=i.refs.HEAD||{};return Object.keys(i.versions).forEach(a=>{let d=i.versions[a];i.refs.latest&&d.sha===i.refs.latest.sha?i["dist-tags"].latest=a:d.sha===c.sha&&(i["dist-tags"].HEAD=a,i.refs.latest||(i["dist-tags"].latest=a))}),i},"distTags"),t=v(i=>i.startsWith("refs/tags/")?"tag":i.startsWith("refs/heads/")?"branch":i.startsWith("refs/pull/")?"pull":i==="HEAD"?"head":"other","refType"),r=v(i=>{let c=i.trim().split(/\s+/,2);if(c.length<2)return null;let a=c[0].trim(),d=c[1].trim(),g=t(d);if(g==="tag"){let m=d.slice(10);return{sha:a,ref:m,rawRef:d,type:g}}if(g==="branch"){let m=d.slice(11);return{sha:a,ref:m,rawRef:d,type:g}}if(g==="pull"){let m=d.slice(5).replace(/\/head$/,"");return{sha:a,ref:m,rawRef:d,type:g}}return g==="head"?{sha:a,ref:"HEAD",rawRef:d,type:g}:{sha:a,ref:d,rawRef:d,type:g}},"lineToRevDoc"),s=v((i,c)=>{let a=r(c);if(!a)return i;if(i.refs[a.ref]=a,i.refs[a.rawRef]=a,a.type==="tag"){let d=!a.ref.endsWith("^{}")&&a.ref.match(/v?(\d+\.\d+\.\d+(?:[-+].+)?)$/);d&&h.valid(d[1],!0)&&(i.versions[h.clean(d[1],!0)]=a)}return i},"linesToRevsReducer")}),wa=J((e,u)=>{var h=wr(),{LRUCache:p}=ya(),o=zd(),l=new p({max:100,ttl:300*1e3});u.exports=async(n,t={})=>{if(!t.noGitRevCache){let i=l.get(n);if(i)return i}let{stdout:r}=await h(["ls-remote",n],t),s=o(r.trim().split(`
`));return l.set(n,s),s}}),Kd=J(e=>{var u=v(h=>(h.fakePlatform||process.platform)==="win32","isWindows");e.isWindows=u}),Jd=J((e,u)=>{"use strict";var h=v((...t)=>t.every(r=>r)?t.join(""):"","maybeJoin"),p=v(t=>t?encodeURIComponent(t):"","maybeEncode"),o=v(t=>t.toLowerCase().replace(/^\W+/g,"").replace(/(?<!\W)\W+$/,"").replace(/\//g,"").replace(/\W+/g,"-"),"formatHashFragment"),l={sshtemplate:v(({domain:t,user:r,project:s,committish:i})=>`git@${t}:${r}/${s}.git${h("#",i)}`,"sshtemplate"),sshurltemplate:v(({domain:t,user:r,project:s,committish:i})=>`git+ssh://git@${t}/${r}/${s}.git${h("#",i)}`,"sshurltemplate"),edittemplate:v(({domain:t,user:r,project:s,committish:i,editpath:c,path:a})=>`https://${t}/${r}/${s}${h("/",c,"/",p(i||"HEAD"),"/",a)}`,"edittemplate"),browsetemplate:v(({domain:t,user:r,project:s,committish:i,treepath:c})=>`https://${t}/${r}/${s}${h("/",c,"/",p(i))}`,"browsetemplate"),browsetreetemplate:v(({domain:t,user:r,project:s,committish:i,treepath:c,path:a,fragment:d,hashformat:g})=>`https://${t}/${r}/${s}/${c}/${p(i||"HEAD")}/${a}${h("#",g(d||""))}`,"browsetreetemplate"),browseblobtemplate:v(({domain:t,user:r,project:s,committish:i,blobpath:c,path:a,fragment:d,hashformat:g})=>`https://${t}/${r}/${s}/${c}/${p(i||"HEAD")}/${a}${h("#",g(d||""))}`,"browseblobtemplate"),docstemplate:v(({domain:t,user:r,project:s,treepath:i,committish:c})=>`https://${t}/${r}/${s}${h("/",i,"/",p(c))}#readme`,"docstemplate"),httpstemplate:v(({auth:t,domain:r,user:s,project:i,committish:c})=>`git+https://${h(t,"@")}${r}/${s}/${i}.git${h("#",c)}`,"httpstemplate"),filetemplate:v(({domain:t,user:r,project:s,committish:i,path:c})=>`https://${t}/${r}/${s}/raw/${p(i||"HEAD")}/${c}`,"filetemplate"),shortcuttemplate:v(({type:t,user:r,project:s,committish:i})=>`${t}:${r}/${s}${h("#",i)}`,"shortcuttemplate"),pathtemplate:v(({user:t,project:r,committish:s})=>`${t}/${r}${h("#",s)}`,"pathtemplate"),bugstemplate:v(({domain:t,user:r,project:s})=>`https://${t}/${r}/${s}/issues`,"bugstemplate"),hashformat:o},n={};n.github={protocols:["git:","http:","git+ssh:","git+https:","ssh:","https:"],domain:"github.com",treepath:"tree",blobpath:"blob",editpath:"edit",filetemplate:v(({auth:t,user:r,project:s,committish:i,path:c})=>`https://${h(t,"@")}raw.githubusercontent.com/${r}/${s}/${p(i||"HEAD")}/${c}`,"filetemplate"),gittemplate:v(({auth:t,domain:r,user:s,project:i,committish:c})=>`git://${h(t,"@")}${r}/${s}/${i}.git${h("#",c)}`,"gittemplate"),tarballtemplate:v(({domain:t,user:r,project:s,committish:i})=>`https://codeload.${t}/${r}/${s}/tar.gz/${p(i||"HEAD")}`,"tarballtemplate"),extract:v(t=>{let[,r,s,i,c]=t.pathname.split("/",5);if(!(i&&i!=="tree")&&(i||(c=t.hash.slice(1)),s&&s.endsWith(".git")&&(s=s.slice(0,-4)),!(!r||!s)))return{user:r,project:s,committish:c}},"extract")},n.bitbucket={protocols:["git+ssh:","git+https:","ssh:","https:"],domain:"bitbucket.org",treepath:"src",blobpath:"src",editpath:"?mode=edit",edittemplate:v(({domain:t,user:r,project:s,committish:i,treepath:c,path:a,editpath:d})=>`https://${t}/${r}/${s}${h("/",c,"/",p(i||"HEAD"),"/",a,d)}`,"edittemplate"),tarballtemplate:v(({domain:t,user:r,project:s,committish:i})=>`https://${t}/${r}/${s}/get/${p(i||"HEAD")}.tar.gz`,"tarballtemplate"),extract:v(t=>{let[,r,s,i]=t.pathname.split("/",4);if(!["get"].includes(i)&&(s&&s.endsWith(".git")&&(s=s.slice(0,-4)),!(!r||!s)))return{user:r,project:s,committish:t.hash.slice(1)}},"extract")},n.gitlab={protocols:["git+ssh:","git+https:","ssh:","https:"],domain:"gitlab.com",treepath:"tree",blobpath:"tree",editpath:"-/edit",httpstemplate:v(({auth:t,domain:r,user:s,project:i,committish:c})=>`git+https://${h(t,"@")}${r}/${s}/${i}.git${h("#",c)}`,"httpstemplate"),tarballtemplate:v(({domain:t,user:r,project:s,committish:i})=>`https://${t}/${r}/${s}/repository/archive.tar.gz?ref=${p(i||"HEAD")}`,"tarballtemplate"),extract:v(t=>{let r=t.pathname.slice(1);if(r.includes("/-/")||r.includes("/archive.tar.gz"))return;let s=r.split("/"),i=s.pop();i.endsWith(".git")&&(i=i.slice(0,-4));let c=s.join("/");if(!(!c||!i))return{user:c,project:i,committish:t.hash.slice(1)}},"extract")},n.gist={protocols:["git:","git+ssh:","git+https:","ssh:","https:"],domain:"gist.github.com",editpath:"edit",sshtemplate:v(({domain:t,project:r,committish:s})=>`git@${t}:${r}.git${h("#",s)}`,"sshtemplate"),sshurltemplate:v(({domain:t,project:r,committish:s})=>`git+ssh://git@${t}/${r}.git${h("#",s)}`,"sshurltemplate"),edittemplate:v(({domain:t,user:r,project:s,committish:i,editpath:c})=>`https://${t}/${r}/${s}${h("/",p(i))}/${c}`,"edittemplate"),browsetemplate:v(({domain:t,project:r,committish:s})=>`https://${t}/${r}${h("/",p(s))}`,"browsetemplate"),browsetreetemplate:v(({domain:t,project:r,committish:s,path:i,hashformat:c})=>`https://${t}/${r}${h("/",p(s))}${h("#",c(i))}`,"browsetreetemplate"),browseblobtemplate:v(({domain:t,project:r,committish:s,path:i,hashformat:c})=>`https://${t}/${r}${h("/",p(s))}${h("#",c(i))}`,"browseblobtemplate"),docstemplate:v(({domain:t,project:r,committish:s})=>`https://${t}/${r}${h("/",p(s))}`,"docstemplate"),httpstemplate:v(({domain:t,project:r,committish:s})=>`git+https://${t}/${r}.git${h("#",s)}`,"httpstemplate"),filetemplate:v(({user:t,project:r,committish:s,path:i})=>`https://gist.githubusercontent.com/${t}/${r}/raw${h("/",p(s))}/${i}`,"filetemplate"),shortcuttemplate:v(({type:t,project:r,committish:s})=>`${t}:${r}${h("#",s)}`,"shortcuttemplate"),pathtemplate:v(({project:t,committish:r})=>`${t}${h("#",r)}`,"pathtemplate"),bugstemplate:v(({domain:t,project:r})=>`https://${t}/${r}`,"bugstemplate"),gittemplate:v(({domain:t,project:r,committish:s})=>`git://${t}/${r}.git${h("#",s)}`,"gittemplate"),tarballtemplate:v(({project:t,committish:r})=>`https://codeload.github.com/gist/${t}/tar.gz/${p(r||"HEAD")}`,"tarballtemplate"),extract:v(t=>{let[,r,s,i]=t.pathname.split("/",4);if(i!=="raw"){if(!s){if(!r)return;s=r,r=null}return s.endsWith(".git")&&(s=s.slice(0,-4)),{user:r,project:s,committish:t.hash.slice(1)}}},"extract"),hashformat:v(function(t){return t&&"file-"+o(t)},"hashformat")},n.sourcehut={protocols:["git+ssh:","https:"],domain:"git.sr.ht",treepath:"tree",blobpath:"tree",filetemplate:v(({domain:t,user:r,project:s,committish:i,path:c})=>`https://${t}/${r}/${s}/blob/${p(i)||"HEAD"}/${c}`,"filetemplate"),httpstemplate:v(({domain:t,user:r,project:s,committish:i})=>`https://${t}/${r}/${s}.git${h("#",i)}`,"httpstemplate"),tarballtemplate:v(({domain:t,user:r,project:s,committish:i})=>`https://${t}/${r}/${s}/archive/${p(i)||"HEAD"}.tar.gz`,"tarballtemplate"),bugstemplate:v(()=>null,"bugstemplate"),extract:v(t=>{let[,r,s,i]=t.pathname.split("/",4);if(!["archive"].includes(i)&&(s&&s.endsWith(".git")&&(s=s.slice(0,-4)),!(!r||!s)))return{user:r,project:s,committish:t.hash.slice(1)}},"extract")};for(let[t,r]of Object.entries(n))n[t]=Object.assign({},l,r);u.exports=n}),Oa=J((e,u)=>{var h=require("url"),p=v((t,r,s)=>{let i=t.indexOf(s);return t.lastIndexOf(r,i>-1?i:1/0)},"lastIndexOfBefore"),o=v(t=>{try{return new h.URL(t)}catch{}},"safeUrl"),l=v((t,r)=>{let s=t.indexOf(":"),i=t.slice(0,s+1);if(Object.prototype.hasOwnProperty.call(r,i))return t;let c=t.indexOf("@");return c>-1?c>s?`git+ssh://${t}`:t:t.indexOf("//")===s+1?t:`${t.slice(0,s+1)}//${t.slice(s+1)}`},"correctProtocol"),n=v(t=>{let r=p(t,"@","#"),s=p(t,":","#");return s>r&&(t=t.slice(0,s)+"/"+t.slice(s+1)),p(t,":","#")===-1&&t.indexOf("//")===-1&&(t=`git+ssh://${t}`),t},"correctUrl");u.exports=(t,r)=>{let s=r?l(t,r):t;return o(s)||o(n(s))}}),qd=J((e,u)=>{"use strict";var h=Oa(),p=v(o=>{let l=o.indexOf("#"),n=o.indexOf("/"),t=o.indexOf("/",n+1),r=o.indexOf(":"),s=/\s/.exec(o),i=o.indexOf("@"),c=!s||l>-1&&s.index>l,a=i===-1||l>-1&&i>l,d=r===-1||l>-1&&r>l,g=t===-1||l>-1&&t>l,m=n>0,f=l>-1?o[l-1]!=="/":!o.endsWith("/"),y=!o.startsWith(".");return c&&m&&f&&y&&a&&d&&g},"isGitHubShorthand");u.exports=(o,l,{gitHosts:n,protocols:t})=>{if(!o)return;let r=p(o)?`github:${o}`:o,s=h(r,t);if(!s)return;let i=n.byShortcut[s.protocol],c=n.byDomain[s.hostname.startsWith("www.")?s.hostname.slice(4):s.hostname],a=i||c;if(!a)return;let d=n[i||c],g=null;t[s.protocol]?.auth&&(s.username||s.password)&&(g=`${s.username}${s.password?":"+s.password:""}`);let m=null,f=null,y=null,S=null;try{if(i){let b=s.pathname.startsWith("/")?s.pathname.slice(1):s.pathname,E=b.indexOf("@");E>-1&&(b=b.slice(E+1));let _=b.lastIndexOf("/");_>-1?(f=decodeURIComponent(b.slice(0,_)),f||(f=null),y=decodeURIComponent(b.slice(_+1))):y=decodeURIComponent(b),y.endsWith(".git")&&(y=y.slice(0,-4)),s.hash&&(m=decodeURIComponent(s.hash.slice(1))),S="shortcut"}else{if(!d.protocols.includes(s.protocol))return;let b=d.extract(s);if(!b)return;f=b.user&&decodeURIComponent(b.user),y=decodeURIComponent(b.project),m=decodeURIComponent(b.committish),S=t[s.protocol]?.name||s.protocol.slice(0,-1)}}catch(b){if(b instanceof URIError)return;throw b}return[a,f,g,y,m,S,l]}}),Zd=J((e,u)=>{"use strict";var{LRUCache:h}=ya(),p=Jd(),o=qd(),l=Oa(),n=new h({max:1e3});function t(s){try{let{protocol:i,hostname:c,pathname:a}=new URL(s);if(!c)return null;let d=/(?:git\+)http:$/.test(i)?"http:":"https:",g=a.replace(/\.git$/,"");return`${d}//${c}${g}`}catch{return null}}v(t,"unknownHostedUrl");var r=class Ge{static{v(this,"GitHost")}constructor(i,c,a,d,g,m,f={}){Object.assign(this,Ge.#e[i],{type:i,user:c,auth:a,project:d,committish:g,default:m,opts:f})}static#e={byShortcut:{},byDomain:{}};static#t={"git+ssh:":{name:"sshurl"},"ssh:":{name:"sshurl"},"git+https:":{name:"https",auth:!0},"git:":{auth:!0},"http:":{auth:!0},"https:":{auth:!0},"git+http:":{auth:!0}};static addHost(i,c){Ge.#e[i]=c,Ge.#e.byDomain[c.domain]=i,Ge.#e.byShortcut[`${i}:`]=i,Ge.#t[`${i}:`]={name:i}}static fromUrl(i,c){if(typeof i!="string")return;let a=i+JSON.stringify(c||{});if(!n.has(a)){let d=o(i,c,{gitHosts:Ge.#e,protocols:Ge.#t});n.set(a,d?new Ge(...d):void 0)}return n.get(a)}static fromManifest(i,c={}){if(!i||typeof i!="object")return;let a=i.repository,d=a&&(typeof a=="string"?a:typeof a=="object"&&typeof a.url=="string"?a.url:null);if(!d)throw new Error("no repository");let g=d&&Ge.fromUrl(d.replace(/^git\+/,""),c)||null;if(g)return g;let m=t(d);return Ge.fromUrl(m,c)||m}static parseUrl(i){return l(i)}#r(i,c){if(typeof i!="function")return null;let a={...this,...this.opts,...c};a.path||(a.path=""),a.path.startsWith("/")&&(a.path=a.path.slice(1)),a.noCommittish&&(a.committish=null);let d=i(a);return a.noGitPlus&&d.startsWith("git+")?d.slice(4):d}hash(){return this.committish?`#${this.committish}`:""}ssh(i){return this.#r(this.sshtemplate,i)}sshurl(i){return this.#r(this.sshurltemplate,i)}browse(i,...c){return typeof i!="string"?this.#r(this.browsetemplate,i):typeof c[0]!="string"?this.#r(this.browsetreetemplate,{...c[0],path:i}):this.#r(this.browsetreetemplate,{...c[1],fragment:c[0],path:i})}browseFile(i,...c){return typeof c[0]!="string"?this.#r(this.browseblobtemplate,{...c[0],path:i}):this.#r(this.browseblobtemplate,{...c[1],fragment:c[0],path:i})}docs(i){return this.#r(this.docstemplate,i)}bugs(i){return this.#r(this.bugstemplate,i)}https(i){return this.#r(this.httpstemplate,i)}git(i){return this.#r(this.gittemplate,i)}shortcut(i){return this.#r(this.shortcuttemplate,i)}path(i){return this.#r(this.pathtemplate,i)}tarball(i){return this.#r(this.tarballtemplate,{...i,noCommittish:!1})}file(i,c){return this.#r(this.filetemplate,{...c,path:i})}edit(i,c){return this.#r(this.edittemplate,{...c,path:i})}getDefaultRepresentation(){return this.default}toString(i){return this.default&&typeof this[this.default]=="function"?this[this.default](i):this.sshurl(i)}};for(let[s,i]of Object.entries(p))r.addHost(s,i);u.exports=r}),Aa=J((e,u)=>{"use strict";var{builtinModules:h}=require("module"),p=new RegExp("^(?:@([^/]+?)[/])?([^/]+?)$"),o=["node_modules","favicon.ico"];function l(t){var r=[],s=[];if(t===null)return s.push("name cannot be null"),n(r,s);if(t===void 0)return s.push("name cannot be undefined"),n(r,s);if(typeof t!="string")return s.push("name must be a string"),n(r,s);if(t.length||s.push("name length must be greater than zero"),t.startsWith(".")&&s.push("name cannot start with a period"),t.match(/^_/)&&s.push("name cannot start with an underscore"),t.trim()!==t&&s.push("name cannot contain leading or trailing spaces"),o.forEach(function(d){t.toLowerCase()===d&&s.push(d+" is not a valid package name")}),h.includes(t.toLowerCase())&&r.push(t+" is a core module name"),t.length>214&&r.push("name can no longer contain more than 214 characters"),t.toLowerCase()!==t&&r.push("name can no longer contain capital letters"),/[~'!()*]/.test(t.split("/").slice(-1)[0])&&r.push(`name can no longer contain special characters ("~'!()*")`),encodeURIComponent(t)!==t){var i=t.match(p);if(i){var c=i[1],a=i[2];if(a.startsWith(".")&&s.push("name cannot start with a period"),encodeURIComponent(c)===c&&encodeURIComponent(a)===a)return n(r,s)}s.push("name can only contain URL-friendly characters")}return n(r,s)}v(l,"validate");var n=v(function(t,r){var s={validForNewPackages:r.length===0&&t.length===0,validForOldPackages:r.length===0,warnings:t,errors:r};return s.warnings.length||delete s.warnings,s.errors.length||delete s.errors,s},"done");u.exports=l}),Yd=J((e,u)=>{"use strict";var h=process.platform==="win32",{URL:p}=require("url"),o=h?require("path"):require("path"),{homedir:l}=require("os"),n=Zd(),t=wt(),r=Aa(),{log:s}=We(),i=h?/\\|[/]/:/[/]/,c=/^(?:git[+])?[a-z]+:/i,a=/^[^@]+@[^:.]+\.[^:]+:.+$/i,d=/[.](?:tgz|tar.gz|tar)$/i,g=/:[0-9]+(\/|$)/i,m=/^(?:[.]|~[/]|[/\\]|[a-zA-Z]:)/,f=/^(?:[.]|~[/]|[/]|[a-zA-Z]:)/,y="https://registry.npmjs.org";function S(k,D){let T,C;if(typeof k=="object")return k instanceof P&&(!D||D===k.where)?k:k.name&&k.rawSpec?S.resolve(k.name,k.rawSpec,D||k.where):S(k.raw,D||k.where);let Z=k.indexOf("@",1),Y=Z>0?k.slice(0,Z):k;return c.test(k)?C=k:a.test(k)?C=`git+ssh://${k}`:!Y.startsWith("@")&&(i.test(Y)||d.test(Y))?C=k:Z>0?(T=Y,C=k.slice(Z+1)||"*"):r(k).validForOldPackages?(T=k,C="*"):C=k,_(T,C,D,k)}v(S,"npa");function b(k){return k?k.toLowerCase().startsWith("file:")?!0:h?m.test(k):f.test(k):!1}v(b,"isFileSpec");function E(k){return k?k.toLowerCase().startsWith("npm:"):!1}v(E,"isAliasSpec");function _(k,D,T,C){let Z=new P({raw:C,name:k,rawSpec:D,fromArgument:C!=null});if(k&&(Z.name=k),T||(T=process.cwd()),b(D))return j(Z,T);if(E(D))return G(Z,T);let Y=n.fromUrl(D,{noGitPlus:!0,noCommittish:!0});return Y?U(Z,Y):D&&c.test(D)?B(Z):D&&(i.test(D)||d.test(D))?j(Z,T):W(Z)}v(_,"resolve");function w(k,D=y){let T=S(k);if(T.type!=="version")throw I(T.type,T.raw);let C="pkg:npm/"+T.name.replace(/^@/,"%40")+"@"+T.rawSpec;return D!==y&&(C+="?repository_url="+D),C}v(w,"toPurl");function O(k,D,T){let C=new Error(`Invalid package name "${k}" of package "${T}": ${D.errors.join("; ")}.`);return C.code="EINVALIDPACKAGENAME",C}v(O,"invalidPackageName");function R(k,D){let T=new Error(`Invalid tag name "${k}" of package "${D}": Tags may not have any characters that encodeURIComponent encodes.`);return T.code="EINVALIDTAGNAME",T}v(R,"invalidTagName");function I(k,D){let T=new Error(`Invalid type "${k}" of package "${D}": Purl can only be generated for "version" types.`);return T.code="EINVALIDPURLTYPE",T}v(I,"invalidPurlType");var P=class{static{v(this,"Result")}constructor(k){this.type=k.type,this.registry=k.registry,this.where=k.where,k.raw==null?this.raw=k.name?`${k.name}@${k.rawSpec}`:k.rawSpec:this.raw=k.raw,this.name=void 0,this.escapedName=void 0,this.scope=void 0,this.rawSpec=k.rawSpec||"",this.saveSpec=k.saveSpec,this.fetchSpec=k.fetchSpec,k.name&&this.setName(k.name),this.gitRange=k.gitRange,this.gitCommittish=k.gitCommittish,this.gitSubdir=k.gitSubdir,this.hosted=k.hosted}setName(k){let D=r(k);if(!D.validForOldPackages)throw O(k,D,this.raw);return this.name=k,this.scope=k[0]==="@"?k.slice(0,k.indexOf("/")):void 0,this.escapedName=k.replace("/","%2f"),this}toString(){let k=[];this.name!=null&&this.name!==""&&k.push(this.name);let D=this.saveSpec||this.fetchSpec||this.rawSpec;return D!=null&&D!==""&&k.push(D),k.length?k.join("@"):this.raw}toJSON(){let k=Object.assign({},this);return delete k.hosted,k}};function L(k,D){if(!D){k.gitCommittish=null;return}for(let T of D.split("::")){if(!T.includes(":")){if(k.gitRange)throw new Error("cannot override existing semver range with a committish");if(k.gitCommittish)throw new Error("cannot override existing committish with a second committish");k.gitCommittish=T;continue}let[C,Z]=T.split(":");if(C==="semver"){if(k.gitCommittish)throw new Error("cannot override existing committish with a semver range");if(k.gitRange)throw new Error("cannot override existing semver range with a second semver range");k.gitRange=decodeURIComponent(Z);continue}if(C==="path"){if(k.gitSubdir)throw new Error("cannot override existing path with a second path");k.gitSubdir=`/${Z}`;continue}s.warn("npm-package-arg",`ignoring unknown key "${C}"`)}}v(L,"setGitAttrs");var M=new Map([["\0","%00"],["	","%09"],[`
`,"%0A"],["\r","%0D"],[" ","%20"],['"',"%22"],["#","%23"],["%","%25"],["?","%3F"],["[","%5B"],["\\",h?"/":"%5C"],["]","%5D"],["^","%5E"],["|","%7C"],["~","%7E"]]);function x(k){let D="";for(let T=0;T<k.length;T++)D=`${D}${M.get(k[T])??k[T]}`;return D.startsWith("file:")?D:`file:${D}`}v(x,"pathToFileURL");function j(k,D){k.type=d.test(k.rawSpec)?"file":"directory",k.where=D;let T=x(k.rawSpec);T.startsWith("file:/")&&(/^file:\/\/[^/]/.test(T)&&(T=`file:/${T.slice(5)}`),/^\/{1,3}\.\.?(\/|$)/.test(T.slice(5))&&(T=T.replace(/^file:\/{1,3}/,"file:")));let C,Z;try{C=new p(T,`${x(o.resolve(D))}/`),Z=new p(T)}catch(N){let F=new Error("Invalid file: URL, must comply with RFC 8089");throw Object.assign(F,{raw:k.rawSpec,spec:k,where:D,originalError:N})}let Y=decodeURIComponent(Z.pathname),Q=decodeURIComponent(C.pathname);return h&&(Y=Y.replace(/^\/+([a-z]:\/)/i,"$1"),Q=Q.replace(/^\/+([a-z]:\/)/i,"$1")),/^\/~(\/|$)/.test(Y)?(k.saveSpec=`file:${Y.substr(1)}`,Q=o.resolve(l(),Y.substr(3))):o.isAbsolute(T.slice(5))?k.saveSpec=`file:${o.resolve(Q)}`:k.saveSpec=`file:${o.relative(D,Q)}`,k.fetchSpec=o.resolve(D,Q),k.saveSpec=k.saveSpec.split("\\").join("/"),k.saveSpec.startsWith("file://")&&(k.saveSpec=`file:/${k.saveSpec.slice(7)}`),k}v(j,"fromFile");function U(k,D){return k.type="git",k.hosted=D,k.saveSpec=D.toString({noGitPlus:!1,noCommittish:!1}),k.fetchSpec=D.getDefaultRepresentation()==="shortcut"?null:D.toString(),L(k,D.committish),k}v(U,"fromHostedGit");function V(k,D){let T=new Error(`Unsupported URL Type "${k}": ${D}`);return T.code="EUNSUPPORTEDPROTOCOL",T}v(V,"unsupportedURLType");function B(k){let D=k.rawSpec;if(k.saveSpec=D,D.startsWith("git+ssh:")){let C=D.match(/^git\+ssh:\/\/([^:#]+:[^#]+(?:\.git)?)(?:#(.*))?$/i);if(C&&!C[1].match(g))return k.type="git",L(k,C[2]),k.fetchSpec=C[1],k}else D.startsWith("git+file://")&&(D=D.replace(/\\/g,"/"));let T=new p(D);switch(T.protocol){case"git:":case"git+http:":case"git+https:":case"git+rsync:":case"git+ftp:":case"git+file:":case"git+ssh:":k.type="git",L(k,T.hash.slice(1)),T.protocol==="git+file:"&&/^git\+file:\/\/[a-z]:/i.test(D)?k.fetchSpec=`git+file://${T.host.toLowerCase()}:${T.pathname}`:(T.hash="",k.fetchSpec=T.toString()),k.fetchSpec.startsWith("git+")&&(k.fetchSpec=k.fetchSpec.slice(4));break;case"http:":case"https:":k.type="remote",k.fetchSpec=k.saveSpec;break;default:throw V(T.protocol,D)}return k}v(B,"fromURL");function G(k,D){let T=S(k.rawSpec.substr(4),D);if(T.type==="alias")throw new Error("nested aliases not supported");if(!T.registry)throw new Error("aliases only work for registry deps");if(!T.name)throw new Error("aliases must have a name");return k.subSpec=T,k.registry=!0,k.type="alias",k.saveSpec=null,k.fetchSpec=null,k}v(G,"fromAlias");function W(k){k.registry=!0;let D=k.rawSpec.trim();k.saveSpec=null,k.fetchSpec=D;let T=t.valid(D,!0),C=t.validRange(D,!0);if(T)k.type="version";else if(C)k.type="range";else{if(encodeURIComponent(D)!==D)throw R(D,k.raw);k.type="tag"}return k}v(W,"fromRegistry"),u.exports=S,u.exports.resolve=_,u.exports.toPurl=w,u.exports.Result=P}),Xd=J((e,u)=>{var h=require("process"),p=require("os"),o=require("fs");function l(g){return g.includes("libc.musl-")||g.includes("ld-musl-")}v(l,"isMusl");function n(){return h.platform}v(n,"os");function t(){return h.arch}v(t,"cpu");var r="/usr/bin/ldd";function s(){try{let g=o.readFileSync(r,"utf-8");return g.includes("musl")?"musl":g.includes("GNU C Library")?"glibc":null}catch{return}}v(s,"getFamilyFromFilesystem");function i(){let g=h.report.excludeNetwork;h.report.excludeNetwork=!0;let m=h.report.getReport();return h.report.excludeNetwork=g,m.header?.glibcVersionRuntime?c="glibc":Array.isArray(m.sharedObjects)&&m.sharedObjects.some(l)?c="musl":c=null,c}v(i,"getFamilyFromReport");var c;function a(g){if(g==="linux")return c===void 0&&(c=s(),c===void 0&&(c=i())),c}v(a,"libc");function d(g={}){let m=g.os||n();return{cpu:{name:g.cpu||t()},libc:{name:g.libc||a(m)},os:{name:m,version:g.osVersion||p.release()},packageManager:{name:"npm",version:g.npmVersion},runtime:{name:"node",version:g.nodeVersion||h.version}}}v(d,"devEngines"),u.exports={cpu:t,libc:a,os:n,devEngines:d}}),Qd=J((e,u)=>{var h=Vt(),p=_a(),o=["ignore","warn","error","download"],l=["name","version","onFail"],n=["packageManager","runtime","cpu","libc","os"];function t(s,i,c){let{engine:a}=c;if(typeof s!="object"||s===null||Array.isArray(s))throw new Error(`Invalid non-object value for "${a}"`);let d=Object.keys(s);for(let g of d)if(!l.includes(g))throw new Error(`Invalid property "${g}" for "${a}"`);if(!d.includes("name"))throw new Error(`Missing "name" property for "${a}"`);if(typeof s.name!="string")throw new Error(`Invalid non-string value for "name" within "${a}"`);if(typeof i.name!="string"||i.name==="")throw new Error(`Unable to determine "name" for "${a}"`);if(d.includes("onFail")){if(typeof s.onFail!="string")throw new Error(`Invalid non-string value for "onFail" within "${a}"`);if(!o.includes(s.onFail))throw new Error(`Invalid onFail value "${s.onFail}" for "${a}"`)}if(s.name!==i.name)return new Error(`Invalid name "${s.name}" does not match "${i.name}" for "${a}"`);if(d.includes("version")){if(typeof s.version!="string")throw new Error(`Invalid non-string value for "version" within "${a}"`);if(typeof i.version!="string"||i.version==="")throw new Error(`Unable to determine "version" for "${a}" "${s.name}"`);if(p(s.version)){if(!h(i.version,s.version,c.semver))return new Error(`Invalid semver version "${s.version}" does not match "${i.version}" for "${a}"`)}else if(s.version!==i.version)return new Error(`Invalid version "${s.version}" does not match "${i.version}" for "${a}"`)}}v(t,"checkDependency");function r(s,i={},c={}){if(typeof s!="object"||s===null||Array.isArray(s))throw new Error('Invalid non-object value for "devEngines"');let a=[];for(let d of Object.keys(s)){if(!n.includes(d))throw new Error(`Invalid property "devEngines.${d}"`);let g=s[d],m=[g].flat(),f=i[d]||{};if(m.length===0)continue;let y=[];for(let S of m){let b=t(S,f,{...c,engine:d});b&&y.push(b)}if(y.length===m.length){let S=m[m.length-1].onFail||"error";S==="download"&&(S="error");let b=Object.assign(new Error(`Invalid devEngines.${d}`),{errors:y,engine:d,isWarn:S==="warn",isError:S==="error",current:f,required:g});a.push(b)}}return a}v(r,"checkDevEngines"),u.exports={checkDevEngines:r}}),ef=J((e,u)=>{var h=wt(),p=Xd(),{checkDevEngines:o}=Qd(),l=v((r,s,i,c=!1)=>{let a=c?null:i,d=r.engines,g={includePrerelease:!0};if(!d)return;let m=a&&d.node&&!h.satisfies(a,d.node,g),f=s&&d.npm&&!h.satisfies(s,d.npm,g);if(m||f)throw Object.assign(new Error("Unsupported engine"),{pkgid:r._id,current:{node:i,npm:s},required:d,code:"EBADENGINE"})},"checkEngine"),n=v((r,s=!1,i={})=>{if(s)return;let c=i.os||p.os(),a=i.cpu||p.cpu(),d=i.libc||p.libc(c),g=r.os?t(c,r.os):!0,m=r.cpu?t(a,r.cpu):!0,f=r.libc?t(d,r.libc):!0;if(r.libc&&!d&&(f=!1),!g||!m||!f)throw Object.assign(new Error("Unsupported platform"),{pkgid:r._id,current:{os:c,cpu:a,libc:d},required:{os:r.os,cpu:r.cpu,libc:r.libc},code:"EBADPLATFORM"})},"checkPlatform"),t=v((r,s)=>{if(typeof s=="string"&&(s=[s]),s.length===1&&s[0]==="any")return!0;let i=0,c=!1;for(let a of s){let d=a.charAt(0)==="!",g=d?a.slice(1):a;if(d){if(i++,r===g)return!1}else c=c||r===g}return c||i===s.length},"checkList");u.exports={checkEngine:l,checkPlatform:n,checkDevEngines:o,currentEnv:p}}),fi=J((e,u)=>{var{join:h,basename:p}=require("path"),o=v(s=>s.bin?typeof s.bin=="string"?l(s):Array.isArray(s.bin)?n(s):typeof s.bin=="object"?r(s):t(s):t(s),"normalize"),l=v(s=>s.name?(s.bin={[s.name]:s.bin},r(s)):t(s),"normalizeString"),n=v(s=>(s.bin=s.bin.reduce((i,c)=>(i[p(c)]=c,i),{}),r(s)),"normalizeArray"),t=v(s=>(delete s.bin,s),"removeBin"),r=v(s=>{let i=s.bin,c={},a=!1;return Object.keys(i).forEach(d=>{let g=h("/",p(d.replace(/\\|:/g,"/"))).slice(1);if(typeof i[d]!="string"||!g)return;let m=h("/",i[d].replace(/\\/g,"/")).replace(/\\/g,"/").slice(1);m&&(c[g]=m,a=!0)}),a?s.bin=c:delete s.bin,s},"normalizeObject");u.exports=o}),gi=J((e,u)=>{"use strict";var h=Yd(),p=wt(),{checkEngine:o}=ef(),l=fi(),n=v((a,d,g)=>{try{return o(a,d,g),!0}catch{return!1}},"engineOk"),t=v((a,d,g)=>!a||!a[d]||Date.parse(a[d])<=g,"isBefore"),r={includePrerelease:!0,loose:!0},s=v((a,d)=>d&&p.satisfies(a,d,r),"shouldAvoid"),i=v((a,d)=>a&&s(a.version,d)?{...a,_shouldAvoid:!0}:a,"decorateAvoid"),c=v((a,d,g)=>{let{defaultTag:m="latest",before:f=null,nodeVersion:y=process.version,npmVersion:S=null,includeStaged:b=!1,avoid:E=null,avoidStrict:_=!1}=g,{name:w,time:O}=a,R=a.versions||{};if(_){let W={...g,avoidStrict:!1},k=c(a,d,W);if(!k||!k._shouldAvoid)return k;let D=c(a,`^${k.version}`,W);if(!D||!D._shouldAvoid)return{...D,_outsideDependencyRange:!0,_isSemVerMajor:!1};let T=c(a,"*",W);if(!T||!T._shouldAvoid)return{...T,_outsideDependencyRange:!0,_isSemVerMajor:!0};throw Object.assign(new Error(`No avoidable versions for ${w}`),{code:"ETARGET",name:w,wanted:d,avoid:E,before:f,versions:Object.keys(R)})}let I=b&&a.stagedVersions&&a.stagedVersions.versions||{},P=a.policyRestrictions&&a.policyRestrictions.versions||{},L=f&&O?+new Date(f):1/0,M=h.resolve(w,d||m).type,x=a["dist-tags"]||{};if(M!=="tag"&&M!=="version"&&M!=="range")throw new Error("Only tag, version, and range are supported");if(d&&M==="tag"){let W=x[d];return t(O,W,L)?i(R[W]||I[W]||P[W],E):c(a,`<=${W}`,g)}if(d&&M==="version"){let W=p.clean(d,{loose:!0}),k=R[W]||I[W]||P[W];return t(O,W,L)?i(k,E):null}let j=M==="range"?d:"*",U=x[m];if(U&&(j==="*"||p.satisfies(U,j,{loose:!0}))&&!P[U]&&!s(U,E)){let W=R[U];if(W&&t(O,U,L)&&n(W,S,y)&&!W.deprecated&&!I[U])return W}let V=Object.entries(R).concat(Object.entries(I)).concat(Object.entries(P)).filter(([W])=>t(O,W,L));if(!V.length)throw Object.assign(new Error(`No versions available for ${w}`),{code:"ENOVERSIONS",name:w,type:M,wanted:d,before:f,versions:Object.keys(R)});let B={loose:!0},G=V.filter(([W])=>p.satisfies(W,j,{loose:!0})).sort((W,k)=>{let[D,T]=W,[C,Z]=k,Y=!s(D,E),Q=!s(C,E),N=!P[D],F=!P[C],z=!I[D],$=!I[C],K=!T.deprecated,q=!Z.deprecated,X=n(T,S,y),A=n(Z,S,y);return Q-Y||F-N||$-z||(q&&A)-(K&&X)||A-X||q-K||p.rcompare(D,C,B)});return i(G[0]&&G[0][1],E)},"pickManifest");u.exports=(a,d,g={})=>{let m=c(a,d,g),f=m&&l(m),y=a.policyRestrictions,S=y&&y.versions||{};if(f&&!S[f.version])return f;let{before:b=null,defaultTag:E="latest"}=g,_=b?new Date(b).toLocaleString():"",{name:w}=a,O=`${w}@${d}`+(b?` with a date before ${_}`:""),R=f&&!!S[f.version],I=R?y.message:"",P=R?`Could not download ${O} due to policy violations:
${I}`:`No matching version found for ${O}.`,L=R?"E403":"ETARGET";throw Object.assign(new Error(P),{code:L,type:h.resolve(a.name,d).type,wanted:d,versions:Object.keys(a.versions??{}),name:w,distTags:a["dist-tags"],defaultTag:E})}}),tf=J((e,u)=>{var h=new Set(["github.com","gist.github.com","gitlab.com","bitbucket.com","bitbucket.org"]),{parse:p}=require("url"),o=require("path"),l=wa(),n=wr(),{isWindows:t}=Kd(),r=gi(),s=require("internal/fs/promises");u.exports=(b,E="HEAD",_=null,w={})=>l(b,w).then(O=>a(b,O,E,d(O,E,w),_||c(b,w.cwd),w));var i=v((b,E)=>E.gitShallow===!1||E.gitShallow?E.gitShallow:h.has(p(b).host),"maybeShallow"),c=v((b,E=process.cwd())=>o.resolve(E,o.basename(b.replace(/[/\\]?\.git$/,""))),"defaultTarget"),a=v((b,E,_,w,O,R)=>w?w.sha===E.refs.HEAD.sha?f(b,w,O,R):w.type==="tag"||w.type==="branch"?m(b,w,O,R):g(b,w,O,R):S(b,_,O,R),"clone"),d=v((b,E,_)=>{let{spec:w={}}=_;return E=w.gitCommittish||E,b?w.gitRange?r(b,w.gitRange,_):E?b.refs[E]?b.refs[E]:b.shas[E]?b.refs[b.shas[E][0]]:null:b.refs.HEAD:null},"resolveRef"),g=v((b,E,_,w)=>{let O=i(b,w),R=["fetch","origin",E.rawRef].concat(O?["--depth=1"]:[]),I=v(P=>n(P,{...w,cwd:_}),"git");return s.mkdir(_,{recursive:!0}).then(()=>I(["init"])).then(()=>t(w)?I(["config","--local","--add","core.longpaths","true"]):null).then(()=>I(["remote","add","origin",b])).then(()=>I(R)).then(()=>I(["checkout",E.sha])).then(()=>y(_,w)).then(()=>E.sha)},"other"),m=v((b,E,_,w)=>{let O=["clone","-b",E.ref,b,_,"--recurse-submodules"];return i(b,w)&&O.push("--depth=1"),t(w)&&O.push("--config","core.longpaths=true"),n(O,w).then(()=>E.sha)},"branch"),f=v((b,E,_,w)=>{let O=["clone",b,_,"--recurse-submodules"];return i(b,w)&&O.push("--depth=1"),t(w)&&O.push("--config","core.longpaths=true"),n(O,w).then(()=>E.sha)},"plain"),y=v(async(b,E)=>await s.stat(`${b}/.gitmodules`).then(()=>!0).catch(()=>!1)?n(["submodule","update","-q","--init","--recursive"],{...E,cwd:b}):null,"updateSubmodules"),S=v((b,E,_,w)=>{let O=t(w)?["--config","core.longpaths=true"]:[],R=["clone","--mirror","-q",b,_+"/.git"],I=v(P=>n(P,{...w,cwd:_}),"git");return s.mkdir(_,{recursive:!0}).then(()=>I(R.concat(O))).then(()=>I(["init"])).then(()=>I(["checkout",E])).then(()=>y(_,w)).then(()=>I(["rev-parse","--revs-only","HEAD"])).then(({stdout:P})=>P.trim())},"unresolved")}),Ra=J((e,u)=>{var{stat:h}=require("internal/fs/promises");u.exports=({cwd:p=process.cwd()}={})=>h(p+"/.git").then(()=>!0,()=>!1)}),rf=J((e,u)=>{var h=Ra(),{dirname:p}=require("path");u.exports=async({cwd:o=process.cwd(),root:l}={})=>{for(;;){if(await h({cwd:o}))return o;let n=p(o);if(o===l||o===n)return null;o=n}}}),sf=J((e,u)=>{var h=wr();u.exports=(p={})=>h(["status","--porcelain=v1","-uno"],p).then(o=>!o.stdout.trim().split(/\r?\n+/).map(l=>l.trim()).filter(l=>l).length)}),Ca=J((e,u)=>{u.exports={clone:tf(),revs:wa(),spawn:wr(),is:Ra(),find:rf(),isClean:sf(),errors:ma()}}),nf=J((e,u)=>{var h=ta(),p=ra(),o=require("internal/fs/promises"),l=require("path"),{log:n}=We(),t=require("module"),r;function s(){return r||(r=ai()),r}v(s,"lazyHostedGitInfo");var i;function c(){return i||(i=pa().glob),i}v(c,"lazyLoadGlob");function a(w,O){if(w.bin&&(typeof w.bin=="string"&&w.name?(O?.push('"bin" was converted to an object'),w.bin={[w.name]:w.bin}):Array.isArray(w.bin)&&(O?.push('"bin" was converted to an object'),w.bin=w.bin.reduce((R,I)=>(R[l.basename(I)]=I,R),{})),typeof w.bin=="object")){for(let R in w.bin){if(typeof w.bin[R]!="string"){delete w.bin[R],O?.push(`removed invalid "bin[${R}]"`);continue}let I=l.basename(y(R));if(!I){delete w.bin[R],O?.push(`removed invalid "bin[${R}]"`);continue}let P=y(w.bin[R]);if(!P){delete w.bin[R],O?.push(`removed invalid "bin[${R}]"`);continue}I!==R&&(delete w.bin[R],O?.push(`"bin[${R}]" was renamed to "bin[${I}]"`)),P!==w.bin[R]&&O?.push(`"bin[${I}]" script name ${P} was invalid and removed`),w.bin[I]=P}return Object.keys(w.bin).length===0&&(O?.push('empty "bin" was removed'),delete w.bin),w}delete w.bin}v(a,"normalizePackageBin");function d(w,O){if(w.man){let R=[];for(let I of Array.isArray(w.man)?w.man:[w.man])typeof I!="string"?O?.push(`removed invalid "man [${I}]"`):R.push(y(I));if(!R.length)O?.push('empty "man" was removed');else return w.man=R,w}delete w.man}v(d,"normalizePackageMan");function g(w){return!w.match(/[/@\s+%:]/)&&w===encodeURIComponent(w)}v(g,"isCorrectlyEncodedName");function m(w){if(w.charAt(0)!=="@")return!1;let O=w.slice(1).split("/");return O.length!==2?!1:O[0]&&O[1]&&O[0]===encodeURIComponent(O[0])&&O[1]===encodeURIComponent(O[1])}v(m,"isValidScopedPackageName");function f(w){return w.replace(/\\|:/g,"/")}v(f,"unixifyPath");function y(w){let O=f(l.join(".",l.join("/",f(w))));return O.startsWith("./")?"":O}v(y,"secureAndUnixifyPath");function S(w,{strict:O,steps:R,changes:I,allowLegacyCase:P}){let L=w.content,M=`${L.name??""}@${L.version??""}`;if(R.includes("fixName")||R.includes("fixNameField")||R.includes("normalizeData"))if(!L.name&&!O)I?.push('Missing "name" field was set to an empty string'),L.name="";else{if(typeof L.name!="string")throw new Error("name field must be a string.");if(!O){let x=L.name.trim();L.name!==x&&(I?.push('Whitespace was trimmed from "name"'),L.name=x)}if(L.name.startsWith(".")||!(m(L.name)||g(L.name))||O&&!P&&L.name!==L.name.toLowerCase()||L.name.toLowerCase()==="node_modules"||L.name.toLowerCase()==="favicon.ico")throw new Error("Invalid name: "+JSON.stringify(L.name))}if(R.includes("fixName")&&t.builtinModules.includes(L.name)&&n.warn("package-json",M,`Package name "${L.name}" conflicts with a Node.js built-in module name`),R.includes("fixVersionField")||R.includes("normalizeData")){let x=!O;if(!L.version)L.version="";else{if(!h(L.version,x))throw new Error(`Invalid version: "${L.version}"`);let j=p(L.version,x);j!==L.version&&(I?.push(`"version" was cleaned and set to "${j}"`),L.version=j)}}if(R.includes("_attributes"))for(let x in L)x.startsWith("_")&&(I?.push(`"${x}" was removed`),delete w.content[x]);if(R.includes("_id")&&L.name&&L.version&&(I?.push(`"_id" was set to ${M}`),L._id=M),R.includes("bundledDependencies")&&(L.bundleDependencies===void 0&&L.bundledDependencies!==void 0&&(L.bundleDependencies=L.bundledDependencies,I?.push('Deleted incorrect "bundledDependencies"')),delete L.bundledDependencies),R.includes("bundleDependencies")){let x=L.bundleDependencies;x===!1&&!R.includes("bundleDependenciesDeleteFalse")?(I?.push('"bundleDependencies" was changed from "false" to "[]"'),L.bundleDependencies=[]):x===!0?(I?.push('"bundleDependencies" was auto-populated from "dependencies"'),L.bundleDependencies=Object.keys(L.dependencies||{})):x&&typeof x=="object"?Array.isArray(x)||(I?.push('"bundleDependencies" was changed from an object to an array'),L.bundleDependencies=Object.keys(x)):"bundleDependencies"in L&&(I?.push('"bundleDependencies" was removed'),delete L.bundleDependencies)}if(R.includes("optionalDedupe")&&L.dependencies&&L.optionalDependencies&&typeof L.optionalDependencies=="object"){for(let x in L.optionalDependencies)I?.push(`optionalDependencies."${x}" was removed`),delete L.dependencies[x];Object.keys(L.dependencies).length||(I?.push('Empty "optionalDependencies" was removed'),delete L.dependencies)}if((R.includes("scripts")||R.includes("scriptpath"))&&L.scripts!==void 0){let x=/^(\.[/\\])?node_modules[/\\].bin[\\/]/;if(typeof L.scripts=="object")for(let j in L.scripts)typeof L.scripts[j]!="string"?(delete L.scripts[j],I?.push(`Invalid scripts."${j}" was removed`)):R.includes("scriptpath")&&x.test(L.scripts[j])&&(L.scripts[j]=L.scripts[j].replace(x,""),I?.push(`scripts entry "${j}" was fixed to remove node_modules/.bin reference`));else I?.push('Removed invalid "scripts"'),delete L.scripts}if(R.includes("funding")&&L.funding&&typeof L.funding=="string"&&(L.funding={url:L.funding},I?.push('"funding" was changed to an object with a url attribute')),(R.includes("fixRepositoryField")||R.includes("normalizeData"))&&(L.repositories&&(I?.push(`"repository" was set to the first entry in "repositories" (${L.repository})`),L.repository=L.repositories[0]),L.repository&&(typeof L.repository=="string"&&(I?.push('"repository" was changed from a string to an object'),L.repository={type:"git",url:L.repository}),L.repository.url))){let x=s().fromUrl(L.repository.url),j;x&&(x.getDefaultRepresentation()==="shortcut"?j=x.https():j=x.toString(),j!==L.repository.url&&(I?.push(`"repository.url" was normalized to "${j}"`),L.repository.url=j))}if(R.includes("fixDependencies")||R.includes("normalizeData")){for(let x of["dependencies","devDependencies","optionalDependencies"])if(L[x]){let j=!0;if(typeof L[x]=="string"&&(I?.push(`"${x}" was converted from a string into an object`),L[x]=L[x].trim().split(/[\n\r\s\t ,]+/),j=!1),Array.isArray(L[x])){j&&I?.push(`"${x}" was converted from an array into an object`);let U={};for(let V of L[x])if(typeof V=="string"){let B=V.trim().split(/(:?[@\s><=])/),G=B.shift(),W=B.join("").replace(/^@/,"").trim();U[G]=W}L[x]=U}}for(let x of["dependencies","devDependencies"])if(x in L)if(!L[x]||typeof L[x]!="object")I?.push(`Removed invalid "${x}"`),delete L[x];else for(let j in L[x]){typeof L[x][j]!="string"&&(I?.push(`Removed invalid "${x}.${j}"`),delete L[x][j]);let U=s().fromUrl(L[x][j])?.toString();U&&U!==L[x][j]&&(I?.push(`Normalized git reference to "${x}.${j}"`),L[x][j]=U.toString())}}if(R.includes("normalizeData")){let{normalizeData:x}=hd();x(L,I)}}v(S,"syncSteps");async function b(w,{steps:O,root:R,changes:I}){let P=w.content,L=P.scripts||{},M=`${P.name??""}@${P.version??""}`;if(O.includes("gypfile")&&!L.install&&!L.preinstall&&P.gypfile!==!1&&(await c()("*.gyp",{cwd:w.path})).length&&(L.install="node-gyp rebuild",P.scripts=L,P.gypfile=!0,I?.push('"scripts.install" was set to "node-gyp rebuild"'),I?.push('"gypfile" was set to "true"')),O.includes("serverjs")&&!L.start)try{await o.access(l.join(w.path,"server.js")),L.start="node server.js",P.scripts=L,I?.push('"scripts.start" was set to "node server.js"')}catch{}if(O.includes("authors")&&!P.contributors)try{let x=(await o.readFile(l.join(w.path,"AUTHORS"),"utf8")).split(/\r?\n/g).map(j=>j.replace(/^\s*#.*$/,"").trim()).filter(j=>j);P.contributors=x,I?.push('"contributors" was auto-populated with the contents of the "AUTHORS" file')}catch{}if(O.includes("readme")&&!P.readme){let x=/\.m?a?r?k?d?o?w?n?$/i,j=await c()("{README,README.*}",{cwd:w.path,nocase:!0,mark:!0}),U;for(let V of j)if(!V.endsWith(l.sep)){if(V.match(x)){U=V;break}V.endsWith("README")&&(U=V)}if(U){let V=await o.readFile(l.join(w.path,U),"utf8");P.readme=V,P.readmeFilename=U,I?.push(`"readme" was set to the contents of ${U}`),I?.push(`"readmeFilename" was set to ${U}`)}P.readme||(P.readme="ERROR: No README data found!")}if(O.includes("mans")){if(P.directories?.man&&!P.man){let x=y(P.directories.man),j=l.resolve(w.path,x),U=await c()("**/*.[0-9]",{cwd:j});P.man=U.map(V=>l.relative(w.path,l.join(j,V)).split(l.sep).join("/"))}d(P,I)}if(O.includes("binDir")&&P.directories?.bin&&!P.bin){let x=y(P.directories.bin),j=await c()("**",{cwd:l.resolve(w.path,x)});P.bin=j.reduce((U,V)=>{if(V&&!V.startsWith(".")){let B=l.basename(V);U[B]=`${x}/${y(V)}`}return U},{})}else(O.includes("bin")||O.includes("binDir")||O.includes("binRefs"))&&a(P,I);if(O.includes("gitHead")&&!P.gitHead){let x=await Ca().find({cwd:w.path,root:R}),j;if(x)try{j=await o.readFile(l.resolve(x,".git/HEAD"),"utf8")}catch{}let U;if(j)if(j.startsWith("ref: ")){let V=j.replace(/^ref: /,"").trim(),B=l.resolve(x,".git",V);try{U=await o.readFile(B,"utf8"),U=U.replace(/^ref: /,"").trim()}catch{}if(!U){let G=l.resolve(x,".git/packed-refs");try{let W=await o.readFile(G,"utf8");if(W){W=W.split(`
`);for(let k=0;k<W.length;k++){let D=W[k].match(/^([0-9a-f]{40}) (.+)$/);if(D&&D[2].trim()===V){U=D[1];break}}}}catch{}}}else U=j.trim();U&&(P.gitHead=U)}if(O.includes("fillTypes")){let x=P.main||"index.js";if(typeof x!="string")throw new TypeError('The "main" attribute must be of type string.');let j=`./${l.join(l.dirname(x),l.basename(x,l.extname(x)))}.d.ts`;if(!("types"in P||"typings"in P))try{await o.access(l.join(w.path,j)),P.types=j.split(l.sep).join("/")}catch{}}if(O.includes("binRefs")&&P.bin instanceof Object)for(let x in P.bin)try{await o.access(l.resolve(w.path,P.bin[x]))}catch{n.warn("package-json",M,`No bin file found at ${P.bin[x]}`)}}v(b,"asyncSteps");async function E(w,O){if(!w.content)throw new Error("Can not normalize without content");await b(w,O),S(w,O)}v(E,"normalize");function _(w,O){S(w,O)}v(_,"syncNormalize"),u.exports={normalize:E,syncNormalize:_}}),of=J((e,u)=>{var{readFile:h}=require("internal/fs/promises"),p=Qo();async function o(t){try{return await h(t,"utf8")}catch(r){throw r.message=`Could not read package.json: ${r}`,r}}v(o,"read");function l(t){try{return p(t)}catch(r){throw r.message=`Invalid package.json: ${r}`,r}}v(l,"parse");async function n(t){let r=await o(t);return l(r)}v(n,"readPackage"),u.exports={read:o,parse:l,readPackage:n}}),af=J((e,u)=>{function h(p){let{name:o,version:l,private:n,description:t,keywords:r,homepage:s,bugs:i,repository:c,funding:a,license:d,author:g,maintainers:m,contributors:f,type:y,imports:S,exports:b,main:E,browser:_,types:w,bin:O,man:R,directories:I,files:P,workspaces:L,scripts:M,config:x,dependencies:j,devDependencies:U,peerDependencies:V,peerDependenciesMeta:B,optionalDependencies:G,bundledDependencies:W,bundleDependencies:k,engines:D,os:T,cpu:C,publishConfig:Z,devEngines:Y,licenses:Q,overrides:N,...F}=p;return{...typeof o<"u"?{name:o}:{},...typeof l<"u"?{version:l}:{},...typeof n<"u"?{private:n}:{},...typeof t<"u"?{description:t}:{},...typeof r<"u"?{keywords:r}:{},...typeof s<"u"?{homepage:s}:{},...typeof i<"u"?{bugs:i}:{},...typeof c<"u"?{repository:c}:{},...typeof a<"u"?{funding:a}:{},...typeof d<"u"?{license:d}:{},...typeof g<"u"?{author:g}:{},...typeof m<"u"?{maintainers:m}:{},...typeof f<"u"?{contributors:f}:{},...typeof y<"u"?{type:y}:{},...typeof S<"u"?{imports:S}:{},...typeof b<"u"?{exports:b}:{},...typeof E<"u"?{main:E}:{},...typeof _<"u"?{browser:_}:{},...typeof w<"u"?{types:w}:{},...typeof O<"u"?{bin:O}:{},...typeof R<"u"?{man:R}:{},...typeof I<"u"?{directories:I}:{},...typeof P<"u"?{files:P}:{},...typeof L<"u"?{workspaces:L}:{},...typeof M<"u"?{scripts:M}:{},...typeof x<"u"?{config:x}:{},...typeof j<"u"?{dependencies:j}:{},...typeof U<"u"?{devDependencies:U}:{},...typeof V<"u"?{peerDependencies:V}:{},...typeof B<"u"?{peerDependenciesMeta:B}:{},...typeof G<"u"?{optionalDependencies:G}:{},...typeof W<"u"?{bundledDependencies:W}:{},...typeof k<"u"?{bundleDependencies:k}:{},...typeof D<"u"?{engines:D}:{},...typeof T<"u"?{os:T}:{},...typeof C<"u"?{cpu:C}:{},...typeof Z<"u"?{publishConfig:Z}:{},...typeof Y<"u"?{devEngines:Y}:{},...typeof Q<"u"?{licenses:Q}:{},...typeof N<"u"?{overrides:N}:{},...F}}v(h,"packageSort"),u.exports={packageSort:h}}),mi=J((e,u)=>{var{readFile:h,writeFile:p}=require("internal/fs/promises"),{resolve:o}=require("path"),l=Qo(),n=Kp(),t=Jp(),r=qp(),{normalize:s,syncNormalize:i}=nf(),{read:c,parse:a}=of(),{packageSort:d}=af(),g=new Set([n,t,r]),m=new Set([...n.knownKeys,"scripts","workspaces"]),f=class yt{static{v(this,"PackageJson")}static fixSteps=Object.freeze(["binRefs","bundleDependencies","fixName","fixVersionField","fixRepositoryField","fixDependencies","devDependencies","scriptpath"]);static normalizeSteps=Object.freeze(["_id","_attributes","bundledDependencies","bundleDependencies","optionalDedupe","scripts","funding","bin","binDir"]);static prepareSteps=Object.freeze(["_id","_attributes","bundledDependencies","bundleDependencies","bundleDependenciesDeleteFalse","gypfile","serverjs","scriptpath","authors","readme","mans","binDir","gitHead","fillTypes","normalizeData","binRefs"]);static async create(S,b={}){let E=new yt;return await E.create(S),b.data?E.update(b.data):E}static async load(S,b={}){let E=new yt;if(!b.create)return E.load(S);try{return await E.load(S)}catch(_){if(!_.message.startsWith("Could not read package.json"))throw _;return await E.create(S)}}static async fix(S,b){let E=new yt;return await E.load(S,!0),E.fix(b)}static async prepare(S,b){let E=new yt;return await E.load(S,!0),E.prepare(b)}static async normalize(S,b){let E=new yt;return await E.load(S),E.normalize(b)}#e;#t;#r="";#s=!0;async load(S,b){this.#e=S;let E;try{this.#r=await c(this.filename)}catch(_){if(!b)throw _;E=_}if(E){let _=o(this.path,"index.js"),w;try{w=await h(_,"utf8")}catch{throw E}try{this.fromComment(w)}catch{throw E}return this.#s=!1,this}return this.fromJSON(this.#r)}fromJSON(S){return this.#t=a(S),this}fromContent(S){if(!S||typeof S!="object")throw new Error("Content data must be an object");return this.#t=S,this.#s=!1,this}fromComment(S){if(S=S.split(/^\/\*\*package(?:\s|$)/m),S.length<2)throw new Error("File has no package in comments");if(S=S[1],S=S.split(/\*\*\/$/m),S.length<2)throw new Error("File has no package in comments");return S=S[0],S=S.replace(/^\s*\*/mg,""),this.#t=l(S),this}get content(){return this.#t}get path(){return this.#e}get filename(){if(this.path)return o(this.path,"package.json")}create(S){return this.#e=S,this.#t={},this}update(S){if(!this.content)throw new Error("Can not update without content.  Please `load` or `create`");for(let b of g)this.#t=b({content:S,originalContent:this.content});for(let[b,E]of Object.entries(S))m.has(b)||(this.content[b]=E);return this}async save({sort:S}={}){if(!this.#s)throw new Error("No package.json to save to");let{[Symbol.for("indent")]:b,[Symbol.for("newline")]:E,..._}=this.content,w=b===void 0?"  ":b,O=E===void 0?`
`:E,R=S?d(_):_,I=`${JSON.stringify(R,null,w)}
`.replace(/\n/g,O);if(I.trim()!==this.#r.trim()){let P=await p(this.filename,I);return this.#r=I,P}}syncNormalize(S={}){return S.steps=this.constructor.normalizeSteps.filter(b=>b!=="_attributes"),i(this,S),this}async normalize(S={}){return S.steps||(S.steps=this.constructor.normalizeSteps),await s(this,S),this}async prepare(S={}){return S.steps||(S.steps=this.constructor.prepareSteps),await s(this,S),this}async fix(S={}){return S.steps=this.constructor.fixSteps,await s(this,S),this}};u.exports=f}),Ia=J((e,u)=>{var{Minipass:h}=Ae(),p=Symbol("_data"),o=Symbol("_length"),l=class extends h{static{v(this,"Collect")}constructor(t){super(t),this[p]=[],this[o]=0}write(t,r,s){typeof r=="function"&&(s=r,r="utf8"),r||(r="utf8");let i=Buffer.isBuffer(t)?t:Buffer.from(t,r);return this[p].push(i),this[o]+=i.length,s&&s(),!0}end(t,r,s){typeof t=="function"&&(s=t,t=null),typeof r=="function"&&(s=r,r="utf8"),t&&this.write(t,r);let i=Buffer.concat(this[p],this[o]);return super.write(i),super.end(s)}};u.exports=l;var n=class extends h{static{v(this,"CollectPassThrough")}constructor(t){super(t),this[p]=[],this[o]=0}write(t,r,s){typeof r=="function"&&(s=r,r="utf8"),r||(r="utf8");let i=Buffer.isBuffer(t)?t:Buffer.from(t,r);return this[p].push(i),this[o]+=i.length,super.write(t,r,s)}end(t,r,s){typeof t=="function"&&(s=t,t=null),typeof r=="function"&&(s=r,r="utf8"),t&&this.write(t,r);let i=Buffer.concat(this[p],this[o]);return this.emit("collect",i),super.end(s)}};u.exports.PassThrough=n}),yi=J((e,u)=>{"use strict";var h=typeof process=="object"&&process?process:{stdout:null,stderr:null},p=require("events"),o=require("stream"),l=require("string_decoder").StringDecoder,n=Symbol("EOF"),t=Symbol("maybeEmitEnd"),r=Symbol("emittedEnd"),s=Symbol("emittingEnd"),i=Symbol("emittedError"),c=Symbol("closed"),a=Symbol("read"),d=Symbol("flush"),g=Symbol("flushChunk"),m=Symbol("encoding"),f=Symbol("decoder"),y=Symbol("flowing"),S=Symbol("paused"),b=Symbol("resume"),E=Symbol("bufferLength"),_=Symbol("bufferPush"),w=Symbol("bufferShift"),O=Symbol("objectMode"),R=Symbol("destroyed"),I=Symbol("emitData"),P=Symbol("emitEnd"),L=Symbol("emitEnd2"),M=Symbol("async"),x=v(T=>Promise.resolve().then(T),"defer"),j=global._MP_NO_ITERATOR_SYMBOLS_!=="1",U=j&&Symbol.asyncIterator||Symbol("asyncIterator not implemented"),V=j&&Symbol.iterator||Symbol("iterator not implemented"),B=v(T=>T==="end"||T==="finish"||T==="prefinish","isEndish"),G=v(T=>T instanceof ArrayBuffer||typeof T=="object"&&T.constructor&&T.constructor.name==="ArrayBuffer"&&T.byteLength>=0,"isArrayBuffer"),W=v(T=>!Buffer.isBuffer(T)&&ArrayBuffer.isView(T),"isArrayBufferView"),k=class{static{v(this,"Pipe")}constructor(T,C,Z){this.src=T,this.dest=C,this.opts=Z,this.ondrain=()=>T[b](),C.on("drain",this.ondrain)}unpipe(){this.dest.removeListener("drain",this.ondrain)}proxyErrors(){}end(){this.unpipe(),this.opts.end&&this.dest.end()}},D=class extends k{static{v(this,"PipeProxyErrors")}unpipe(){this.src.removeListener("error",this.proxyErrors),super.unpipe()}constructor(T,C,Z){super(T,C,Z),this.proxyErrors=Y=>C.emit("error",Y),T.on("error",this.proxyErrors)}};u.exports=class Ta extends o{static{v(this,"Minipass")}constructor(C){super(),this[y]=!1,this[S]=!1,this.pipes=[],this.buffer=[],this[O]=C&&C.objectMode||!1,this[O]?this[m]=null:this[m]=C&&C.encoding||null,this[m]==="buffer"&&(this[m]=null),this[M]=C&&!!C.async||!1,this[f]=this[m]?new l(this[m]):null,this[n]=!1,this[r]=!1,this[s]=!1,this[c]=!1,this[i]=null,this.writable=!0,this.readable=!0,this[E]=0,this[R]=!1}get bufferLength(){return this[E]}get encoding(){return this[m]}set encoding(C){if(this[O])throw new Error("cannot set encoding in objectMode");if(this[m]&&C!==this[m]&&(this[f]&&this[f].lastNeed||this[E]))throw new Error("cannot change encoding");this[m]!==C&&(this[f]=C?new l(C):null,this.buffer.length&&(this.buffer=this.buffer.map(Z=>this[f].write(Z)))),this[m]=C}setEncoding(C){this.encoding=C}get objectMode(){return this[O]}set objectMode(C){this[O]=this[O]||!!C}get async(){return this[M]}set async(C){this[M]=this[M]||!!C}write(C,Z,Y){if(this[n])throw new Error("write after end");if(this[R])return this.emit("error",Object.assign(new Error("Cannot call write after a stream was destroyed"),{code:"ERR_STREAM_DESTROYED"})),!0;typeof Z=="function"&&(Y=Z,Z="utf8"),Z||(Z="utf8");let Q=this[M]?x:N=>N();return!this[O]&&!Buffer.isBuffer(C)&&(W(C)?C=Buffer.from(C.buffer,C.byteOffset,C.byteLength):G(C)?C=Buffer.from(C):typeof C!="string"&&(this.objectMode=!0)),this[O]?(this.flowing&&this[E]!==0&&this[d](!0),this.flowing?this.emit("data",C):this[_](C),this[E]!==0&&this.emit("readable"),Y&&Q(Y),this.flowing):C.length?(typeof C=="string"&&!(Z===this[m]&&!this[f].lastNeed)&&(C=Buffer.from(C,Z)),Buffer.isBuffer(C)&&this[m]&&(C=this[f].write(C)),this.flowing&&this[E]!==0&&this[d](!0),this.flowing?this.emit("data",C):this[_](C),this[E]!==0&&this.emit("readable"),Y&&Q(Y),this.flowing):(this[E]!==0&&this.emit("readable"),Y&&Q(Y),this.flowing)}read(C){if(this[R])return null;if(this[E]===0||C===0||C>this[E])return this[t](),null;this[O]&&(C=null),this.buffer.length>1&&!this[O]&&(this.encoding?this.buffer=[this.buffer.join("")]:this.buffer=[Buffer.concat(this.buffer,this[E])]);let Z=this[a](C||null,this.buffer[0]);return this[t](),Z}[a](C,Z){return C===Z.length||C===null?this[w]():(this.buffer[0]=Z.slice(C),Z=Z.slice(0,C),this[E]-=C),this.emit("data",Z),!this.buffer.length&&!this[n]&&this.emit("drain"),Z}end(C,Z,Y){return typeof C=="function"&&(Y=C,C=null),typeof Z=="function"&&(Y=Z,Z="utf8"),C&&this.write(C,Z),Y&&this.once("end",Y),this[n]=!0,this.writable=!1,(this.flowing||!this[S])&&this[t](),this}[b](){this[R]||(this[S]=!1,this[y]=!0,this.emit("resume"),this.buffer.length?this[d]():this[n]?this[t]():this.emit("drain"))}resume(){return this[b]()}pause(){this[y]=!1,this[S]=!0}get destroyed(){return this[R]}get flowing(){return this[y]}get paused(){return this[S]}[_](C){this[O]?this[E]+=1:this[E]+=C.length,this.buffer.push(C)}[w](){return this.buffer.length&&(this[O]?this[E]-=1:this[E]-=this.buffer[0].length),this.buffer.shift()}[d](C){do;while(this[g](this[w]()));!C&&!this.buffer.length&&!this[n]&&this.emit("drain")}[g](C){return C?(this.emit("data",C),this.flowing):!1}pipe(C,Z){if(this[R])return;let Y=this[r];return Z=Z||{},C===h.stdout||C===h.stderr?Z.end=!1:Z.end=Z.end!==!1,Z.proxyErrors=!!Z.proxyErrors,Y?Z.end&&C.end():(this.pipes.push(Z.proxyErrors?new D(this,C,Z):new k(this,C,Z)),this[M]?x(()=>this[b]()):this[b]()),C}unpipe(C){let Z=this.pipes.find(Y=>Y.dest===C);Z&&(this.pipes.splice(this.pipes.indexOf(Z),1),Z.unpipe())}addListener(C,Z){return this.on(C,Z)}on(C,Z){let Y=super.on(C,Z);return C==="data"&&!this.pipes.length&&!this.flowing?this[b]():C==="readable"&&this[E]!==0?super.emit("readable"):B(C)&&this[r]?(super.emit(C),this.removeAllListeners(C)):C==="error"&&this[i]&&(this[M]?x(()=>Z.call(this,this[i])):Z.call(this,this[i])),Y}get emittedEnd(){return this[r]}[t](){!this[s]&&!this[r]&&!this[R]&&this.buffer.length===0&&this[n]&&(this[s]=!0,this.emit("end"),this.emit("prefinish"),this.emit("finish"),this[c]&&this.emit("close"),this[s]=!1)}emit(C,Z,...Y){if(C!=="error"&&C!=="close"&&C!==R&&this[R])return;if(C==="data")return Z?this[M]?x(()=>this[I](Z)):this[I](Z):!1;if(C==="end")return this[P]();if(C==="close"){if(this[c]=!0,!this[r]&&!this[R])return;let N=super.emit("close");return this.removeAllListeners("close"),N}else if(C==="error"){this[i]=Z;let N=super.emit("error",Z);return this[t](),N}else if(C==="resume"){let N=super.emit("resume");return this[t](),N}else if(C==="finish"||C==="prefinish"){let N=super.emit(C);return this.removeAllListeners(C),N}let Q=super.emit(C,Z,...Y);return this[t](),Q}[I](C){for(let Y of this.pipes)Y.dest.write(C)===!1&&this.pause();let Z=super.emit("data",C);return this[t](),Z}[P](){this[r]||(this[r]=!0,this.readable=!1,this[M]?x(()=>this[L]()):this[L]())}[L](){if(this[f]){let Z=this[f].end();if(Z){for(let Y of this.pipes)Y.dest.write(Z);super.emit("data",Z)}}for(let Z of this.pipes)Z.end();let C=super.emit("end");return this.removeAllListeners("end"),C}collect(){let C=[];this[O]||(C.dataLength=0);let Z=this.promise();return this.on("data",Y=>{C.push(Y),this[O]||(C.dataLength+=Y.length)}),Z.then(()=>C)}concat(){return this[O]?Promise.reject(new Error("cannot concat in objectMode")):this.collect().then(C=>this[O]?Promise.reject(new Error("cannot concat in objectMode")):this[m]?C.join(""):Buffer.concat(C,C.dataLength))}promise(){return new Promise((C,Z)=>{this.on(R,()=>Z(new Error("stream destroyed"))),this.on("error",Y=>Z(Y)),this.on("end",()=>C())})}[U](){return{next:v(()=>{let C=this.read();if(C!==null)return Promise.resolve({done:!1,value:C});if(this[n])return Promise.resolve({done:!0});let Z=null,Y=null,Q=v($=>{this.removeListener("data",N),this.removeListener("end",F),Y($)},"onerr"),N=v($=>{this.removeListener("error",Q),this.removeListener("end",F),this.pause(),Z({value:$,done:!!this[n]})},"ondata"),F=v(()=>{this.removeListener("error",Q),this.removeListener("data",N),Z({done:!0})},"onend"),z=v(()=>Q(new Error("stream destroyed")),"ondestroy");return new Promise(($,K)=>{Y=K,Z=$,this.once(R,z),this.once("error",Q),this.once("end",F),this.once("data",N)})},"next")}}[V](){return{next:v(()=>{let C=this.read();return{value:C,done:C===null}},"next")}}destroy(C){return this[R]?(C?this.emit("error",C):this.emit(R),this):(this[R]=!0,this.buffer.length=0,this[E]=0,typeof this.close=="function"&&!this[c]&&this.close(),C?this.emit("error",C):this.emit(R),this)}static isStream(C){return!!C&&(C instanceof Ta||C instanceof o||C instanceof p&&(typeof C.pipe=="function"||typeof C.write=="function"&&typeof C.end=="function"))}}}),Wt=J((e,u)=>{var h=yi(),p=require("events"),o=v(f=>f&&f instanceof p&&(typeof f.pipe=="function"||typeof f.write=="function"&&typeof f.end=="function"),"isStream"),l=Symbol("_head"),n=Symbol("_tail"),t=Symbol("_linkStreams"),r=Symbol("_setHead"),s=Symbol("_setTail"),i=Symbol("_onError"),c=Symbol("_onData"),a=Symbol("_onEnd"),d=Symbol("_onDrain"),g=Symbol("_streams"),m=class extends h{static{v(this,"Pipeline")}constructor(f,...y){o(f)&&(y.unshift(f),f={}),super(f),this[g]=[],y.length&&this.push(...y)}[t](f){return f.reduce((y,S)=>(y.on("error",b=>S.emit("error",b)),y.pipe(S),S))}push(...f){this[g].push(...f),this[n]&&f.unshift(this[n]);let y=this[t](f);this[s](y),this[l]||this[r](f[0])}unshift(...f){this[g].unshift(...f),this[l]&&f.push(this[l]);let y=this[t](f);this[r](f[0]),this[n]||this[s](y)}destroy(f){return this[g].forEach(y=>typeof y.destroy=="function"&&y.destroy()),super.destroy(f)}[s](f){this[n]=f,f.on("error",y=>this[i](f,y)),f.on("data",y=>this[c](f,y)),f.on("end",()=>this[a](f)),f.on("finish",()=>this[a](f))}[i](f,y){f===this[n]&&this.emit("error",y)}[c](f,y){f===this[n]&&super.write(y)}[a](f){f===this[n]&&super.end()}pause(){return super.pause(),this[n]&&this[n].pause&&this[n].pause()}emit(f,...y){return f==="resume"&&this[n]&&this[n].resume&&this[n].resume(),super.emit(f,...y)}[r](f){this[l]=f,f.on("drain",()=>this[d](f))}[d](f){f===this[l]&&this.emit("drain")}write(f,y,S){return this[l].write(f,y,S)&&(this.flowing||this.buffer.length===0)}end(f,y,S){return this[l].end(f,y,S),this}};u.exports=m}),et=J((e,u)=>{"use strict";var h=require("crypto"),{Minipass:p}=Ae(),o=["sha512","sha384","sha256"],l=["sha512"],n=/^[a-z0-9+/]+(?:=?=?)$/i,t=/^([a-z0-9]+)-([^?]+)([?\S*]*)$/,r=/^([a-z0-9]+)-([A-Za-z0-9+/=]{44,88})(\?[\x21-\x7E]*)?$/,s=/^[\x21-\x7E]+$/,i=v(M=>M?.length?`?${M.join("?")}`:"","getOptString"),c=class extends p{static{v(this,"IntegrityStream")}#e;#t;#r;constructor(M){super(),this.size=0,this.opts=M,this.#s(),M?.algorithms?this.algorithms=[...M.algorithms]:this.algorithms=[...l],this.algorithm!==null&&!this.algorithms.includes(this.algorithm)&&this.algorithms.push(this.algorithm),this.hashes=this.algorithms.map(h.createHash)}#s(){this.sri=this.opts?.integrity?m(this.opts?.integrity,this.opts):null,this.expectedSize=this.opts?.size,this.sri?this.sri.isHash?(this.goodSri=!0,this.algorithm=this.sri.algorithm):(this.goodSri=!this.sri.isEmpty(),this.algorithm=this.sri.pickAlgorithm(this.opts)):this.algorithm=null,this.digests=this.goodSri?this.sri[this.algorithm]:null,this.optString=i(this.opts?.options)}on(M,x){return M==="size"&&this.#t?x(this.#t):M==="integrity"&&this.#e?x(this.#e):M==="verified"&&this.#r?x(this.#r):super.on(M,x)}emit(M,x){return M==="end"&&this.#i(),super.emit(M,x)}write(M){return this.size+=M.length,this.hashes.forEach(x=>x.update(M)),super.write(M)}#i(){this.goodSri||this.#s();let M=m(this.hashes.map((j,U)=>`${this.algorithms[U]}-${j.digest("base64")}${this.optString}`).join(" "),this.opts),x=this.goodSri&&M.match(this.sri,this.opts);if(typeof this.expectedSize=="number"&&this.size!==this.expectedSize){let j=new Error(`stream size mismatch when checking ${this.sri}.
  Wanted: ${this.expectedSize}
  Found: ${this.size}`);j.code="EBADSIZE",j.found=this.size,j.expected=this.expectedSize,j.sri=this.sri,this.emit("error",j)}else if(this.sri&&!x){let j=new Error(`${this.sri} integrity checksum failed when using ${this.algorithm}: wanted ${this.digests} but got ${M}. (${this.size} bytes)`);j.code="EINTEGRITY",j.found=M,j.expected=this.digests,j.algorithm=this.algorithm,j.sri=this.sri,this.emit("error",j)}else this.#t=this.size,this.emit("size",this.size),this.#e=M,this.emit("integrity",M),x&&(this.#r=x,this.emit("verified",x))}},a=class{static{v(this,"Hash")}get isHash(){return!0}constructor(M,x){let j=x?.strict;this.source=M.trim(),this.digest="",this.algorithm="",this.options=[];let U=this.source.match(j?r:t);if(!U||j&&!o.includes(U[1]))return;this.algorithm=U[1],this.digest=U[2];let V=U[3];V&&(this.options=V.slice(1).split("?"))}hexDigest(){return this.digest&&Buffer.from(this.digest,"base64").toString("hex")}toJSON(){return this.toString()}match(M,x){let j=m(M,x);if(!j)return!1;if(j.isIntegrity){let U=j.pickAlgorithm(x,[this.algorithm]);return U&&j[U].find(B=>B.digest===this.digest)||!1}return j.digest===this.digest?j:!1}toString(M){return M?.strict&&!(o.includes(this.algorithm)&&this.digest.match(n)&&this.options.every(x=>x.match(s)))?"":`${this.algorithm}-${this.digest}${i(this.options)}`}};function d(M,x,j,U){let V=M!=="",B=!1,G="",W=U.length-1;for(let D=0;D<W;D++){let T=a.prototype.toString.call(U[D],j);T&&(B=!0,G+=T,G+=x)}let k=a.prototype.toString.call(U[W],j);return k&&(B=!0,G+=k),V&&B?M+x+G:M+G}v(d,"integrityHashToString");var g=class{static{v(this,"Integrity")}get isIntegrity(){return!0}toJSON(){return this.toString()}isEmpty(){return Object.keys(this).length===0}toString(M){let x=M?.sep||" ",j="";if(M?.strict){x=x.replace(/\S+/g," ");for(let U of o)this[U]&&(j=d(j,x,M,this[U]))}else for(let U of Object.keys(this))j=d(j,x,M,this[U]);return j}concat(M,x){let j=typeof M=="string"?M:y(M,x);return m(`${this.toString(x)} ${j}`,x)}hexDigest(){return m(this,{single:!0}).hexDigest()}merge(M,x){let j=m(M,x);for(let U in j)if(this[U]){if(!this[U].find(V=>j[U].find(B=>V.digest===B.digest)))throw new Error("hashes do not match, cannot update integrity")}else this[U]=j[U]}match(M,x){let j=m(M,x);if(!j)return!1;let U=j.pickAlgorithm(x,Object.keys(this));return!!U&&this[U]&&j[U]&&this[U].find(V=>j[U].find(B=>V.digest===B.digest))||!1}pickAlgorithm(M,x){let j=M?.pickAlgorithm||L,U=Object.keys(this).filter(V=>x?.length?x.includes(V):!0);return U.length?U.reduce((V,B)=>j(V,B)||V):null}};u.exports.parse=m;function m(M,x){if(!M)return null;if(typeof M=="string")return f(M,x);if(M.algorithm&&M.digest){let j=new g;return j[M.algorithm]=[M],f(y(j,x),x)}else return f(y(M,x),x)}v(m,"parse");function f(M,x){if(x?.single)return new a(M,x);let j=M.trim().split(/\s+/).reduce((U,V)=>{let B=new a(V,x);if(B.algorithm&&B.digest){let G=B.algorithm;U[G]||(U[G]=[]),U[G].push(B)}return U},new g);return j.isEmpty()?null:j}v(f,"_parse"),u.exports.stringify=y;function y(M,x){return M.algorithm&&M.digest?a.prototype.toString.call(M,x):typeof M=="string"?y(m(M,x),x):g.prototype.toString.call(M,x)}v(y,"stringify"),u.exports.fromHex=S;function S(M,x,j){let U=i(j?.options);return m(`${x}-${Buffer.from(M,"hex").toString("base64")}${U}`,j)}v(S,"fromHex"),u.exports.fromData=b;function b(M,x){let j=x?.algorithms||[...l],U=i(x?.options);return j.reduce((V,B)=>{let G=h.createHash(B).update(M).digest("base64"),W=new a(`${B}-${G}${U}`,x);if(W.algorithm&&W.digest){let k=W.algorithm;V[k]||(V[k]=[]),V[k].push(W)}return V},new g)}v(b,"fromData"),u.exports.fromStream=E;function E(M,x){let j=O(x);return new Promise((U,V)=>{M.pipe(j),M.on("error",V),j.on("error",V);let B;j.on("integrity",G=>{B=G}),j.on("end",()=>U(B)),j.resume()})}v(E,"fromStream"),u.exports.checkData=_;function _(M,x,j){if(x=m(x,j),!x||!Object.keys(x).length){if(j?.error)throw Object.assign(new Error("No valid integrity hashes to check against"),{code:"EINTEGRITY"});return!1}let U=x.pickAlgorithm(j),V=h.createHash(U).update(M).digest("base64"),B=m({algorithm:U,digest:V}),G=B.match(x,j);if(j=j||{},G||!j.error)return G;if(typeof j.size=="number"&&M.length!==j.size){let W=new Error(`data size mismatch when checking ${x}.
  Wanted: ${j.size}
  Found: ${M.length}`);throw W.code="EBADSIZE",W.found=M.length,W.expected=j.size,W.sri=x,W}else{let W=new Error(`Integrity checksum failed when using ${U}: Wanted ${x}, but got ${B}. (${M.length} bytes)`);throw W.code="EINTEGRITY",W.found=B,W.expected=x,W.algorithm=U,W.sri=x,W}}v(_,"checkData"),u.exports.checkStream=w;function w(M,x,j){if(j=j||Object.create(null),j.integrity=x,x=m(x,j),!x||!Object.keys(x).length)return Promise.reject(Object.assign(new Error("No valid integrity hashes to check against"),{code:"EINTEGRITY"}));let U=O(j);return new Promise((V,B)=>{M.pipe(U),M.on("error",B),U.on("error",B);let G;U.on("verified",W=>{G=W}),U.on("end",()=>V(G)),U.resume()})}v(w,"checkStream"),u.exports.integrityStream=O;function O(M=Object.create(null)){return new c(M)}v(O,"integrityStream"),u.exports.create=R;function R(M){let x=M?.algorithms||[...l],j=i(M?.options),U=x.map(h.createHash);return{update:v(function(V,B){return U.forEach(G=>G.update(V,B)),this},"update"),digest:v(function(){return x.reduce((V,B)=>{let G=U.shift().digest("base64"),W=new a(`${B}-${G}${j}`,M);if(W.algorithm&&W.digest){let k=W.algorithm;V[k]||(V[k]=[]),V[k].push(W)}return V},new g)},"digest")}}v(R,"createIntegrity");var I=h.getHashes(),P=["md5","whirlpool","sha1","sha224","sha256","sha384","sha512","sha3","sha3-256","sha3-384","sha3-512","sha3_256","sha3_384","sha3_512"].filter(M=>I.includes(M));function L(M,x){return P.indexOf(M.toLowerCase())>=P.indexOf(x.toLowerCase())?M:x}v(L,"getPrioritizedHash")}),lf=J((e,u)=>{(function(){var h;function p(o,l){var n=this instanceof p?this:h;if(n.reset(l),typeof o=="string"&&o.length>0&&n.hash(o),n!==this)return n}v(p,"MurmurHash3"),p.prototype.hash=function(o){var l,n,t,r,s;switch(s=o.length,this.len+=s,n=this.k1,t=0,this.rem){case 0:n^=s>t?o.charCodeAt(t++)&65535:0;case 1:n^=s>t?(o.charCodeAt(t++)&65535)<<8:0;case 2:n^=s>t?(o.charCodeAt(t++)&65535)<<16:0;case 3:n^=s>t?(o.charCodeAt(t)&255)<<24:0,n^=s>t?(o.charCodeAt(t++)&65280)>>8:0}if(this.rem=s+this.rem&3,s-=this.rem,s>0){for(l=this.h1;n=n*11601+(n&65535)*3432906752&4294967295,n=n<<15|n>>>17,n=n*13715+(n&65535)*461832192&4294967295,l^=n,l=l<<13|l>>>19,l=l*5+3864292196&4294967295,!(t>=s);)n=o.charCodeAt(t++)&65535^(o.charCodeAt(t++)&65535)<<8^(o.charCodeAt(t++)&65535)<<16,r=o.charCodeAt(t++),n^=(r&255)<<24^(r&65280)>>8;switch(n=0,this.rem){case 3:n^=(o.charCodeAt(t+2)&65535)<<16;case 2:n^=(o.charCodeAt(t+1)&65535)<<8;case 1:n^=o.charCodeAt(t)&65535}this.h1=l}return this.k1=n,this},p.prototype.result=function(){var o,l;return o=this.k1,l=this.h1,o>0&&(o=o*11601+(o&65535)*3432906752&4294967295,o=o<<15|o>>>17,o=o*13715+(o&65535)*461832192&4294967295,l^=o),l^=this.len,l^=l>>>16,l=l*51819+(l&65535)*2246770688&4294967295,l^=l>>>13,l=l*44597+(l&65535)*3266445312&4294967295,l^=l>>>16,l>>>0},p.prototype.reset=function(o){return this.h1=typeof o=="number"?o:0,this.rem=this.k1=this.len=0,this},h=new p,typeof u<"u"?u.exports=p:this.MurmurHash3=p})()}),cf=J((e,u)=>{"use strict";var h=lf();u.exports=function(p){if(p){var o=new h(p);return("00000000"+o.result().toString(16)).slice(-8)}else return(Math.random().toString(16)+"0000000").slice(2,10)}}),Pa=J((e,u)=>{var h=require("path"),p=cf();u.exports=function(o,l,n){return h.join(o,(l?l+"-":"")+p(n))}}),xa=J((e,u)=>{u.exports={name:"cacache",version:"20.0.1","cache-version":{content:"2",index:"5"},description:"Fast, fault-tolerant, cross-platform, disk-based, data-agnostic, content-addressable cache.",main:"lib/index.js",files:["bin/","lib/"],scripts:{test:"tap",snap:"tap",coverage:"tap","test-docker":'docker run -it --rm --name pacotest -v "$PWD":/tmp -w /tmp node:latest npm test',lint:"npm run eslint",npmclilint:"npmcli-lint",lintfix:"npm run eslint -- --fix",postsnap:"npm run lintfix --",postlint:"template-oss-check",posttest:"npm run lint","template-oss-apply":"template-oss-apply --force",eslint:'eslint "**/*.{js,cjs,ts,mjs,jsx,tsx}"'},repository:{type:"git",url:"git+https://github.com/npm/cacache.git"},keywords:["cache","caching","content-addressable","sri","sri hash","subresource integrity","cache","storage","store","file store","filesystem","disk cache","disk storage"],license:"ISC",dependencies:{"@npmcli/fs":"^4.0.0","fs-minipass":"^3.0.0",glob:"^11.0.3","lru-cache":"^11.1.0",minipass:"^7.0.3","minipass-collect":"^2.0.1","minipass-flush":"^1.0.5","minipass-pipeline":"^1.2.4","p-map":"^7.0.2",ssri:"^12.0.0","unique-filename":"^4.0.0"},devDependencies:{"@npmcli/eslint-config":"^5.0.0","@npmcli/template-oss":"4.25.0",tap:"^16.0.0"},engines:{node:"^20.17.0 || >=22.9.0"},templateOSS:{"//@npmcli/template-oss":"This file is partially managed by @npmcli/template-oss. Edits may be overwritten.",windowsCI:!1,version:"4.25.0",publish:"true"},author:"GitHub Inc.",tap:{"nyc-arg":["--exclude","tap-snapshots/**"]}}}),ka=J((e,u)=>{"use strict";u.exports=h;function h(p){return[p.slice(0,2),p.slice(2,4),p.slice(4)]}v(h,"hashToSegments")}),zt=J((e,u)=>{"use strict";var h=xa()["cache-version"].content,p=ka(),o=require("path"),l=et();u.exports=n;function n(r,s){let i=l.parse(s,{single:!0});return o.join(t(r),i.algorithm,...p(i.hexDigest()))}v(n,"contentPath"),u.exports.contentDir=t;function t(r){return o.join(r,`content-v${h}`)}v(t,"contentDir")}),Na=J((e,u)=>{var h=v((p,{copy:o,wrap:l})=>{let n={};if(p&&typeof p=="object")for(let t of o)p[t]!==void 0&&(n[t]=p[t]);else n[l]=p;return n},"getOptions");u.exports=h}),uf=J((e,u)=>{var h=wt(),p=v(o=>h.satisfies(process.version,o,{includePrerelease:!0}),"satisfies");u.exports={satisfies:p}}),hf=J((e,u)=>{"use strict";var{inspect:h}=require("util"),p=class{static{v(this,"SystemError")}constructor(l,n,t){let r=`${n}: ${t.syscall} returned ${t.code} (${t.message})`;t.path!==void 0&&(r+=` ${t.path}`),t.dest!==void 0&&(r+=` => ${t.dest}`),this.code=l,Object.defineProperties(this,{name:{value:"SystemError",enumerable:!1,writable:!0,configurable:!0},message:{value:r,enumerable:!1,writable:!0,configurable:!0},info:{value:t,enumerable:!0,configurable:!0,writable:!1},errno:{get(){return t.errno},set(s){t.errno=s},enumerable:!0,configurable:!0},syscall:{get(){return t.syscall},set(s){t.syscall=s},enumerable:!0,configurable:!0}}),t.path!==void 0&&Object.defineProperty(this,"path",{get(){return t.path},set(s){t.path=s},enumerable:!0,configurable:!0}),t.dest!==void 0&&Object.defineProperty(this,"dest",{get(){return t.dest},set(s){t.dest=s},enumerable:!0,configurable:!0})}toString(){return`${this.name} [${this.code}]: ${this.message}`}[Symbol.for("nodejs.util.inspect.custom")](l,n){return h(this,{...n,getters:!0,customInspect:!1})}};function o(l,n){u.exports[l]=class extends p{static{v(this,"NodeError")}constructor(t){super(l,n,t)}}}v(o,"E"),o("ERR_FS_CP_DIR_TO_NON_DIR","Cannot overwrite directory with non-directory"),o("ERR_FS_CP_EEXIST","Target already exists"),o("ERR_FS_CP_EINVAL","Invalid src or dest"),o("ERR_FS_CP_FIFO_PIPE","Cannot copy a FIFO pipe"),o("ERR_FS_CP_NON_DIR_TO_DIR","Cannot overwrite non-directory with directory"),o("ERR_FS_CP_SOCKET","Cannot copy a socket file"),o("ERR_FS_CP_SYMLINK_TO_SUBDIRECTORY","Cannot overwrite symlink in subdirectory of self"),o("ERR_FS_CP_UNKNOWN","Cannot copy an unknown file type"),o("ERR_FS_EISDIR","Path is a directory"),u.exports.ERR_INVALID_ARG_TYPE=class extends Error{static{v(this,"ERR_INVALID_ARG_TYPE")}constructor(l,n,t){super(),this.code="ERR_INVALID_ARG_TYPE",this.message=`The ${l} argument must be ${n}. Received ${typeof t}`}}}),pf=J((e,u)=>{"use strict";var{ERR_FS_CP_DIR_TO_NON_DIR:h,ERR_FS_CP_EEXIST:p,ERR_FS_CP_EINVAL:o,ERR_FS_CP_FIFO_PIPE:l,ERR_FS_CP_NON_DIR_TO_DIR:n,ERR_FS_CP_SOCKET:t,ERR_FS_CP_SYMLINK_TO_SUBDIRECTORY:r,ERR_FS_CP_UNKNOWN:s,ERR_FS_EISDIR:i,ERR_INVALID_ARG_TYPE:c}=hf(),{constants:{errno:{EEXIST:a,EISDIR:d,EINVAL:g,ENOTDIR:m}}}=require("os"),{chmod:f,copyFile:y,lstat:S,mkdir:b,readdir:E,readlink:_,stat:w,symlink:O,unlink:R,utimes:I}=require("internal/fs/promises"),{dirname:P,isAbsolute:L,join:M,parse:x,resolve:j,sep:U,toNamespacedPath:V}=require("path"),{fileURLToPath:B}=require("url"),G={dereference:!1,errorOnExist:!1,filter:void 0,force:!0,preserveTimestamps:!1,recursive:!1};async function W(ce,pe,de){if(de!=null&&typeof de!="object")throw new c("options",["Object"],de);return D(V(k(ce)),V(k(pe)),{...G,...de})}v(W,"cp");function k(ce){return ce!=null&&ce.href&&ce.origin?B(ce):ce}v(k,"getValidatedPath");async function D(ce,pe,de){de.preserveTimestamps&&process.arch==="ia32"&&process.emitWarning("Using the preserveTimestamps option in 32-bit node is not recommended","TimestampPrecisionWarning");let me=await T(ce,pe,de),{srcStat:Se,destStat:we}=me;return await N(ce,Se,pe),de.filter?$(Y,we,ce,pe,de):Y(we,ce,pe,de)}v(D,"cpFn");async function T(ce,pe,de){let{0:me,1:Se}=await Z(ce,pe,de);if(Se){if(C(me,Se))throw new o({message:"src and dest cannot be the same",path:pe,syscall:"cp",errno:g});if(me.isDirectory()&&!Se.isDirectory())throw new h({message:`cannot overwrite directory ${ce} with non-directory ${pe}`,path:pe,syscall:"cp",errno:d});if(!me.isDirectory()&&Se.isDirectory())throw new n({message:`cannot overwrite non-directory ${ce} with directory ${pe}`,path:pe,syscall:"cp",errno:m})}if(me.isDirectory()&&z(ce,pe))throw new o({message:`cannot copy ${ce} to a subdirectory of self ${pe}`,path:pe,syscall:"cp",errno:g});return{srcStat:me,destStat:Se}}v(T,"checkPaths");function C(ce,pe){return pe.ino&&pe.dev&&pe.ino===ce.ino&&pe.dev===ce.dev}v(C,"areIdentical");function Z(ce,pe,de){let me=de.dereference?Se=>w(Se,{bigint:!0}):Se=>S(Se,{bigint:!0});return Promise.all([me(ce),me(pe).catch(Se=>{if(Se.code==="ENOENT")return null;throw Se})])}v(Z,"getStats");async function Y(ce,pe,de,me){let Se=P(de);return await Q(Se)||await b(Se,{recursive:!0}),q(ce,pe,de,me)}v(Y,"checkParentDir");function Q(ce){return w(ce).then(()=>!0,pe=>pe.code==="ENOENT"?!1:Promise.reject(pe))}v(Q,"pathExists");async function N(ce,pe,de){let me=j(P(ce)),Se=j(P(de));if(Se===me||Se===x(Se).root)return;let we;try{we=await w(Se,{bigint:!0})}catch(Pe){if(Pe.code==="ENOENT")return;throw Pe}if(C(pe,we))throw new o({message:`cannot copy ${ce} to a subdirectory of self ${de}`,path:de,syscall:"cp",errno:g});return N(ce,pe,Se)}v(N,"checkParentPaths");var F=v(ce=>j(ce).split(U).filter(Boolean),"normalizePathToArray");function z(ce,pe){let de=F(ce),me=F(pe);return de.every((Se,we)=>me[we]===Se)}v(z,"isSrcSubdir");async function $(ce,pe,de,me,Se,we){if(await Se.filter(de,me))return ce(pe,de,me,Se,we)}v($,"handleFilter");function K(ce,pe,de,me){return me.filter?$(q,ce,pe,de,me):q(ce,pe,de,me)}v(K,"startCopy");async function q(ce,pe,de,me){let Se=await(me.dereference?w:S)(pe);if(Se.isDirectory()&&me.recursive)return ue(Se,ce,pe,de,me);if(Se.isDirectory())throw new i({message:`${pe} is a directory (not copied)`,path:pe,syscall:"cp",errno:g});if(Se.isFile()||Se.isCharacterDevice()||Se.isBlockDevice())return X(Se,ce,pe,de,me);if(Se.isSymbolicLink())return fe(ce,pe,de);throw Se.isSocket()?new t({message:`cannot copy a socket file: ${de}`,path:de,syscall:"cp",errno:g}):Se.isFIFO()?new l({message:`cannot copy a FIFO pipe: ${de}`,path:de,syscall:"cp",errno:g}):new s({message:`cannot copy an unknown file type: ${de}`,path:de,syscall:"cp",errno:g})}v(q,"getStatsForCopy");function X(ce,pe,de,me,Se){return pe?A(ce,de,me,Se):H(ce,de,me,Se)}v(X,"onFile");async function A(ce,pe,de,me){if(me.force)return await R(de),H(ce,pe,de,me);if(me.errorOnExist)throw new p({message:`${de} already exists`,path:de,syscall:"cp",errno:a})}v(A,"mayCopyFile");async function H(ce,pe,de,me){return await y(pe,de),me.preserveTimestamps?ee(ce.mode,pe,de):he(de,ce.mode)}v(H,"_copyFile");async function ee(ce,pe,de){return ne(ce)&&await te(de,ce),ae(ce,pe,de)}v(ee,"handleTimestampsAndMode");function ne(ce){return(ce&128)===0}v(ne,"fileIsNotWritable");function te(ce,pe){return he(ce,pe|128)}v(te,"makeFileWritable");async function ae(ce,pe,de){return await re(pe,de),he(de,ce)}v(ae,"setDestTimestampsAndMode");function he(ce,pe){return f(ce,pe)}v(he,"setDestMode");async function re(ce,pe){let de=await w(ce);return I(pe,de.atime,de.mtime)}v(re,"setDestTimestamps");function ue(ce,pe,de,me,Se){return pe?le(de,me,Se):ie(ce.mode,de,me,Se)}v(ue,"onDir");async function ie(ce,pe,de,me){return await b(de),await le(pe,de,me),he(de,ce)}v(ie,"mkDirAndCopy");async function le(ce,pe,de){let me=await E(ce);for(let Se=0;Se<me.length;Se++){let we=me[Se],Pe=M(ce,we),mt=M(pe,we),{destStat:$p}=await T(Pe,mt,de);await K($p,Pe,mt,de)}}v(le,"copyDir");async function fe(ce,pe,de){let me=await _(pe);if(L(me)||(me=j(P(pe),me)),!ce)return O(me,de);let Se;try{Se=await _(de)}catch(we){if(we.code==="EINVAL"||we.code==="UNKNOWN")return O(me,de);throw we}if(L(Se)||(Se=j(P(de),Se)),z(me,Se))throw new o({message:`cannot copy ${me} to a subdirectory of self ${Se}`,path:de,syscall:"cp",errno:g});if((await w(pe)).isDirectory()&&z(Se,me))throw new r({message:`cannot overwrite ${Se} with ${me}`,path:de,syscall:"cp",errno:g});return ge(me,de)}v(fe,"onLink");async function ge(ce,pe){return await R(pe),O(ce,pe)}v(ge,"copyLink"),u.exports=W}),df=J((e,u)=>{var h=require("internal/fs/promises"),p=Na(),o=uf(),l=pf(),n=o.satisfies(">=16.7.0"),t=v(async(r,s,i)=>{let c=p(i,{copy:["dereference","errorOnExist","filter","force","preserveTimestamps","recursive"]});return n?h.cp(r,s,c):l(r,s,c)},"cp");u.exports=t}),ff=J((e,u)=>{var{join:h,sep:p}=require("path"),o=Na(),{mkdir:l,mkdtemp:n,rm:t}=require("internal/fs/promises"),r=v(async(s,i,c)=>{let a=o(c,{copy:["tmpPrefix"]});await l(s,{recursive:!0});let d=await n(h(`${s}${p}`,a.tmpPrefix||"")),g,m;try{m=await i(d)}catch(f){g=f}try{await t(d,{force:!0,recursive:!0})}catch{}if(g)throw g;return m},"withTempDir");u.exports=r}),gf=J((e,u)=>{var{readdir:h}=require("internal/fs/promises"),{join:p}=require("path"),o=v(async l=>{let n=[];for(let t of await h(l))if(t.startsWith("@"))for(let r of await h(p(l,t)))n.push(p(t,r));else n.push(t);return n},"readdirScoped");u.exports=o}),mf=J((e,u)=>{var{dirname:h,join:p,resolve:o,relative:l,isAbsolute:n}=require("path"),t=require("internal/fs/promises"),r=v(async i=>{try{return await t.access(i),!0}catch(c){return c.code!=="ENOENT"}},"pathExists"),s=v(async(i,c,a={},d=!0,g=[])=>{if(!i||!c)throw new TypeError("`source` and `destination` file required");if(a={overwrite:!0,...a},!a.overwrite&&await r(c))throw new Error(`The destination file exists: ${c}`);await t.mkdir(h(c),{recursive:!0});try{await t.rename(i,c)}catch(m){if(m.code==="EXDEV"||m.code==="EPERM"){let f=await t.lstat(i);if(f.isDirectory()){let y=await t.readdir(i);await Promise.all(y.map(S=>s(p(i,S),p(c,S),a,!1,g)))}else f.isSymbolicLink()?g.push({source:i,destination:c}):await t.copyFile(i,c)}else throw m}d&&(await Promise.all(g.map(async({source:m,destination:f})=>{let y=await t.readlink(m);n(y)&&(y=o(f,l(m,y)));let S="file";try{S=await t.stat(o(h(m),y)),S.isDirectory()&&(S="junction")}catch{}await t.symlink(y,f,S)})),await t.rm(i,{recursive:!0,force:!0}))},"moveFile");u.exports=s}),vi=J((e,u)=>{"use strict";var h=df(),p=ff(),o=gf(),l=mf();u.exports={cp:h,withTempDir:p,readdirScoped:o,moveFile:l}}),Sr={};zp(Sr,{default:()=>La,pMapIterable:()=>Da,pMapSkip:()=>bt});async function La(e,u,{concurrency:h=Number.POSITIVE_INFINITY,stopOnError:p=!0,signal:o}={}){return new Promise((l,n)=>{if(e[Symbol.iterator]===void 0&&e[Symbol.asyncIterator]===void 0)throw new TypeError(`Expected \`input\` to be either an \`Iterable\` or \`AsyncIterable\`, got (${typeof e})`);if(typeof u!="function")throw new TypeError("Mapper function is required");if(!(Number.isSafeInteger(h)&&h>=1||h===Number.POSITIVE_INFINITY))throw new TypeError(`Expected \`concurrency\` to be an integer from 1 and up or \`Infinity\`, got \`${h}\` (${typeof h})`);let t=[],r=[],s=new Map,i=!1,c=!1,a=!1,d=0,g=0,m=e[Symbol.iterator]===void 0?e[Symbol.asyncIterator]():e[Symbol.iterator](),f=v(()=>{b(o.reason)},"signalListener"),y=v(()=>{o?.removeEventListener("abort",f)},"cleanup"),S=v(_=>{l(_),y()},"resolve"),b=v(_=>{i=!0,c=!0,n(_),y()},"reject");o&&(o.aborted&&b(o.reason),o.addEventListener("abort",f,{once:!0}));let E=v(async()=>{if(c)return;let _=await m.next(),w=g;if(g++,_.done){if(a=!0,d===0&&!c){if(!p&&r.length>0){b(new AggregateError(r));return}if(c=!0,s.size===0){S(t);return}let O=[];for(let[R,I]of t.entries())s.get(R)!==bt&&O.push(I);S(O)}return}d++,(async()=>{try{let O=await _.value;if(c)return;let R=await u(O,w);R===bt&&s.set(w,R),t[w]=R,d--,await E()}catch(O){if(p)b(O);else{r.push(O),d--;try{await E()}catch(R){b(R)}}}})()},"next");(async()=>{for(let _=0;_<h;_++){try{await E()}catch(w){b(w);break}if(a||i)break}})()})}function Da(e,u,{concurrency:h=Number.POSITIVE_INFINITY,backpressure:p=h}={}){if(e[Symbol.iterator]===void 0&&e[Symbol.asyncIterator]===void 0)throw new TypeError(`Expected \`input\` to be either an \`Iterable\` or \`AsyncIterable\`, got (${typeof e})`);if(typeof u!="function")throw new TypeError("Mapper function is required");if(!(Number.isSafeInteger(h)&&h>=1||h===Number.POSITIVE_INFINITY))throw new TypeError(`Expected \`concurrency\` to be an integer from 1 and up or \`Infinity\`, got \`${h}\` (${typeof h})`);if(!(Number.isSafeInteger(p)&&p>=h||p===Number.POSITIVE_INFINITY))throw new TypeError(`Expected \`backpressure\` to be an integer from \`concurrency\` (${h}) and up or \`Infinity\`, got \`${p}\` (${typeof p})`);return{async*[Symbol.asyncIterator](){let o=e[Symbol.asyncIterator]===void 0?e[Symbol.iterator]():e[Symbol.asyncIterator](),l=[],n=0,t=!1,r=0;function s(){if(t||!(n<h&&l.length<p))return;let i=(async()=>{let{done:c,value:a}=await o.next();if(c)return{done:!0};n++,s();try{let d=await u(await a,r++);if(n--,d===bt){let g=l.indexOf(i);g>0&&l.splice(g,1)}return s(),{done:!1,value:d}}catch(d){return t=!0,{error:d}}})();l.push(i)}for(v(s,"trySpawn"),s();l.length>0;){let{error:i,done:c,value:a}=await l[0];if(l.shift(),i)throw i;if(c)return;s(),a!==bt&&(yield a)}}}}var bt,$s=Wp(()=>{v(La,"pMap"),v(Da,"pMapIterable"),bt=Symbol("skip")}),Kt=J((e,u)=>{"use strict";var h=require("crypto"),{appendFile:p,mkdir:o,readFile:l,readdir:n,rm:t,writeFile:r}=require("internal/fs/promises"),{Minipass:s}=Ae(),i=require("path"),c=et(),a=Pa(),d=zt(),g=ka(),m=xa()["cache-version"].index,{moveFile:f}=vi(),y=5;u.exports.NotFoundError=class extends Error{static{v(this,"NotFoundError")}constructor(B,G){super(`No cache entry for ${G} found in ${B}`),this.code="ENOENT",this.cache=B,this.key=G}},u.exports.compact=S;async function S(B,G,W,k={}){let D=L(B,G),T=await R(D),C=[];for(let z=T.length-1;z>=0;--z){let $=T[z];if($.integrity===null&&!k.validateEntry)break;(!k.validateEntry||k.validateEntry($)===!0)&&(C.length===0||!C.find(K=>W(K,$)))&&C.unshift($)}let Z=`
`+C.map(z=>{let $=JSON.stringify(z);return`${x($)}	${$}`}).join(`
`),Y=v(async()=>{let z=a(i.join(B,"tmp"),k.tmpPrefix);return await o(i.dirname(z),{recursive:!0}),{target:z,moved:!1}},"setup"),Q=v(async z=>{if(!z.moved)return t(z.target,{recursive:!0,force:!0})},"teardown"),N=v(async z=>{await r(z.target,Z,{flag:"wx"}),await o(i.dirname(D),{recursive:!0}),await f(z.target,D),z.moved=!0},"write"),F=await Y();try{await N(F)}finally{await Q(F)}return C.reverse().map(z=>U(B,z,!0))}v(S,"compact"),u.exports.insert=b;async function b(B,G,W,k={}){let{metadata:D,size:T,time:C}=k,Z=L(B,G),Y={key:G,integrity:W&&c.stringify(W),time:C||Date.now(),size:T,metadata:D};try{await o(i.dirname(Z),{recursive:!0});let Q=JSON.stringify(Y);await p(Z,`
${x(Q)}	${Q}`)}catch(Q){if(Q.code==="ENOENT")return;throw Q}return U(B,Y)}v(b,"insert"),u.exports.find=E;async function E(B,G){let W=L(B,G);try{return(await R(W)).reduce((k,D)=>D&&D.key===G?U(B,D):k,null)}catch(k){if(k.code==="ENOENT")return null;throw k}}v(E,"find"),u.exports.delete=_;function _(B,G,W={}){if(!W.removeFully)return b(B,G,null,W);let k=L(B,G);return t(k,{recursive:!0,force:!0})}v(_,"del"),u.exports.lsStream=w;function w(B){let G=P(B),W=new s({objectMode:!0});return Promise.resolve().then(async()=>{let{default:k}=await Promise.resolve().then(()=>($s(),Sr)),D=await V(G);return await k(D,async T=>{let C=i.join(G,T),Z=await V(C);await k(Z,async Y=>{let Q=i.join(C,Y),N=await V(Q);await k(N,async F=>{let z=i.join(Q,F);try{let $=(await R(z)).reduce((K,q)=>(K.set(q.key,q),K),new Map);for(let K of $.values()){let q=U(B,K);q&&W.write(q)}}catch($){if($.code==="ENOENT")return;throw $}},{concurrency:y})},{concurrency:y})},{concurrency:y}),W.end(),W}).catch(k=>W.emit("error",k)),W}v(w,"lsStream"),u.exports.ls=O;async function O(B){return(await w(B).collect()).reduce((G,W)=>(G[W.key]=W,G),{})}v(O,"ls"),u.exports.bucketEntries=R;async function R(B,G){let W=await l(B,"utf8");return I(W,G)}v(R,"bucketEntries");function I(B){let G=[];return B.split(`
`).forEach(W=>{if(!W)return;let k=W.split("	");if(!k[1]||x(k[1])!==k[0])return;let D;try{D=JSON.parse(k[1])}catch{}D&&G.push(D)}),G}v(I,"_bucketEntries"),u.exports.bucketDir=P;function P(B){return i.join(B,`index-v${m}`)}v(P,"bucketDir"),u.exports.bucketPath=L;function L(B,G){let W=M(G);return i.join.apply(i,[P(B)].concat(g(W)))}v(L,"bucketPath"),u.exports.hashKey=M;function M(B){return j(B,"sha256")}v(M,"hashKey"),u.exports.hashEntry=x;function x(B){return j(B,"sha1")}v(x,"hashEntry");function j(B,G){return h.createHash(G).update(B).digest("hex")}v(j,"hash");function U(B,G,W){return!G.integrity&&!W?null:{key:G.key,integrity:G.integrity,path:G.integrity?d(B,G.integrity):void 0,size:G.size,time:G.time,metadata:G.metadata}}v(U,"formatEntry");function V(B){return n(B).catch(G=>{if(G.code==="ENOENT"||G.code==="ENOTDIR")return[];throw G})}v(V,"readdirOrEmpty")}),Rr=J((e,u)=>{"use strict";var{LRUCache:h}=_t(),p=new h({max:500,maxSize:50*1024*1024,ttl:180*1e3,sizeCalculation:v((c,a)=>a.startsWith("key:")?c.data.length:c.length,"sizeCalculation")});u.exports.clearMemoized=o;function o(){let c={};return p.forEach((a,d)=>{c[d]=a}),p.clear(),c}v(o,"clearMemoized"),u.exports.put=l;function l(c,a,d,g){i(g).set(`key:${c}:${a.key}`,{entry:a,data:d}),n(c,a.integrity,d,g)}v(l,"put"),u.exports.put.byDigest=n;function n(c,a,d,g){i(g).set(`digest:${c}:${a}`,d)}v(n,"putDigest"),u.exports.get=t;function t(c,a,d){return i(d).get(`key:${c}:${a}`)}v(t,"get"),u.exports.get.byDigest=r;function r(c,a,d){return i(d).get(`digest:${c}:${a}`)}v(r,"getDigest");var s=class{static{v(this,"ObjProxy")}constructor(c){this.obj=c}get(c){return this.obj[c]}set(c,a){this.obj[c]=a}};function i(c){return!c||!c.memoize?p:c.memoize.get&&c.memoize.set?c.memoize:typeof c.memoize=="object"?new s(c.memoize):p}v(i,"pickMem")}),Jt=J(e=>{"use strict";var{Minipass:u}=Ae(),h=require("events").EventEmitter,p=require("fs"),o=p.writev,l=Symbol("_autoClose"),n=Symbol("_close"),t=Symbol("_ended"),r=Symbol("_fd"),s=Symbol("_finished"),i=Symbol("_flags"),c=Symbol("_flush"),a=Symbol("_handleChunk"),d=Symbol("_makeBuf"),g=Symbol("_mode"),m=Symbol("_needDrain"),f=Symbol("_onerror"),y=Symbol("_onopen"),S=Symbol("_onread"),b=Symbol("_onwrite"),E=Symbol("_open"),_=Symbol("_path"),w=Symbol("_pos"),O=Symbol("_queue"),R=Symbol("_read"),I=Symbol("_readSize"),P=Symbol("_reading"),L=Symbol("_remain"),M=Symbol("_size"),x=Symbol("_write"),j=Symbol("_writing"),U=Symbol("_defaultFlag"),V=Symbol("_errored"),B=class extends u{static{v(this,"ReadStream")}constructor(D,T){if(T=T||{},super(T),this.readable=!0,this.writable=!1,typeof D!="string")throw new TypeError("path must be a string");this[V]=!1,this[r]=typeof T.fd=="number"?T.fd:null,this[_]=D,this[I]=T.readSize||16*1024*1024,this[P]=!1,this[M]=typeof T.size=="number"?T.size:1/0,this[L]=this[M],this[l]=typeof T.autoClose=="boolean"?T.autoClose:!0,typeof this[r]=="number"?this[R]():this[E]()}get fd(){return this[r]}get path(){return this[_]}write(){throw new TypeError("this is a readable stream")}end(){throw new TypeError("this is a readable stream")}[E](){p.open(this[_],"r",(D,T)=>this[y](D,T))}[y](D,T){D?this[f](D):(this[r]=T,this.emit("open",T),this[R]())}[d](){return Buffer.allocUnsafe(Math.min(this[I],this[L]))}[R](){if(!this[P]){this[P]=!0;let D=this[d]();if(D.length===0)return process.nextTick(()=>this[S](null,0,D));p.read(this[r],D,0,D.length,null,(T,C,Z)=>this[S](T,C,Z))}}[S](D,T,C){this[P]=!1,D?this[f](D):this[a](T,C)&&this[R]()}[n](){if(this[l]&&typeof this[r]=="number"){let D=this[r];this[r]=null,p.close(D,T=>T?this.emit("error",T):this.emit("close"))}}[f](D){this[P]=!0,this[n](),this.emit("error",D)}[a](D,T){let C=!1;return this[L]-=D,D>0&&(C=super.write(D<T.length?T.slice(0,D):T)),(D===0||this[L]<=0)&&(C=!1,this[n](),super.end()),C}emit(D,T){switch(D){case"prefinish":case"finish":break;case"drain":typeof this[r]=="number"&&this[R]();break;case"error":return this[V]?void 0:(this[V]=!0,super.emit(D,T));default:return super.emit(D,T)}}},G=class extends B{static{v(this,"ReadStreamSync")}[E](){let D=!0;try{this[y](null,p.openSync(this[_],"r")),D=!1}finally{D&&this[n]()}}[R](){let D=!0;try{if(!this[P]){this[P]=!0;do{let T=this[d](),C=T.length===0?0:p.readSync(this[r],T,0,T.length,null);if(!this[a](C,T))break}while(!0);this[P]=!1}D=!1}finally{D&&this[n]()}}[n](){if(this[l]&&typeof this[r]=="number"){let D=this[r];this[r]=null,p.closeSync(D),this.emit("close")}}},W=class extends h{static{v(this,"WriteStream")}constructor(D,T){T=T||{},super(T),this.readable=!1,this.writable=!0,this[V]=!1,this[j]=!1,this[t]=!1,this[m]=!1,this[O]=[],this[_]=D,this[r]=typeof T.fd=="number"?T.fd:null,this[g]=T.mode===void 0?438:T.mode,this[w]=typeof T.start=="number"?T.start:null,this[l]=typeof T.autoClose=="boolean"?T.autoClose:!0;let C=this[w]!==null?"r+":"w";this[U]=T.flags===void 0,this[i]=this[U]?C:T.flags,this[r]===null&&this[E]()}emit(D,T){if(D==="error"){if(this[V])return;this[V]=!0}return super.emit(D,T)}get fd(){return this[r]}get path(){return this[_]}[f](D){this[n](),this[j]=!0,this.emit("error",D)}[E](){p.open(this[_],this[i],this[g],(D,T)=>this[y](D,T))}[y](D,T){this[U]&&this[i]==="r+"&&D&&D.code==="ENOENT"?(this[i]="w",this[E]()):D?this[f](D):(this[r]=T,this.emit("open",T),this[j]||this[c]())}end(D,T){return D&&this.write(D,T),this[t]=!0,!this[j]&&!this[O].length&&typeof this[r]=="number"&&this[b](null,0),this}write(D,T){return typeof D=="string"&&(D=Buffer.from(D,T)),this[t]?(this.emit("error",new Error("write() after end()")),!1):this[r]===null||this[j]||this[O].length?(this[O].push(D),this[m]=!0,!1):(this[j]=!0,this[x](D),!0)}[x](D){p.write(this[r],D,0,D.length,this[w],(T,C)=>this[b](T,C))}[b](D,T){D?this[f](D):(this[w]!==null&&(this[w]+=T),this[O].length?this[c]():(this[j]=!1,this[t]&&!this[s]?(this[s]=!0,this[n](),this.emit("finish")):this[m]&&(this[m]=!1,this.emit("drain"))))}[c](){if(this[O].length===0)this[t]&&this[b](null,0);else if(this[O].length===1)this[x](this[O].pop());else{let D=this[O];this[O]=[],o(this[r],D,this[w],(T,C)=>this[b](T,C))}}[n](){if(this[l]&&typeof this[r]=="number"){let D=this[r];this[r]=null,p.close(D,T=>T?this.emit("error",T):this.emit("close"))}}},k=class extends W{static{v(this,"WriteStreamSync")}[E](){let D;if(this[U]&&this[i]==="r+")try{D=p.openSync(this[_],this[i],this[g])}catch(T){if(T.code==="ENOENT")return this[i]="w",this[E]();throw T}else D=p.openSync(this[_],this[i],this[g]);this[y](null,D)}[n](){if(this[l]&&typeof this[r]=="number"){let D=this[r];this[r]=null,p.closeSync(D),this.emit("close")}}[x](D){let T=!0;try{this[b](null,p.writeSync(this[r],D,0,D.length,this[w])),T=!1}finally{if(T)try{this[n]()}catch{}}}};e.ReadStream=B,e.ReadStreamSync=G,e.WriteStream=W,e.WriteStreamSync=k}),Ma=J((e,u)=>{"use strict";var h=require("internal/fs/promises"),p=Jt(),o=et(),l=zt(),n=Wt();u.exports=r;var t=64*1024*1024;async function r(f,y,S={}){let{size:b}=S,{stat:E,cpath:_,sri:w}=await d(f,y,async(R,I)=>({stat:b?{size:b}:await h.stat(R),cpath:R,sri:I}));if(E.size>t)return s(_,E.size,w,new n).concat();let O=await h.readFile(_,{encoding:null});if(E.size!==O.length)throw g(E.size,O.length);if(!o.checkData(O,w))throw m(w,_);return O}v(r,"read");var s=v((f,y,S,b)=>(b.push(new p.ReadStream(f,{size:y,readSize:t}),o.integrityStream({integrity:S,size:y})),b),"readPipeline");u.exports.stream=i,u.exports.readStream=i;function i(f,y,S={}){let{size:b}=S,E=new n;return Promise.resolve().then(async()=>{let{stat:_,cpath:w,sri:O}=await d(f,y,async(R,I)=>({stat:b?{size:b}:await h.stat(R),cpath:R,sri:I}));return s(w,_.size,O,E)}).catch(_=>E.emit("error",_)),E}v(i,"readStream"),u.exports.copy=c;function c(f,y,S){return d(f,y,b=>h.copyFile(b,S))}v(c,"copy"),u.exports.hasContent=a;async function a(f,y){if(!y)return!1;try{return await d(f,y,async(S,b)=>{let E=await h.stat(S);return{size:E.size,sri:b,stat:E}})}catch(S){if(S.code==="ENOENT")return!1;if(S.code==="EPERM"){if(process.platform!=="win32")throw S;return!1}}}v(a,"hasContent");async function d(f,y,S){let b=o.parse(y),E=b.pickAlgorithm(),_=b[E];if(_.length<=1){let w=l(f,_[0]);return S(w,_[0])}else{let w=await Promise.all(_.map(async I=>{try{return await d(f,I,S)}catch(P){return P.code==="ENOENT"?Object.assign(new Error("No matching content found for "+b.toString()),{code:"ENOENT"}):P}})),O=w.find(I=>!(I instanceof Error));if(O)return O;throw w.find(I=>I.code==="ENOENT")||w.find(I=>I instanceof Error)}}v(d,"withContentSri");function g(f,y){let S=new Error(`Bad data size: expected inserted data to be ${f} bytes, but got ${y} instead`);return S.expected=f,S.found=y,S.code="EBADSIZE",S}v(g,"sizeError");function m(f,y){let S=new Error(`Integrity verification failed for ${f} (${y})`);return S.code="EINTEGRITY",S.sri=f,S.path=y,S}v(m,"integrityError")}),yf=J((e,u)=>{"use strict";var h=Ia(),{Minipass:p}=Ae(),o=Wt(),l=Kt(),n=Rr(),t=Ma();async function r(f,y,S={}){let{integrity:b,memoize:E,size:_}=S,w=n.get(f,y,S);if(w&&E!==!1)return{metadata:w.entry.metadata,data:w.data,integrity:w.entry.integrity,size:w.entry.size};let O=await l.find(f,y,S);if(!O)throw new l.NotFoundError(f,y);let R=await t(f,O.integrity,{integrity:b,size:_});return E&&n.put(f,O,R,S),{data:R,metadata:O.metadata,size:O.size,integrity:O.integrity}}v(r,"getData"),u.exports=r;async function s(f,y,S={}){let{integrity:b,memoize:E,size:_}=S,w=n.get.byDigest(f,y,S);if(w&&E!==!1)return w;let O=await t(f,y,{integrity:b,size:_});return E&&n.put.byDigest(f,y,O,S),O}v(s,"getDataByDigest"),u.exports.byDigest=s;var i=v(f=>{let y=new p;return y.on("newListener",function(S,b){S==="metadata"&&b(f.entry.metadata),S==="integrity"&&b(f.entry.integrity),S==="size"&&b(f.entry.size)}),y.end(f.data),y},"getMemoizedStream");function c(f,y,S={}){let{memoize:b,size:E}=S,_=n.get(f,y,S);if(_&&b!==!1)return i(_);let w=new o;return Promise.resolve().then(async()=>{let O=await l.find(f,y);if(!O)throw new l.NotFoundError(f,y);w.emit("metadata",O.metadata),w.emit("integrity",O.integrity),w.emit("size",O.size),w.on("newListener",function(I,P){I==="metadata"&&P(O.metadata),I==="integrity"&&P(O.integrity),I==="size"&&P(O.size)});let R=t.readStream(f,O.integrity,{...S,size:typeof E!="number"?O.size:E});if(b){let I=new h.PassThrough;I.on("collect",P=>n.put(f,O,P,S)),w.unshift(I)}return w.unshift(R),w}).catch(O=>w.emit("error",O)),w}v(c,"getStream"),u.exports.stream=c;function a(f,y,S={}){let{memoize:b}=S,E=n.get.byDigest(f,y,S);if(E&&b!==!1){let _=new p;return _.end(E),_}else{let _=t.readStream(f,y,S);if(!b)return _;let w=new h.PassThrough;return w.on("collect",O=>n.put.byDigest(f,y,O,S)),new o(_,w)}}v(a,"getStreamDigest"),u.exports.stream.byDigest=a;function d(f,y,S={}){let{memoize:b}=S,E=n.get(f,y,S);return E&&b!==!1?Promise.resolve(E.entry):l.find(f,y)}v(d,"info"),u.exports.info=d;async function g(f,y,S,b={}){let E=await l.find(f,y,b);if(!E)throw new l.NotFoundError(f,y);return await t.copy(f,E.integrity,S,b),{metadata:E.metadata,size:E.size,integrity:E.integrity}}v(g,"copy"),u.exports.copy=g;async function m(f,y,S,b={}){return await t.copy(f,y,S,b),y}v(m,"copyByDigest"),u.exports.copy.byDigest=m,u.exports.hasContent=t.hasContent}),Si=J((e,u)=>{var h=yi(),p=Symbol("_flush"),o=Symbol("_flushed"),l=Symbol("_flushing"),n=class extends h{static{v(this,"Flush")}constructor(t={}){if(typeof t=="function"&&(t={flush:t}),super(t),typeof t.flush!="function"&&typeof this.flush!="function")throw new TypeError("must provide flush function in options");this[p]=t.flush||this.flush}emit(t,...r){if(t!=="end"&&t!=="finish"||this[o])return super.emit(t,...r);if(this[l])return;this[l]=!0;let s=v(c=>{this[o]=!0,c?super.emit("error",c):super.emit("end")},"afterFlush"),i=this[p](s);i&&i.then&&i.then(()=>s(),c=>s(c))}};u.exports=n}),vf=J((e,u)=>{"use strict";var h=require("events"),p=zt(),o=require("internal/fs/promises"),{moveFile:l}=vi(),{Minipass:n}=Ae(),t=Wt(),r=Si(),s=require("path"),i=et(),c=Pa(),a=Jt();u.exports=g;var d=new Map;async function g(O,R,I={}){let{algorithms:P,size:L,integrity:M}=I;if(typeof L=="number"&&R.length!==L)throw _(L,R.length);let x=i.fromData(R,P?{algorithms:P}:{});if(M&&!i.checkData(R,M,I))throw w(M,x);for(let j in x){let U=await b(O,I),V=x[j].toString();try{await o.writeFile(U.target,R,{flag:"wx"}),await E(U,O,V,I)}finally{U.moved||await o.rm(U.target,{recursive:!0,force:!0})}}return{integrity:x,size:R.length}}v(g,"write"),u.exports.stream=f;var m=class extends r{static{v(this,"CacacheWriteStream")}constructor(O,R){super(),this.opts=R,this.cache=O,this.inputStream=new n,this.inputStream.on("error",I=>this.emit("error",I)),this.inputStream.on("drain",()=>this.emit("drain")),this.handleContentP=null}write(O,R,I){return this.handleContentP||(this.handleContentP=y(this.inputStream,this.cache,this.opts),this.handleContentP.catch(P=>this.emit("error",P))),this.inputStream.write(O,R,I)}flush(O){this.inputStream.end(()=>{if(!this.handleContentP){let R=new Error("Cache input stream was empty");return R.code="ENODATA",Promise.reject(R).catch(O)}this.handleContentP.then(R=>{R.integrity&&this.emit("integrity",R.integrity),R.size!==null&&this.emit("size",R.size),O()},R=>O(R))})}};function f(O,R={}){return new m(O,R)}v(f,"writeStream");async function y(O,R,I){let P=await b(R,I);try{let L=await S(O,R,P.target,I);return await E(P,R,L.integrity,I),L}finally{P.moved||await o.rm(P.target,{recursive:!0,force:!0})}}v(y,"handleContent");async function S(O,R,I,P){let L=new a.WriteStream(I,{flags:"wx"});if(P.integrityEmitter){let[U,V]=await Promise.all([h.once(P.integrityEmitter,"integrity").then(B=>B[0]),h.once(P.integrityEmitter,"size").then(B=>B[0]),new t(O,L).promise()]);return{integrity:U,size:V}}let M,x,j=i.integrityStream({integrity:P.integrity,algorithms:P.algorithms,size:P.size});return j.on("integrity",U=>{M=U}),j.on("size",U=>{x=U}),await new t(O,j,L).promise(),{integrity:M,size:x}}v(S,"pipeToTmp");async function b(O,R){let I=c(s.join(O,"tmp"),R.tmpPrefix);return await o.mkdir(s.dirname(I),{recursive:!0}),{target:I,moved:!1}}v(b,"makeTmp");async function E(O,R,I){let P=p(R,I),L=s.dirname(P);return d.has(P)||d.set(P,o.mkdir(L,{recursive:!0}).then(async()=>(await l(O.target,P,{overwrite:!1}),O.moved=!0,O.moved)).catch(M=>{if(!M.message.startsWith("The destination file exists"))throw Object.assign(M,{code:"EEXIST"})}).finally(()=>{d.delete(P)})),d.get(P)}v(E,"moveToDestination");function _(O,R){let I=new Error(`Bad data size: expected inserted data to be ${O} bytes, but got ${R} instead`);return I.expected=O,I.found=R,I.code="EBADSIZE",I}v(_,"sizeError");function w(O,R){let I=new Error(`Integrity check failed:
  Wanted: ${O}
   Found: ${R}`);return I.code="EINTEGRITY",I.expected=O,I.found=R,I}v(w,"checksumError")}),Sf=J((e,u)=>{"use strict";var h=Kt(),p=Rr(),o=vf(),l=Si(),{PassThrough:n}=Ia(),t=Wt(),r=v(c=>({algorithms:["sha512"],...c}),"putOpts");u.exports=s;async function s(c,a,d,g={}){let{memoize:m}=g;g=r(g);let f=await o(c,d,g),y=await h.insert(c,a,f.integrity,{...g,size:f.size});return m&&p.put(c,y,d,g),f.integrity}v(s,"putData"),u.exports.stream=i;function i(c,a,d={}){let{memoize:g}=d;d=r(d);let m,f,y,S,b=new t;if(g){let _=new n().on("collect",w=>{S=w});b.push(_)}let E=o.stream(c,d).on("integrity",_=>{m=_}).on("size",_=>{f=_}).on("error",_=>{y=_});return b.push(E),b.push(new l({async flush(){if(!y){let _=await h.insert(c,a,m,{...d,size:f});g&&S&&p.put(c,_,S,d),b.emit("integrity",m),b.emit("size",f)}}})),b}v(i,"putStream")}),ja=J((e,u)=>{"use strict";var{glob:h}=pa(),p=require("path"),o=v(l=>l.split(p.win32.sep).join(p.posix.sep),"globify");u.exports=(l,n)=>h(o(l),n)}),bf=J((e,u)=>{"use strict";var h=require("internal/fs/promises"),p=zt(),{hasContent:o}=Ma();u.exports=l;async function l(n,t){let r=await o(n,t);return r&&r.sri?(await h.rm(p(n,r.sri),{recursive:!0,force:!0}),!0):!1}v(l,"rm")}),Ef=J((e,u)=>{"use strict";var{rm:h}=require("internal/fs/promises"),p=ja(),o=Kt(),l=Rr(),n=require("path"),t=bf();u.exports=r,u.exports.entry=r;function r(c,a,d){return l.clearMemoized(),o.delete(c,a,d)}v(r,"entry"),u.exports.content=s;function s(c,a){return l.clearMemoized(),t(c,a)}v(s,"content"),u.exports.all=i;async function i(c){l.clearMemoized();let a=await p(n.join(c,"*(content-*|index-*)"),{silent:!0,nosort:!0});return Promise.all(a.map(d=>h(d,{recursive:!0,force:!0})))}v(i,"all")}),_f=J((e,u)=>{"use strict";var{mkdir:h,readFile:p,rm:o,stat:l,truncate:n,writeFile:t}=require("internal/fs/promises"),r=zt(),s=Jt(),i=ja(),c=Kt(),a=require("path"),d=et(),g=v((L,M)=>Object.prototype.hasOwnProperty.call(L,M),"hasOwnProperty"),m=v(L=>({concurrency:20,log:{silly(){}},...L}),"verifyOpts");u.exports=f;async function f(L,M){M=m(M),M.log.silly("verify","verifying cache at",L);let x=[y,b,E,w,R,I,S],j={};for(let U of x){let V=U.name,B=new Date,G=await U(L,M);G&&Object.keys(G).forEach(k=>{j[k]=G[k]});let W=new Date;j.runTime||(j.runTime={}),j.runTime[V]=W-B}return j.runTime.total=j.endTime-j.startTime,M.log.silly("verify","verification finished for",L,"in",`${j.runTime.total}ms`),j}v(f,"verify");async function y(){return{startTime:new Date}}v(y,"markStartTime");async function S(){return{endTime:new Date}}v(S,"markEndTime");async function b(L,M){return M.log.silly("verify","fixing cache permissions"),await h(L,{recursive:!0}),null}v(b,"fixPerms");async function E(L,M){M.log.silly("verify","garbage collecting content");let{default:x}=await Promise.resolve().then(()=>($s(),Sr)),j=c.lsStream(L),U=new Set;j.on("data",W=>{if(M.filter&&!M.filter(W))return;let k=d.parse(W.integrity);for(let D in k)U.add(k[D].toString())}),await new Promise((W,k)=>{j.on("end",W).on("error",k)});let V=r.contentDir(L),B=await i(a.join(V,"**"),{follow:!1,nodir:!0,nosort:!0}),G={verifiedContent:0,reclaimedCount:0,reclaimedSize:0,badContentCount:0,keptSize:0};return await x(B,async W=>{let k=W.split(/[/\\]/),D=k.slice(k.length-3).join(""),T=k[k.length-4],C=d.fromHex(D,T);if(U.has(C.toString())){let Z=await _(W,C);Z.valid?(G.verifiedContent++,G.keptSize+=Z.size):(G.reclaimedCount++,G.badContentCount++,G.reclaimedSize+=Z.size)}else{G.reclaimedCount++;let Z=await l(W);await o(W,{recursive:!0,force:!0}),G.reclaimedSize+=Z.size}return G},{concurrency:M.concurrency}),G}v(E,"garbageCollect");async function _(L,M){let x={};try{let{size:j}=await l(L);x.size=j,x.valid=!0,await d.checkStream(new s.ReadStream(L),M)}catch(j){if(j.code==="ENOENT")return{size:0,valid:!1};if(j.code!=="EINTEGRITY")throw j;await o(L,{recursive:!0,force:!0}),x.valid=!1}return x}v(_,"verifyContent");async function w(L,M){M.log.silly("verify","rebuilding index");let{default:x}=await Promise.resolve().then(()=>($s(),Sr)),j=await c.ls(L),U={missingContent:0,rejectedEntries:0,totalEntries:0},V={};for(let B in j)if(g(j,B)){let G=c.hashKey(B),W=j[B],k=M.filter&&!M.filter(W);k&&U.rejectedEntries++,V[G]&&!k?V[G].push(W):V[G]&&k||(k?(V[G]=[],V[G]._path=c.bucketPath(L,B)):(V[G]=[W],V[G]._path=c.bucketPath(L,B)))}return await x(Object.keys(V),B=>O(L,V[B],U,M),{concurrency:M.concurrency}),U}v(w,"rebuildIndex");async function O(L,M,x){await n(M._path);for(let j of M){let U=r(L,j.integrity);try{await l(U),await c.insert(L,j.key,j.integrity,{metadata:j.metadata,size:j.size,time:j.time}),x.totalEntries++}catch(V){if(V.code==="ENOENT")x.rejectedEntries++,x.missingContent++;else throw V}}}v(O,"rebuildBucket");function R(L,M){return M.log.silly("verify","cleaning tmp directory"),o(a.join(L,"tmp"),{recursive:!0,force:!0})}v(R,"cleanTmp");async function I(L,M){let x=a.join(L,"_lastverified");return M.log.silly("verify","writing verifile to "+x),t(x,`${Date.now()}`)}v(I,"writeVerifile"),u.exports.lastRun=P;async function P(L){let M=await p(a.join(L,"_lastverified"),{encoding:"utf8"});return new Date(+M)}v(P,"lastRun")}),wf=J((e,u)=>{"use strict";var{withTempDir:h}=vi(),p=require("internal/fs/promises"),o=require("path");u.exports.mkdir=l;async function l(t,r={}){let{tmpPrefix:s}=r,i=o.join(t,"tmp");await p.mkdir(i,{recursive:!0,owner:"inherit"});let c=`${i}${o.sep}${s||""}`;return p.mkdtemp(c,{owner:"inherit"})}v(l,"mktmpdir"),u.exports.withTmp=n;function n(t,r,s){return s||(s=r,r={}),h(o.join(t,"tmp"),s,r)}v(n,"withTmp")}),Cr=J((e,u)=>{"use strict";var h=yf(),p=Sf(),o=Ef(),l=_f(),{clearMemoized:n}=Rr(),t=wf(),r=Kt();u.exports.index={},u.exports.index.compact=r.compact,u.exports.index.insert=r.insert,u.exports.ls=r.ls,u.exports.ls.stream=r.lsStream,u.exports.get=h,u.exports.get.byDigest=h.byDigest,u.exports.get.stream=h.stream,u.exports.get.stream.byDigest=h.stream.byDigest,u.exports.get.copy=h.copy,u.exports.get.copy.byDigest=h.copy.byDigest,u.exports.get.info=h.info,u.exports.get.hasContent=h.hasContent,u.exports.put=p,u.exports.put.stream=p.stream,u.exports.rm=o.entry,u.exports.rm.all=o.all,u.exports.rm.entry=u.exports.rm,u.exports.rm.content=o.content,u.exports.clearMemoized=n,u.exports.tmp={},u.exports.tmp.mkdir=t.mkdir,u.exports.tmp.withTmp=t.withTmp,u.exports.verify=l,u.exports.verify.lastRun=l.lastRun}),Of=J((e,u)=>{"use strict";var h=require("fs"),p=require("path"),o=require("events").EventEmitter,l=fi(),n=class $a extends o{static{v(this,"BundleWalker")}constructor(d){if(d=d||{},super(d),this.path=p.resolve(d.path||process.cwd()),this.parent=d.parent||null,this.parent){if(this.result=this.parent.result,!this.parent.parent){let g=p.basename(this.path),m=p.basename(p.dirname(this.path));this.result.add(/^@/.test(m)?m+"/"+g:g)}this.root=this.parent.root,this.packageJsonCache=this.parent.packageJsonCache}else this.result=new Set,this.root=this.path,this.packageJsonCache=d.packageJsonCache||new Map;this.seen=new Set,this.didDone=!1,this.children=0,this.node_modules=[],this.package=null,this.bundle=null}addListener(d,g){return this.on(d,g)}on(d,g){let m=super.on(d,g);return d==="done"&&this.didDone&&this.emit("done",this.result),m}done(){if(!this.didDone)if(this.didDone=!0,this.parent)this.emit("done");else{let d=Array.from(this.result);this.result=d,this.emit("done",d)}}start(){let d=p.resolve(this.path,"package.json");return this.packageJsonCache.has(d)?this.onPackage(this.packageJsonCache.get(d)):this.readPackageJson(d),this}readPackageJson(d){h.readFile(d,(g,m)=>g?this.done():this.onPackageJson(d,m))}onPackageJson(d,g){try{this.package=l(JSON.parse(g+""))}catch{return this.done()}this.packageJsonCache.set(d,this.package),this.onPackage(this.package)}allDepsBundled(d){return Object.keys(d.dependencies||{}).concat(Object.keys(d.optionalDependencies||{}))}onPackage(d){let g=this.parent?this.allDepsBundled(d):d.bundleDependencies||d.bundledDependencies||[],m=Array.from(new Set(Array.isArray(g)?g:g===!0?this.allDepsBundled(d):Object.keys(g)));if(!m.length)return this.done();this.bundle=m,this.readModules()}readModules(){r(this.path+"/node_modules",(d,g)=>d?this.onReaddir([]):this.onReaddir(g))}onReaddir(d){this.node_modules=d,this.bundle.forEach(g=>this.childDep(g)),this.children===0&&this.done()}childDep(d){this.node_modules.indexOf(d)!==-1?this.seen.has(d)||(this.seen.add(d),this.child(d)):this.parent&&this.parent.childDep(d)}child(d){let g=this.path+"/node_modules/"+d;this.children+=1;let m=new $a({path:g,parent:this});m.on("done",()=>{--this.children===0&&this.done()}),m.start()}},t=class Ba extends n{static{v(this,"BundleWalkerSync")}start(){return super.start(),this.done(),this}readPackageJson(d){try{this.onPackageJson(d,h.readFileSync(d))}catch{}return this}readModules(){try{this.onReaddir(s(this.path+"/node_modules"))}catch{this.onReaddir([])}}child(d){new Ba({path:this.path+"/node_modules/"+d,parent:this}).start()}},r=v((a,d)=>{h.readdir(a,(g,m)=>{if(g)d(g);else{let f=m.filter(y=>/^@/.test(y));if(!f.length)d(null,m);else{let y=m.filter(b=>!/^@/.test(b)),S=f.length;f.forEach(b=>{h.readdir(a+"/"+b,(E,_)=>{E||!_.length?y.push(b):y.push.apply(y,_.map(w=>b+"/"+w)),--S===0&&d(null,y)})})}}})},"readdirNodeModules"),s=v(a=>{let d=h.readdirSync(a),g=d.filter(f=>!/^@/.test(f)),m=d.filter(f=>/^@/.test(f)).map(f=>{try{let y=h.readdirSync(a+"/"+f);return y.length?y.map(S=>f+"/"+S):[f]}catch{return[f]}}).reduce((f,y)=>f.concat(y),[]);return g.concat(m)},"readdirNodeModulesSync"),i=v((a,d)=>{let g=new Promise((m,f)=>{new n(a).on("done",m).on("error",f).start()});return d?g.then(m=>d(null,m),d):g},"walk"),c=v(a=>new t(a).start().result,"walkSync");u.exports=i,i.sync=c,i.BundleWalker=n,i.BundleWalkerSync=t}),Af=J((e,u)=>{var h=Of(),{readFile:p,readdir:o,stat:l}=require("internal/fs/promises"),{resolve:n,basename:t,dirname:r}=require("path"),s=fi(),i=v(({path:g,packageJsonCache:m})=>m.has(g)?Promise.resolve(m.get(g)):p(g).then(f=>{let y=s(JSON.parse(f));return m.set(g,y),y}).catch(()=>null),"readPackage"),c=Symbol("package data has been normalized"),a=v(({path:g,packageJsonCache:m})=>i({path:g,packageJsonCache:m}).then(f=>{if(!f||f[c])return f;f.bundledDependencies&&!f.bundleDependencies&&(f.bundleDependencies=f.bundledDependencies,delete f.bundledDependencies);let y=f.bundleDependencies;return y===!0&&(f.bundleDependencies=[...Object.keys(f.dependencies||{}),...Object.keys(f.optionalDependencies||{})]),typeof y=="object"&&!Array.isArray(y)&&(f.bundleDependencies=Object.keys(y)),f[c]=!0,f}),"rpj"),d=v(async({path:g,depth:m=1,currentDepth:f=0,pkg:y=null,result:S=null,packageJsonCache:b=null})=>{if(S||(S=new Set),b||(b=new Map),y===!0)return a({path:g+"/package.json",packageJsonCache:b}).then(O=>d({path:g,depth:m,currentDepth:f,pkg:O,result:S,packageJsonCache:b}));if(y&&y.bin){let O=r(g),R=t(O),I=/^@.+/.test(R)?r(O):O,P=[];Object.keys(y.bin).forEach(L=>{let M=n(I,".bin",L);P.push(M,M+".cmd",M+".ps1")}),(await Promise.all(P.map(L=>l(L).then(()=>L).catch(()=>null)))).filter(L=>L).forEach(L=>S.add(L))}if(f>=m)return S.add(g),S;let[E,_]=await Promise.all([o(g,{withFileTypes:!0}),f===0&&y&&y.bundleDependencies?h({path:g,packageJsonCache:b}):null]).catch(()=>[]);if(!E)return S;if(!E.length&&!_&&f!==0)return S.add(g),S;let w=[];for(let O of E){let R=n(g,O.name);if(O.isDirectory()===!1){S.add(R);continue}if(f!==0||O.name!=="node_modules"){f<m-1?w.push(d({path:R,packageJsonCache:b,depth:m,currentDepth:f+1,result:S})):S.add(R);continue}}return _&&w.push(..._.map(O=>{let R=n(g,"node_modules",O);return d({path:R,packageJsonCache:b,pkg:!0,depth:m,currentDepth:f+1,result:S})})),w.length&&await Promise.all(w),S},"pkgContents");u.exports=({path:g,...m})=>d({path:n(g),...m,pkg:!0}).then(f=>[...f])}),qt=J((e,u)=>{"use strict";var h=process.platform==="win32",{URL:p}=require("url"),o=h?require("path"):require("path"),{homedir:l}=require("os"),n=ai(),t=wt(),r=Aa(),{log:s}=We(),i=h?/\\|[/]/:/[/]/,c=/^(?:git[+])?[a-z]+:/i,a=/^[^@]+@[^:.]+\.[^:]+:.+$/i,d=/[.](?:tgz|tar.gz|tar)$/i,g=/:[0-9]+(\/|$)/i,m=/^(?:[.]|~[/]|[/\\]|[a-zA-Z]:)/,f=/^(?:[.]|~[/]|[/]|[a-zA-Z]:)/,y="https://registry.npmjs.org";function S(k,D){let T,C;if(typeof k=="object")return k instanceof P&&(!D||D===k.where)?k:k.name&&k.rawSpec?S.resolve(k.name,k.rawSpec,D||k.where):S(k.raw,D||k.where);let Z=k.indexOf("@",1),Y=Z>0?k.slice(0,Z):k;return c.test(k)?C=k:a.test(k)?C=`git+ssh://${k}`:!Y.startsWith("@")&&(i.test(Y)||d.test(Y))?C=k:Z>0?(T=Y,C=k.slice(Z+1)||"*"):r(k).validForOldPackages?(T=k,C="*"):C=k,_(T,C,D,k)}v(S,"npa");function b(k){return k?k.toLowerCase().startsWith("file:")?!0:h?m.test(k):f.test(k):!1}v(b,"isFileSpec");function E(k){return k?k.toLowerCase().startsWith("npm:"):!1}v(E,"isAliasSpec");function _(k,D,T,C){let Z=new P({raw:C,name:k,rawSpec:D,fromArgument:C!=null});if(k&&(Z.name=k),T||(T=process.cwd()),b(D))return j(Z,T);if(E(D))return G(Z,T);let Y=n.fromUrl(D,{noGitPlus:!0,noCommittish:!0});return Y?U(Z,Y):D&&c.test(D)?B(Z):D&&(i.test(D)||d.test(D))?j(Z,T):W(Z)}v(_,"resolve");function w(k,D=y){let T=S(k);if(T.type!=="version")throw I(T.type,T.raw);let C="pkg:npm/"+T.name.replace(/^@/,"%40")+"@"+T.rawSpec;return D!==y&&(C+="?repository_url="+D),C}v(w,"toPurl");function O(k,D,T){let C=new Error(`Invalid package name "${k}" of package "${T}": ${D.errors.join("; ")}.`);return C.code="EINVALIDPACKAGENAME",C}v(O,"invalidPackageName");function R(k,D){let T=new Error(`Invalid tag name "${k}" of package "${D}": Tags may not have any characters that encodeURIComponent encodes.`);return T.code="EINVALIDTAGNAME",T}v(R,"invalidTagName");function I(k,D){let T=new Error(`Invalid type "${k}" of package "${D}": Purl can only be generated for "version" types.`);return T.code="EINVALIDPURLTYPE",T}v(I,"invalidPurlType");var P=class{static{v(this,"Result")}constructor(k){this.type=k.type,this.registry=k.registry,this.where=k.where,k.raw==null?this.raw=k.name?`${k.name}@${k.rawSpec}`:k.rawSpec:this.raw=k.raw,this.name=void 0,this.escapedName=void 0,this.scope=void 0,this.rawSpec=k.rawSpec||"",this.saveSpec=k.saveSpec,this.fetchSpec=k.fetchSpec,k.name&&this.setName(k.name),this.gitRange=k.gitRange,this.gitCommittish=k.gitCommittish,this.gitSubdir=k.gitSubdir,this.hosted=k.hosted}setName(k){let D=r(k);if(!D.validForOldPackages)throw O(k,D,this.raw);return this.name=k,this.scope=k[0]==="@"?k.slice(0,k.indexOf("/")):void 0,this.escapedName=k.replace("/","%2f"),this}toString(){let k=[];this.name!=null&&this.name!==""&&k.push(this.name);let D=this.saveSpec||this.fetchSpec||this.rawSpec;return D!=null&&D!==""&&k.push(D),k.length?k.join("@"):this.raw}toJSON(){let k=Object.assign({},this);return delete k.hosted,k}};function L(k,D){if(!D){k.gitCommittish=null;return}for(let T of D.split("::")){if(!T.includes(":")){if(k.gitRange)throw new Error("cannot override existing semver range with a committish");if(k.gitCommittish)throw new Error("cannot override existing committish with a second committish");k.gitCommittish=T;continue}let[C,Z]=T.split(":");if(C==="semver"){if(k.gitCommittish)throw new Error("cannot override existing committish with a semver range");if(k.gitRange)throw new Error("cannot override existing semver range with a second semver range");k.gitRange=decodeURIComponent(Z);continue}if(C==="path"){if(k.gitSubdir)throw new Error("cannot override existing path with a second path");k.gitSubdir=`/${Z}`;continue}s.warn("npm-package-arg",`ignoring unknown key "${C}"`)}}v(L,"setGitAttrs");var M=new Map([["\0","%00"],["	","%09"],[`
`,"%0A"],["\r","%0D"],[" ","%20"],['"',"%22"],["#","%23"],["%","%25"],["?","%3F"],["[","%5B"],["\\",h?"/":"%5C"],["]","%5D"],["^","%5E"],["|","%7C"],["~","%7E"]]);function x(k){let D="";for(let T=0;T<k.length;T++)D=`${D}${M.get(k[T])??k[T]}`;return D.startsWith("file:")?D:`file:${D}`}v(x,"pathToFileURL");function j(k,D){k.type=d.test(k.rawSpec)?"file":"directory",k.where=D;let T=x(k.rawSpec);T.startsWith("file:/")&&(/^file:\/\/[^/]/.test(T)&&(T=`file:/${T.slice(5)}`),/^\/{1,3}\.\.?(\/|$)/.test(T.slice(5))&&(T=T.replace(/^file:\/{1,3}/,"file:")));let C,Z;try{C=new p(T,`${x(o.resolve(D))}/`),Z=new p(T)}catch(N){let F=new Error("Invalid file: URL, must comply with RFC 8089");throw Object.assign(F,{raw:k.rawSpec,spec:k,where:D,originalError:N})}let Y=decodeURIComponent(Z.pathname),Q=decodeURIComponent(C.pathname);return h&&(Y=Y.replace(/^\/+([a-z]:\/)/i,"$1"),Q=Q.replace(/^\/+([a-z]:\/)/i,"$1")),/^\/~(\/|$)/.test(Y)?(k.saveSpec=`file:${Y.substr(1)}`,Q=o.resolve(l(),Y.substr(3))):o.isAbsolute(T.slice(5))?k.saveSpec=`file:${o.resolve(Q)}`:k.saveSpec=`file:${o.relative(D,Q)}`,k.fetchSpec=o.resolve(D,Q),k.saveSpec=k.saveSpec.split("\\").join("/"),k.saveSpec.startsWith("file://")&&(k.saveSpec=`file:/${k.saveSpec.slice(7)}`),k}v(j,"fromFile");function U(k,D){return k.type="git",k.hosted=D,k.saveSpec=D.toString({noGitPlus:!1,noCommittish:!1}),k.fetchSpec=D.getDefaultRepresentation()==="shortcut"?null:D.toString(),L(k,D.committish),k}v(U,"fromHostedGit");function V(k,D){let T=new Error(`Unsupported URL Type "${k}": ${D}`);return T.code="EUNSUPPORTEDPROTOCOL",T}v(V,"unsupportedURLType");function B(k){let D=k.rawSpec;if(k.saveSpec=D,D.startsWith("git+ssh:")){let C=D.match(/^git\+ssh:\/\/([^:#]+:[^#]+(?:\.git)?)(?:#(.*))?$/i);if(C&&!C[1].match(g))return k.type="git",L(k,C[2]),k.fetchSpec=C[1],k}else D.startsWith("git+file://")&&(D=D.replace(/\\/g,"/"));let T=new p(D);switch(T.protocol){case"git:":case"git+http:":case"git+https:":case"git+rsync:":case"git+ftp:":case"git+file:":case"git+ssh:":k.type="git",L(k,T.hash.slice(1)),T.protocol==="git+file:"&&/^git\+file:\/\/[a-z]:/i.test(D)?k.fetchSpec=`git+file://${T.host.toLowerCase()}:${T.pathname}`:(T.hash="",k.fetchSpec=T.toString()),k.fetchSpec.startsWith("git+")&&(k.fetchSpec=k.fetchSpec.slice(4));break;case"http:":case"https:":k.type="remote",k.fetchSpec=k.saveSpec;break;default:throw V(T.protocol,D)}return k}v(B,"fromURL");function G(k,D){let T=S(k.rawSpec.substr(4),D);if(T.type==="alias")throw new Error("nested aliases not supported");if(!T.registry)throw new Error("aliases only work for registry deps");if(!T.name)throw new Error("aliases must have a name");return k.subSpec=T,k.registry=!0,k.type="alias",k.saveSpec=null,k.fetchSpec=null,k}v(G,"fromAlias");function W(k){k.registry=!0;let D=k.rawSpec.trim();k.saveSpec=null,k.fetchSpec=D;let T=t.valid(D,!0),C=t.validRange(D,!0);if(T)k.type="version";else if(C)k.type="range";else{if(encodeURIComponent(D)!==D)throw R(D,k.raw);k.type="tag"}return k}v(W,"fromRegistry"),u.exports=S,u.exports.resolve=_,u.exports.toPurl=w,u.exports.Result=P}),Zt=J(e=>{"use strict";var u=e&&e.__importDefault||function(T){return T&&T.__esModule?T:{default:T}};Object.defineProperty(e,"__esModule",{value:!0}),e.WriteStreamSync=e.WriteStream=e.ReadStreamSync=e.ReadStream=void 0;var h=u(require("events")),p=u(require("fs")),o=Ae(),l=p.default.writev,n=Symbol("_autoClose"),t=Symbol("_close"),r=Symbol("_ended"),s=Symbol("_fd"),i=Symbol("_finished"),c=Symbol("_flags"),a=Symbol("_flush"),d=Symbol("_handleChunk"),g=Symbol("_makeBuf"),m=Symbol("_mode"),f=Symbol("_needDrain"),y=Symbol("_onerror"),S=Symbol("_onopen"),b=Symbol("_onread"),E=Symbol("_onwrite"),_=Symbol("_open"),w=Symbol("_path"),O=Symbol("_pos"),R=Symbol("_queue"),I=Symbol("_read"),P=Symbol("_readSize"),L=Symbol("_reading"),M=Symbol("_remain"),x=Symbol("_size"),j=Symbol("_write"),U=Symbol("_writing"),V=Symbol("_defaultFlag"),B=Symbol("_errored"),G=class extends o.Minipass{static{v(this,"ReadStream")}[B]=!1;[s];[w];[P];[L]=!1;[x];[M];[n];constructor(T,C){if(C=C||{},super(C),this.readable=!0,this.writable=!1,typeof T!="string")throw new TypeError("path must be a string");this[B]=!1,this[s]=typeof C.fd=="number"?C.fd:void 0,this[w]=T,this[P]=C.readSize||16*1024*1024,this[L]=!1,this[x]=typeof C.size=="number"?C.size:1/0,this[M]=this[x],this[n]=typeof C.autoClose=="boolean"?C.autoClose:!0,typeof this[s]=="number"?this[I]():this[_]()}get fd(){return this[s]}get path(){return this[w]}write(){throw new TypeError("this is a readable stream")}end(){throw new TypeError("this is a readable stream")}[_](){p.default.open(this[w],"r",(T,C)=>this[S](T,C))}[S](T,C){T?this[y](T):(this[s]=C,this.emit("open",C),this[I]())}[g](){return Buffer.allocUnsafe(Math.min(this[P],this[M]))}[I](){if(!this[L]){this[L]=!0;let T=this[g]();if(T.length===0)return process.nextTick(()=>this[b](null,0,T));p.default.read(this[s],T,0,T.length,null,(C,Z,Y)=>this[b](C,Z,Y))}}[b](T,C,Z){this[L]=!1,T?this[y](T):this[d](C,Z)&&this[I]()}[t](){if(this[n]&&typeof this[s]=="number"){let T=this[s];this[s]=void 0,p.default.close(T,C=>C?this.emit("error",C):this.emit("close"))}}[y](T){this[L]=!0,this[t](),this.emit("error",T)}[d](T,C){let Z=!1;return this[M]-=T,T>0&&(Z=super.write(T<C.length?C.subarray(0,T):C)),(T===0||this[M]<=0)&&(Z=!1,this[t](),super.end()),Z}emit(T,...C){switch(T){case"prefinish":case"finish":return!1;case"drain":return typeof this[s]=="number"&&this[I](),!1;case"error":return this[B]?!1:(this[B]=!0,super.emit(T,...C));default:return super.emit(T,...C)}}};e.ReadStream=G;var W=class extends G{static{v(this,"ReadStreamSync")}[_](){let T=!0;try{this[S](null,p.default.openSync(this[w],"r")),T=!1}finally{T&&this[t]()}}[I](){let T=!0;try{if(!this[L]){this[L]=!0;do{let C=this[g](),Z=C.length===0?0:p.default.readSync(this[s],C,0,C.length,null);if(!this[d](Z,C))break}while(!0);this[L]=!1}T=!1}finally{T&&this[t]()}}[t](){if(this[n]&&typeof this[s]=="number"){let T=this[s];this[s]=void 0,p.default.closeSync(T),this.emit("close")}}};e.ReadStreamSync=W;var k=class extends h.default{static{v(this,"WriteStream")}readable=!1;writable=!0;[B]=!1;[U]=!1;[r]=!1;[R]=[];[f]=!1;[w];[m];[n];[s];[V];[c];[i]=!1;[O];constructor(T,C){C=C||{},super(C),this[w]=T,this[s]=typeof C.fd=="number"?C.fd:void 0,this[m]=C.mode===void 0?438:C.mode,this[O]=typeof C.start=="number"?C.start:void 0,this[n]=typeof C.autoClose=="boolean"?C.autoClose:!0;let Z=this[O]!==void 0?"r+":"w";this[V]=C.flags===void 0,this[c]=C.flags===void 0?Z:C.flags,this[s]===void 0&&this[_]()}emit(T,...C){if(T==="error"){if(this[B])return!1;this[B]=!0}return super.emit(T,...C)}get fd(){return this[s]}get path(){return this[w]}[y](T){this[t](),this[U]=!0,this.emit("error",T)}[_](){p.default.open(this[w],this[c],this[m],(T,C)=>this[S](T,C))}[S](T,C){this[V]&&this[c]==="r+"&&T&&T.code==="ENOENT"?(this[c]="w",this[_]()):T?this[y](T):(this[s]=C,this.emit("open",C),this[U]||this[a]())}end(T,C){return T&&this.write(T,C),this[r]=!0,!this[U]&&!this[R].length&&typeof this[s]=="number"&&this[E](null,0),this}write(T,C){return typeof T=="string"&&(T=Buffer.from(T,C)),this[r]?(this.emit("error",new Error("write() after end()")),!1):this[s]===void 0||this[U]||this[R].length?(this[R].push(T),this[f]=!0,!1):(this[U]=!0,this[j](T),!0)}[j](T){p.default.write(this[s],T,0,T.length,this[O],(C,Z)=>this[E](C,Z))}[E](T,C){T?this[y](T):(this[O]!==void 0&&typeof C=="number"&&(this[O]+=C),this[R].length?this[a]():(this[U]=!1,this[r]&&!this[i]?(this[i]=!0,this[t](),this.emit("finish")):this[f]&&(this[f]=!1,this.emit("drain"))))}[a](){if(this[R].length===0)this[r]&&this[E](null,0);else if(this[R].length===1)this[j](this[R].pop());else{let T=this[R];this[R]=[],l(this[s],T,this[O],(C,Z)=>this[E](C,Z))}}[t](){if(this[n]&&typeof this[s]=="number"){let T=this[s];this[s]=void 0,p.default.close(T,C=>C?this.emit("error",C):this.emit("close"))}}};e.WriteStream=k;var D=class extends k{static{v(this,"WriteStreamSync")}[_](){let T;if(this[V]&&this[c]==="r+")try{T=p.default.openSync(this[w],this[c],this[m])}catch(C){if(C?.code==="ENOENT")return this[c]="w",this[_]();throw C}else T=p.default.openSync(this[w],this[c],this[m]);this[S](null,T)}[t](){if(this[n]&&typeof this[s]=="number"){let T=this[s];this[s]=void 0,p.default.closeSync(T),this.emit("close")}}[j](T){let C=!0;try{this[E](null,p.default.writeSync(this[s],T,0,T.length,this[O])),C=!1}finally{if(C)try{this[t]()}catch{}}}};e.WriteStreamSync=D}),bi=J(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.dealias=e.isNoFile=e.isFile=e.isAsync=e.isSync=e.isAsyncNoFile=e.isSyncNoFile=e.isAsyncFile=e.isSyncFile=void 0;var u=new Map([["C","cwd"],["f","file"],["z","gzip"],["P","preservePaths"],["U","unlink"],["strip-components","strip"],["stripComponents","strip"],["keep-newer","newer"],["keepNewer","newer"],["keep-newer-files","newer"],["keepNewerFiles","newer"],["k","keep"],["keep-existing","keep"],["keepExisting","keep"],["m","noMtime"],["no-mtime","noMtime"],["p","preserveOwner"],["L","follow"],["h","follow"],["onentry","onReadEntry"]]),h=v(a=>!!a.sync&&!!a.file,"isSyncFile");e.isSyncFile=h;var p=v(a=>!a.sync&&!!a.file,"isAsyncFile");e.isAsyncFile=p;var o=v(a=>!!a.sync&&!a.file,"isSyncNoFile");e.isSyncNoFile=o;var l=v(a=>!a.sync&&!a.file,"isAsyncNoFile");e.isAsyncNoFile=l;var n=v(a=>!!a.sync,"isSync");e.isSync=n;var t=v(a=>!a.sync,"isAsync");e.isAsync=t;var r=v(a=>!!a.file,"isFile");e.isFile=r;var s=v(a=>!a.file,"isNoFile");e.isNoFile=s;var i=v(a=>u.get(a)||a,"dealiasKey"),c=v((a={})=>{if(!a)return{};let d={};for(let[g,m]of Object.entries(a)){let f=i(g);d[f]=m}return d.chmod===void 0&&d.noChmod===!1&&(d.chmod=!0),delete d.noChmod,d},"dealias");e.dealias=c}),Yt=J(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.makeCommand=void 0;var u=bi(),h=v((p,o,l,n,t)=>Object.assign((r=[],s,i)=>{Array.isArray(r)&&(s=r,r={}),typeof s=="function"&&(i=s,s=void 0),s?s=Array.from(s):s=[];let c=(0,u.dealias)(r);if(t?.(c,s),(0,u.isSyncFile)(c)){if(typeof i=="function")throw new TypeError("callback not supported for sync tar functions");return p(c,s)}else if((0,u.isAsyncFile)(c)){let a=o(c,s),d=i||void 0;return d?a.then(()=>d(),d):a}else if((0,u.isSyncNoFile)(c)){if(typeof i=="function")throw new TypeError("callback not supported for sync tar functions");return l(c,s)}else if((0,u.isAsyncNoFile)(c)){if(typeof i=="function")throw new TypeError("callback only supported with file option");return n(c,s)}else throw new Error("impossible options??")},{syncFile:p,asyncFile:o,syncNoFile:l,asyncNoFile:n,validate:t}),"makeCommand");e.makeCommand=h}),zo=J(e=>{"use strict";var u=e&&e.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(e,"__esModule",{value:!0}),e.constants=void 0;var h=u(require("zlib")),p=h.default.constants||{ZLIB_VERNUM:4736};e.constants=Object.freeze(Object.assign(Object.create(null),{Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_VERSION_ERROR:-6,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,DEFLATE:1,INFLATE:2,GZIP:3,GUNZIP:4,DEFLATERAW:5,INFLATERAW:6,UNZIP:7,BROTLI_DECODE:8,BROTLI_ENCODE:9,Z_MIN_WINDOWBITS:8,Z_MAX_WINDOWBITS:15,Z_DEFAULT_WINDOWBITS:15,Z_MIN_CHUNK:64,Z_MAX_CHUNK:1/0,Z_DEFAULT_CHUNK:16384,Z_MIN_MEMLEVEL:1,Z_MAX_MEMLEVEL:9,Z_DEFAULT_MEMLEVEL:8,Z_MIN_LEVEL:-1,Z_MAX_LEVEL:9,Z_DEFAULT_LEVEL:-1,BROTLI_OPERATION_PROCESS:0,BROTLI_OPERATION_FLUSH:1,BROTLI_OPERATION_FINISH:2,BROTLI_OPERATION_EMIT_METADATA:3,BROTLI_MODE_GENERIC:0,BROTLI_MODE_TEXT:1,BROTLI_MODE_FONT:2,BROTLI_DEFAULT_MODE:0,BROTLI_MIN_QUALITY:0,BROTLI_MAX_QUALITY:11,BROTLI_DEFAULT_QUALITY:11,BROTLI_MIN_WINDOW_BITS:10,BROTLI_MAX_WINDOW_BITS:24,BROTLI_LARGE_MAX_WINDOW_BITS:30,BROTLI_DEFAULT_WINDOW:22,BROTLI_MIN_INPUT_BLOCK_BITS:16,BROTLI_MAX_INPUT_BLOCK_BITS:24,BROTLI_PARAM_MODE:0,BROTLI_PARAM_QUALITY:1,BROTLI_PARAM_LGWIN:2,BROTLI_PARAM_LGBLOCK:3,BROTLI_PARAM_DISABLE_LITERAL_CONTEXT_MODELING:4,BROTLI_PARAM_SIZE_HINT:5,BROTLI_PARAM_LARGE_WINDOW:6,BROTLI_PARAM_NPOSTFIX:7,BROTLI_PARAM_NDIRECT:8,BROTLI_DECODER_RESULT_ERROR:0,BROTLI_DECODER_RESULT_SUCCESS:1,BROTLI_DECODER_RESULT_NEEDS_MORE_INPUT:2,BROTLI_DECODER_RESULT_NEEDS_MORE_OUTPUT:3,BROTLI_DECODER_PARAM_DISABLE_RING_BUFFER_REALLOCATION:0,BROTLI_DECODER_PARAM_LARGE_WINDOW:1,BROTLI_DECODER_NO_ERROR:0,BROTLI_DECODER_SUCCESS:1,BROTLI_DECODER_NEEDS_MORE_INPUT:2,BROTLI_DECODER_NEEDS_MORE_OUTPUT:3,BROTLI_DECODER_ERROR_FORMAT_EXUBERANT_NIBBLE:-1,BROTLI_DECODER_ERROR_FORMAT_RESERVED:-2,BROTLI_DECODER_ERROR_FORMAT_EXUBERANT_META_NIBBLE:-3,BROTLI_DECODER_ERROR_FORMAT_SIMPLE_HUFFMAN_ALPHABET:-4,BROTLI_DECODER_ERROR_FORMAT_SIMPLE_HUFFMAN_SAME:-5,BROTLI_DECODER_ERROR_FORMAT_CL_SPACE:-6,BROTLI_DECODER_ERROR_FORMAT_HUFFMAN_SPACE:-7,BROTLI_DECODER_ERROR_FORMAT_CONTEXT_MAP_REPEAT:-8,BROTLI_DECODER_ERROR_FORMAT_BLOCK_LENGTH_1:-9,BROTLI_DECODER_ERROR_FORMAT_BLOCK_LENGTH_2:-10,BROTLI_DECODER_ERROR_FORMAT_TRANSFORM:-11,BROTLI_DECODER_ERROR_FORMAT_DICTIONARY:-12,BROTLI_DECODER_ERROR_FORMAT_WINDOW_BITS:-13,BROTLI_DECODER_ERROR_FORMAT_PADDING_1:-14,BROTLI_DECODER_ERROR_FORMAT_PADDING_2:-15,BROTLI_DECODER_ERROR_FORMAT_DISTANCE:-16,BROTLI_DECODER_ERROR_DICTIONARY_NOT_SET:-19,BROTLI_DECODER_ERROR_INVALID_ARGUMENTS:-20,BROTLI_DECODER_ERROR_ALLOC_CONTEXT_MODES:-21,BROTLI_DECODER_ERROR_ALLOC_TREE_GROUPS:-22,BROTLI_DECODER_ERROR_ALLOC_CONTEXT_MAP:-25,BROTLI_DECODER_ERROR_ALLOC_RING_BUFFER_1:-26,BROTLI_DECODER_ERROR_ALLOC_RING_BUFFER_2:-27,BROTLI_DECODER_ERROR_ALLOC_BLOCK_TYPE_TREES:-30,BROTLI_DECODER_ERROR_UNREACHABLE:-31},p))}),Ir=J(e=>{"use strict";var u=e&&e.__createBinding||(Object.create?function(B,G,W,k){k===void 0&&(k=W);var D=Object.getOwnPropertyDescriptor(G,W);(!D||("get"in D?!G.__esModule:D.writable||D.configurable))&&(D={enumerable:!0,get:v(function(){return G[W]},"get")}),Object.defineProperty(B,k,D)}:function(B,G,W,k){k===void 0&&(k=W),B[k]=G[W]}),h=e&&e.__setModuleDefault||(Object.create?function(B,G){Object.defineProperty(B,"default",{enumerable:!0,value:G})}:function(B,G){B.default=G}),p=e&&e.__importStar||function(){var B=v(function(G){return B=Object.getOwnPropertyNames||function(W){var k=[];for(var D in W)Object.prototype.hasOwnProperty.call(W,D)&&(k[k.length]=D);return k},B(G)},"ownKeys");return function(G){if(G&&G.__esModule)return G;var W={};if(G!=null)for(var k=B(G),D=0;D<k.length;D++)k[D]!=="default"&&u(W,G,k[D]);return h(W,G),W}}(),o=e&&e.__importDefault||function(B){return B&&B.__esModule?B:{default:B}};Object.defineProperty(e,"__esModule",{value:!0}),e.ZstdDecompress=e.ZstdCompress=e.BrotliDecompress=e.BrotliCompress=e.Unzip=e.InflateRaw=e.DeflateRaw=e.Gunzip=e.Gzip=e.Inflate=e.Deflate=e.Zlib=e.ZlibError=e.constants=void 0;var l=o(require("assert")),n=require("buffer"),t=Ae(),r=p(require("zlib")),s=zo(),i=zo();Object.defineProperty(e,"constants",{enumerable:!0,get:v(function(){return i.constants},"get")});var c=n.Buffer.concat,a=Object.getOwnPropertyDescriptor(n.Buffer,"concat"),d=v(B=>B,"noop"),g=a?.writable===!0||a?.set!==void 0?B=>{n.Buffer.concat=B?d:c}:B=>{},m=Symbol("_superWrite"),f=class extends Error{static{v(this,"ZlibError")}code;errno;constructor(B,G){super("zlib: "+B.message,{cause:B}),this.code=B.code,this.errno=B.errno,this.code||(this.code="ZLIB_ERROR"),this.message="zlib: "+B.message,Error.captureStackTrace(this,G??this.constructor)}get name(){return"ZlibError"}};e.ZlibError=f;var y=Symbol("flushFlag"),S=class extends t.Minipass{static{v(this,"ZlibBase")}#e=!1;#t=!1;#r;#s;#i;#c;#l;get sawError(){return this.#e}get handle(){return this.#c}get flushFlag(){return this.#r}constructor(B,G){if(!B||typeof B!="object")throw new TypeError("invalid options for ZlibBase constructor");if(super(B),this.#r=B.flush??0,this.#s=B.finishFlush??0,this.#i=B.fullFlushFlag??0,typeof r[G]!="function")throw new TypeError("Compression method not supported: "+G);try{this.#c=new r[G](B)}catch(W){throw new f(W,this.constructor)}this.#l=W=>{this.#e||(this.#e=!0,this.close(),this.emit("error",W))},this.#c?.on("error",W=>this.#l(new f(W))),this.once("end",()=>this.close)}close(){this.#c&&(this.#c.close(),this.#c=void 0,this.emit("close"))}reset(){if(!this.#e)return(0,l.default)(this.#c,"zlib binding closed"),this.#c.reset?.()}flush(B){this.ended||(typeof B!="number"&&(B=this.#i),this.write(Object.assign(n.Buffer.alloc(0),{[y]:B})))}end(B,G,W){return typeof B=="function"&&(W=B,G=void 0,B=void 0),typeof G=="function"&&(W=G,G=void 0),B&&(G?this.write(B,G):this.write(B)),this.flush(this.#s),this.#t=!0,super.end(W)}get ended(){return this.#t}[m](B){return super.write(B)}write(B,G,W){if(typeof G=="function"&&(W=G,G="utf8"),typeof B=="string"&&(B=n.Buffer.from(B,G)),this.#e)return;(0,l.default)(this.#c,"zlib binding closed");let k=this.#c._handle,D=k.close;k.close=()=>{};let T=this.#c.close;this.#c.close=()=>{},g(!0);let C;try{let Y=typeof B[y]=="number"?B[y]:this.#r;C=this.#c._processChunk(B,Y),g(!1)}catch(Y){g(!1),this.#l(new f(Y,this.write))}finally{this.#c&&(this.#c._handle=k,k.close=D,this.#c.close=T,this.#c.removeAllListeners("error"))}this.#c&&this.#c.on("error",Y=>this.#l(new f(Y,this.write)));let Z;if(C)if(Array.isArray(C)&&C.length>0){let Y=C[0];Z=this[m](n.Buffer.from(Y));for(let Q=1;Q<C.length;Q++)Z=this[m](C[Q])}else Z=this[m](n.Buffer.from(C));return W&&W(),Z}},b=class extends S{static{v(this,"Zlib")}#e;#t;constructor(B,G){B=B||{},B.flush=B.flush||s.constants.Z_NO_FLUSH,B.finishFlush=B.finishFlush||s.constants.Z_FINISH,B.fullFlushFlag=s.constants.Z_FULL_FLUSH,super(B,G),this.#e=B.level,this.#t=B.strategy}params(B,G){if(!this.sawError){if(!this.handle)throw new Error("cannot switch params when binding is closed");if(!this.handle.params)throw new Error("not supported in this implementation");if(this.#e!==B||this.#t!==G){this.flush(s.constants.Z_SYNC_FLUSH),(0,l.default)(this.handle,"zlib binding closed");let W=this.handle.flush;this.handle.flush=(k,D)=>{typeof k=="function"&&(D=k,k=this.flushFlag),this.flush(k),D?.()};try{this.handle.params(B,G)}finally{this.handle.flush=W}this.handle&&(this.#e=B,this.#t=G)}}}};e.Zlib=b;var E=class extends b{static{v(this,"Deflate")}constructor(B){super(B,"Deflate")}};e.Deflate=E;var _=class extends b{static{v(this,"Inflate")}constructor(B){super(B,"Inflate")}};e.Inflate=_;var w=class extends b{static{v(this,"Gzip")}#e;constructor(B){super(B,"Gzip"),this.#e=B&&!!B.portable}[m](B){return this.#e?(this.#e=!1,B[9]=255,super[m](B)):super[m](B)}};e.Gzip=w;var O=class extends b{static{v(this,"Gunzip")}constructor(B){super(B,"Gunzip")}};e.Gunzip=O;var R=class extends b{static{v(this,"DeflateRaw")}constructor(B){super(B,"DeflateRaw")}};e.DeflateRaw=R;var I=class extends b{static{v(this,"InflateRaw")}constructor(B){super(B,"InflateRaw")}};e.InflateRaw=I;var P=class extends b{static{v(this,"Unzip")}constructor(B){super(B,"Unzip")}};e.Unzip=P;var L=class extends S{static{v(this,"Brotli")}constructor(B,G){B=B||{},B.flush=B.flush||s.constants.BROTLI_OPERATION_PROCESS,B.finishFlush=B.finishFlush||s.constants.BROTLI_OPERATION_FINISH,B.fullFlushFlag=s.constants.BROTLI_OPERATION_FLUSH,super(B,G)}},M=class extends L{static{v(this,"BrotliCompress")}constructor(B){super(B,"BrotliCompress")}};e.BrotliCompress=M;var x=class extends L{static{v(this,"BrotliDecompress")}constructor(B){super(B,"BrotliDecompress")}};e.BrotliDecompress=x;var j=class extends S{static{v(this,"Zstd")}constructor(B,G){B=B||{},B.flush=B.flush||s.constants.ZSTD_e_continue,B.finishFlush=B.finishFlush||s.constants.ZSTD_e_end,B.fullFlushFlag=s.constants.ZSTD_e_flush,super(B,G)}},U=class extends j{static{v(this,"ZstdCompress")}constructor(B){super(B,"ZstdCompress")}};e.ZstdCompress=U;var V=class extends j{static{v(this,"ZstdDecompress")}constructor(B){super(B,"ZstdDecompress")}};e.ZstdDecompress=V}),Rf=J(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.parse=e.encode=void 0;var u=v((s,i)=>{if(Number.isSafeInteger(s))s<0?p(s,i):h(s,i);else throw Error("cannot encode number outside of javascript safe integer range");return i},"encode");e.encode=u;var h=v((s,i)=>{i[0]=128;for(var c=i.length;c>1;c--)i[c-1]=s&255,s=Math.floor(s/256)},"encodePositive"),p=v((s,i)=>{i[0]=255;var c=!1;s=s*-1;for(var a=i.length;a>1;a--){var d=s&255;s=Math.floor(s/256),c?i[a-1]=t(d):d===0?i[a-1]=0:(c=!0,i[a-1]=r(d))}},"encodeNegative"),o=v(s=>{let i=s[0],c=i===128?n(s.subarray(1,s.length)):i===255?l(s):null;if(c===null)throw Error("invalid base256 encoding");if(!Number.isSafeInteger(c))throw Error("parsed number outside of javascript safe integer range");return c},"parse");e.parse=o;var l=v(s=>{for(var i=s.length,c=0,a=!1,d=i-1;d>-1;d--){var g=Number(s[d]),m;a?m=t(g):g===0?m=g:(a=!0,m=r(g)),m!==0&&(c-=m*Math.pow(256,i-d-1))}return c},"twos"),n=v(s=>{for(var i=s.length,c=0,a=i-1;a>-1;a--){var d=Number(s[a]);d!==0&&(c+=d*Math.pow(256,i-a-1))}return c},"pos"),t=v(s=>(255^s)&255,"onesComp"),r=v(s=>(255^s)+1&255,"twosComp")}),Ua=J(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.code=e.name=e.isName=e.isCode=void 0;var u=v(p=>e.name.has(p),"isCode");e.isCode=u;var h=v(p=>e.code.has(p),"isName");e.isName=h,e.name=new Map([["0","File"],["","OldFile"],["1","Link"],["2","SymbolicLink"],["3","CharacterDevice"],["4","BlockDevice"],["5","Directory"],["6","FIFO"],["7","ContiguousFile"],["g","GlobalExtendedHeader"],["x","ExtendedHeader"],["A","SolarisACL"],["D","GNUDumpDir"],["I","Inode"],["K","NextFileHasLongLinkpath"],["L","NextFileHasLongPath"],["M","ContinuationFile"],["N","OldGnuLongPath"],["S","SparseFile"],["V","TapeVolumeHeader"],["X","OldExtendedHeader"]]),e.code=new Map(Array.from(e.name).map(p=>[p[1],p[0]]))}),Xt=J(e=>{"use strict";var u=e&&e.__createBinding||(Object.create?function(O,R,I,P){P===void 0&&(P=I);var L=Object.getOwnPropertyDescriptor(R,I);(!L||("get"in L?!R.__esModule:L.writable||L.configurable))&&(L={enumerable:!0,get:v(function(){return R[I]},"get")}),Object.defineProperty(O,P,L)}:function(O,R,I,P){P===void 0&&(P=I),O[P]=R[I]}),h=e&&e.__setModuleDefault||(Object.create?function(O,R){Object.defineProperty(O,"default",{enumerable:!0,value:R})}:function(O,R){O.default=R}),p=e&&e.__importStar||function(O){if(O&&O.__esModule)return O;var R={};if(O!=null)for(var I in O)I!=="default"&&Object.prototype.hasOwnProperty.call(O,I)&&u(R,O,I);return h(R,O),R};Object.defineProperty(e,"__esModule",{value:!0}),e.Header=void 0;var o=require("path"),l=p(Rf()),n=p(Ua()),t=class{static{v(this,"Header")}cksumValid=!1;needPax=!1;nullBlock=!1;block;path;mode;uid;gid;size;cksum;#e="Unsupported";linkpath;uname;gname;devmaj=0;devmin=0;atime;ctime;mtime;charset;comment;constructor(O,R=0,I,P){Buffer.isBuffer(O)?this.decode(O,R||0,I,P):O&&this.#t(O)}decode(O,R,I,P){if(R||(R=0),!O||!(O.length>=R+512))throw new Error("need 512 bytes for header");this.path=s(O,R,100),this.mode=a(O,R+100,8),this.uid=a(O,R+108,8),this.gid=a(O,R+116,8),this.size=a(O,R+124,12),this.mtime=i(O,R+136,12),this.cksum=a(O,R+148,12),P&&this.#t(P,!0),I&&this.#t(I);let L=s(O,R+156,1);if(n.isCode(L)&&(this.#e=L||"0"),this.#e==="0"&&this.path.slice(-1)==="/"&&(this.#e="5"),this.#e==="5"&&(this.size=0),this.linkpath=s(O,R+157,100),O.subarray(R+257,R+265).toString()==="ustar\x0000")if(this.uname=s(O,R+265,32),this.gname=s(O,R+297,32),this.devmaj=a(O,R+329,8)??0,this.devmin=a(O,R+337,8)??0,O[R+475]!==0){let x=s(O,R+345,155);this.path=x+"/"+this.path}else{let x=s(O,R+345,130);x&&(this.path=x+"/"+this.path),this.atime=i(O,R+476,12),this.ctime=i(O,R+488,12)}let M=256;for(let x=R;x<R+148;x++)M+=O[x];for(let x=R+156;x<R+512;x++)M+=O[x];this.cksumValid=M===this.cksum,this.cksum===void 0&&M===256&&(this.nullBlock=!0)}#t(O,R=!1){Object.assign(this,Object.fromEntries(Object.entries(O).filter(([I,P])=>!(P==null||I==="path"&&R||I==="linkpath"&&R||I==="global"))))}encode(O,R=0){if(O||(O=this.block=Buffer.alloc(512)),this.#e==="Unsupported"&&(this.#e="0"),!(O.length>=R+512))throw new Error("need 512 bytes for header");let I=this.ctime||this.atime?130:155,P=r(this.path||"",I),L=P[0],M=P[1];this.needPax=!!P[2],this.needPax=w(O,R,100,L)||this.needPax,this.needPax=f(O,R+100,8,this.mode)||this.needPax,this.needPax=f(O,R+108,8,this.uid)||this.needPax,this.needPax=f(O,R+116,8,this.gid)||this.needPax,this.needPax=f(O,R+124,12,this.size)||this.needPax,this.needPax=E(O,R+136,12,this.mtime)||this.needPax,O[R+156]=this.#e.charCodeAt(0),this.needPax=w(O,R+157,100,this.linkpath)||this.needPax,O.write("ustar\x0000",R+257,8),this.needPax=w(O,R+265,32,this.uname)||this.needPax,this.needPax=w(O,R+297,32,this.gname)||this.needPax,this.needPax=f(O,R+329,8,this.devmaj)||this.needPax,this.needPax=f(O,R+337,8,this.devmin)||this.needPax,this.needPax=w(O,R+345,I,M)||this.needPax,O[R+475]!==0?this.needPax=w(O,R+345,155,M)||this.needPax:(this.needPax=w(O,R+345,130,M)||this.needPax,this.needPax=E(O,R+476,12,this.atime)||this.needPax,this.needPax=E(O,R+488,12,this.ctime)||this.needPax);let x=256;for(let j=R;j<R+148;j++)x+=O[j];for(let j=R+156;j<R+512;j++)x+=O[j];return this.cksum=x,f(O,R+148,8,this.cksum),this.cksumValid=!0,this.needPax}get type(){return this.#e==="Unsupported"?this.#e:n.name.get(this.#e)}get typeKey(){return this.#e}set type(O){let R=String(n.code.get(O));if(n.isCode(R)||R==="Unsupported")this.#e=R;else if(n.isCode(O))this.#e=O;else throw new TypeError("invalid entry type: "+O)}};e.Header=t;var r=v((O,R)=>{let I=O,P="",L,M=o.posix.parse(O).root||".";if(Buffer.byteLength(I)<100)L=[I,P,!1];else{P=o.posix.dirname(I),I=o.posix.basename(I);do Buffer.byteLength(I)<=100&&Buffer.byteLength(P)<=R?L=[I,P,!1]:Buffer.byteLength(I)>100&&Buffer.byteLength(P)<=R?L=[I.slice(0,99),P,!0]:(I=o.posix.join(o.posix.basename(P),I),P=o.posix.dirname(P));while(P!==M&&L===void 0);L||(L=[O.slice(0,99),"",!0])}return L},"splitPrefix"),s=v((O,R,I)=>O.subarray(R,R+I).toString("utf8").replace(/\0.*/,""),"decString"),i=v((O,R,I)=>c(a(O,R,I)),"decDate"),c=v(O=>O===void 0?void 0:new Date(O*1e3),"numToDate"),a=v((O,R,I)=>Number(O[R])&128?l.parse(O.subarray(R,R+I)):g(O,R,I),"decNumber"),d=v(O=>isNaN(O)?void 0:O,"nanUndef"),g=v((O,R,I)=>d(parseInt(O.subarray(R,R+I).toString("utf8").replace(/\0.*$/,"").trim(),8)),"decSmallNumber"),m={12:8589934591,8:2097151},f=v((O,R,I,P)=>P===void 0?!1:P>m[I]||P<0?(l.encode(P,O.subarray(R,R+I)),!0):(y(O,R,I,P),!1),"encNumber"),y=v((O,R,I,P)=>O.write(S(P,I),R,I,"ascii"),"encSmallNumber"),S=v((O,R)=>b(Math.floor(O).toString(8),R),"octalString"),b=v((O,R)=>(O.length===R-1?O:new Array(R-O.length-1).join("0")+O+" ")+"\0","padOctal"),E=v((O,R,I,P)=>P===void 0?!1:f(O,R,I,P.getTime()/1e3),"encDate"),_=new Array(156).join("\0"),w=v((O,R,I,P)=>P===void 0?!1:(O.write(P+_,R,I,"utf8"),P.length!==Buffer.byteLength(P)||P.length>I),"encString")}),Ei=J(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Pax=void 0;var u=require("path"),h=Xt(),p=class Fa{static{v(this,"Pax")}atime;mtime;ctime;charset;comment;gid;uid;gname;uname;linkpath;dev;ino;nlink;path;size;mode;global;constructor(r,s=!1){this.atime=r.atime,this.charset=r.charset,this.comment=r.comment,this.ctime=r.ctime,this.dev=r.dev,this.gid=r.gid,this.global=s,this.gname=r.gname,this.ino=r.ino,this.linkpath=r.linkpath,this.mtime=r.mtime,this.nlink=r.nlink,this.path=r.path,this.size=r.size,this.uid=r.uid,this.uname=r.uname}encode(){let r=this.encodeBody();if(r==="")return Buffer.allocUnsafe(0);let s=Buffer.byteLength(r),i=512*Math.ceil(1+s/512),c=Buffer.allocUnsafe(i);for(let a=0;a<512;a++)c[a]=0;new h.Header({path:("PaxHeader/"+(0,u.basename)(this.path??"")).slice(0,99),mode:this.mode||420,uid:this.uid,gid:this.gid,size:s,mtime:this.mtime,type:this.global?"GlobalExtendedHeader":"ExtendedHeader",linkpath:"",uname:this.uname||"",gname:this.gname||"",devmaj:0,devmin:0,atime:this.atime,ctime:this.ctime}).encode(c),c.write(r,512,s,"utf8");for(let a=s+512;a<c.length;a++)c[a]=0;return c}encodeBody(){return this.encodeField("path")+this.encodeField("ctime")+this.encodeField("atime")+this.encodeField("dev")+this.encodeField("ino")+this.encodeField("nlink")+this.encodeField("charset")+this.encodeField("comment")+this.encodeField("gid")+this.encodeField("gname")+this.encodeField("linkpath")+this.encodeField("mtime")+this.encodeField("size")+this.encodeField("uid")+this.encodeField("uname")}encodeField(r){if(this[r]===void 0)return"";let s=this[r],i=s instanceof Date?s.getTime()/1e3:s,c=" "+(r==="dev"||r==="ino"||r==="nlink"?"SCHILY.":"")+r+"="+i+`
`,a=Buffer.byteLength(c),d=Math.floor(Math.log(a)/Math.log(10))+1;return a+d>=Math.pow(10,d)&&(d+=1),d+a+c}static parse(r,s,i=!1){return new Fa(o(l(r),s),i)}};e.Pax=p;var o=v((t,r)=>r?Object.assign({},r,t):t,"merge"),l=v(t=>t.replace(/\n$/,"").split(`
`).reduce(n,Object.create(null)),"parseKV"),n=v((t,r)=>{let s=parseInt(r,10);if(s!==Buffer.byteLength(r)+1)return t;r=r.slice((s+" ").length);let i=r.split("="),c=i.shift();if(!c)return t;let a=c.replace(/^SCHILY\.(dev|ino|nlink)/,"$1"),d=i.join("=");return t[a]=/^([A-Z]+\.)?([mac]|birth|creation)time$/.test(a)?new Date(Number(d)*1e3):/^[0-9]+$/.test(d)?+d:d,t},"parseKVLine")}),Qt=J(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.normalizeWindowsPath=void 0;var u=process.env.TESTING_TAR_FAKE_PLATFORM||process.platform;e.normalizeWindowsPath=u!=="win32"?h=>h:h=>h&&h.replace(/\\/g,"/")}),_i=J(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ReadEntry=void 0;var u=Ae(),h=Qt(),p=class extends u.Minipass{static{v(this,"ReadEntry")}extended;globalExtended;header;startBlockSize;blockRemain;remain;type;meta=!1;ignore=!1;path;mode;uid;gid;uname;gname;size=0;mtime;atime;ctime;linkpath;dev;ino;nlink;invalid=!1;absolute;unsupported=!1;constructor(o,l,n){switch(super({}),this.pause(),this.extended=l,this.globalExtended=n,this.header=o,this.remain=o.size??0,this.startBlockSize=512*Math.ceil(this.remain/512),this.blockRemain=this.startBlockSize,this.type=o.type,this.type){case"File":case"OldFile":case"Link":case"SymbolicLink":case"CharacterDevice":case"BlockDevice":case"Directory":case"FIFO":case"ContiguousFile":case"GNUDumpDir":break;case"NextFileHasLongLinkpath":case"NextFileHasLongPath":case"OldGnuLongPath":case"GlobalExtendedHeader":case"ExtendedHeader":case"OldExtendedHeader":this.meta=!0;break;default:this.ignore=!0}if(!o.path)throw new Error("no path provided for tar.ReadEntry");this.path=(0,h.normalizeWindowsPath)(o.path),this.mode=o.mode,this.mode&&(this.mode=this.mode&4095),this.uid=o.uid,this.gid=o.gid,this.uname=o.uname,this.gname=o.gname,this.size=this.remain,this.mtime=o.mtime,this.atime=o.atime,this.ctime=o.ctime,this.linkpath=o.linkpath?(0,h.normalizeWindowsPath)(o.linkpath):void 0,this.uname=o.uname,this.gname=o.gname,l&&this.#e(l),n&&this.#e(n,!0)}write(o){let l=o.length;if(l>this.blockRemain)throw new Error("writing more to entry than is appropriate");let n=this.remain,t=this.blockRemain;return this.remain=Math.max(0,n-l),this.blockRemain=Math.max(0,t-l),this.ignore?!0:n>=l?super.write(o):super.write(o.subarray(0,n))}#e(o,l=!1){o.path&&(o.path=(0,h.normalizeWindowsPath)(o.path)),o.linkpath&&(o.linkpath=(0,h.normalizeWindowsPath)(o.linkpath)),Object.assign(this,Object.fromEntries(Object.entries(o).filter(([n,t])=>!(t==null||n==="path"&&l))))}};e.ReadEntry=p}),wi=J(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.warnMethod=void 0;var u=v((h,p,o,l={})=>{h.file&&(l.file=h.file),h.cwd&&(l.cwd=h.cwd),l.code=o instanceof Error&&o.code||p,l.tarCode=p,!h.strict&&l.recoverable!==!1?(o instanceof Error&&(l=Object.assign(o,l),o=o.message),h.emit("warn",p,o,l)):o instanceof Error?h.emit("error",Object.assign(o,l)):h.emit("error",Object.assign(new Error(`${p}: ${o}`),l))},"warnMethod");e.warnMethod=u}),Oi=J(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Parser=void 0;var u=require("events"),h=Ir(),p=Xt(),o=Ei(),l=_i(),n=wi(),t=1024*1024,r=Buffer.from([31,139]),s=Buffer.from([40,181,47,253]),i=Math.max(r.length,s.length),c=Symbol("state"),a=Symbol("writeEntry"),d=Symbol("readEntry"),g=Symbol("nextEntry"),m=Symbol("processEntry"),f=Symbol("extendedHeader"),y=Symbol("globalExtendedHeader"),S=Symbol("meta"),b=Symbol("emitMeta"),E=Symbol("buffer"),_=Symbol("queue"),w=Symbol("ended"),O=Symbol("emittedEnd"),R=Symbol("emit"),I=Symbol("unzip"),P=Symbol("consumeChunk"),L=Symbol("consumeChunkSub"),M=Symbol("consumeBody"),x=Symbol("consumeMeta"),j=Symbol("consumeHeader"),U=Symbol("consuming"),V=Symbol("bufferConcat"),B=Symbol("maybeEnd"),G=Symbol("writing"),W=Symbol("aborted"),k=Symbol("onDone"),D=Symbol("sawValidEntry"),T=Symbol("sawNullBlock"),C=Symbol("sawEOF"),Z=Symbol("closeStream"),Y=v(()=>!0,"noop"),Q=class extends u.EventEmitter{static{v(this,"Parser")}file;strict;maxMetaEntrySize;filter;brotli;zstd;writable=!0;readable=!1;[_]=[];[E];[d];[a];[c]="begin";[S]="";[f];[y];[w]=!1;[I];[W]=!1;[D];[T]=!1;[C]=!1;[G]=!1;[U]=!1;[O]=!1;constructor(N={}){super(),this.file=N.file||"",this.on(k,()=>{(this[c]==="begin"||this[D]===!1)&&this.warn("TAR_BAD_ARCHIVE","Unrecognized archive format")}),N.ondone?this.on(k,N.ondone):this.on(k,()=>{this.emit("prefinish"),this.emit("finish"),this.emit("end")}),this.strict=!!N.strict,this.maxMetaEntrySize=N.maxMetaEntrySize||t,this.filter=typeof N.filter=="function"?N.filter:Y;let F=N.file&&(N.file.endsWith(".tar.br")||N.file.endsWith(".tbr"));this.brotli=!(N.gzip||N.zstd)&&N.brotli!==void 0?N.brotli:F?void 0:!1;let z=N.file&&(N.file.endsWith(".tar.zst")||N.file.endsWith(".tzst"));this.zstd=!(N.gzip||N.brotli)&&N.zstd!==void 0?N.zstd:z?!0:void 0,this.on("end",()=>this[Z]()),typeof N.onwarn=="function"&&this.on("warn",N.onwarn),typeof N.onReadEntry=="function"&&this.on("entry",N.onReadEntry)}warn(N,F,z={}){(0,n.warnMethod)(this,N,F,z)}[j](N,F){this[D]===void 0&&(this[D]=!1);let z;try{z=new p.Header(N,F,this[f],this[y])}catch($){return this.warn("TAR_ENTRY_INVALID",$)}if(z.nullBlock)this[T]?(this[C]=!0,this[c]==="begin"&&(this[c]="header"),this[R]("eof")):(this[T]=!0,this[R]("nullBlock"));else if(this[T]=!1,!z.cksumValid)this.warn("TAR_ENTRY_INVALID","checksum failure",{header:z});else if(!z.path)this.warn("TAR_ENTRY_INVALID","path is required",{header:z});else{let $=z.type;if(/^(Symbolic)?Link$/.test($)&&!z.linkpath)this.warn("TAR_ENTRY_INVALID","linkpath required",{header:z});else if(!/^(Symbolic)?Link$/.test($)&&!/^(Global)?ExtendedHeader$/.test($)&&z.linkpath)this.warn("TAR_ENTRY_INVALID","linkpath forbidden",{header:z});else{let K=this[a]=new l.ReadEntry(z,this[f],this[y]);if(!this[D])if(K.remain){let q=v(()=>{K.invalid||(this[D]=!0)},"onend");K.on("end",q)}else this[D]=!0;K.meta?K.size>this.maxMetaEntrySize?(K.ignore=!0,this[R]("ignoredEntry",K),this[c]="ignore",K.resume()):K.size>0&&(this[S]="",K.on("data",q=>this[S]+=q),this[c]="meta"):(this[f]=void 0,K.ignore=K.ignore||!this.filter(K.path,K),K.ignore?(this[R]("ignoredEntry",K),this[c]=K.remain?"ignore":"header",K.resume()):(K.remain?this[c]="body":(this[c]="header",K.end()),this[d]?this[_].push(K):(this[_].push(K),this[g]())))}}}[Z](){queueMicrotask(()=>this.emit("close"))}[m](N){let F=!0;if(!N)this[d]=void 0,F=!1;else if(Array.isArray(N)){let[z,...$]=N;this.emit(z,...$)}else this[d]=N,this.emit("entry",N),N.emittedEnd||(N.on("end",()=>this[g]()),F=!1);return F}[g](){do;while(this[m](this[_].shift()));if(!this[_].length){let N=this[d];!N||N.flowing||N.size===N.remain?this[G]||this.emit("drain"):N.once("drain",()=>this.emit("drain"))}}[M](N,F){let z=this[a];if(!z)throw new Error("attempt to consume body without entry??");let $=z.blockRemain??0,K=$>=N.length&&F===0?N:N.subarray(F,F+$);return z.write(K),z.blockRemain||(this[c]="header",this[a]=void 0,z.end()),K.length}[x](N,F){let z=this[a],$=this[M](N,F);return!this[a]&&z&&this[b](z),$}[R](N,F,z){!this[_].length&&!this[d]?this.emit(N,F,z):this[_].push([N,F,z])}[b](N){switch(this[R]("meta",this[S]),N.type){case"ExtendedHeader":case"OldExtendedHeader":this[f]=o.Pax.parse(this[S],this[f],!1);break;case"GlobalExtendedHeader":this[y]=o.Pax.parse(this[S],this[y],!0);break;case"NextFileHasLongPath":case"OldGnuLongPath":{let F=this[f]??Object.create(null);this[f]=F,F.path=this[S].replace(/\0.*/,"");break}case"NextFileHasLongLinkpath":{let F=this[f]||Object.create(null);this[f]=F,F.linkpath=this[S].replace(/\0.*/,"");break}default:throw new Error("unknown meta: "+N.type)}}abort(N){this[W]=!0,this.emit("abort",N),this.warn("TAR_ABORT",N,{recoverable:!1})}write(N,F,z){if(typeof F=="function"&&(z=F,F=void 0),typeof N=="string"&&(N=Buffer.from(N,typeof F=="string"?F:"utf8")),this[W])return z?.(),!1;if((this[I]===void 0||this.brotli===void 0&&this[I]===!1)&&N){if(this[E]&&(N=Buffer.concat([this[E],N]),this[E]=void 0),N.length<i)return this[E]=N,z?.(),!0;for(let X=0;this[I]===void 0&&X<r.length;X++)N[X]!==r[X]&&(this[I]=!1);let K=!1;if(this[I]===!1&&this.zstd!==!1){K=!0;for(let X=0;X<s.length;X++)if(N[X]!==s[X]){K=!1;break}}let q=this.brotli===void 0&&!K;if(this[I]===!1&&q)if(N.length<512)if(this[w])this.brotli=!0;else return this[E]=N,z?.(),!0;else try{new p.Header(N.subarray(0,512)),this.brotli=!1}catch{this.brotli=!0}if(this[I]===void 0||this[I]===!1&&(this.brotli||K)){let X=this[w];this[w]=!1,this[I]=this[I]===void 0?new h.Unzip({}):K?new h.ZstdDecompress({}):new h.BrotliDecompress({}),this[I].on("data",H=>this[P](H)),this[I].on("error",H=>this.abort(H)),this[I].on("end",()=>{this[w]=!0,this[P]()}),this[G]=!0;let A=!!this[I][X?"end":"write"](N);return this[G]=!1,z?.(),A}}this[G]=!0,this[I]?this[I].write(N):this[P](N),this[G]=!1;let $=this[_].length?!1:this[d]?this[d].flowing:!0;return!$&&!this[_].length&&this[d]?.once("drain",()=>this.emit("drain")),z?.(),$}[V](N){N&&!this[W]&&(this[E]=this[E]?Buffer.concat([this[E],N]):N)}[B](){if(this[w]&&!this[O]&&!this[W]&&!this[U]){this[O]=!0;let N=this[a];if(N&&N.blockRemain){let F=this[E]?this[E].length:0;this.warn("TAR_BAD_ARCHIVE",`Truncated input (needed ${N.blockRemain} more bytes, only ${F} available)`,{entry:N}),this[E]&&N.write(this[E]),N.end()}this[R](k)}}[P](N){if(this[U]&&N)this[V](N);else if(!N&&!this[E])this[B]();else if(N){if(this[U]=!0,this[E]){this[V](N);let F=this[E];this[E]=void 0,this[L](F)}else this[L](N);for(;this[E]&&this[E]?.length>=512&&!this[W]&&!this[C];){let F=this[E];this[E]=void 0,this[L](F)}this[U]=!1}(!this[E]||this[w])&&this[B]()}[L](N){let F=0,z=N.length;for(;F+512<=z&&!this[W]&&!this[C];)switch(this[c]){case"begin":case"header":this[j](N,F),F+=512;break;case"ignore":case"body":F+=this[M](N,F);break;case"meta":F+=this[x](N,F);break;default:throw new Error("invalid state: "+this[c])}F<z&&(this[E]?this[E]=Buffer.concat([N.subarray(F),this[E]]):this[E]=N.subarray(F))}end(N,F,z){return typeof N=="function"&&(z=N,F=void 0,N=void 0),typeof F=="function"&&(z=F,F=void 0),typeof N=="string"&&(N=Buffer.from(N,F)),z&&this.once("finish",z),this[W]||(this[I]?(N&&this[I].write(N),this[I].end()):(this[w]=!0,(this.brotli===void 0||this.zstd===void 0)&&(N=N||Buffer.alloc(0)),N&&this.write(N),this[B]())),this}};e.Parser=Q}),Ai=J(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.stripTrailingSlashes=void 0;var u=v(h=>{let p=h.length-1,o=-1;for(;p>-1&&h.charAt(p)==="/";)o=p,p--;return o===-1?h:h.slice(0,o)},"stripTrailingSlashes");e.stripTrailingSlashes=u}),Ht=J(e=>{"use strict";var u=e&&e.__createBinding||(Object.create?function(m,f,y,S){S===void 0&&(S=y);var b=Object.getOwnPropertyDescriptor(f,y);(!b||("get"in b?!f.__esModule:b.writable||b.configurable))&&(b={enumerable:!0,get:v(function(){return f[y]},"get")}),Object.defineProperty(m,S,b)}:function(m,f,y,S){S===void 0&&(S=y),m[S]=f[y]}),h=e&&e.__setModuleDefault||(Object.create?function(m,f){Object.defineProperty(m,"default",{enumerable:!0,value:f})}:function(m,f){m.default=f}),p=e&&e.__importStar||function(m){if(m&&m.__esModule)return m;var f={};if(m!=null)for(var y in m)y!=="default"&&Object.prototype.hasOwnProperty.call(m,y)&&u(f,m,y);return h(f,m),f},o=e&&e.__importDefault||function(m){return m&&m.__esModule?m:{default:m}};Object.defineProperty(e,"__esModule",{value:!0}),e.list=e.filesFilter=void 0;var l=p(Zt()),n=o(require("fs")),t=require("path"),r=Yt(),s=Oi(),i=Ai(),c=v(m=>{let f=m.onReadEntry;m.onReadEntry=f?y=>{f(y),y.resume()}:y=>y.resume()},"onReadEntryFunction"),a=v((m,f)=>{let y=new Map(f.map(E=>[(0,i.stripTrailingSlashes)(E),!0])),S=m.filter,b=v((E,_="")=>{let w=_||(0,t.parse)(E).root||".",O;if(E===w)O=!1;else{let R=y.get(E);R!==void 0?O=R:O=b((0,t.dirname)(E),w)}return y.set(E,O),O},"mapHas");m.filter=S?(E,_)=>S(E,_)&&b((0,i.stripTrailingSlashes)(E)):E=>b((0,i.stripTrailingSlashes)(E))},"filesFilter");e.filesFilter=a;var d=v(m=>{let f=new s.Parser(m),y=m.file,S;try{S=n.default.openSync(y,"r");let b=n.default.fstatSync(S),E=m.maxReadSize||16*1024*1024;if(b.size<E){let _=Buffer.allocUnsafe(b.size);n.default.readSync(S,_,0,b.size,0),f.end(_)}else{let _=0,w=Buffer.allocUnsafe(E);for(;_<b.size;){let O=n.default.readSync(S,w,0,E,_);_+=O,f.write(w.subarray(0,O))}f.end()}}finally{if(typeof S=="number")try{n.default.closeSync(S)}catch{}}},"listFileSync"),g=v((m,f)=>{let y=new s.Parser(m),S=m.maxReadSize||16*1024*1024,b=m.file;return new Promise((E,_)=>{y.on("error",_),y.on("end",E),n.default.stat(b,(w,O)=>{if(w)_(w);else{let R=new l.ReadStream(b,{readSize:S,size:O.size});R.on("error",_),R.pipe(y)}})})},"listFile");e.list=(0,r.makeCommand)(d,g,m=>new s.Parser(m),m=>new s.Parser(m),(m,f)=>{f?.length&&(0,e.filesFilter)(m,f),m.noResume||c(m)})}),Cf=J(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.modeFix=void 0;var u=v((h,p,o)=>(h&=4095,o&&(h=(h|384)&-19),p&&(h&256&&(h|=64),h&32&&(h|=8),h&4&&(h|=1)),h),"modeFix");e.modeFix=u}),Ha=J(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.stripAbsolutePath=void 0;var u=require("path"),{isAbsolute:h,parse:p}=u.win32,o=v(l=>{let n="",t=p(l);for(;h(l)||t.root;){let r=l.charAt(0)==="/"&&l.slice(0,4)!=="//?/"?"/":t.root;l=l.slice(r.length),n+=r,t=p(l)}return[n,l]},"stripAbsolutePath");e.stripAbsolutePath=o}),Ga=J(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.decode=e.encode=void 0;var u=["|","<",">","?",":"],h=u.map(t=>String.fromCharCode(61440+t.charCodeAt(0))),p=new Map(u.map((t,r)=>[t,h[r]])),o=new Map(h.map((t,r)=>[t,u[r]])),l=v(t=>u.reduce((r,s)=>r.split(s).join(p.get(s)),t),"encode");e.encode=l;var n=v(t=>h.reduce((r,s)=>r.split(s).join(o.get(s)),t),"decode");e.decode=n}),Va=J(e=>{"use strict";var u=e&&e.__createBinding||(Object.create?function(Y,Q,N,F){F===void 0&&(F=N);var z=Object.getOwnPropertyDescriptor(Q,N);(!z||("get"in z?!Q.__esModule:z.writable||z.configurable))&&(z={enumerable:!0,get:v(function(){return Q[N]},"get")}),Object.defineProperty(Y,F,z)}:function(Y,Q,N,F){F===void 0&&(F=N),Y[F]=Q[N]}),h=e&&e.__setModuleDefault||(Object.create?function(Y,Q){Object.defineProperty(Y,"default",{enumerable:!0,value:Q})}:function(Y,Q){Y.default=Q}),p=e&&e.__importStar||function(Y){if(Y&&Y.__esModule)return Y;var Q={};if(Y!=null)for(var N in Y)N!=="default"&&Object.prototype.hasOwnProperty.call(Y,N)&&u(Q,Y,N);return h(Q,Y),Q},o=e&&e.__importDefault||function(Y){return Y&&Y.__esModule?Y:{default:Y}};Object.defineProperty(e,"__esModule",{value:!0}),e.WriteEntryTar=e.WriteEntrySync=e.WriteEntry=void 0;var l=o(require("fs")),n=Ae(),t=o(require("path")),r=Xt(),s=Cf(),i=Qt(),c=bi(),a=Ei(),d=Ha(),g=Ai(),m=wi(),f=p(Ga()),y=v((Y,Q)=>Q?(Y=(0,i.normalizeWindowsPath)(Y).replace(/^\.(\/|$)/,""),(0,g.stripTrailingSlashes)(Q)+"/"+Y):(0,i.normalizeWindowsPath)(Y),"prefixPath"),S=16*1024*1024,b=Symbol("process"),E=Symbol("file"),_=Symbol("directory"),w=Symbol("symlink"),O=Symbol("hardlink"),R=Symbol("header"),I=Symbol("read"),P=Symbol("lstat"),L=Symbol("onlstat"),M=Symbol("onread"),x=Symbol("onreadlink"),j=Symbol("openfile"),U=Symbol("onopenfile"),V=Symbol("close"),B=Symbol("mode"),G=Symbol("awaitDrain"),W=Symbol("ondrain"),k=Symbol("prefix"),D=class extends n.Minipass{static{v(this,"WriteEntry")}path;portable;myuid=process.getuid&&process.getuid()||0;myuser=process.env.USER||"";maxReadSize;linkCache;statCache;preservePaths;cwd;strict;mtime;noPax;noMtime;prefix;fd;blockLen=0;blockRemain=0;buf;pos=0;remain=0;length=0;offset=0;win32;absolute;header;type;linkpath;stat;onWriteEntry;#e=!1;constructor(Y,Q={}){let N=(0,c.dealias)(Q);super(),this.path=(0,i.normalizeWindowsPath)(Y),this.portable=!!N.portable,this.maxReadSize=N.maxReadSize||S,this.linkCache=N.linkCache||new Map,this.statCache=N.statCache||new Map,this.preservePaths=!!N.preservePaths,this.cwd=(0,i.normalizeWindowsPath)(N.cwd||process.cwd()),this.strict=!!N.strict,this.noPax=!!N.noPax,this.noMtime=!!N.noMtime,this.mtime=N.mtime,this.prefix=N.prefix?(0,i.normalizeWindowsPath)(N.prefix):void 0,this.onWriteEntry=N.onWriteEntry,typeof N.onwarn=="function"&&this.on("warn",N.onwarn);let F=!1;if(!this.preservePaths){let[$,K]=(0,d.stripAbsolutePath)(this.path);$&&typeof K=="string"&&(this.path=K,F=$)}this.win32=!!N.win32||process.platform==="win32",this.win32&&(this.path=f.decode(this.path.replace(/\\/g,"/")),Y=Y.replace(/\\/g,"/")),this.absolute=(0,i.normalizeWindowsPath)(N.absolute||t.default.resolve(this.cwd,Y)),this.path===""&&(this.path="./"),F&&this.warn("TAR_ENTRY_INFO",`stripping ${F} from absolute path`,{entry:this,path:F+this.path});let z=this.statCache.get(this.absolute);z?this[L](z):this[P]()}warn(Y,Q,N={}){return(0,m.warnMethod)(this,Y,Q,N)}emit(Y,...Q){return Y==="error"&&(this.#e=!0),super.emit(Y,...Q)}[P](){l.default.lstat(this.absolute,(Y,Q)=>{if(Y)return this.emit("error",Y);this[L](Q)})}[L](Y){this.statCache.set(this.absolute,Y),this.stat=Y,Y.isFile()||(Y.size=0),this.type=Z(Y),this.emit("stat",Y),this[b]()}[b](){switch(this.type){case"File":return this[E]();case"Directory":return this[_]();case"SymbolicLink":return this[w]();default:return this.end()}}[B](Y){return(0,s.modeFix)(Y,this.type==="Directory",this.portable)}[k](Y){return y(Y,this.prefix)}[R](){if(!this.stat)throw new Error("cannot write header before stat");this.type==="Directory"&&this.portable&&(this.noMtime=!0),this.onWriteEntry?.(this),this.header=new r.Header({path:this[k](this.path),linkpath:this.type==="Link"&&this.linkpath!==void 0?this[k](this.linkpath):this.linkpath,mode:this[B](this.stat.mode),uid:this.portable?void 0:this.stat.uid,gid:this.portable?void 0:this.stat.gid,size:this.stat.size,mtime:this.noMtime?void 0:this.mtime||this.stat.mtime,type:this.type==="Unsupported"?void 0:this.type,uname:this.portable?void 0:this.stat.uid===this.myuid?this.myuser:"",atime:this.portable?void 0:this.stat.atime,ctime:this.portable?void 0:this.stat.ctime}),this.header.encode()&&!this.noPax&&super.write(new a.Pax({atime:this.portable?void 0:this.header.atime,ctime:this.portable?void 0:this.header.ctime,gid:this.portable?void 0:this.header.gid,mtime:this.noMtime?void 0:this.mtime||this.header.mtime,path:this[k](this.path),linkpath:this.type==="Link"&&this.linkpath!==void 0?this[k](this.linkpath):this.linkpath,size:this.header.size,uid:this.portable?void 0:this.header.uid,uname:this.portable?void 0:this.header.uname,dev:this.portable?void 0:this.stat.dev,ino:this.portable?void 0:this.stat.ino,nlink:this.portable?void 0:this.stat.nlink}).encode());let Y=this.header?.block;if(!Y)throw new Error("failed to encode header");super.write(Y)}[_](){if(!this.stat)throw new Error("cannot create directory entry without stat");this.path.slice(-1)!=="/"&&(this.path+="/"),this.stat.size=0,this[R](),this.end()}[w](){l.default.readlink(this.absolute,(Y,Q)=>{if(Y)return this.emit("error",Y);this[x](Q)})}[x](Y){this.linkpath=(0,i.normalizeWindowsPath)(Y),this[R](),this.end()}[O](Y){if(!this.stat)throw new Error("cannot create link entry without stat");this.type="Link",this.linkpath=(0,i.normalizeWindowsPath)(t.default.relative(this.cwd,Y)),this.stat.size=0,this[R](),this.end()}[E](){if(!this.stat)throw new Error("cannot create file entry without stat");if(this.stat.nlink>1){let Y=`${this.stat.dev}:${this.stat.ino}`,Q=this.linkCache.get(Y);if(Q?.indexOf(this.cwd)===0)return this[O](Q);this.linkCache.set(Y,this.absolute)}if(this[R](),this.stat.size===0)return this.end();this[j]()}[j](){l.default.open(this.absolute,"r",(Y,Q)=>{if(Y)return this.emit("error",Y);this[U](Q)})}[U](Y){if(this.fd=Y,this.#e)return this[V]();if(!this.stat)throw new Error("should stat before calling onopenfile");this.blockLen=512*Math.ceil(this.stat.size/512),this.blockRemain=this.blockLen;let Q=Math.min(this.blockLen,this.maxReadSize);this.buf=Buffer.allocUnsafe(Q),this.offset=0,this.pos=0,this.remain=this.stat.size,this.length=this.buf.length,this[I]()}[I](){let{fd:Y,buf:Q,offset:N,length:F,pos:z}=this;if(Y===void 0||Q===void 0)throw new Error("cannot read file without first opening");l.default.read(Y,Q,N,F,z,($,K)=>{if($)return this[V](()=>this.emit("error",$));this[M](K)})}[V](Y=()=>{}){this.fd!==void 0&&l.default.close(this.fd,Y)}[M](Y){if(Y<=0&&this.remain>0){let N=Object.assign(new Error("encountered unexpected EOF"),{path:this.absolute,syscall:"read",code:"EOF"});return this[V](()=>this.emit("error",N))}if(Y>this.remain){let N=Object.assign(new Error("did not encounter expected EOF"),{path:this.absolute,syscall:"read",code:"EOF"});return this[V](()=>this.emit("error",N))}if(!this.buf)throw new Error("should have created buffer prior to reading");if(Y===this.remain)for(let N=Y;N<this.length&&Y<this.blockRemain;N++)this.buf[N+this.offset]=0,Y++,this.remain++;let Q=this.offset===0&&Y===this.buf.length?this.buf:this.buf.subarray(this.offset,this.offset+Y);this.write(Q)?this[W]():this[G](()=>this[W]())}[G](Y){this.once("drain",Y)}write(Y,Q,N){if(typeof Q=="function"&&(N=Q,Q=void 0),typeof Y=="string"&&(Y=Buffer.from(Y,typeof Q=="string"?Q:"utf8")),this.blockRemain<Y.length){let F=Object.assign(new Error("writing more data than expected"),{path:this.absolute});return this.emit("error",F)}return this.remain-=Y.length,this.blockRemain-=Y.length,this.pos+=Y.length,this.offset+=Y.length,super.write(Y,null,N)}[W](){if(!this.remain)return this.blockRemain&&super.write(Buffer.alloc(this.blockRemain)),this[V](Y=>Y?this.emit("error",Y):this.end());if(!this.buf)throw new Error("buffer lost somehow in ONDRAIN");this.offset>=this.length&&(this.buf=Buffer.allocUnsafe(Math.min(this.blockRemain,this.buf.length)),this.offset=0),this.length=this.buf.length-this.offset,this[I]()}};e.WriteEntry=D;var T=class extends D{static{v(this,"WriteEntrySync")}sync=!0;[P](){this[L](l.default.lstatSync(this.absolute))}[w](){this[x](l.default.readlinkSync(this.absolute))}[j](){this[U](l.default.openSync(this.absolute,"r"))}[I](){let Y=!0;try{let{fd:Q,buf:N,offset:F,length:z,pos:$}=this;if(Q===void 0||N===void 0)throw new Error("fd and buf must be set in READ method");let K=l.default.readSync(Q,N,F,z,$);this[M](K),Y=!1}finally{if(Y)try{this[V](()=>{})}catch{}}}[G](Y){Y()}[V](Y=()=>{}){this.fd!==void 0&&l.default.closeSync(this.fd),Y()}};e.WriteEntrySync=T;var C=class extends n.Minipass{static{v(this,"WriteEntryTar")}blockLen=0;blockRemain=0;buf=0;pos=0;remain=0;length=0;preservePaths;portable;strict;noPax;noMtime;readEntry;type;prefix;path;mode;uid;gid;uname;gname;header;mtime;atime;ctime;linkpath;size;onWriteEntry;warn(Y,Q,N={}){return(0,m.warnMethod)(this,Y,Q,N)}constructor(Y,Q={}){let N=(0,c.dealias)(Q);super(),this.preservePaths=!!N.preservePaths,this.portable=!!N.portable,this.strict=!!N.strict,this.noPax=!!N.noPax,this.noMtime=!!N.noMtime,this.onWriteEntry=N.onWriteEntry,this.readEntry=Y;let{type:F}=Y;if(F==="Unsupported")throw new Error("writing entry that should be ignored");this.type=F,this.type==="Directory"&&this.portable&&(this.noMtime=!0),this.prefix=N.prefix,this.path=(0,i.normalizeWindowsPath)(Y.path),this.mode=Y.mode!==void 0?this[B](Y.mode):void 0,this.uid=this.portable?void 0:Y.uid,this.gid=this.portable?void 0:Y.gid,this.uname=this.portable?void 0:Y.uname,this.gname=this.portable?void 0:Y.gname,this.size=Y.size,this.mtime=this.noMtime?void 0:N.mtime||Y.mtime,this.atime=this.portable?void 0:Y.atime,this.ctime=this.portable?void 0:Y.ctime,this.linkpath=Y.linkpath!==void 0?(0,i.normalizeWindowsPath)(Y.linkpath):void 0,typeof N.onwarn=="function"&&this.on("warn",N.onwarn);let z=!1;if(!this.preservePaths){let[K,q]=(0,d.stripAbsolutePath)(this.path);K&&typeof q=="string"&&(this.path=q,z=K)}this.remain=Y.size,this.blockRemain=Y.startBlockSize,this.onWriteEntry?.(this),this.header=new r.Header({path:this[k](this.path),linkpath:this.type==="Link"&&this.linkpath!==void 0?this[k](this.linkpath):this.linkpath,mode:this.mode,uid:this.portable?void 0:this.uid,gid:this.portable?void 0:this.gid,size:this.size,mtime:this.noMtime?void 0:this.mtime,type:this.type,uname:this.portable?void 0:this.uname,atime:this.portable?void 0:this.atime,ctime:this.portable?void 0:this.ctime}),z&&this.warn("TAR_ENTRY_INFO",`stripping ${z} from absolute path`,{entry:this,path:z+this.path}),this.header.encode()&&!this.noPax&&super.write(new a.Pax({atime:this.portable?void 0:this.atime,ctime:this.portable?void 0:this.ctime,gid:this.portable?void 0:this.gid,mtime:this.noMtime?void 0:this.mtime,path:this[k](this.path),linkpath:this.type==="Link"&&this.linkpath!==void 0?this[k](this.linkpath):this.linkpath,size:this.size,uid:this.portable?void 0:this.uid,uname:this.portable?void 0:this.uname,dev:this.portable?void 0:this.readEntry.dev,ino:this.portable?void 0:this.readEntry.ino,nlink:this.portable?void 0:this.readEntry.nlink}).encode());let $=this.header?.block;if(!$)throw new Error("failed to encode header");super.write($),Y.pipe(this)}[k](Y){return y(Y,this.prefix)}[B](Y){return(0,s.modeFix)(Y,this.type==="Directory",this.portable)}write(Y,Q,N){typeof Q=="function"&&(N=Q,Q=void 0),typeof Y=="string"&&(Y=Buffer.from(Y,typeof Q=="string"?Q:"utf8"));let F=Y.length;if(F>this.blockRemain)throw new Error("writing more to entry than is appropriate");return this.blockRemain-=F,super.write(Y,N)}end(Y,Q,N){return this.blockRemain&&super.write(Buffer.alloc(this.blockRemain)),typeof Y=="function"&&(N=Y,Q=void 0,Y=void 0),typeof Q=="function"&&(N=Q,Q=void 0),typeof Y=="string"&&(Y=Buffer.from(Y,Q??"utf8")),N&&this.once("finish",N),Y?super.end(Y,N):super.end(N),this}};e.WriteEntryTar=C;var Z=v(Y=>Y.isFile()?"File":Y.isDirectory()?"Directory":Y.isSymbolicLink()?"SymbolicLink":"Unsupported","getType")}),If=J(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Node=e.Yallist=void 0;var u=class vt{static{v(this,"Yallist")}tail;head;length=0;static create(t=[]){return new vt(t)}constructor(t=[]){for(let r of t)this.push(r)}*[Symbol.iterator](){for(let t=this.head;t;t=t.next)yield t.value}removeNode(t){if(t.list!==this)throw new Error("removing node which does not belong to this list");let r=t.next,s=t.prev;return r&&(r.prev=s),s&&(s.next=r),t===this.head&&(this.head=r),t===this.tail&&(this.tail=s),this.length--,t.next=void 0,t.prev=void 0,t.list=void 0,r}unshiftNode(t){if(t===this.head)return;t.list&&t.list.removeNode(t);let r=this.head;t.list=this,t.next=r,r&&(r.prev=t),this.head=t,this.tail||(this.tail=t),this.length++}pushNode(t){if(t===this.tail)return;t.list&&t.list.removeNode(t);let r=this.tail;t.list=this,t.prev=r,r&&(r.next=t),this.tail=t,this.head||(this.head=t),this.length++}push(...t){for(let r=0,s=t.length;r<s;r++)p(this,t[r]);return this.length}unshift(...t){for(var r=0,s=t.length;r<s;r++)o(this,t[r]);return this.length}pop(){if(!this.tail)return;let t=this.tail.value,r=this.tail;return this.tail=this.tail.prev,this.tail?this.tail.next=void 0:this.head=void 0,r.list=void 0,this.length--,t}shift(){if(!this.head)return;let t=this.head.value,r=this.head;return this.head=this.head.next,this.head?this.head.prev=void 0:this.tail=void 0,r.list=void 0,this.length--,t}forEach(t,r){r=r||this;for(let s=this.head,i=0;s;i++)t.call(r,s.value,i,this),s=s.next}forEachReverse(t,r){r=r||this;for(let s=this.tail,i=this.length-1;s;i--)t.call(r,s.value,i,this),s=s.prev}get(t){let r=0,s=this.head;for(;s&&r<t;r++)s=s.next;if(r===t&&s)return s.value}getReverse(t){let r=0,s=this.tail;for(;s&&r<t;r++)s=s.prev;if(r===t&&s)return s.value}map(t,r){r=r||this;let s=new vt;for(let i=this.head;i;)s.push(t.call(r,i.value,this)),i=i.next;return s}mapReverse(t,r){r=r||this;var s=new vt;for(let i=this.tail;i;)s.push(t.call(r,i.value,this)),i=i.prev;return s}reduce(t,r){let s,i=this.head;if(arguments.length>1)s=r;else if(this.head)i=this.head.next,s=this.head.value;else throw new TypeError("Reduce of empty list with no initial value");for(var c=0;i;c++)s=t(s,i.value,c),i=i.next;return s}reduceReverse(t,r){let s,i=this.tail;if(arguments.length>1)s=r;else if(this.tail)i=this.tail.prev,s=this.tail.value;else throw new TypeError("Reduce of empty list with no initial value");for(let c=this.length-1;i;c--)s=t(s,i.value,c),i=i.prev;return s}toArray(){let t=new Array(this.length);for(let r=0,s=this.head;s;r++)t[r]=s.value,s=s.next;return t}toArrayReverse(){let t=new Array(this.length);for(let r=0,s=this.tail;s;r++)t[r]=s.value,s=s.prev;return t}slice(t=0,r=this.length){r<0&&(r+=this.length),t<0&&(t+=this.length);let s=new vt;if(r<t||r<0)return s;t<0&&(t=0),r>this.length&&(r=this.length);let i=this.head,c=0;for(c=0;i&&c<t;c++)i=i.next;for(;i&&c<r;c++,i=i.next)s.push(i.value);return s}sliceReverse(t=0,r=this.length){r<0&&(r+=this.length),t<0&&(t+=this.length);let s=new vt;if(r<t||r<0)return s;t<0&&(t=0),r>this.length&&(r=this.length);let i=this.length,c=this.tail;for(;c&&i>r;i--)c=c.prev;for(;c&&i>t;i--,c=c.prev)s.push(c.value);return s}splice(t,r=0,...s){t>this.length&&(t=this.length-1),t<0&&(t=this.length+t);let i=this.head;for(let a=0;i&&a<t;a++)i=i.next;let c=[];for(let a=0;i&&a<r;a++)c.push(i.value),i=this.removeNode(i);i?i!==this.tail&&(i=i.prev):i=this.tail;for(let a of s)i=h(this,i,a);return c}reverse(){let t=this.head,r=this.tail;for(let s=t;s;s=s.prev){let i=s.prev;s.prev=s.next,s.next=i}return this.head=r,this.tail=t,this}};e.Yallist=u;function h(n,t,r){let s=t,i=t?t.next:n.head,c=new l(r,s,i,n);return c.next===void 0&&(n.tail=c),c.prev===void 0&&(n.head=c),n.length++,c}v(h,"insertAfter");function p(n,t){n.tail=new l(t,n.tail,void 0,n),n.head||(n.head=n.tail),n.length++}v(p,"push");function o(n,t){n.head=new l(t,void 0,n.head,n),n.tail||(n.tail=n.head),n.length++}v(o,"unshift");var l=class{static{v(this,"Node")}list;next;prev;value;constructor(n,t,r,s){this.list=s,this.value=n,t?(t.next=this,this.prev=t):this.prev=void 0,r?(r.prev=this,this.next=r):this.next=void 0}};e.Node=l}),Ri=J(e=>{"use strict";var u=e&&e.__createBinding||(Object.create?function(T,C,Z,Y){Y===void 0&&(Y=Z);var Q=Object.getOwnPropertyDescriptor(C,Z);(!Q||("get"in Q?!C.__esModule:Q.writable||Q.configurable))&&(Q={enumerable:!0,get:v(function(){return C[Z]},"get")}),Object.defineProperty(T,Y,Q)}:function(T,C,Z,Y){Y===void 0&&(Y=Z),T[Y]=C[Z]}),h=e&&e.__setModuleDefault||(Object.create?function(T,C){Object.defineProperty(T,"default",{enumerable:!0,value:C})}:function(T,C){T.default=C}),p=e&&e.__importStar||function(T){if(T&&T.__esModule)return T;var C={};if(T!=null)for(var Z in T)Z!=="default"&&Object.prototype.hasOwnProperty.call(T,Z)&&u(C,T,Z);return h(C,T),C},o=e&&e.__importDefault||function(T){return T&&T.__esModule?T:{default:T}};Object.defineProperty(e,"__esModule",{value:!0}),e.PackSync=e.Pack=e.PackJob=void 0;var l=o(require("fs")),n=Va(),t=class{static{v(this,"PackJob")}path;absolute;entry;stat;readdir;pending=!1;ignore=!1;piped=!1;constructor(T,C){this.path=T||"./",this.absolute=C}};e.PackJob=t;var r=Ae(),s=p(Ir()),i=If(),c=_i(),a=wi(),d=Buffer.alloc(1024),g=Symbol("onStat"),m=Symbol("ended"),f=Symbol("queue"),y=Symbol("current"),S=Symbol("process"),b=Symbol("processing"),E=Symbol("processJob"),_=Symbol("jobs"),w=Symbol("jobDone"),O=Symbol("addFSEntry"),R=Symbol("addTarEntry"),I=Symbol("stat"),P=Symbol("readdir"),L=Symbol("onreaddir"),M=Symbol("pipe"),x=Symbol("entry"),j=Symbol("entryOpt"),U=Symbol("writeEntryClass"),V=Symbol("write"),B=Symbol("ondrain"),G=o(require("path")),W=Qt(),k=class extends r.Minipass{static{v(this,"Pack")}opt;cwd;maxReadSize;preservePaths;strict;noPax;prefix;linkCache;statCache;file;portable;zip;readdirCache;noDirRecurse;follow;noMtime;mtime;filter;jobs;[U];onWriteEntry;[f];[_]=0;[b]=!1;[m]=!1;constructor(T={}){if(super(),this.opt=T,this.file=T.file||"",this.cwd=T.cwd||process.cwd(),this.maxReadSize=T.maxReadSize,this.preservePaths=!!T.preservePaths,this.strict=!!T.strict,this.noPax=!!T.noPax,this.prefix=(0,W.normalizeWindowsPath)(T.prefix||""),this.linkCache=T.linkCache||new Map,this.statCache=T.statCache||new Map,this.readdirCache=T.readdirCache||new Map,this.onWriteEntry=T.onWriteEntry,this[U]=n.WriteEntry,typeof T.onwarn=="function"&&this.on("warn",T.onwarn),this.portable=!!T.portable,T.gzip||T.brotli||T.zstd){if((T.gzip?1:0)+(T.brotli?1:0)+(T.zstd?1:0)>1)throw new TypeError("gzip, brotli, zstd are mutually exclusive");if(T.gzip&&(typeof T.gzip!="object"&&(T.gzip={}),this.portable&&(T.gzip.portable=!0),this.zip=new s.Gzip(T.gzip)),T.brotli&&(typeof T.brotli!="object"&&(T.brotli={}),this.zip=new s.BrotliCompress(T.brotli)),T.zstd&&(typeof T.zstd!="object"&&(T.zstd={}),this.zip=new s.ZstdCompress(T.zstd)),!this.zip)throw new Error("impossible");let C=this.zip;C.on("data",Z=>super.write(Z)),C.on("end",()=>super.end()),C.on("drain",()=>this[B]()),this.on("resume",()=>C.resume())}else this.on("drain",this[B]);this.noDirRecurse=!!T.noDirRecurse,this.follow=!!T.follow,this.noMtime=!!T.noMtime,T.mtime&&(this.mtime=T.mtime),this.filter=typeof T.filter=="function"?T.filter:()=>!0,this[f]=new i.Yallist,this[_]=0,this.jobs=Number(T.jobs)||4,this[b]=!1,this[m]=!1}[V](T){return super.write(T)}add(T){return this.write(T),this}end(T,C,Z){return typeof T=="function"&&(Z=T,T=void 0),typeof C=="function"&&(Z=C,C=void 0),T&&this.add(T),this[m]=!0,this[S](),Z&&Z(),this}write(T){if(this[m])throw new Error("write after end");return T instanceof c.ReadEntry?this[R](T):this[O](T),this.flowing}[R](T){let C=(0,W.normalizeWindowsPath)(G.default.resolve(this.cwd,T.path));if(!this.filter(T.path,T))T.resume();else{let Z=new t(T.path,C);Z.entry=new n.WriteEntryTar(T,this[j](Z)),Z.entry.on("end",()=>this[w](Z)),this[_]+=1,this[f].push(Z)}this[S]()}[O](T){let C=(0,W.normalizeWindowsPath)(G.default.resolve(this.cwd,T));this[f].push(new t(T,C)),this[S]()}[I](T){T.pending=!0,this[_]+=1;let C=this.follow?"stat":"lstat";l.default[C](T.absolute,(Z,Y)=>{T.pending=!1,this[_]-=1,Z?this.emit("error",Z):this[g](T,Y)})}[g](T,C){this.statCache.set(T.absolute,C),T.stat=C,this.filter(T.path,C)||(T.ignore=!0),this[S]()}[P](T){T.pending=!0,this[_]+=1,l.default.readdir(T.absolute,(C,Z)=>{if(T.pending=!1,this[_]-=1,C)return this.emit("error",C);this[L](T,Z)})}[L](T,C){this.readdirCache.set(T.absolute,C),T.readdir=C,this[S]()}[S](){if(!this[b]){this[b]=!0;for(let T=this[f].head;T&&this[_]<this.jobs;T=T.next)if(this[E](T.value),T.value.ignore){let C=T.next;this[f].removeNode(T),T.next=C}this[b]=!1,this[m]&&!this[f].length&&this[_]===0&&(this.zip?this.zip.end(d):(super.write(d),super.end()))}}get[y](){return this[f]&&this[f].head&&this[f].head.value}[w](T){this[f].shift(),this[_]-=1,this[S]()}[E](T){if(!T.pending){if(T.entry){T===this[y]&&!T.piped&&this[M](T);return}if(!T.stat){let C=this.statCache.get(T.absolute);C?this[g](T,C):this[I](T)}if(T.stat&&!T.ignore){if(!this.noDirRecurse&&T.stat.isDirectory()&&!T.readdir){let C=this.readdirCache.get(T.absolute);if(C?this[L](T,C):this[P](T),!T.readdir)return}if(T.entry=this[x](T),!T.entry){T.ignore=!0;return}T===this[y]&&!T.piped&&this[M](T)}}}[j](T){return{onwarn:v((C,Z,Y)=>this.warn(C,Z,Y),"onwarn"),noPax:this.noPax,cwd:this.cwd,absolute:T.absolute,preservePaths:this.preservePaths,maxReadSize:this.maxReadSize,strict:this.strict,portable:this.portable,linkCache:this.linkCache,statCache:this.statCache,noMtime:this.noMtime,mtime:this.mtime,prefix:this.prefix,onWriteEntry:this.onWriteEntry}}[x](T){this[_]+=1;try{return new this[U](T.path,this[j](T)).on("end",()=>this[w](T)).on("error",C=>this.emit("error",C))}catch(C){this.emit("error",C)}}[B](){this[y]&&this[y].entry&&this[y].entry.resume()}[M](T){T.piped=!0,T.readdir&&T.readdir.forEach(Y=>{let Q=T.path,N=Q==="./"?"":Q.replace(/\/*$/,"/");this[O](N+Y)});let C=T.entry,Z=this.zip;if(!C)throw new Error("cannot pipe without source");Z?C.on("data",Y=>{Z.write(Y)||C.pause()}):C.on("data",Y=>{super.write(Y)||C.pause()})}pause(){return this.zip&&this.zip.pause(),super.pause()}warn(T,C,Z={}){(0,a.warnMethod)(this,T,C,Z)}};e.Pack=k;var D=class extends k{static{v(this,"PackSync")}sync=!0;constructor(T){super(T),this[U]=n.WriteEntrySync}pause(){}resume(){}[I](T){let C=this.follow?"statSync":"lstatSync";this[g](T,l.default[C](T.absolute))}[P](T){this[L](T,l.default.readdirSync(T.absolute))}[M](T){let C=T.entry,Z=this.zip;if(T.readdir&&T.readdir.forEach(Y=>{let Q=T.path,N=Q==="./"?"":Q.replace(/\/*$/,"/");this[O](N+Y)}),!C)throw new Error("Cannot pipe without source");Z?C.on("data",Y=>{Z.write(Y)}):C.on("data",Y=>{super[V](Y)})}};e.PackSync=D}),Ko=J(e=>{"use strict";var u=e&&e.__importDefault||function(d){return d&&d.__esModule?d:{default:d}};Object.defineProperty(e,"__esModule",{value:!0}),e.create=void 0;var h=Zt(),p=u(require("path")),o=Ht(),l=Yt(),n=Ri(),t=v((d,g)=>{let m=new n.PackSync(d),f=new h.WriteStreamSync(d.file,{mode:d.mode||438});m.pipe(f),s(m,g)},"createFileSync"),r=v((d,g)=>{let m=new n.Pack(d),f=new h.WriteStream(d.file,{mode:d.mode||438});m.pipe(f);let y=new Promise((S,b)=>{f.on("error",b),f.on("close",S),m.on("error",b)});return i(m,g),y},"createFile"),s=v((d,g)=>{g.forEach(m=>{m.charAt(0)==="@"?(0,o.list)({file:p.default.resolve(d.cwd,m.slice(1)),sync:!0,noResume:!0,onReadEntry:v(f=>d.add(f),"onReadEntry")}):d.add(m)}),d.end()},"addFilesSync"),i=v(async(d,g)=>{for(let m=0;m<g.length;m++){let f=String(g[m]);f.charAt(0)==="@"?await(0,o.list)({file:p.default.resolve(String(d.cwd),f.slice(1)),noResume:!0,onReadEntry:v(y=>{d.add(y)},"onReadEntry")}):d.add(f)}d.end()},"addFilesAsync"),c=v((d,g)=>{let m=new n.PackSync(d);return s(m,g),m},"createSync"),a=v((d,g)=>{let m=new n.Pack(d);return i(m,g),m},"createAsync");e.create=(0,l.makeCommand)(t,r,c,a,(d,g)=>{if(!g?.length)throw new TypeError("no paths specified to add to archive")})}),Tf=J(e=>{"use strict";var u=e&&e.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(e,"__esModule",{value:!0}),e.getWriteFlag=void 0;var h=u(require("fs")),p=process.env.__FAKE_PLATFORM__||process.platform,o=p==="win32",{O_CREAT:l,O_TRUNC:n,O_WRONLY:t}=h.default.constants,r=Number(process.env.__FAKE_FS_O_FILENAME__)||h.default.constants.UV_FS_O_FILEMAP||0,s=o&&!!r,i=512*1024,c=r|n|l|t;e.getWriteFlag=s?a=>a<i?c:"w":()=>"w"}),Pf=J(e=>{"use strict";var u=e&&e.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(e,"__esModule",{value:!0}),e.chownrSync=e.chownr=void 0;var h=u(require("fs")),p=u(require("path")),o=v((i,c,a)=>{try{return h.default.lchownSync(i,c,a)}catch(d){if(d?.code!=="ENOENT")throw d}},"lchownSync"),l=v((i,c,a,d)=>{h.default.lchown(i,c,a,g=>{d(g&&g?.code!=="ENOENT"?g:null)})},"chown"),n=v((i,c,a,d,g)=>{if(c.isDirectory())(0,e.chownr)(p.default.resolve(i,c.name),a,d,m=>{if(m)return g(m);let f=p.default.resolve(i,c.name);l(f,a,d,g)});else{let m=p.default.resolve(i,c.name);l(m,a,d,g)}},"chownrKid"),t=v((i,c,a,d)=>{h.default.readdir(i,{withFileTypes:!0},(g,m)=>{if(g){if(g.code==="ENOENT")return d();if(g.code!=="ENOTDIR"&&g.code!=="ENOTSUP")return d(g)}if(g||!m.length)return l(i,c,a,d);let f=m.length,y=null,S=v(b=>{if(!y){if(b)return d(y=b);if(--f===0)return l(i,c,a,d)}},"then");for(let b of m)n(i,b,c,a,S)})},"chownr");e.chownr=t;var r=v((i,c,a,d)=>{c.isDirectory()&&(0,e.chownrSync)(p.default.resolve(i,c.name),a,d),o(p.default.resolve(i,c.name),a,d)},"chownrKidSync"),s=v((i,c,a)=>{let d;try{d=h.default.readdirSync(i,{withFileTypes:!0})}catch(g){let m=g;if(m?.code==="ENOENT")return;if(m?.code==="ENOTDIR"||m?.code==="ENOTSUP")return o(i,c,a);throw m}for(let g of d)r(i,g,c,a);return o(i,c,a)},"chownrSync");e.chownrSync=s}),xf=J(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CwdError=void 0;var u=class extends Error{static{v(this,"CwdError")}path;code;syscall="chdir";constructor(h,p){super(`${p}: Cannot cd into '${h}'`),this.path=h,this.code=p}get name(){return"CwdError"}};e.CwdError=u}),kf=J(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SymlinkError=void 0;var u=class extends Error{static{v(this,"SymlinkError")}path;symlink;syscall="symlink";code="TAR_SYMLINK_ERROR";constructor(h,p){super("TAR_SYMLINK_ERROR: Cannot extract through symbolic link"),this.symlink=h,this.path=p}get name(){return"SymlinkError"}};e.SymlinkError=u}),Nf=J(e=>{"use strict";var u=e&&e.__importDefault||function(m){return m&&m.__esModule?m:{default:m}};Object.defineProperty(e,"__esModule",{value:!0}),e.mkdirSync=e.mkdir=void 0;var h=Pf(),p=u(require("fs")),o=u(require("internal/fs/promises")),l=u(require("path")),n=xf(),t=Qt(),r=kf(),s=v((m,f)=>{p.default.stat(m,(y,S)=>{(y||!S.isDirectory())&&(y=new n.CwdError(m,y?.code||"ENOTDIR")),f(y)})},"checkCwd"),i=v((m,f,y)=>{m=(0,t.normalizeWindowsPath)(m);let S=f.umask??18,b=f.mode|448,E=(b&S)!==0,_=f.uid,w=f.gid,O=typeof _=="number"&&typeof w=="number"&&(_!==f.processUid||w!==f.processGid),R=f.preserve,I=f.unlink,P=(0,t.normalizeWindowsPath)(f.cwd),L=v((x,j)=>{x?y(x):j&&O?(0,h.chownr)(j,_,w,U=>L(U)):E?p.default.chmod(m,b,y):y()},"done");if(m===P)return s(m,L);if(R)return o.default.mkdir(m,{mode:b,recursive:!0}).then(x=>L(null,x??void 0),L);let M=(0,t.normalizeWindowsPath)(l.default.relative(P,m)).split("/");c(P,M,b,I,P,void 0,L)},"mkdir");e.mkdir=i;var c=v((m,f,y,S,b,E,_)=>{if(!f.length)return _(null,E);let w=f.shift(),O=(0,t.normalizeWindowsPath)(l.default.resolve(m+"/"+w));p.default.mkdir(O,y,a(O,f,y,S,b,E,_))},"mkdir_"),a=v((m,f,y,S,b,E,_)=>w=>{w?p.default.lstat(m,(O,R)=>{if(O)O.path=O.path&&(0,t.normalizeWindowsPath)(O.path),_(O);else if(R.isDirectory())c(m,f,y,S,b,E,_);else if(S)p.default.unlink(m,I=>{if(I)return _(I);p.default.mkdir(m,y,a(m,f,y,S,b,E,_))});else{if(R.isSymbolicLink())return _(new r.SymlinkError(m,m+"/"+f.join("/")));_(w)}}):(E=E||m,c(m,f,y,S,b,E,_))},"onmkdir"),d=v(m=>{let f=!1,y;try{f=p.default.statSync(m).isDirectory()}catch(S){y=S?.code}finally{if(!f)throw new n.CwdError(m,y??"ENOTDIR")}},"checkCwdSync"),g=v((m,f)=>{m=(0,t.normalizeWindowsPath)(m);let y=f.umask??18,S=f.mode|448,b=(S&y)!==0,E=f.uid,_=f.gid,w=typeof E=="number"&&typeof _=="number"&&(E!==f.processUid||_!==f.processGid),O=f.preserve,R=f.unlink,I=(0,t.normalizeWindowsPath)(f.cwd),P=v(x=>{x&&w&&(0,h.chownrSync)(x,E,_),b&&p.default.chmodSync(m,S)},"done");if(m===I)return d(I),P();if(O)return P(p.default.mkdirSync(m,{mode:S,recursive:!0})??void 0);let L=(0,t.normalizeWindowsPath)(l.default.relative(I,m)).split("/"),M;for(let x=L.shift(),j=I;x&&(j+="/"+x);x=L.shift()){j=(0,t.normalizeWindowsPath)(l.default.resolve(j));try{p.default.mkdirSync(j,S),M=M||j}catch{let U=p.default.lstatSync(j);if(U.isDirectory())continue;if(R){p.default.unlinkSync(j),p.default.mkdirSync(j,S),M=M||j;continue}else if(U.isSymbolicLink())return new r.SymlinkError(j,j+"/"+L.join("/"))}}return P(M)},"mkdirSync");e.mkdirSync=g}),Lf=J(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.normalizeUnicode=void 0;var u=Object.create(null),h=1e4,p=new Set,o=v(l=>{p.has(l)?p.delete(l):u[l]=l.normalize("NFD"),p.add(l);let n=u[l],t=p.size-h;if(t>h/10){for(let r of p)if(p.delete(r),delete u[r],--t<=0)break}return n},"normalizeUnicode");e.normalizeUnicode=o}),Df=J(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PathReservations=void 0;var u=require("path"),h=Lf(),p=Ai(),o=process.env.TESTING_TAR_FAKE_PLATFORM||process.platform,l=o==="win32",n=v(r=>r.split("/").slice(0,-1).reduce((s,i)=>{let c=s[s.length-1];return c!==void 0&&(i=(0,u.join)(c,i)),s.push(i||"/"),s},[]),"getDirs"),t=class{static{v(this,"PathReservations")}#e=new Map;#t=new Map;#r=new Set;reserve(r,s){r=l?["win32 parallelization disabled"]:r.map(c=>(0,p.stripTrailingSlashes)((0,u.join)((0,h.normalizeUnicode)(c))).toLowerCase());let i=new Set(r.map(c=>n(c)).reduce((c,a)=>c.concat(a)));this.#t.set(s,{dirs:i,paths:r});for(let c of r){let a=this.#e.get(c);a?a.push(s):this.#e.set(c,[s])}for(let c of i){let a=this.#e.get(c);if(!a)this.#e.set(c,[new Set([s])]);else{let d=a[a.length-1];d instanceof Set?d.add(s):a.push(new Set([s]))}}return this.#i(s)}#s(r){let s=this.#t.get(r);if(!s)throw new Error("function does not have any path reservations");return{paths:s.paths.map(i=>this.#e.get(i)),dirs:[...s.dirs].map(i=>this.#e.get(i))}}check(r){let{paths:s,dirs:i}=this.#s(r);return s.every(c=>c&&c[0]===r)&&i.every(c=>c&&c[0]instanceof Set&&c[0].has(r))}#i(r){return this.#r.has(r)||!this.check(r)?!1:(this.#r.add(r),r(()=>this.#c(r)),!0)}#c(r){if(!this.#r.has(r))return!1;let s=this.#t.get(r);if(!s)throw new Error("invalid reservation");let{paths:i,dirs:c}=s,a=new Set;for(let d of i){let g=this.#e.get(d);if(!g||g?.[0]!==r)continue;let m=g[1];if(!m){this.#e.delete(d);continue}if(g.shift(),typeof m=="function")a.add(m);else for(let f of m)a.add(f)}for(let d of c){let g=this.#e.get(d),m=g?.[0];if(!(!g||!(m instanceof Set)))if(m.size===1&&g.length===1){this.#e.delete(d);continue}else if(m.size===1){g.shift();let f=g[0];typeof f=="function"&&a.add(f)}else m.delete(r)}return this.#r.delete(r),a.forEach(d=>this.#i(d)),!0}};e.PathReservations=t}),Wa=J(e=>{"use strict";var u=e&&e.__createBinding||(Object.create?function(A,H,ee,ne){ne===void 0&&(ne=ee);var te=Object.getOwnPropertyDescriptor(H,ee);(!te||("get"in te?!H.__esModule:te.writable||te.configurable))&&(te={enumerable:!0,get:v(function(){return H[ee]},"get")}),Object.defineProperty(A,ne,te)}:function(A,H,ee,ne){ne===void 0&&(ne=ee),A[ne]=H[ee]}),h=e&&e.__setModuleDefault||(Object.create?function(A,H){Object.defineProperty(A,"default",{enumerable:!0,value:H})}:function(A,H){A.default=H}),p=e&&e.__importStar||function(A){if(A&&A.__esModule)return A;var H={};if(A!=null)for(var ee in A)ee!=="default"&&Object.prototype.hasOwnProperty.call(A,ee)&&u(H,A,ee);return h(H,A),H},o=e&&e.__importDefault||function(A){return A&&A.__esModule?A:{default:A}};Object.defineProperty(e,"__esModule",{value:!0}),e.UnpackSync=e.Unpack=void 0;var l=p(Zt()),n=o(require("assert")),t=require("crypto"),r=o(require("fs")),s=o(require("path")),i=Tf(),c=Nf(),a=Qt(),d=Oi(),g=Ha(),m=p(Ga()),f=Df(),y=Symbol("onEntry"),S=Symbol("checkFs"),b=Symbol("checkFs2"),E=Symbol("isReusable"),_=Symbol("makeFs"),w=Symbol("file"),O=Symbol("directory"),R=Symbol("link"),I=Symbol("symlink"),P=Symbol("hardlink"),L=Symbol("unsupported"),M=Symbol("checkPath"),x=Symbol("mkdir"),j=Symbol("onError"),U=Symbol("pending"),V=Symbol("pend"),B=Symbol("unpend"),G=Symbol("ended"),W=Symbol("maybeClose"),k=Symbol("skip"),D=Symbol("doChown"),T=Symbol("uid"),C=Symbol("gid"),Z=Symbol("checkedCwd"),Y=process.env.TESTING_TAR_FAKE_PLATFORM||process.platform,Q=Y==="win32",N=1024,F=v((A,H)=>{if(!Q)return r.default.unlink(A,H);let ee=A+".DELETE."+(0,t.randomBytes)(16).toString("hex");r.default.rename(A,ee,ne=>{if(ne)return H(ne);r.default.unlink(ee,H)})},"unlinkFile"),z=v(A=>{if(!Q)return r.default.unlinkSync(A);let H=A+".DELETE."+(0,t.randomBytes)(16).toString("hex");r.default.renameSync(A,H),r.default.unlinkSync(H)},"unlinkFileSync"),$=v((A,H,ee)=>A!==void 0&&A===A>>>0?A:H!==void 0&&H===H>>>0?H:ee,"uint32"),K=class extends d.Parser{static{v(this,"Unpack")}[G]=!1;[Z]=!1;[U]=0;reservations=new f.PathReservations;transform;writable=!0;readable=!1;uid;gid;setOwner;preserveOwner;processGid;processUid;maxDepth;forceChown;win32;newer;keep;noMtime;preservePaths;unlink;cwd;strip;processUmask;umask;dmode;fmode;chmod;constructor(A={}){if(A.ondone=()=>{this[G]=!0,this[W]()},super(A),this.transform=A.transform,this.chmod=!!A.chmod,typeof A.uid=="number"||typeof A.gid=="number"){if(typeof A.uid!="number"||typeof A.gid!="number")throw new TypeError("cannot set owner without number uid and gid");if(A.preserveOwner)throw new TypeError("cannot preserve owner in archive and also set owner explicitly");this.uid=A.uid,this.gid=A.gid,this.setOwner=!0}else this.uid=void 0,this.gid=void 0,this.setOwner=!1;A.preserveOwner===void 0&&typeof A.uid!="number"?this.preserveOwner=!!(process.getuid&&process.getuid()===0):this.preserveOwner=!!A.preserveOwner,this.processUid=(this.preserveOwner||this.setOwner)&&process.getuid?process.getuid():void 0,this.processGid=(this.preserveOwner||this.setOwner)&&process.getgid?process.getgid():void 0,this.maxDepth=typeof A.maxDepth=="number"?A.maxDepth:N,this.forceChown=A.forceChown===!0,this.win32=!!A.win32||Q,this.newer=!!A.newer,this.keep=!!A.keep,this.noMtime=!!A.noMtime,this.preservePaths=!!A.preservePaths,this.unlink=!!A.unlink,this.cwd=(0,a.normalizeWindowsPath)(s.default.resolve(A.cwd||process.cwd())),this.strip=Number(A.strip)||0,this.processUmask=this.chmod?typeof A.processUmask=="number"?A.processUmask:process.umask():0,this.umask=typeof A.umask=="number"?A.umask:this.processUmask,this.dmode=A.dmode||511&~this.umask,this.fmode=A.fmode||438&~this.umask,this.on("entry",H=>this[y](H))}warn(A,H,ee={}){return(A==="TAR_BAD_ARCHIVE"||A==="TAR_ABORT")&&(ee.recoverable=!1),super.warn(A,H,ee)}[W](){this[G]&&this[U]===0&&(this.emit("prefinish"),this.emit("finish"),this.emit("end"))}[M](A){let H=(0,a.normalizeWindowsPath)(A.path),ee=H.split("/");if(this.strip){if(ee.length<this.strip)return!1;if(A.type==="Link"){let ne=(0,a.normalizeWindowsPath)(String(A.linkpath)).split("/");if(ne.length>=this.strip)A.linkpath=ne.slice(this.strip).join("/");else return!1}ee.splice(0,this.strip),A.path=ee.join("/")}if(isFinite(this.maxDepth)&&ee.length>this.maxDepth)return this.warn("TAR_ENTRY_ERROR","path excessively deep",{entry:A,path:H,depth:ee.length,maxDepth:this.maxDepth}),!1;if(!this.preservePaths){if(ee.includes("..")||Q&&/^[a-z]:\.\.$/i.test(ee[0]??""))return this.warn("TAR_ENTRY_ERROR","path contains '..'",{entry:A,path:H}),!1;let[ne,te]=(0,g.stripAbsolutePath)(H);ne&&(A.path=String(te),this.warn("TAR_ENTRY_INFO",`stripping ${ne} from absolute path`,{entry:A,path:H}))}if(s.default.isAbsolute(A.path)?A.absolute=(0,a.normalizeWindowsPath)(s.default.resolve(A.path)):A.absolute=(0,a.normalizeWindowsPath)(s.default.resolve(this.cwd,A.path)),!this.preservePaths&&typeof A.absolute=="string"&&A.absolute.indexOf(this.cwd+"/")!==0&&A.absolute!==this.cwd)return this.warn("TAR_ENTRY_ERROR","path escaped extraction target",{entry:A,path:(0,a.normalizeWindowsPath)(A.path),resolvedPath:A.absolute,cwd:this.cwd}),!1;if(A.absolute===this.cwd&&A.type!=="Directory"&&A.type!=="GNUDumpDir")return!1;if(this.win32){let{root:ne}=s.default.win32.parse(String(A.absolute));A.absolute=ne+m.encode(String(A.absolute).slice(ne.length));let{root:te}=s.default.win32.parse(A.path);A.path=te+m.encode(A.path.slice(te.length))}return!0}[y](A){if(!this[M](A))return A.resume();switch(n.default.equal(typeof A.absolute,"string"),A.type){case"Directory":case"GNUDumpDir":A.mode&&(A.mode=A.mode|448);case"File":case"OldFile":case"ContiguousFile":case"Link":case"SymbolicLink":return this[S](A);case"CharacterDevice":case"BlockDevice":case"FIFO":default:return this[L](A)}}[j](A,H){A.name==="CwdError"?this.emit("error",A):(this.warn("TAR_ENTRY_ERROR",A,{entry:H}),this[B](),H.resume())}[x](A,H,ee){(0,c.mkdir)((0,a.normalizeWindowsPath)(A),{uid:this.uid,gid:this.gid,processUid:this.processUid,processGid:this.processGid,umask:this.processUmask,preserve:this.preservePaths,unlink:this.unlink,cwd:this.cwd,mode:H},ee)}[D](A){return this.forceChown||this.preserveOwner&&(typeof A.uid=="number"&&A.uid!==this.processUid||typeof A.gid=="number"&&A.gid!==this.processGid)||typeof this.uid=="number"&&this.uid!==this.processUid||typeof this.gid=="number"&&this.gid!==this.processGid}[T](A){return $(this.uid,A.uid,this.processUid)}[C](A){return $(this.gid,A.gid,this.processGid)}[w](A,H){let ee=typeof A.mode=="number"?A.mode&4095:this.fmode,ne=new l.WriteStream(String(A.absolute),{flags:(0,i.getWriteFlag)(A.size),mode:ee,autoClose:!1});ne.on("error",re=>{ne.fd&&r.default.close(ne.fd,()=>{}),ne.write=()=>!0,this[j](re,A),H()});let te=1,ae=v(re=>{if(re){ne.fd&&r.default.close(ne.fd,()=>{}),this[j](re,A),H();return}--te===0&&ne.fd!==void 0&&r.default.close(ne.fd,ue=>{ue?this[j](ue,A):this[B](),H()})},"done");ne.on("finish",()=>{let re=String(A.absolute),ue=ne.fd;if(typeof ue=="number"&&A.mtime&&!this.noMtime){te++;let ie=A.atime||new Date,le=A.mtime;r.default.futimes(ue,ie,le,fe=>fe?r.default.utimes(re,ie,le,ge=>ae(ge&&fe)):ae())}if(typeof ue=="number"&&this[D](A)){te++;let ie=this[T](A),le=this[C](A);typeof ie=="number"&&typeof le=="number"&&r.default.fchown(ue,ie,le,fe=>fe?r.default.chown(re,ie,le,ge=>ae(ge&&fe)):ae())}ae()});let he=this.transform&&this.transform(A)||A;he!==A&&(he.on("error",re=>{this[j](re,A),H()}),A.pipe(he)),he.pipe(ne)}[O](A,H){let ee=typeof A.mode=="number"?A.mode&4095:this.dmode;this[x](String(A.absolute),ee,ne=>{if(ne){this[j](ne,A),H();return}let te=1,ae=v(()=>{--te===0&&(H(),this[B](),A.resume())},"done");A.mtime&&!this.noMtime&&(te++,r.default.utimes(String(A.absolute),A.atime||new Date,A.mtime,ae)),this[D](A)&&(te++,r.default.chown(String(A.absolute),Number(this[T](A)),Number(this[C](A)),ae)),ae()})}[L](A){A.unsupported=!0,this.warn("TAR_ENTRY_UNSUPPORTED",`unsupported entry type: ${A.type}`,{entry:A}),A.resume()}[I](A,H){this[R](A,String(A.linkpath),"symlink",H)}[P](A,H){let ee=(0,a.normalizeWindowsPath)(s.default.resolve(this.cwd,String(A.linkpath)));this[R](A,ee,"link",H)}[V](){this[U]++}[B](){this[U]--,this[W]()}[k](A){this[B](),A.resume()}[E](A,H){return A.type==="File"&&!this.unlink&&H.isFile()&&H.nlink<=1&&!Q}[S](A){this[V]();let H=[A.path];A.linkpath&&H.push(A.linkpath),this.reservations.reserve(H,ee=>this[b](A,ee))}[b](A,H){let ee=v(he=>{H(he)},"done"),ne=v(()=>{this[x](this.cwd,this.dmode,he=>{if(he){this[j](he,A),ee();return}this[Z]=!0,te()})},"checkCwd"),te=v(()=>{if(A.absolute!==this.cwd){let he=(0,a.normalizeWindowsPath)(s.default.dirname(String(A.absolute)));if(he!==this.cwd)return this[x](he,this.dmode,re=>{if(re){this[j](re,A),ee();return}ae()})}ae()},"start"),ae=v(()=>{r.default.lstat(String(A.absolute),(he,re)=>{if(re&&(this.keep||this.newer&&re.mtime>(A.mtime??re.mtime))){this[k](A),ee();return}if(he||this[E](A,re))return this[_](null,A,ee);if(re.isDirectory()){if(A.type==="Directory"){let ue=this.chmod&&A.mode&&(re.mode&4095)!==A.mode,ie=v(le=>this[_](le??null,A,ee),"afterChmod");return ue?r.default.chmod(String(A.absolute),Number(A.mode),ie):ie()}if(A.absolute!==this.cwd)return r.default.rmdir(String(A.absolute),ue=>this[_](ue??null,A,ee))}if(A.absolute===this.cwd)return this[_](null,A,ee);F(String(A.absolute),ue=>this[_](ue??null,A,ee))})},"afterMakeParent");this[Z]?te():ne()}[_](A,H,ee){if(A){this[j](A,H),ee();return}switch(H.type){case"File":case"OldFile":case"ContiguousFile":return this[w](H,ee);case"Link":return this[P](H,ee);case"SymbolicLink":return this[I](H,ee);case"Directory":case"GNUDumpDir":return this[O](H,ee)}}[R](A,H,ee,ne){r.default[ee](H,String(A.absolute),te=>{te?this[j](te,A):(this[B](),A.resume()),ne()})}};e.Unpack=K;var q=v(A=>{try{return[null,A()]}catch(H){return[H,null]}},"callSync"),X=class extends K{static{v(this,"UnpackSync")}sync=!0;[_](A,H){return super[_](A,H,()=>{})}[S](A){if(!this[Z]){let te=this[x](this.cwd,this.dmode);if(te)return this[j](te,A);this[Z]=!0}if(A.absolute!==this.cwd){let te=(0,a.normalizeWindowsPath)(s.default.dirname(String(A.absolute)));if(te!==this.cwd){let ae=this[x](te,this.dmode);if(ae)return this[j](ae,A)}}let[H,ee]=q(()=>r.default.lstatSync(String(A.absolute)));if(ee&&(this.keep||this.newer&&ee.mtime>(A.mtime??ee.mtime)))return this[k](A);if(H||this[E](A,ee))return this[_](null,A);if(ee.isDirectory()){if(A.type==="Directory"){let ae=this.chmod&&A.mode&&(ee.mode&4095)!==A.mode,[he]=ae?q(()=>{r.default.chmodSync(String(A.absolute),Number(A.mode))}):[];return this[_](he,A)}let[te]=q(()=>r.default.rmdirSync(String(A.absolute)));this[_](te,A)}let[ne]=A.absolute===this.cwd?[]:q(()=>z(String(A.absolute)));this[_](ne,A)}[w](A,H){let ee=typeof A.mode=="number"?A.mode&4095:this.fmode,ne=v(he=>{let re;try{r.default.closeSync(te)}catch(ue){re=ue}(he||re)&&this[j](he||re,A),H()},"oner"),te;try{te=r.default.openSync(String(A.absolute),(0,i.getWriteFlag)(A.size),ee)}catch(he){return ne(he)}let ae=this.transform&&this.transform(A)||A;ae!==A&&(ae.on("error",he=>this[j](he,A)),A.pipe(ae)),ae.on("data",he=>{try{r.default.writeSync(te,he,0,he.length)}catch(re){ne(re)}}),ae.on("end",()=>{let he=null;if(A.mtime&&!this.noMtime){let re=A.atime||new Date,ue=A.mtime;try{r.default.futimesSync(te,re,ue)}catch(ie){try{r.default.utimesSync(String(A.absolute),re,ue)}catch{he=ie}}}if(this[D](A)){let re=this[T](A),ue=this[C](A);try{r.default.fchownSync(te,Number(re),Number(ue))}catch(ie){try{r.default.chownSync(String(A.absolute),Number(re),Number(ue))}catch{he=he||ie}}}ne(he)})}[O](A,H){let ee=typeof A.mode=="number"?A.mode&4095:this.dmode,ne=this[x](String(A.absolute),ee);if(ne){this[j](ne,A),H();return}if(A.mtime&&!this.noMtime)try{r.default.utimesSync(String(A.absolute),A.atime||new Date,A.mtime)}catch{}if(this[D](A))try{r.default.chownSync(String(A.absolute),Number(this[T](A)),Number(this[C](A)))}catch{}H(),A.resume()}[x](A,H){try{return(0,c.mkdirSync)((0,a.normalizeWindowsPath)(A),{uid:this.uid,gid:this.gid,processUid:this.processUid,processGid:this.processGid,umask:this.processUmask,preserve:this.preservePaths,unlink:this.unlink,cwd:this.cwd,mode:H})}catch(ee){return ee}}[R](A,H,ee,ne){let te=`${ee}Sync`;try{r.default[te](H,String(A.absolute)),ne(),A.resume()}catch(ae){return this[j](ae,A)}}};e.UnpackSync=X}),Jo=J(e=>{"use strict";var u=e&&e.__createBinding||(Object.create?function(a,d,g,m){m===void 0&&(m=g);var f=Object.getOwnPropertyDescriptor(d,g);(!f||("get"in f?!d.__esModule:f.writable||f.configurable))&&(f={enumerable:!0,get:v(function(){return d[g]},"get")}),Object.defineProperty(a,m,f)}:function(a,d,g,m){m===void 0&&(m=g),a[m]=d[g]}),h=e&&e.__setModuleDefault||(Object.create?function(a,d){Object.defineProperty(a,"default",{enumerable:!0,value:d})}:function(a,d){a.default=d}),p=e&&e.__importStar||function(a){if(a&&a.__esModule)return a;var d={};if(a!=null)for(var g in a)g!=="default"&&Object.prototype.hasOwnProperty.call(a,g)&&u(d,a,g);return h(d,a),d},o=e&&e.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(e,"__esModule",{value:!0}),e.extract=void 0;var l=p(Zt()),n=o(require("fs")),t=Ht(),r=Yt(),s=Wa(),i=v(a=>{let d=new s.UnpackSync(a),g=a.file,m=n.default.statSync(g),f=a.maxReadSize||16*1024*1024;new l.ReadStreamSync(g,{readSize:f,size:m.size}).pipe(d)},"extractFileSync"),c=v((a,d)=>{let g=new s.Unpack(a),m=a.maxReadSize||16*1024*1024,f=a.file;return new Promise((y,S)=>{g.on("error",S),g.on("close",y),n.default.stat(f,(b,E)=>{if(b)S(b);else{let _=new l.ReadStream(f,{readSize:m,size:E.size});_.on("error",S),_.pipe(g)}})})},"extractFile");e.extract=(0,r.makeCommand)(i,c,a=>new s.UnpackSync(a),a=>new s.Unpack(a),(a,d)=>{d?.length&&(0,t.filesFilter)(a,d)})}),Bs=J(e=>{"use strict";var u=e&&e.__importDefault||function(m){return m&&m.__esModule?m:{default:m}};Object.defineProperty(e,"__esModule",{value:!0}),e.replace=void 0;var h=Zt(),p=u(require("fs")),o=u(require("path")),l=Xt(),n=Ht(),t=Yt(),r=bi(),s=Ri(),i=v((m,f)=>{let y=new s.PackSync(m),S=!0,b,E;try{try{b=p.default.openSync(m.file,"r+")}catch(O){if(O?.code==="ENOENT")b=p.default.openSync(m.file,"w+");else throw O}let _=p.default.fstatSync(b),w=Buffer.alloc(512);e:for(E=0;E<_.size;E+=512){for(let I=0,P=0;I<512;I+=P){if(P=p.default.readSync(b,w,I,w.length-I,E+I),E===0&&w[0]===31&&w[1]===139)throw new Error("cannot append to compressed archives");if(!P)break e}let O=new l.Header(w);if(!O.cksumValid)break;let R=512*Math.ceil((O.size||0)/512);if(E+R+512>_.size)break;E+=R,m.mtimeCache&&O.mtime&&m.mtimeCache.set(String(O.path),O.mtime)}S=!1,c(m,y,E,b,f)}finally{if(S)try{p.default.closeSync(b)}catch{}}},"replaceSync"),c=v((m,f,y,S,b)=>{let E=new h.WriteStreamSync(m.file,{fd:S,start:y});f.pipe(E),d(f,b)},"streamSync"),a=v((m,f)=>{f=Array.from(f);let y=new s.Pack(m),S=v((b,E,_)=>{let w=v((L,M)=>{L?p.default.close(b,x=>_(L)):_(null,M)},"cb"),O=0;if(E===0)return w(null,0);let R=0,I=Buffer.alloc(512),P=v((L,M)=>{if(L||typeof M>"u")return w(L);if(R+=M,R<512&&M)return p.default.read(b,I,R,I.length-R,O+R,P);if(O===0&&I[0]===31&&I[1]===139)return w(new Error("cannot append to compressed archives"));if(R<512)return w(null,O);let x=new l.Header(I);if(!x.cksumValid)return w(null,O);let j=512*Math.ceil((x.size??0)/512);if(O+j+512>E||(O+=j+512,O>=E))return w(null,O);m.mtimeCache&&x.mtime&&m.mtimeCache.set(String(x.path),x.mtime),R=0,p.default.read(b,I,0,512,O,P)},"onread");p.default.read(b,I,0,512,O,P)},"getPos");return new Promise((b,E)=>{y.on("error",E);let _="r+",w=v((O,R)=>{if(O&&O.code==="ENOENT"&&_==="r+")return _="w+",p.default.open(m.file,_,w);if(O||!R)return E(O);p.default.fstat(R,(I,P)=>{if(I)return p.default.close(R,()=>E(I));S(R,P.size,(L,M)=>{if(L)return E(L);let x=new h.WriteStream(m.file,{fd:R,start:M});y.pipe(x),x.on("error",E),x.on("close",b),g(y,f)})})},"onopen");p.default.open(m.file,_,w)})},"replaceAsync"),d=v((m,f)=>{f.forEach(y=>{y.charAt(0)==="@"?(0,n.list)({file:o.default.resolve(m.cwd,y.slice(1)),sync:!0,noResume:!0,onReadEntry:v(S=>m.add(S),"onReadEntry")}):m.add(y)}),m.end()},"addFilesSync"),g=v(async(m,f)=>{for(let y=0;y<f.length;y++){let S=String(f[y]);S.charAt(0)==="@"?await(0,n.list)({file:o.default.resolve(String(m.cwd),S.slice(1)),noResume:!0,onReadEntry:v(b=>m.add(b),"onReadEntry")}):m.add(S)}m.end()},"addFilesAsync");e.replace=(0,t.makeCommand)(i,a,()=>{throw new TypeError("file is required")},()=>{throw new TypeError("file is required")},(m,f)=>{if(!(0,r.isFile)(m))throw new TypeError("file is required");if(m.gzip||m.brotli||m.zstd||m.file.endsWith(".br")||m.file.endsWith(".tbr"))throw new TypeError("cannot append to compressed archives");if(!f?.length)throw new TypeError("no paths specified to add/replace")})}),qo=J(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.update=void 0;var u=Yt(),h=Bs();e.update=(0,u.makeCommand)(h.replace.syncFile,h.replace.asyncFile,h.replace.syncNoFile,h.replace.asyncNoFile,(o,l=[])=>{h.replace.validate?.(o,l),p(o)});var p=v(o=>{let l=o.filter;o.mtimeCache||(o.mtimeCache=new Map),o.filter=l?(n,t)=>l(n,t)&&!((o.mtimeCache?.get(n)??t.mtime??0)>(t.mtime??0)):(n,t)=>!((o.mtimeCache?.get(n)??t.mtime??0)>(t.mtime??0))},"mtimeFilter")}),za=J(e=>{"use strict";var u=e&&e.__createBinding||(Object.create?function(i,c,a,d){d===void 0&&(d=a);var g=Object.getOwnPropertyDescriptor(c,a);(!g||("get"in g?!c.__esModule:g.writable||g.configurable))&&(g={enumerable:!0,get:v(function(){return c[a]},"get")}),Object.defineProperty(i,d,g)}:function(i,c,a,d){d===void 0&&(d=a),i[d]=c[a]}),h=e&&e.__setModuleDefault||(Object.create?function(i,c){Object.defineProperty(i,"default",{enumerable:!0,value:c})}:function(i,c){i.default=c}),p=e&&e.__exportStar||function(i,c){for(var a in i)a!=="default"&&!Object.prototype.hasOwnProperty.call(c,a)&&u(c,i,a)},o=e&&e.__importStar||function(i){if(i&&i.__esModule)return i;var c={};if(i!=null)for(var a in i)a!=="default"&&Object.prototype.hasOwnProperty.call(i,a)&&u(c,i,a);return h(c,i),c};Object.defineProperty(e,"__esModule",{value:!0}),e.u=e.types=e.r=e.t=e.x=e.c=void 0,p(Ko(),e);var l=Ko();Object.defineProperty(e,"c",{enumerable:!0,get:v(function(){return l.create},"get")}),p(Jo(),e);var n=Jo();Object.defineProperty(e,"x",{enumerable:!0,get:v(function(){return n.extract},"get")}),p(Xt(),e),p(Ht(),e);var t=Ht();Object.defineProperty(e,"t",{enumerable:!0,get:v(function(){return t.list},"get")}),p(Ri(),e),p(Oi(),e),p(Ei(),e),p(_i(),e),p(Bs(),e);var r=Bs();Object.defineProperty(e,"r",{enumerable:!0,get:v(function(){return r.replace},"get")}),e.types=o(Ua()),p(Wa(),e),p(qo(),e);var s=qo();Object.defineProperty(e,"u",{enumerable:!0,get:v(function(){return s.update},"get")}),p(Va(),e)}),Ot=J((e,u)=>{u.exports={cacheFetches:Symbol.for("pacote.Fetcher._cacheFetches"),readPackageJson:Symbol.for("package.Fetcher._readPackageJson"),tarballFromResolved:Symbol.for("pacote.Fetcher._tarballFromResolved")}}),Mf=J((e,u)=>{var{resolve:h}=require("path"),{tmpdir:p,homedir:o}=require("os");u.exports=(l=!1)=>{let n=p(),t=process.getuid?process.getuid():process.pid,r=o()||h(n,"npm-"+t),s=l||process.platform,i=s==="win32"?"npm-cache":".npm",c=s==="win32"&&process.env.LOCALAPPDATA||r;return{cacache:h(c,i,"_cacache"),tufcache:h(c,i,"_tuf")}}}),Ka=J((e,u)=>{var h=v((o,l)=>typeof l=="string"?{[o]:l}:l,"binObj"),p=v((o,l)=>{let n=h(o.name,o.bin),t=l.replace(/^[^\\/]*\//,"");for(let r of Object.entries(n))if(r[1]===t)return!0;return!1},"hasBin");u.exports=(o,l)=>o&&o.bin?p(o,l):!1}),Ja=J((e,u)=>{var h=v(p=>{let o=p;for(;o.endsWith("/");)o=o.slice(0,-1);return o},"removeTrailingSlashes");u.exports=h}),jf=J((e,u)=>{"use strict";var h=require("fs"),p=require("path"),o=require("events").EventEmitter,l=st().Minimatch,n=class qa extends o{static{v(this,"Walker")}constructor(c){c=c||{},super(c),this.isSymbolicLink=c.isSymbolicLink,this.path=c.path||process.cwd(),this.basename=p.basename(this.path),this.ignoreFiles=c.ignoreFiles||[".ignore"],this.ignoreRules={},this.parent=c.parent||null,this.includeEmpty=!!c.includeEmpty,this.root=this.parent?this.parent.root:this.path,this.follow=!!c.follow,this.result=this.parent?this.parent.result:new Set,this.entries=null,this.sawError=!1,this.exact=c.exact}sort(c,a){return c.localeCompare(a,"en")}emit(c,a){let d=!1;return this.sawError&&c==="error"||(c==="error"?this.sawError=!0:c==="done"&&!this.parent&&(a=Array.from(a).map(g=>/^@/.test(g)?`./${g}`:g).sort(this.sort),this.result=a),c==="error"&&this.parent?d=this.parent.emit("error",a):d=super.emit(c,a)),d}start(){return h.readdir(this.path,(c,a)=>c?this.emit("error",c):this.onReaddir(a)),this}isIgnoreFile(c){return c!=="."&&c!==".."&&this.ignoreFiles.indexOf(c)!==-1}onReaddir(c){this.entries=c,c.length===0?(this.includeEmpty&&this.result.add(this.path.slice(this.root.length+1)),this.emit("done",this.result)):this.entries.some(a=>this.isIgnoreFile(a))?this.addIgnoreFiles():this.filterEntries()}addIgnoreFiles(){let c=this.entries.filter(g=>this.isIgnoreFile(g)),a=c.length,d=v(()=>{--a===0&&this.filterEntries()},"then");c.forEach(g=>this.addIgnoreFile(g,d))}addIgnoreFile(c,a){let d=p.resolve(this.path,c);h.readFile(d,"utf8",(g,m)=>g?this.emit("error",g):this.onReadIgnoreFile(c,m,a))}onReadIgnoreFile(c,a,d){let g={matchBase:!0,dot:!0,flipNegate:!0,nocase:!0},m=a.split(/\r?\n/).filter(f=>!/^#|^$/.test(f.trim())).map(f=>new l(f.trim(),g));this.ignoreRules[c]=m,d()}filterEntries(){let c=this.entries.map(d=>{let g=this.filterEntry(d),m=this.filterEntry(d,!0);return g||m?[d,g,m]:!1}).filter(d=>d),a=c.length;if(a===0)this.emit("done",this.result);else{let d=v(()=>{--a===0&&this.emit("done",this.result)},"then");c.forEach(g=>{let m=g[0],f=g[1],y=g[2];this.stat({entry:m,file:f,dir:y},d)})}}onstat({st:c,entry:a,file:d,dir:g,isSymbolicLink:m},f){let y=this.path+"/"+a;c.isDirectory()?g?this.walker(a,{isSymbolicLink:m,exact:d||this.filterEntry(a+"/")},f):f():(d&&this.result.add(y.slice(this.root.length+1)),f())}stat({entry:c,file:a,dir:d},g){let m=this.path+"/"+c;h.lstat(m,(f,y)=>{if(f)this.emit("error",f);else{let S=y.isSymbolicLink();this.follow&&S?h.stat(m,(b,E)=>{b?this.emit("error",b):this.onstat({st:E,entry:c,file:a,dir:d,isSymbolicLink:S},g)}):this.onstat({st:y,entry:c,file:a,dir:d,isSymbolicLink:S},g)}})}walkerOpt(c,a){return{path:this.path+"/"+c,parent:this,ignoreFiles:this.ignoreFiles,follow:this.follow,includeEmpty:this.includeEmpty,...a}}walker(c,a,d){new qa(this.walkerOpt(c,a)).on("done",d).start()}filterEntry(c,a,d){let g=!0;if(this.parent&&this.parent.filterEntry){let m=this.basename+"/"+c,f=d||c;if(g=this.parent.filterEntry(m,a,f),!g&&!this.exact)return!1}return this.ignoreFiles.forEach(m=>{this.ignoreRules[m]&&this.ignoreRules[m].forEach(f=>{if(f.negate!==g){let y=d&&f.globParts.some(S=>S.length<=(S.slice(-1)[0]?1:2));(f.match("/"+c)||f.match(c)||a&&(f.match("/"+c+"/")||f.match(c+"/")||f.negate&&(f.match("/"+c,!0)||f.match(c,!0))||y&&(f.match("/"+d+"/")||f.match(d+"/")||f.negate&&(f.match("/"+d,!0)||f.match(d,!0)))))&&(g=f.negate)}})}),g}},t=class Za extends n{static{v(this,"WalkerSync")}start(){return this.onReaddir(h.readdirSync(this.path)),this}addIgnoreFile(c,a){let d=p.resolve(this.path,c);this.onReadIgnoreFile(c,h.readFileSync(d,"utf8"),a)}stat({entry:c,file:a,dir:d},g){let m=this.path+"/"+c,f=h.lstatSync(m),y=f.isSymbolicLink();this.follow&&y&&(f=h.statSync(m)),this.onstat({st:f,entry:c,file:a,dir:d,isSymbolicLink:y},g)}walker(c,a,d){new Za(this.walkerOpt(c,a)).start(),d()}},r=v((i,c)=>{let a=new Promise((d,g)=>{new n(i).on("done",d).on("error",g).start()});return c?a.then(d=>c(null,d),c):a},"walk"),s=v(i=>new t(i).start().result,"walkSync");u.exports=r,r.sync=s,r.Walker=n,r.WalkerSync=t}),$f=J((e,u)=>{"use strict";var{Walker:h}=jf(),{lstatSync:p,readFileSync:o}=require("fs"),{basename:l,dirname:n,extname:t,join:r,relative:s,resolve:i,sep:c}=require("path"),{log:a}=We(),d=Symbol("npm-packlist.rules.default"),g=Symbol("npm-packlist.rules.strict"),m=v(w=>/\*/.test(w),"nameIsBadForWindows"),f=[".npmignore",".gitignore","**/.git","**/.svn","**/.hg","**/CVS","**/.git/**","**/.svn/**","**/.hg/**","**/CVS/**","/.lock-wscript","/.wafpickle-*","/build/config.gypi","npm-debug.log","**/.npmrc",".*.swp",".DS_Store","**/.DS_Store/**","._*","**/._*/**","*.orig","/archived-packages/**"],y=["/.git"],S=v(w=>w.split("\\").join("/"),"normalizePath"),b=v((w,O,R=[])=>{for(let M of[".npmignore",".gitignore"])try{let x=o(r(w,M),{encoding:"utf8"});R.push(x);break}catch(x){if(x.code!=="ENOENT")throw x}if(!O)return R;let I=O.split(c,1)[0],P=r(w,I),L=s(P,r(w,O));return b(P,L,R)},"readOutOfTreeIgnoreFiles"),E=class Us extends h{static{v(this,"PackWalker")}constructor(O,R){let I={...R,includeEmpty:!1,follow:!1,path:i(R?.path||O.path).replace(/\\/g,"/"),ignoreFiles:R?.ignoreFiles||[d,"package.json",".npmignore",".gitignore",g]};super(I),this.isPackage=I.isPackage,this.seen=I.seen||new Set,this.tree=O,this.requiredFiles=I.requiredFiles||[];let P=[];if(I.prefix&&I.workspaces){let L=S(I.path),M=S(I.prefix),x=I.workspaces.map(j=>S(j));if(L!==M&&x.includes(L)){let j=s(I.prefix,n(I.path));P.push(...b(I.prefix,j))}else L===M&&P.push(...x.map(j=>S(s(I.path,j))))}this.injectRules(d,[...f,...P]),this.isPackage||this.injectRules(g,[...y,...this.requiredFiles.map(L=>`!${L}`)])}addIgnoreFile(O,R){return O!=="package.json"||!this.isPackage?super.addIgnoreFile(O,R):this.processPackage(R)}emit(O,R){return O!=="done"||!this.isPackage?super.emit(O,R):(this.gatherBundles().then(()=>{super.emit("done",this.result)}),!0)}filterEntries(){return this.ignoreRules["package.json"]?(this.ignoreRules[".npmignore"]=null,this.ignoreRules[".gitignore"]=null):this.ignoreRules[".npmignore"]?this.ignoreRules[".gitignore"]=null:this.ignoreRules[".gitignore"]&&!this.ignoreRules[".npmignore"]&&a.warn("gitignore-fallback","No .npmignore file found, using .gitignore for file exclusion. Consider creating a .npmignore file to explicitly control published files."),super.filterEntries()}onstat(O,R){return!O.st.isFile()&&!O.st.isDirectory()?R():super.onstat(O,R)}stat(O,R){return m(O.entry)?R():super.stat(O,R)}walkerOpt(O,R){let I=null;if(this.tree.workspaces){let P=[...this.tree.workspaces.values()].map(M=>M.replace(/\\/g,"/")),L=r(this.path,O).replace(/\\/g,"/");P.includes(L)&&(I=[d,"package.json",".npmignore",".gitignore",g])}else I=[d,".npmignore",".gitignore",g];return{...super.walkerOpt(O,R),ignoreFiles:I,requiredFiles:this.requiredFiles.map(P=>s(P,O)===".."?s(O,P).replace(/\\/g,"/"):!1).filter(Boolean)}}walker(O,R,I){new Us(this.tree,this.walkerOpt(O,R)).on("done",I).start()}sort(O,R){let I=t(O).toLowerCase(),P=t(R).toLowerCase(),L=l(O).toLowerCase(),M=l(R).toLowerCase();return I.localeCompare(P,"en")||L.localeCompare(M,"en")||O.localeCompare(R,"en")}injectRules(O,R,I=()=>{}){this.onReadIgnoreFile(O,`${R.join(`
`)}
`,I)}processPackage(O){let{bin:R,browser:I,files:P,main:L}=this.tree.package,M=[],x=[...y,"!/package.json","!/readme{,.*[^~$]}","!/copying{,.*[^~$]}","!/license{,.*[^~$]}","!/licence{,.*[^~$]}","/.git","/node_modules",".npmrc","/package-lock.json","/yarn.lock","/pnpm-lock.yaml","/bun.lockb"];if(P){for(let j of P){j.startsWith("./")&&(j=j.slice(1)),j.endsWith("/*")&&(j+="*");let U=`!${j}`;try{let V=p(r(this.path,j.replace(/^!+/,"")).replace(/\\/g,"/"));V.isFile()?(x.unshift(U),this.requiredFiles.push(j.startsWith("/")?j.slice(1):j)):V.isDirectory()&&(M.push(U),M.push(`${U}/**`))}catch{M.push(U)}}this.injectRules("package.json",["*",...M])}if(I&&x.push(`!/${I}`),L&&x.push(`!/${L}`),R)for(let j in R)x.push(`!/${R[j]}`);this.injectRules(g,x,O)}async gatherBundles(){if(this.seen.has(this.tree))return;this.seen.add(this.tree);let O;if(this.tree.isProjectRoot){let{bundleDependencies:R}=this.tree.package;O=R||[]}else{let{dependencies:R,optionalDependencies:I}=this.tree.package;O=Object.keys(R||{}).concat(Object.keys(I||{}))}for(let R of O){let I=this.tree.edgesOut.get(R);if(!I||I.peer||I.dev)continue;let P=this.tree.edgesOut.get(R).to;if(!P)continue;let L=P.path,M=P.target,x={path:L,isPackage:!0,ignoreFiles:[],seen:this.seen};P.isLink&&x.ignoreFiles.push(d),x.ignoreFiles.push("package.json"),P.isLink&&(x.ignoreFiles.push(".npmignore"),x.ignoreFiles.push(".gitignore")),x.ignoreFiles.push(g);let j=new Us(M,x),U=await new Promise((B,G)=>{j.on("error",G),j.on("done",B),j.start()}),V=s(this.root,j.path);for(let B of U)this.result.add(r(V,B).replace(/\\/g,"/"))}}},_=v((w,O,R)=>{typeof O=="function"&&(R=O,O={});let I=new Promise((P,L)=>{new E(w,{...O,isPackage:!0}).on("done",P).on("error",L).start()});return R?I.then(P=>R(null,P),R):I},"walk");u.exports=_,_.Walker=E}),Bf=J((e,u)=>{var{resolve:h,dirname:p,delimiter:o}=require("path"),l=h(__dirname,"../lib/node-gyp-bin"),n=v((t,r,s)=>{let i=Object.keys(s).filter(m=>/^path$/i.test(m)&&s[m]).map(m=>s[m].split(o)).reduce((m,f)=>m.concat(f.filter(y=>!m.includes(y))),[]).join(o),c=[];r&&c.push(...r);let a=t,d;do c.push(h(a,"node_modules",".bin")),d=a,a=p(a);while(a!==d);c.push(l,i);let g=c.join(o);for(let m of Object.keys(s))/^path$/i.test(m)&&(s[m]=g);return s},"setPATH");u.exports=n}),Uf=J((e,u)=>{var h=Bf(),{resolve:p}=require("path"),o,l=v(n=>{let{args:t,binPaths:r,cmd:s,env:i,event:c,nodeGyp:a,path:d,scriptShell:g=!0,stdio:m,stdioString:f}=n;a?o=a:i.npm_config_node_gyp?o=i.npm_config_node_gyp:o=require.resolve("node-gyp/bin/node-gyp.js");let y={env:h(d,r,{...process.env,...i,npm_package_json:p(d,"package.json"),npm_lifecycle_event:c,npm_lifecycle_script:s,npm_config_node_gyp:o}),stdioString:f,stdio:m,cwd:d,shell:g};return[s,t,y]},"makeSpawnArgs");u.exports=l}),Ff=J((e,u)=>{var h=v((p,o,l={})=>{for(let[n,t]of Object.entries(p))t!==void 0&&(t===null||t===!1?l[`${o}${n}`]="":Array.isArray(t)?t.forEach((r,s)=>{h({[`${n}_${s}`]:r},`${o}`,l)}):typeof t=="object"?h(t,`${o}${n}_`,l):l[`${o}${n}`]=String(t));return l},"packageEnvs");u.exports=p=>h({name:p.name,version:p.version,config:p.config,engines:p.engines,bin:p.bin},"npm_package_")}),Hf=J((e,u)=>{var h=require("util"),p=require("fs"),{stat:o}=p.promises||{stat:h.promisify(p.stat)};async function l(n){return await o(`${n}/binding.gyp`).then(t=>t.isFile()).catch(()=>!1)}v(l,"isNodeGypPackage"),u.exports={isNodeGypPackage:l,defaultGypInstallScript:"node-gyp rebuild"}}),Gf=J((e,u)=>{var h=new Set,p=!1,o=["SIGINT","SIGTERM"],l=v(s=>{for(let i of h)i.kill(s)},"handleSignal"),n=v(()=>{for(let s of o)process.on(s,l);p=!0},"setupListeners"),t=v(()=>{if(h.size===0){for(let s of o)process.removeListener(s,l);p=!1}},"cleanupListeners"),r=v(s=>{h.add(s),p||n(),s.once("exit",()=>{h.delete(s),t()})},"add");u.exports={add:r,handleSignal:l,forwardedSignals:o}}),Ya=J((e,u)=>{var{stat:h}=require("internal/fs/promises"),{resolve:p}=require("path");u.exports=async o=>{try{return(await h(p(o,"server.js"))).isFile()}catch{return!1}}}),Vf=J((e,u)=>{var h=Uf(),p=li(),o=Ff(),{isNodeGypPackage:l,defaultGypInstallScript:n}=Hf(),t=Gf(),r=Ya(),s=v(async i=>{let{args:c=[],binPaths:a=!1,env:d={},event:g,nodeGyp:m,path:f,pkg:y,scriptShell:S,signalTimeout:b=500,stdio:E="pipe",stdioString:_}=i,{scripts:w={},gypfile:O}=y,R=null;if(i.cmd?R=i.cmd:y.scripts&&y.scripts[g]?R=y.scripts[g]:g==="install"&&!w.install&&!w.preinstall&&O!==!1&&await l(f)?R=n:g==="start"&&await r(f)&&(R="node server.js"),!R)return{code:0,signal:null};let I=v(()=>{},"inputEnd");if(E==="inherit"){let j;y._id?j=`
> ${y._id} ${g}
`:j=`
> ${g}
`,j+=`> ${R.trim().replace(/\n/g,`
> `)}`,c.length&&(j+=` ${c.join(" ")}`),j+=`
`;let{output:U,input:V}=We();U.standard(j),I=V.start()}let[P,L,M]=h({args:c,binPaths:a,cmd:R,env:{...d,...o(y)},event:g,nodeGyp:m,path:f,scriptShell:S,stdio:E,stdioString:_}),x=p(P,L,M,{event:g,script:R,pkgid:y._id,path:f});return E==="inherit"&&t.add(x.process),x.stdin&&x.stdin.end(),x.catch(j=>{let{signal:U}=j;if(E==="inherit"&&U)return process.kill(process.pid,U),new Promise((V,B)=>setTimeout(()=>B(j),b));throw j}).finally(I)},"runScriptPkg");u.exports=s}),Wf=J((e,u)=>{var h=v(p=>{if(typeof p!="object"||!p)throw new TypeError("invalid options object provided to runScript");let{event:o,path:l,scriptShell:n,env:t={},stdio:r="pipe",args:s=[],cmd:i}=p;if(!o||typeof o!="string")throw new TypeError("valid event not provided to runScript");if(!l||typeof l!="string")throw new TypeError("valid path not provided to runScript");if(n!==void 0&&typeof n!="string")throw new TypeError("invalid scriptShell option provided to runScript");if(typeof t!="object"||!t)throw new TypeError("invalid env option provided to runScript");if(typeof r!="string"&&!Array.isArray(r))throw new TypeError("invalid stdio option provided to runScript");if(!Array.isArray(s)||s.some(c=>typeof c!="string"))throw new TypeError("invalid args option provided to runScript");if(i!==void 0&&typeof i!="string")throw new TypeError("invalid cmd option provided to runScript")},"validateOptions");u.exports=h}),zf=J((e,u)=>{var h=mi(),p=Vf(),o=Wf(),l=Ya(),n=v(async t=>{if(o(t),t.pkg)return p(t);let{content:r}=await h.normalize(t.path);return p({...t,pkg:r})},"runScript");u.exports=Object.assign(n,{isServerPackage:l})}),er=J((e,u)=>{var{resolve:h}=require("path"),{stat:p,chmod:o}=require("internal/fs/promises"),l=Cr(),n=Jt(),t=It(),r=Ot(),s=class extends t{static{v(this,"FileFetcher")}constructor(i,c){super(i,c),this.resolved=this.spec.fetchSpec}get types(){return["file"]}manifest(){return this.package?Promise.resolve(this.package):l.tmp.withTmp(this.cache,this.opts,i=>this.extract(i).then(()=>this[r.readPackageJson](i)).then(c=>this.package={...c,_integrity:this.integrity&&String(this.integrity),_resolved:this.resolved,_from:this.from}))}#e(i,c){return i.bin?Promise.all(Object.keys(i.bin).map(async a=>{let d=h(c,i.bin[a]);try{let g=await p(d),m=g.mode|73;if(m===g.mode)return;await o(d,m)}catch{}})):Promise.resolve()}extract(i){return super.extract(i).then(c=>this.package?c:this[r.readPackageJson](i).then(a=>this.#e(a,i)).then(()=>c))}[r.tarballFromResolved](){return new n.ReadStream(this.resolved)}packument(){return this.manifest().then(i=>({name:i.name,"dist-tags":{[this.defaultTag]:i.version},versions:{[i.version]:{...i,dist:{tarball:`file:${this.resolved}`,integrity:this.integrity&&String(this.integrity)}}}}))}};u.exports=s}),Kf=J((e,u)=>{var h=Ka(),p=v(o=>({cwd:o._resolved,prefix:"package/",portable:!0,gzip:{level:9},filter:v((l,n)=>(h(o,l)&&(n.mode|=73),!0),"filter"),mtime:new Date("1985-10-26T08:15:00.000Z")}),"tarCreateOptions");u.exports=p}),Ci=J((e,u)=>{var{resolve:h}=require("path"),p=$f(),o=zf(),l=za(),{Minipass:n}=Ae(),t=It(),r=er(),s=Ot(),i=Kf(),c=class extends t{static{v(this,"DirFetcher")}constructor(a,d){super(a,d),this.resolved=this.spec.fetchSpec,this.tree=d.tree||null,this.Arborist=d.Arborist||null}static tarCreateOptions(a){return i(a)}get types(){return["directory"]}#e(){return this.manifest().then(a=>{if(!a.scripts||!a.scripts.prepare||this.opts.ignoreScripts)return;let d=this.opts.foregroundScripts?"inherit":"pipe";return o({scriptShell:this.opts.scriptShell||void 0,pkg:a,event:"prepare",path:this.resolved,stdio:d,env:{npm_package_resolved:this.resolved,npm_package_integrity:this.integrity,npm_package_json:h(this.resolved,"package.json")}})})}[s.tarballFromResolved](){if(!this.tree&&!this.Arborist)throw new Error("DirFetcher requires either a tree or an Arborist constructor to pack");let a=new n;a.resolved=this.resolved,a.integrity=this.integrity;let{prefix:d,workspaces:g}=this.opts;return this.#e().then(async()=>{if(!this.tree){let m=new this.Arborist({path:this.resolved});this.tree=await m.loadActual()}return p(this.tree,{path:this.resolved,prefix:d,workspaces:g})}).then(m=>l.c(i(this.package),m).on("error",f=>a.emit("error",f)).pipe(a)).catch(m=>a.emit("error",m)),a}manifest(){return this.package?Promise.resolve(this.package):this[s.readPackageJson](this.resolved).then(a=>this.package={...a,_integrity:this.integrity&&String(this.integrity),_resolved:this.resolved,_from:this.from})}packument(){return r.prototype.packument.apply(this)}};u.exports=c}),Xa=J((e,u)=>{"use strict";var{URL:h}=require("url");function p(s){try{let c=new h(s).pathname.slice(1);if(!c.match(/^-/)){c=c.split("/");var i=c.indexOf("_rewrite");return i===-1?i=c.length-1:i++,decodeURIComponent(c[i])}}catch{}}v(p,"packageName");var o=class extends Error{static{v(this,"HttpErrorBase")}constructor(s,i,c,a){super(),this.name=this.constructor.name,this.headers=typeof i.headers?.raw=="function"?i.headers.raw():i.headers,this.statusCode=i.status,this.code=`E${i.status}`,this.method=s,this.uri=i.url,this.body=c,this.pkgid=a?a.toString():p(i.url),Error.captureStackTrace(this,this.constructor)}},l=class extends o{static{v(this,"HttpErrorGeneral")}constructor(s,i,c,a){super(s,i,c,a),this.message=`${i.status} ${i.statusText} - ${this.method.toUpperCase()} ${this.spec||this.uri}${c&&c.error?" - "+c.error:""}`}},n=class extends o{static{v(this,"HttpErrorAuthOTP")}constructor(s,i,c,a){super(s,i,c,a),this.message="OTP required for authentication",this.code="EOTP"}},t=class extends o{static{v(this,"HttpErrorAuthIPAddress")}constructor(s,i,c,a){super(s,i,c,a),this.message="Login is not allowed from your IP address",this.code="EAUTHIP"}},r=class extends o{static{v(this,"HttpErrorAuthUnknown")}constructor(s,i,c,a){super(s,i,c,a),this.message="Unable to authenticate, need: "+i.headers.get("www-authenticate")}};u.exports={HttpErrorBase:o,HttpErrorGeneral:l,HttpErrorAuthOTP:n,HttpErrorAuthIPAddress:t,HttpErrorAuthUnknown:r}}),Jf=J((e,u)=>{var h=yi(),p=class extends Error{static{v(this,"SizeError")}constructor(l,n){super(`Bad data size: expected ${n} bytes, but got ${l}`),this.expect=n,this.found=l,this.code="EBADSIZE",Error.captureStackTrace(this,this.constructor)}get name(){return"SizeError"}},o=class extends h{static{v(this,"MinipassSized")}constructor(l={}){if(super(l),l.objectMode)throw new TypeError(`${this.constructor.name} streams only work with string and buffer data`);if(this.found=0,this.expect=l.size,typeof this.expect!="number"||this.expect>Number.MAX_SAFE_INTEGER||isNaN(this.expect)||this.expect<0||!isFinite(this.expect)||this.expect!==Math.floor(this.expect))throw new Error("invalid expected size: "+this.expect)}write(l,n,t){let r=Buffer.isBuffer(l)?l:typeof l=="string"?Buffer.from(l,typeof n=="string"?n:"utf8"):l;return Buffer.isBuffer(r)?(this.found+=r.length,this.found>this.expect&&this.emit("error",new p(this.found,this.expect)),super.write(l,n,t)):(this.emit("error",new TypeError(`${this.constructor.name} streams only work with string and buffer data`)),!1)}emit(l,...n){return l==="end"&&this.found!==this.expect&&this.emit("error",new p(this.found,this.expect)),super.emit(l,...n)}};o.SizeError=p,u.exports=o}),qf=J((e,u)=>{"use strict";var{Minipass:h}=Ae(),p=Symbol("type"),o=Symbol("buffer"),l=class Fs{static{v(this,"Blob")}constructor(t,r){this[p]="";let s=[],i=0;if(t){let a=t,d=Number(a.length);for(let g=0;g<d;g++){let m=a[g],f=m instanceof Buffer?m:ArrayBuffer.isView(m)?Buffer.from(m.buffer,m.byteOffset,m.byteLength):m instanceof ArrayBuffer?Buffer.from(m):m instanceof Fs?m[o]:typeof m=="string"?Buffer.from(m):Buffer.from(String(m));i+=f.length,s.push(f)}}this[o]=Buffer.concat(s,i);let c=r&&r.type!==void 0&&String(r.type).toLowerCase();c&&!/[^\u0020-\u007E]/.test(c)&&(this[p]=c)}get size(){return this[o].length}get type(){return this[p]}text(){return Promise.resolve(this[o].toString())}arrayBuffer(){let t=this[o],r=t.byteOffset,s=t.byteLength,i=t.buffer.slice(r,r+s);return Promise.resolve(i)}stream(){return new h().end(this[o])}slice(t,r,s){let i=this.size,c=t===void 0?0:t<0?Math.max(i+t,0):Math.min(t,i),a=r===void 0?i:r<0?Math.max(i+r,0):Math.min(r,i),d=Math.max(a-c,0),g=this[o].slice(c,c+d),m=new Fs([],{type:s});return m[o]=g,m}get[Symbol.toStringTag](){return"Blob"}static get BUFFER(){return o}};Object.defineProperties(l.prototype,{size:{enumerable:!0},type:{enumerable:!0}}),u.exports=l}),Qa=J((e,u)=>{"use strict";var h=class extends Error{static{v(this,"FetchError")}constructor(p,o,l){super(p),this.code="FETCH_ERROR",l&&Object.assign(this,l),this.errno=this.code,this.type=this.code==="EBADSIZE"&&this.found>this.expect?"max-size":o,this.message=p,Error.captureStackTrace(this,this.constructor)}get name(){return"FetchError"}set name(p){}get[Symbol.toStringTag](){return"FetchError"}};u.exports=h}),Zf=J((e,u)=>{u.exports={}}),Ii=J((e,u)=>{"use strict";var{Minipass:h}=Ae(),p=Jf(),o=qf(),{BUFFER:l}=o,n=Qa(),t;try{t=Zf().convert}catch{}var r=Symbol("Body internals"),s=Symbol("consumeBody"),i=class{static{v(this,"Body")}constructor(g,m={}){let{size:f=0,timeout:y=0}=m,S=g==null?null:c(g)?Buffer.from(g.toString()):a(g)||Buffer.isBuffer(g)?g:Object.prototype.toString.call(g)==="[object ArrayBuffer]"?Buffer.from(g):ArrayBuffer.isView(g)?Buffer.from(g.buffer,g.byteOffset,g.byteLength):h.isStream(g)?g:Buffer.from(String(g));this[r]={body:S,disturbed:!1,error:null},this.size=f,this.timeout=y,h.isStream(S)&&S.on("error",b=>{let E=b.name==="AbortError"?b:new n(`Invalid response while trying to fetch ${this.url}: ${b.message}`,"system",b);this[r].error=E})}get body(){return this[r].body}get bodyUsed(){return this[r].disturbed}arrayBuffer(){return this[s]().then(g=>g.buffer.slice(g.byteOffset,g.byteOffset+g.byteLength))}blob(){let g=this.headers&&this.headers.get("content-type")||"";return this[s]().then(m=>Object.assign(new o([],{type:g.toLowerCase()}),{[l]:m}))}async json(){let g=await this[s]();try{return JSON.parse(g.toString())}catch(m){throw new n(`invalid json response body at ${this.url} reason: ${m.message}`,"invalid-json")}}text(){return this[s]().then(g=>g.toString())}buffer(){return this[s]()}textConverted(){return this[s]().then(g=>d(g,this.headers))}[s](){if(this[r].disturbed)return Promise.reject(new TypeError(`body used already for: ${this.url}`));if(this[r].disturbed=!0,this[r].error)return Promise.reject(this[r].error);if(this.body===null)return Promise.resolve(Buffer.alloc(0));if(Buffer.isBuffer(this.body))return Promise.resolve(this.body);let g=a(this.body)?this.body.stream():this.body;if(!h.isStream(g))return Promise.resolve(Buffer.alloc(0));let m=this.size&&g instanceof p||!this.size&&g instanceof h&&!(g instanceof p)?g:this.size?new p({size:this.size}):new h,f=this.timeout&&m.writable?setTimeout(()=>{m.emit("error",new n(`Response timeout while trying to fetch ${this.url} (over ${this.timeout}ms)`,"body-timeout"))},this.timeout):null;return f&&f.unref&&f.unref(),new Promise(y=>{m!==g&&(g.on("error",S=>m.emit("error",S)),g.pipe(m)),y()}).then(()=>m.concat()).then(y=>(clearTimeout(f),y)).catch(y=>{throw clearTimeout(f),y.name==="AbortError"||y.name==="FetchError"?y:y.name==="RangeError"?new n(`Could not create Buffer from response body for ${this.url}: ${y.message}`,"system",y):new n(`Invalid response body while trying to fetch ${this.url}: ${y.message}`,"system",y)})}static clone(g){if(g.bodyUsed)throw new Error("cannot clone body after it is used");let m=g.body;if(h.isStream(m)&&typeof m.getBoundary!="function"){let f=new h,y=new h,S=new h;return f.on("error",b=>{y.emit("error",b),S.emit("error",b)}),m.on("error",b=>f.emit("error",b)),f.pipe(y),f.pipe(S),m.pipe(f),g[r].body=y,S}else return g.body}static extractContentType(g){return g==null?null:typeof g=="string"?"text/plain;charset=UTF-8":c(g)?"application/x-www-form-urlencoded;charset=UTF-8":a(g)?g.type||null:Buffer.isBuffer(g)||Object.prototype.toString.call(g)==="[object ArrayBuffer]"||ArrayBuffer.isView(g)?null:typeof g.getBoundary=="function"?`multipart/form-data;boundary=${g.getBoundary()}`:h.isStream(g)?null:"text/plain;charset=UTF-8"}static getTotalBytes(g){let{body:m}=g;return m==null?0:a(m)?m.size:Buffer.isBuffer(m)?m.length:m&&typeof m.getLengthSync=="function"&&(m._lengthRetrievers&&m._lengthRetrievers.length===0||m.hasKnownLength&&m.hasKnownLength())?m.getLengthSync():null}static writeToStream(g,m){let{body:f}=m;return f==null?g.end():Buffer.isBuffer(f)||typeof f=="string"?g.end(f):(a(f)?f.stream():f).on("error",y=>g.emit("error",y)).pipe(g),g}};Object.defineProperties(i.prototype,{body:{enumerable:!0},bodyUsed:{enumerable:!0},arrayBuffer:{enumerable:!0},blob:{enumerable:!0},json:{enumerable:!0},text:{enumerable:!0}});var c=v(g=>typeof g!="object"||typeof g.append!="function"||typeof g.delete!="function"||typeof g.get!="function"||typeof g.getAll!="function"||typeof g.has!="function"||typeof g.set!="function"?!1:g.constructor.name==="URLSearchParams"||Object.prototype.toString.call(g)==="[object URLSearchParams]"||typeof g.sort=="function","isURLSearchParams"),a=v(g=>typeof g=="object"&&typeof g.arrayBuffer=="function"&&typeof g.type=="string"&&typeof g.stream=="function"&&typeof g.constructor=="function"&&typeof g.constructor.name=="string"&&/^(Blob|File)$/.test(g.constructor.name)&&/^(Blob|File)$/.test(g[Symbol.toStringTag]),"isBlob"),d=v((g,m)=>{if(typeof t!="function")throw new Error("The package `encoding` must be installed to use the textConverted() function");let f=m&&m.get("content-type"),y="utf-8",S;f&&(S=/charset=([^;]*)/i.exec(f));let b=g.slice(0,1024).toString();return!S&&b&&(S=/<meta.+?charset=(['"])(.+?)\1/i.exec(b)),!S&&b&&(S=/<meta[\s]+?http-equiv=(['"])content-type\1[\s]+?content=(['"])(.+?)\2/i.exec(b),S||(S=/<meta[\s]+?content=(['"])(.+?)\1[\s]+?http-equiv=(['"])content-type\3/i.exec(b),S&&S.pop()),S&&(S=/charset=(.*)/i.exec(S.pop()))),!S&&b&&(S=/<\?xml.+?encoding=(['"])(.+?)\1/i.exec(b)),S&&(y=S.pop(),(y==="gb2312"||y==="gbk")&&(y="gb18030")),t(g,"UTF-8",y).toString()},"convertBody");u.exports=i}),Ti=J((e,u)=>{"use strict";var h=/[^^_`a-zA-Z\-0-9!#$%&'*+.|~]/,p=/[^\t\x20-\x7e\x80-\xff]/,o=v(a=>{if(a=`${a}`,h.test(a)||a==="")throw new TypeError(`${a} is not a legal HTTP header name`)},"validateName"),l=v(a=>{if(a=`${a}`,p.test(a))throw new TypeError(`${a} is not a legal HTTP header value`)},"validateValue"),n=v((a,d)=>{d=d.toLowerCase();for(let g in a)if(g.toLowerCase()===d)return g},"find"),t=Symbol("map"),r=class Hs{static{v(this,"Headers")}constructor(d=void 0){if(this[t]=Object.create(null),d instanceof Hs){let g=d.raw(),m=Object.keys(g);for(let f of m)for(let y of g[f])this.append(f,y);return}if(d!=null)if(typeof d=="object"){let g=d[Symbol.iterator];if(g!=null){if(typeof g!="function")throw new TypeError("Header pairs must be iterable");let m=[];for(let f of d){if(typeof f!="object"||typeof f[Symbol.iterator]!="function")throw new TypeError("Each header pair must be iterable");let y=Array.from(f);if(y.length!==2)throw new TypeError("Each header pair must be a name/value tuple");m.push(y)}for(let f of m)this.append(f[0],f[1])}else for(let m of Object.keys(d))this.append(m,d[m])}else throw new TypeError("Provided initializer must be an object")}get(d){d=`${d}`,o(d);let g=n(this[t],d);return g===void 0?null:this[t][g].join(", ")}forEach(d,g=void 0){let m=s(this);for(let f=0;f<m.length;f++){let[y,S]=m[f];d.call(g,S,y,this),m=s(this)}}set(d,g){d=`${d}`,g=`${g}`,o(d),l(g);let m=n(this[t],d);this[t][m!==void 0?m:d]=[g]}append(d,g){d=`${d}`,g=`${g}`,o(d),l(g);let m=n(this[t],d);m!==void 0?this[t][m].push(g):this[t][d]=[g]}has(d){return d=`${d}`,o(d),n(this[t],d)!==void 0}delete(d){d=`${d}`,o(d);let g=n(this[t],d);g!==void 0&&delete this[t][g]}raw(){return this[t]}keys(){return new c(this,"key")}values(){return new c(this,"value")}[Symbol.iterator](){return new c(this,"key+value")}entries(){return new c(this,"key+value")}get[Symbol.toStringTag](){return"Headers"}static exportNodeCompatibleHeaders(d){let g=Object.assign(Object.create(null),d[t]),m=n(d[t],"Host");return m!==void 0&&(g[m]=g[m][0]),g}static createHeadersLenient(d){let g=new Hs;for(let m of Object.keys(d))if(!h.test(m))if(Array.isArray(d[m]))for(let f of d[m])p.test(f)||(g[t][m]===void 0?g[t][m]=[f]:g[t][m].push(f));else p.test(d[m])||(g[t][m]=[d[m]]);return g}};Object.defineProperties(r.prototype,{get:{enumerable:!0},forEach:{enumerable:!0},set:{enumerable:!0},append:{enumerable:!0},has:{enumerable:!0},delete:{enumerable:!0},keys:{enumerable:!0},values:{enumerable:!0},entries:{enumerable:!0}});var s=v((a,d="key+value")=>Object.keys(a[t]).sort().map(d==="key"?g=>g.toLowerCase():d==="value"?g=>a[t][g].join(", "):g=>[g.toLowerCase(),a[t][g].join(", ")]),"getHeaders"),i=Symbol("internal"),c=class el{static{v(this,"HeadersIterator")}constructor(d,g){this[i]={target:d,kind:g,index:0}}get[Symbol.toStringTag](){return"HeadersIterator"}next(){if(!this||Object.getPrototypeOf(this)!==el.prototype)throw new TypeError("Value of `this` is not a HeadersIterator");let{target:d,kind:g,index:m}=this[i],f=s(d,g),y=f.length;return m>=y?{value:void 0,done:!0}:(this[i].index++,{value:f[m],done:!1})}};Object.setPrototypeOf(c.prototype,Object.getPrototypeOf(Object.getPrototypeOf([][Symbol.iterator]()))),u.exports=r}),Yf=J((e,u)=>{"use strict";var h=require("http"),{STATUS_CODES:p}=h,o=Ti(),l=Ii(),{clone:n,extractContentType:t}=l,r=Symbol("Response internals"),s=class tl extends l{static{v(this,"Response")}constructor(c=null,a={}){super(c,a);let d=a.status||200,g=new o(a.headers);if(c!=null&&!g.has("Content-Type")){let m=t(c);m&&g.append("Content-Type",m)}this[r]={url:a.url,status:d,statusText:a.statusText||p[d],headers:g,counter:a.counter,trailer:Promise.resolve(a.trailer||new o)}}get trailer(){return this[r].trailer}get url(){return this[r].url||""}get status(){return this[r].status}get ok(){return this[r].status>=200&&this[r].status<300}get redirected(){return this[r].counter>0}get statusText(){return this[r].statusText}get headers(){return this[r].headers}clone(){return new tl(n(this),{url:this.url,status:this.status,statusText:this.statusText,headers:this.headers,ok:this.ok,redirected:this.redirected,trailer:this.trailer})}get[Symbol.toStringTag](){return"Response"}};u.exports=s,Object.defineProperties(s.prototype,{url:{enumerable:!0},status:{enumerable:!0},ok:{enumerable:!0},redirected:{enumerable:!0},statusText:{enumerable:!0},headers:{enumerable:!0},clone:{enumerable:!0}})}),Xf=J((e,u)=>{u.exports={name:"minipass-fetch",version:"4.0.1",description:"An implementation of window.fetch in Node.js using Minipass streams",license:"MIT",main:"lib/index.js",scripts:{"test:tls-fixtures":"./test/fixtures/tls/setup.sh",test:"tap",snap:"tap",lint:"npm run eslint",postlint:"template-oss-check",lintfix:"npm run eslint -- --fix",posttest:"npm run lint","template-oss-apply":"template-oss-apply --force",eslint:'eslint "**/*.{js,cjs,ts,mjs,jsx,tsx}"'},tap:{"coverage-map":"map.js","check-coverage":!0,"nyc-arg":["--exclude","tap-snapshots/**"]},devDependencies:{"@npmcli/eslint-config":"^5.0.0","@npmcli/template-oss":"4.23.3","@ungap/url-search-params":"^0.2.2","abort-controller":"^3.0.0","abortcontroller-polyfill":"~1.7.3",encoding:"^0.1.13","form-data":"^4.0.0",nock:"^13.2.4",parted:"^0.1.1","string-to-arraybuffer":"^1.0.2",tap:"^16.0.0"},dependencies:{minipass:"^7.0.3","minipass-sized":"^1.0.3",minizlib:"^3.0.1"},optionalDependencies:{encoding:"^0.1.13"},repository:{type:"git",url:"git+https://github.com/npm/minipass-fetch.git"},keywords:["fetch","minipass","node-fetch","window.fetch"],files:["bin/","lib/"],engines:{node:"^18.17.0 || >=20.5.0"},author:"GitHub Inc.",templateOSS:{"//@npmcli/template-oss":"This file is partially managed by @npmcli/template-oss. Edits may be overwritten.",version:"4.23.3",publish:"true"}}}),Qf=J((e,u)=>{"use strict";var{URL:h}=require("url"),{Minipass:p}=Ae(),o=Ti(),{exportNodeCompatibleHeaders:l}=o,n=Ii(),{clone:t,extractContentType:r,getTotalBytes:s}=n,i=Xf().version,c=`minipass-fetch/${i} (+https://github.com/isaacs/minipass-fetch)`,a=Symbol("Request internals"),d=v(f=>typeof f=="object"&&typeof f[a]=="object","isRequest"),g=v(f=>{let y=f&&typeof f=="object"&&Object.getPrototypeOf(f);return!!(y&&y.constructor.name==="AbortSignal")},"isAbortSignal"),m=class rl extends n{static{v(this,"Request")}constructor(y,S={}){let b=d(y)?new h(y.url):y&&y.href?new h(y.href):new h(`${y}`);d(y)?S={...y[a],...S}:(!y||typeof y=="string")&&(y={});let E=(S.method||y.method||"GET").toUpperCase(),_=E==="GET"||E==="HEAD";if((S.body!==null&&S.body!==void 0||d(y)&&y.body!==null)&&_)throw new TypeError("Request with GET/HEAD method cannot have body");let w=S.body!==null&&S.body!==void 0?S.body:d(y)&&y.body!==null?t(y):null;super(w,{timeout:S.timeout||y.timeout||0,size:S.size||y.size||0});let O=new o(S.headers||y.headers||{});if(w!=null&&!O.has("Content-Type")){let Q=r(w);Q&&O.append("Content-Type",Q)}let R="signal"in S?S.signal:null;if(R!=null&&!g(R))throw new TypeError("Expected signal must be an instanceof AbortSignal");let{ca:I,cert:P,ciphers:L,clientCertEngine:M,crl:x,dhparam:j,ecdhCurve:U,family:V,honorCipherOrder:B,key:G,passphrase:W,pfx:k,rejectUnauthorized:D=process.env.NODE_TLS_REJECT_UNAUTHORIZED!=="0",secureOptions:T,secureProtocol:C,servername:Z,sessionIdContext:Y}=S;this[a]={method:E,redirect:S.redirect||y.redirect||"follow",headers:O,parsedURL:b,signal:R,ca:I,cert:P,ciphers:L,clientCertEngine:M,crl:x,dhparam:j,ecdhCurve:U,family:V,honorCipherOrder:B,key:G,passphrase:W,pfx:k,rejectUnauthorized:D,secureOptions:T,secureProtocol:C,servername:Z,sessionIdContext:Y},this.follow=S.follow!==void 0?S.follow:y.follow!==void 0?y.follow:20,this.compress=S.compress!==void 0?S.compress:y.compress!==void 0?y.compress:!0,this.counter=S.counter||y.counter||0,this.agent=S.agent||y.agent}get method(){return this[a].method}get url(){return this[a].parsedURL.toString()}get headers(){return this[a].headers}get redirect(){return this[a].redirect}get signal(){return this[a].signal}clone(){return new rl(this)}get[Symbol.toStringTag](){return"Request"}static getNodeRequestOptions(y){let S=y[a].parsedURL,b=new o(y[a].headers);if(b.has("Accept")||b.set("Accept","*/*"),!/^https?:$/.test(S.protocol))throw new TypeError("Only HTTP(S) protocols are supported");if(y.signal&&p.isStream(y.body)&&typeof y.body.destroy!="function")throw new Error("Cancellation of streamed requests with AbortSignal is not supported");let E=(y.body===null||y.body===void 0)&&/^(POST|PUT)$/i.test(y.method)?"0":y.body!==null&&y.body!==void 0?s(y):null;E&&b.set("Content-Length",E+""),b.has("User-Agent")||b.set("User-Agent",c),y.compress&&!b.has("Accept-Encoding")&&b.set("Accept-Encoding","gzip,deflate");let _=typeof y.agent=="function"?y.agent(S):y.agent;!b.has("Connection")&&!_&&b.set("Connection","close");let{ca:w,cert:O,ciphers:R,clientCertEngine:I,crl:P,dhparam:L,ecdhCurve:M,family:x,honorCipherOrder:j,key:U,passphrase:V,pfx:B,rejectUnauthorized:G,secureOptions:W,secureProtocol:k,servername:D,sessionIdContext:T}=y[a];return{auth:S.username||S.password?`${S.username}:${S.password}`:"",host:S.host,hostname:S.hostname,path:`${S.pathname}${S.search}`,port:S.port,protocol:S.protocol,method:y.method,headers:l(b),agent:_,ca:w,cert:O,ciphers:R,clientCertEngine:I,crl:P,dhparam:L,ecdhCurve:M,family:x,honorCipherOrder:j,key:U,passphrase:V,pfx:B,rejectUnauthorized:G,secureOptions:W,secureProtocol:k,servername:D,sessionIdContext:T,timeout:y.timeout}}};u.exports=m,Object.defineProperties(m.prototype,{method:{enumerable:!0},url:{enumerable:!0},headers:{enumerable:!0},redirect:{enumerable:!0},clone:{enumerable:!0},signal:{enumerable:!0}})}),eg=J((e,u)=>{"use strict";var h=class extends Error{static{v(this,"AbortError")}constructor(p){super(p),this.code="FETCH_ABORTED",this.type="aborted",Error.captureStackTrace(this,this.constructor)}get name(){return"AbortError"}set name(p){}};u.exports=h}),tr=J((e,u)=>{"use strict";var{URL:h}=require("url"),p=require("http"),o=require("https"),l=Ir(),{Minipass:n}=Ae(),t=Ii(),{writeToStream:r,getTotalBytes:s}=t,i=Yf(),c=Ti(),{createHeadersLenient:a}=c,d=Qf(),{getNodeRequestOptions:g}=d,m=Qa(),f=eg(),y=v(async(S,b)=>{if(/^data:/.test(S)){let E=new d(S,b);return Promise.resolve().then(()=>new Promise((_,w)=>{let O,R;try{let{pathname:L,search:M}=new h(S),x=L.split(",");if(x.length<2)throw new Error("invalid data: URI");let j=x.shift(),U=/;base64$/.test(j);O=U?j.slice(0,-7):j;let V=decodeURIComponent(x.join(",")+M);R=U?Buffer.from(V,"base64"):Buffer.from(V)}catch(L){return w(new m(`[${E.method}] ${E.url} invalid URL, ${L.message}`,"system",L))}let{signal:I}=E;if(I&&I.aborted)return w(new f("The user aborted a request."));let P={"Content-Length":R.length};return O&&(P["Content-Type"]=O),_(new i(R,{headers:P}))}))}return new Promise((E,_)=>{let w=new d(S,b),O;try{O=g(w)}catch(V){return _(V)}let R=(O.protocol==="https:"?o:p).request,{signal:I}=w,P=null,L=v(()=>{let V=new f("The user aborted a request.");_(V),n.isStream(w.body)&&typeof w.body.destroy=="function"&&w.body.destroy(V),P&&P.body&&P.body.emit("error",V)},"abort");if(I&&I.aborted)return L();let M=v(()=>{L(),x()},"abortAndFinalize"),x=v(()=>{j.abort(),I&&I.removeEventListener("abort",M),clearTimeout(U)},"finalize"),j=R(O);I&&I.addEventListener("abort",M);let U=null;w.timeout&&j.once("socket",()=>{U=setTimeout(()=>{_(new m(`network timeout at: ${w.url}`,"request-timeout")),x()},w.timeout)}),j.on("error",V=>{j.res&&j.res.emit("error",V),_(new m(`request to ${w.url} failed, reason: ${V.message}`,"system",V)),x()}),j.on("response",V=>{clearTimeout(U);let B=a(V.headers);if(y.isRedirect(V.statusCode)){let C=B.get("Location"),Z=null;try{Z=C===null?null:new h(C,w.url).toString()}catch{if(w.redirect!=="manual"){_(new m(`uri requested responds with an invalid redirect URL: ${C}`,"invalid-redirect")),x();return}}if(w.redirect==="error"){_(new m(`uri requested responds with a redirect, redirect mode is set to error: ${w.url}`,"no-redirect")),x();return}else if(w.redirect==="manual"){if(Z!==null)try{B.set("Location",Z)}catch(Y){_(Y)}}else if(w.redirect==="follow"&&Z!==null){if(w.counter>=w.follow){_(new m(`maximum redirect reached at: ${w.url}`,"max-redirect")),x();return}if(V.statusCode!==303&&w.body&&s(w)===null){_(new m("Cannot follow redirect with body being a readable stream","unsupported-redirect")),x();return}w.headers.set("host",new h(Z).host);let Y={headers:new c(w.headers),follow:w.follow,counter:w.counter+1,agent:w.agent,compress:w.compress,method:w.method,body:w.body,signal:w.signal,timeout:w.timeout},Q=new h(w.url),N=new h(Z);Q.hostname!==N.hostname&&(Y.headers.delete("authorization"),Y.headers.delete("cookie")),(V.statusCode===303||(V.statusCode===301||V.statusCode===302)&&w.method==="POST")&&(Y.method="GET",Y.body=void 0,Y.headers.delete("content-length")),E(y(new d(Z,Y))),x();return}}V.once("end",()=>I&&I.removeEventListener("abort",M));let G=new n;G.on("error",x),V.on("error",C=>G.emit("error",C)),V.on("data",C=>G.write(C)),V.on("end",()=>G.end());let W={url:w.url,status:V.statusCode,statusText:V.statusMessage,headers:B,size:w.size,timeout:w.timeout,counter:w.counter,trailer:new Promise(C=>V.on("end",()=>C(a(V.trailers))))},k=B.get("Content-Encoding");if(!w.compress||w.method==="HEAD"||k===null||V.statusCode===204||V.statusCode===304){P=new i(G,W),E(P);return}let D={flush:l.constants.Z_SYNC_FLUSH,finishFlush:l.constants.Z_SYNC_FLUSH};if(k==="gzip"||k==="x-gzip"){let C=new l.Gunzip(D);P=new i(G.on("error",Z=>C.emit("error",Z)).pipe(C),W),E(P);return}if(k==="deflate"||k==="x-deflate"){V.once("data",C=>{let Z=(C[0]&15)===8?new l.Inflate:new l.InflateRaw;G.on("error",Y=>Z.emit("error",Y)).pipe(Z),P=new i(Z,W),E(P)});return}if(k==="br"){try{var T=new l.BrotliDecompress}catch(C){_(C),x();return}G.on("error",C=>T.emit("error",C)).pipe(T),P=new i(T,W),E(P);return}P=new i(G,W),E(P)}),r(j,w)})},"fetch");u.exports=y,y.isRedirect=S=>S===301||S===302||S===303||S===307||S===308,y.Headers=c,y.Request=d,y.Response=i,y.FetchError=m,y.AbortError=f}),tg=J((e,u)=>{u.exports={name:"npm-registry-fetch",version:"19.0.0",description:"Fetch-based http client for use with npm registry APIs",main:"lib",files:["bin/","lib/"],scripts:{eslint:'eslint "**/*.{js,cjs,ts,mjs,jsx,tsx}"',lint:"npm run eslint",lintfix:"npm run eslint -- --fix",test:"tap",posttest:"npm run lint",npmclilint:"npmcli-lint",postsnap:"npm run lintfix --",postlint:"template-oss-check",snap:"tap","template-oss-apply":"template-oss-apply --force"},repository:{type:"git",url:"git+https://github.com/npm/npm-registry-fetch.git"},keywords:["npm","registry","fetch"],author:"GitHub Inc.",license:"ISC",dependencies:{"@npmcli/redact":"^3.0.0",jsonparse:"^1.3.1","make-fetch-happen":"^15.0.0",minipass:"^7.0.2","minipass-fetch":"^4.0.0",minizlib:"^3.0.1","npm-package-arg":"^13.0.0","proc-log":"^5.0.0"},devDependencies:{"@npmcli/eslint-config":"^5.0.0","@npmcli/template-oss":"4.25.0",cacache:"^20.0.0",nock:"^13.2.4","require-inject":"^1.4.4",ssri:"^12.0.0",tap:"^16.0.1"},tap:{"check-coverage":!0,"test-ignore":"test[\\\\/](util|cache)[\\\\/]","nyc-arg":["--exclude","tap-snapshots/**"]},engines:{node:"^20.17.0 || >=22.9.0"},templateOSS:{"//@npmcli/template-oss":"This file is partially managed by @npmcli/template-oss. Edits may be overwritten.",version:"4.25.0",publish:"true"}}}),sl=J((e,u)=>{var h=tg();u.exports={maxSockets:12,method:"GET",registry:"https://registry.npmjs.org/",timeout:300*1e3,strictSSL:!0,noProxy:process.env.NOPROXY,userAgent:`${h.name}@${h.version}/node@${process.version}+${process.arch} (${process.platform})`}}),il=J((e,u)=>{var h="regex",p="path",o={type:h,pattern:/\b(npms?_)[a-zA-Z0-9]{36,48}\b/gi,replacement:"[REDACTED_NPM_SECRET]"},l={type:h,pattern:/\b(Basic\s+|Bearer\s+)[\w+=\-.]+\b/gi,replacement:"[REDACTED_AUTH_HEADER]"},n={type:h,pattern:/\b[A-Za-z0-9-_]{10,}(?!\.\d+\.)\.[A-Za-z0-9-_]{3,}\.[A-Za-z0-9-_]{20,}\b/gi,replacement:"[REDACTED_JSON_WEB_TOKEN]"},t={type:h,pattern:/\b[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}\b/gi,replacement:"[REDACTED_UUID]"},r={type:h,pattern:/(?:https?|ftp):\/\/[^\s/"$.?#].[^\s"]*/gi,replacement:"[REDACTED_URL]"},s={type:p,predicate:v(({path:g})=>g.endsWith(".headers.authorization"),"predicate"),replacement:"[REDACTED_HEADER_AUTHORIZATION]"},i={type:p,predicate:v(({path:g})=>g.endsWith(".headers.set-cookie"),"predicate"),replacement:"[REDACTED_HEADER_SET_COOKIE]"},c={type:p,predicate:v(({path:g})=>g.endsWith(".headers.cookie"),"predicate"),replacement:"[REDACTED_HEADER_COOKIE]"},a={type:p,predicate:v(({path:g})=>g.endsWith(".request"),"predicate"),replacement:v(g=>({method:g?.method,path:g?.path,headers:g?.headers,url:g?.url}),"replacement")},d={type:p,predicate:v(({path:g})=>g.endsWith(".response"),"predicate"),replacement:v(g=>({data:g?.data,status:g?.status,headers:g?.headers}),"replacement")};u.exports={TYPE_REGEX:h,TYPE_URL:"url",TYPE_PATH:p,NPM_SECRET:o,AUTH_HEADER:l,JSON_WEB_TOKEN:n,UUID:t,URL_MATCHER:r,DEEP_HEADER_AUTHORIZATION:s,DEEP_HEADER_SET_COOKIE:i,DEEP_HEADER_COOKIE:c,REWRITE_REQUEST:a,REWRITE_RESPONSE:d}}),rg=J((e,u)=>{var{URL_MATCHER:h,TYPE_URL:p,TYPE_REGEX:o,TYPE_PATH:l}=il(),n=v((_=0)=>(_=typeof _=="string"?_.length:_,_<8?"*".repeat(8):"*".repeat(_)),"asterisk"),t=v(_=>_.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),"escapeRegExp"),r=v(_=>{let w=decodeURIComponent(_),O=encodeURIComponent(_);return[...new Set([O,w,_])].map(t).join("|")},"urlEncodeRegexGroup"),s=v((_,...w)=>{let O="";for(let R=0;R<w.length;R++)O+=_[R]+`(${r(w[R])})`;return O+=_[_.length-1],new RegExp(O)},"urlEncodeRegexTag"),i=v(({hostname:_,replacement:w}={})=>({type:p,predicate:v(({url:O})=>O.hostname===_,"predicate"),pattern:v(({url:O})=>s`(^${O.protocol}//${O.username}:.+@)?${O.hostname}`,"pattern"),replacement:`$1${w||n()}`}),"redactUrlHostnameMatcher"),c=v(({param:_,replacement:w}={})=>({type:p,predicate:v(({url:O})=>O.searchParams.has(_),"predicate"),pattern:v(({url:O})=>s`(${_}=)${O.searchParams.get(_)}`,"pattern"),replacement:`$1${w||n()}`}),"redactUrlSearchParamsMatcher"),a=v(({replacement:_}={})=>({type:p,predicate:v(({url:w})=>w.password,"predicate"),pattern:v(({url:w})=>s`(^${w.protocol}//${w.username}:)${w.password}`,"pattern"),replacement:`$1${_||n()}`}),"redactUrlPasswordMatcher"),d=v((..._)=>w=>{try{let O=new URL(w);return y(..._)(w,{url:O})}catch{return w}},"redactUrlReplacement"),g=v((..._)=>({...h,replacement:d(..._)}),"redactUrlMatcher"),m={[o]:_=>w=>(typeof w=="string"&&(w=w.replace(_.pattern,_.replacement)),w),[p]:_=>(w,O)=>{if(typeof w=="string")try{let R=O?.url||new URL(w),{predicate:I,pattern:P}=_;I({url:R})&&(w=w.replace(P({url:R}),_.replacement))}catch{return w}return w},[l]:_=>(w,O)=>{let R=O?.path,I=R.join(".").toLowerCase(),{predicate:P,replacement:L}=_,M=typeof L=="function"?L:()=>L;return P({rawPath:R,path:I})&&(w=M(w,{rawPath:R,path:I})),w}},f=v(_=>m[_.type](_),"redactMatcher"),y=v((..._)=>(w,O)=>_.flat().reduce((R,I)=>(typeof I=="function"?I:f(I))(R,O),w),"redactMatchers"),S=v(()=>(_,w)=>typeof w=="number"?n(_):w+n(_.substring(w.length).length),"redactDynamicReplacement"),b=v(_=>(w,O)=>typeof O=="number"?n(_):O+n(_),"redactFixedReplacement"),E=v((_,w)=>y(a({replacement:w}))(_),"redactUrlPassword");u.exports={asterisk:n,escapeRegExp:t,urlEncodeRegexGroup:r,urlEncodeRegexTag:s,redactUrlHostnameMatcher:i,redactUrlSearchParamsMatcher:c,redactUrlPasswordMatcher:a,redactUrlMatcher:g,redactUrlReplacement:d,redactDynamicReplacement:S,redactFixedReplacement:b,redactMatchers:y,redactUrlPassword:E}}),sg=J((e,u)=>{var h=il(),{redactUrlPassword:p}=rg(),o="***",l=v(r=>typeof r!="string"||!r?r:p(r,o).replace(h.NPM_SECRET.pattern,`npm_${o}`).replace(h.UUID.pattern,o),"redact"),n=v(r=>{let s=/[\s=]/g,i=null,c="",a=0;for(;i=s.exec(r);)c+=l(r.slice(a,i.index))+i[0],a=s.lastIndex;return c+l(r.slice(a))},"splitAndRedact"),t=v(r=>typeof r=="string"?n(r):Array.isArray(r)?r.map(s=>typeof s=="string"?n(s):s):r,"redactLog");u.exports={redact:l,redactLog:t}}),ig=J((e,u)=>{"use strict";var h=Xa(),{Response:p}=tr(),o=sl(),{log:l}=We(),{redact:n}=sg(),t="https://github.com/npm/cli/wiki/No-auth-for-URI,-but-auth-present-for-scoped-registry",r=v(async({method:c,uri:a,res:d,startTime:g,auth:m,opts:f})=>(f={...o,...f},d.headers.has("npm-notice")&&!d.headers.has("x-local-cache")&&l.notice("",d.headers.get("npm-notice")),d.status>=400?(s(c,d,g),m&&m.scopeAuthKey&&!m.token&&!m.auth&&l.warn("registry",`No auth for URI, but auth present for scoped registry.

URI: ${a}
Scoped Registry Key: ${m.scopeAuthKey}

More info here: ${t}`),i(c,d,g,f)):(d.body.on("end",()=>s(c,d,g,f)),f.ignoreBody?(d.body.resume(),new p(null,d)):d)),"checkResponse");u.exports=r;function s(c,a,d){let g=Date.now()-d,m=a.headers.get("x-fetch-attempts"),f=m&&m>1?` attempt #${m}`:"",y=a.headers.get("x-local-cache-status"),S=y?` (cache ${y})`:"",b=n(a.url);y==="hit"?l.http("cache",`${b} ${g}ms${f}${S}`):l.http("fetch",`${c.toUpperCase()} ${a.status} ${b} ${g}ms${f}${S}`)}v(s,"logRequest");function i(c,a,d,g){return a.buffer().catch(()=>null).then(m=>{let f=m;try{f=JSON.parse(m.toString("utf8"))}catch{}if(a.status===401&&a.headers.get("www-authenticate")){let y=a.headers.get("www-authenticate").split(/,\s*/).map(S=>S.toLowerCase());throw y.indexOf("ipaddress")!==-1?new h.HttpErrorAuthIPAddress(c,a,f,g.spec):y.indexOf("otp")!==-1?new h.HttpErrorAuthOTP(c,a,f,g.spec):new h.HttpErrorAuthUnknown(c,a,f,g.spec)}else throw a.status===401&&m!=null&&/one-time pass/.test(m.toString("utf8"))?new h.HttpErrorAuthOTP(c,a,f,g.spec):new h.HttpErrorGeneral(c,a,f,g.spec)})}v(i,"checkErrors")}),ng=J((e,u)=>{"use strict";var h=require("fs"),p=qt(),{URL:o}=require("url"),l=v((a,d)=>{let g=new o(a),m=`//${g.host}${g.pathname}`;for(;m.length>2;){let f=n(m,d);if(f)return{regKey:m,authKey:f};m=m.replace(/([^/]+|\/)$/,"")}return{regKey:!1,authKey:null}},"regFromURI"),n=v((a,d)=>d[`${a}:_authToken`]?"_authToken":d[`${a}:_auth`]?"_auth":d[`${a}:username`]&&d[`${a}:_password`]?"username":d[`${a}:certfile`]&&d[`${a}:keyfile`]?"certfile":!1,"hasAuth"),t=v((a,d)=>{let g=new o(a),m=new o(d);return g.host===m.host},"sameHost"),r=v(a=>{let{spec:d}=a,{scope:g,subSpec:m}=d?p(d):{},f=m&&m.scope,y=m?f:g;return y&&a[`${y}:registry`]||a.registry},"getRegistry"),s=v(a=>{try{return h.readFileSync(a,"utf8")}catch(d){if(d.code!=="ENOENT")throw d;return null}},"maybeReadFile"),i=v((a,d={})=>{let{forceAuth:g}=d;if(!a)throw new Error("URI is required");let{regKey:m,authKey:f}=l(a,g||d);if(g&&!m)return new c({regKey:!1,authKey:null,scopeAuthKey:null,token:g._authToken||g.token,username:g.username,password:g._password||g.password,auth:g._auth||g.auth,certfile:g.certfile,keyfile:g.keyfile});if(!m){let O=r(d);if(O&&a!==O&&t(a,O))return i(O,d);if(O!==d.registry){let{regKey:R,authKey:I}=l(O,d);return new c({scopeAuthKey:R,regKey:R,authKey:I})}}let{[`${m}:_authToken`]:y,[`${m}:username`]:S,[`${m}:_password`]:b,[`${m}:_auth`]:E,[`${m}:certfile`]:_,[`${m}:keyfile`]:w}=d;return new c({scopeAuthKey:null,regKey:m,authKey:f,token:y,auth:E,username:S,password:b,certfile:_,keyfile:w})},"getAuth"),c=class{static{v(this,"Auth")}constructor({token:a,auth:d,username:g,password:m,scopeAuthKey:f,certfile:y,keyfile:S,regKey:b,authKey:E}){if(this.scopeAuthKey=f,this.regKey=b,this.authKey=E,this.token=null,this.auth=null,this.isBasicAuth=!1,this.cert=null,this.key=null,a)this.token=a;else if(d)this.auth=d;else if(g&&m){let _=Buffer.from(m,"base64").toString("utf8");this.auth=Buffer.from(`${g}:${_}`,"utf8").toString("base64"),this.isBasicAuth=!0}if(y&&S){let _=s(y,"utf-8"),w=s(S,"utf-8");_&&w&&(this.cert=_,this.key=w)}}};u.exports=i}),og=J((e,u)=>{var h=require("dns"),p=["if-modified-since","if-none-match","if-unmodified-since","if-match","if-range"],o=v(l=>{let{strictSSL:n,...t}={...l};if(t.method=t.method?t.method.toUpperCase():"GET",n==null?t.rejectUnauthorized=process.env.NODE_TLS_REJECT_UNAUTHORIZED!=="0":t.rejectUnauthorized=n!==!1,!t.retry)t.retry={retries:0};else if(typeof t.retry=="string"){let r=parseInt(t.retry,10);isFinite(r)?t.retry={retries:r}:t.retry={retries:0}}else typeof t.retry=="number"?t.retry={retries:t.retry}:t.retry={retries:0,...t.retry};return t.dns={ttl:300*1e3,lookup:h.lookup,...t.dns},t.cache=t.cache||"default",t.cache==="default"&&Object.keys(t.headers||{}).some(r=>p.includes(r.toLowerCase()))&&(t.cache="no-store"),t.cacheAdditionalHeaders=t.cacheAdditionalHeaders||[],t.cacheManager&&!t.cachePath&&(t.cachePath=t.cacheManager),t},"configureOptions");u.exports=o}),ag=J((e,u)=>{"use strict";var h=new Set([200,203,204,206,300,301,308,404,405,410,414,501]),p=new Set([200,203,204,300,301,302,303,307,308,404,405,410,414,501]),o=new Set([500,502,503,504]),l={date:!0,connection:!0,"keep-alive":!0,"proxy-authenticate":!0,"proxy-authorization":!0,te:!0,trailer:!0,"transfer-encoding":!0,upgrade:!0},n={"content-length":!0,"content-encoding":!0,"transfer-encoding":!0,"content-range":!0};function t(c){let a=parseInt(c,10);return isFinite(a)?a:0}v(t,"toNumberOrZero");function r(c){return c?o.has(c.status):!0}v(r,"isErrorResponse");function s(c){let a={};if(!c)return a;let d=c.trim().split(/,/);for(let g of d){let[m,f]=g.split(/=/,2);a[m.trim()]=f===void 0?!0:f.trim().replace(/^"|"$/g,"")}return a}v(s,"parseCacheControl");function i(c){let a=[];for(let d in c){let g=c[d];a.push(g===!0?d:d+"="+g)}if(a.length)return a.join(", ")}v(i,"formatCacheControl"),u.exports=class{static{v(this,"CachePolicy")}constructor(c,a,{shared:d,cacheHeuristic:g,immutableMinTimeToLive:m,ignoreCargoCult:f,_fromObject:y}={}){if(y){this._fromObject(y);return}if(!a||!a.headers)throw Error("Response headers missing");this._assertRequestHasHeaders(c),this._responseTime=this.now(),this._isShared=d!==!1,this._ignoreCargoCult=!!f,this._cacheHeuristic=g!==void 0?g:.1,this._immutableMinTtl=m!==void 0?m:24*3600*1e3,this._status="status"in a?a.status:200,this._resHeaders=a.headers,this._rescc=s(a.headers["cache-control"]),this._method="method"in c?c.method:"GET",this._url=c.url,this._host=c.headers.host,this._noAuthorization=!c.headers.authorization,this._reqHeaders=a.headers.vary?c.headers:null,this._reqcc=s(c.headers["cache-control"]),this._ignoreCargoCult&&"pre-check"in this._rescc&&"post-check"in this._rescc&&(delete this._rescc["pre-check"],delete this._rescc["post-check"],delete this._rescc["no-cache"],delete this._rescc["no-store"],delete this._rescc["must-revalidate"],this._resHeaders=Object.assign({},this._resHeaders,{"cache-control":i(this._rescc)}),delete this._resHeaders.expires,delete this._resHeaders.pragma),a.headers["cache-control"]==null&&/no-cache/.test(a.headers.pragma)&&(this._rescc["no-cache"]=!0)}now(){return Date.now()}storable(){return!!(!this._reqcc["no-store"]&&(this._method==="GET"||this._method==="HEAD"||this._method==="POST"&&this._hasExplicitExpiration())&&p.has(this._status)&&!this._rescc["no-store"]&&(!this._isShared||!this._rescc.private)&&(!this._isShared||this._noAuthorization||this._allowsStoringAuthenticated())&&(this._resHeaders.expires||this._rescc["max-age"]||this._isShared&&this._rescc["s-maxage"]||this._rescc.public||h.has(this._status)))}_hasExplicitExpiration(){return!!(this._isShared&&this._rescc["s-maxage"]||this._rescc["max-age"]||this._resHeaders.expires)}_assertRequestHasHeaders(c){if(!c||!c.headers)throw Error("Request headers missing")}satisfiesWithoutRevalidation(c){return!this.evaluateRequest(c).revalidation}_evaluateRequestHitResult(c){return{response:{headers:this.responseHeaders()},revalidation:c}}_evaluateRequestRevalidation(c,a){return{synchronous:a,headers:this.revalidationHeaders(c)}}_evaluateRequestMissResult(c){return{response:void 0,revalidation:this._evaluateRequestRevalidation(c,!0)}}evaluateRequest(c){if(this._assertRequestHasHeaders(c),this._rescc["must-revalidate"])return this._evaluateRequestMissResult(c);if(!this._requestMatches(c,!1))return this._evaluateRequestMissResult(c);let a=s(c.headers["cache-control"]);return a["no-cache"]||/no-cache/.test(c.headers.pragma)?this._evaluateRequestMissResult(c):a["max-age"]&&this.age()>t(a["max-age"])?this._evaluateRequestMissResult(c):a["min-fresh"]&&this.maxAge()-this.age()<t(a["min-fresh"])?this._evaluateRequestMissResult(c):this.stale()?"max-stale"in a&&(a["max-stale"]===!0||a["max-stale"]>this.age()-this.maxAge())?this._evaluateRequestHitResult(void 0):this.useStaleWhileRevalidate()?this._evaluateRequestHitResult(this._evaluateRequestRevalidation(c,!1)):this._evaluateRequestMissResult(c):this._evaluateRequestHitResult(void 0)}_requestMatches(c,a){return!!((!this._url||this._url===c.url)&&this._host===c.headers.host&&(!c.method||this._method===c.method||a&&c.method==="HEAD")&&this._varyMatches(c))}_allowsStoringAuthenticated(){return!!(this._rescc["must-revalidate"]||this._rescc.public||this._rescc["s-maxage"])}_varyMatches(c){if(!this._resHeaders.vary)return!0;if(this._resHeaders.vary==="*")return!1;let a=this._resHeaders.vary.trim().toLowerCase().split(/\s*,\s*/);for(let d of a)if(c.headers[d]!==this._reqHeaders[d])return!1;return!0}_copyWithoutHopByHopHeaders(c){let a={};for(let d in c)l[d]||(a[d]=c[d]);if(c.connection){let d=c.connection.trim().split(/\s*,\s*/);for(let g of d)delete a[g]}if(a.warning){let d=a.warning.split(/,/).filter(g=>!/^\s*1[0-9][0-9]/.test(g));d.length?a.warning=d.join(",").trim():delete a.warning}return a}responseHeaders(){let c=this._copyWithoutHopByHopHeaders(this._resHeaders),a=this.age();return a>3600*24&&!this._hasExplicitExpiration()&&this.maxAge()>3600*24&&(c.warning=(c.warning?`${c.warning}, `:"")+'113 - "rfc7234 5.5.4"'),c.age=`${Math.round(a)}`,c.date=new Date(this.now()).toUTCString(),c}date(){let c=Date.parse(this._resHeaders.date);return isFinite(c)?c:this._responseTime}age(){let c=this._ageValue(),a=(this.now()-this._responseTime)/1e3;return c+a}_ageValue(){return t(this._resHeaders.age)}maxAge(){if(!this.storable()||this._rescc["no-cache"]||this._isShared&&this._resHeaders["set-cookie"]&&!this._rescc.public&&!this._rescc.immutable||this._resHeaders.vary==="*")return 0;if(this._isShared){if(this._rescc["proxy-revalidate"])return 0;if(this._rescc["s-maxage"])return t(this._rescc["s-maxage"])}if(this._rescc["max-age"])return t(this._rescc["max-age"]);let c=this._rescc.immutable?this._immutableMinTtl:0,a=this.date();if(this._resHeaders.expires){let d=Date.parse(this._resHeaders.expires);return Number.isNaN(d)||d<a?0:Math.max(c,(d-a)/1e3)}if(this._resHeaders["last-modified"]){let d=Date.parse(this._resHeaders["last-modified"]);if(isFinite(d)&&a>d)return Math.max(c,(a-d)/1e3*this._cacheHeuristic)}return c}timeToLive(){let c=this.maxAge()-this.age(),a=c+t(this._rescc["stale-if-error"]),d=c+t(this._rescc["stale-while-revalidate"]);return Math.round(Math.max(0,c,a,d)*1e3)}stale(){return this.maxAge()<=this.age()}_useStaleIfError(){return this.maxAge()+t(this._rescc["stale-if-error"])>this.age()}useStaleWhileRevalidate(){let c=t(this._rescc["stale-while-revalidate"]);return c>0&&this.maxAge()+c>this.age()}static fromObject(c){return new this(void 0,void 0,{_fromObject:c})}_fromObject(c){if(this._responseTime)throw Error("Reinitialized");if(!c||c.v!==1)throw Error("Invalid serialization");this._responseTime=c.t,this._isShared=c.sh,this._cacheHeuristic=c.ch,this._immutableMinTtl=c.imm!==void 0?c.imm:24*3600*1e3,this._ignoreCargoCult=!!c.icc,this._status=c.st,this._resHeaders=c.resh,this._rescc=c.rescc,this._method=c.m,this._url=c.u,this._host=c.h,this._noAuthorization=c.a,this._reqHeaders=c.reqh,this._reqcc=c.reqcc}toObject(){return{v:1,t:this._responseTime,sh:this._isShared,ch:this._cacheHeuristic,imm:this._immutableMinTtl,icc:this._ignoreCargoCult,st:this._status,resh:this._resHeaders,rescc:this._rescc,m:this._method,u:this._url,h:this._host,a:this._noAuthorization,reqh:this._reqHeaders,reqcc:this._reqcc}}revalidationHeaders(c){this._assertRequestHasHeaders(c);let a=this._copyWithoutHopByHopHeaders(c.headers);if(delete a["if-range"],!this._requestMatches(c,!0)||!this.storable())return delete a["if-none-match"],delete a["if-modified-since"],a;if(this._resHeaders.etag&&(a["if-none-match"]=a["if-none-match"]?`${a["if-none-match"]}, ${this._resHeaders.etag}`:this._resHeaders.etag),a["accept-ranges"]||a["if-match"]||a["if-unmodified-since"]||this._method&&this._method!="GET"){if(delete a["if-modified-since"],a["if-none-match"]){let d=a["if-none-match"].split(/,/).filter(g=>!/^\s*W\//.test(g));d.length?a["if-none-match"]=d.join(",").trim():delete a["if-none-match"]}}else this._resHeaders["last-modified"]&&!a["if-modified-since"]&&(a["if-modified-since"]=this._resHeaders["last-modified"]);return a}revalidatedPolicy(c,a){if(this._assertRequestHasHeaders(c),this._useStaleIfError()&&r(a))return{policy:this,modified:!1,matches:!0};if(!a||!a.headers)throw Error("Response headers missing");let d=!1;a.status!==void 0&&a.status!=304?d=!1:a.headers.etag&&!/^\s*W\//.test(a.headers.etag)?d=this._resHeaders.etag&&this._resHeaders.etag.replace(/^\s*W\//,"")===a.headers.etag:this._resHeaders.etag&&a.headers.etag?d=this._resHeaders.etag.replace(/^\s*W\//,"")===a.headers.etag.replace(/^\s*W\//,""):this._resHeaders["last-modified"]?d=this._resHeaders["last-modified"]===a.headers["last-modified"]:!this._resHeaders.etag&&!this._resHeaders["last-modified"]&&!a.headers.etag&&!a.headers["last-modified"]&&(d=!0);let g={shared:this._isShared,cacheHeuristic:this._cacheHeuristic,immutableMinTimeToLive:this._immutableMinTtl,ignoreCargoCult:this._ignoreCargoCult};if(!d)return{policy:new this.constructor(c,a,g),modified:a.status!=304,matches:!1};let m={};for(let y in this._resHeaders)m[y]=y in a.headers&&!n[y]?a.headers[y]:this._resHeaders[y];let f=Object.assign({},a,{status:this._status,method:this._method,headers:m});return{policy:new this.constructor(c,f,g),modified:!1,matches:!0}}}}),lg=J((e,u)=>{"use strict";u.exports=t,u.exports.preferredCharsets=t;var h=/^\s*([^\s;]+)\s*(?:;(.*))?$/;function p(c){for(var a=c.split(","),d=0,g=0;d<a.length;d++){var m=o(a[d].trim(),d);m&&(a[g++]=m)}return a.length=g,a}v(p,"parseAcceptCharset");function o(c,a){var d=h.exec(c);if(!d)return null;var g=d[1],m=1;if(d[2])for(var f=d[2].split(";"),y=0;y<f.length;y++){var S=f[y].trim().split("=");if(S[0]==="q"){m=parseFloat(S[1]);break}}return{charset:g,q:m,i:a}}v(o,"parseCharset");function l(c,a,d){for(var g={o:-1,q:0,s:0},m=0;m<a.length;m++){var f=n(c,a[m],d);f&&(g.s-f.s||g.q-f.q||g.o-f.o)<0&&(g=f)}return g}v(l,"getCharsetPriority");function n(c,a,d){var g=0;if(a.charset.toLowerCase()===c.toLowerCase())g|=1;else if(a.charset!=="*")return null;return{i:d,o:a.i,q:a.q,s:g}}v(n,"specify");function t(c,a){var d=p(c===void 0?"*":c||"");if(!a)return d.filter(i).sort(r).map(s);var g=a.map(v(function(m,f){return l(m,d,f)},"getPriority"));return g.filter(i).sort(r).map(v(function(m){return a[g.indexOf(m)]},"getCharset"))}v(t,"preferredCharsets");function r(c,a){return a.q-c.q||a.s-c.s||c.o-a.o||c.i-a.i||0}v(r,"compareSpecs");function s(c){return c.charset}v(s,"getFullCharset");function i(c){return c.q>0}v(i,"isQuality")}),cg=J((e,u)=>{"use strict";u.exports=t,u.exports.preferredEncodings=t;var h=/^\s*([^\s;]+)\s*(?:;(.*))?$/;function p(c){for(var a=c.split(","),d=!1,g=1,m=0,f=0;m<a.length;m++){var y=o(a[m].trim(),m);y&&(a[f++]=y,d=d||n("identity",y),g=Math.min(g,y.q||1))}return d||(a[f++]={encoding:"identity",q:g,i:m}),a.length=f,a}v(p,"parseAcceptEncoding");function o(c,a){var d=h.exec(c);if(!d)return null;var g=d[1],m=1;if(d[2])for(var f=d[2].split(";"),y=0;y<f.length;y++){var S=f[y].trim().split("=");if(S[0]==="q"){m=parseFloat(S[1]);break}}return{encoding:g,q:m,i:a}}v(o,"parseEncoding");function l(c,a,d){for(var g={encoding:c,o:-1,q:0,s:0},m=0;m<a.length;m++){var f=n(c,a[m],d);f&&(g.s-f.s||g.q-f.q||g.o-f.o)<0&&(g=f)}return g}v(l,"getEncodingPriority");function n(c,a,d){var g=0;if(a.encoding.toLowerCase()===c.toLowerCase())g|=1;else if(a.encoding!=="*")return null;return{encoding:c,i:d,o:a.i,q:a.q,s:g}}v(n,"specify");function t(c,a,d){var g=p(c||""),m=d?v(function(y,S){if(y.q!==S.q)return S.q-y.q;var b=d.indexOf(y.encoding),E=d.indexOf(S.encoding);return b===-1&&E===-1?S.s-y.s||y.o-S.o||y.i-S.i:b!==-1&&E!==-1?b-E:b===-1?1:-1},"comparator"):r;if(!a)return g.filter(i).sort(m).map(s);var f=a.map(v(function(y,S){return l(y,g,S)},"getPriority"));return f.filter(i).sort(m).map(v(function(y){return a[f.indexOf(y)]},"getEncoding"))}v(t,"preferredEncodings");function r(c,a){return a.q-c.q||a.s-c.s||c.o-a.o||c.i-a.i}v(r,"compareSpecs");function s(c){return c.encoding}v(s,"getFullEncoding");function i(c){return c.q>0}v(i,"isQuality")}),ug=J((e,u)=>{"use strict";u.exports=t,u.exports.preferredLanguages=t;var h=/^\s*([^\s\-;]+)(?:-([^\s;]+))?\s*(?:;(.*))?$/;function p(c){for(var a=c.split(","),d=0,g=0;d<a.length;d++){var m=o(a[d].trim(),d);m&&(a[g++]=m)}return a.length=g,a}v(p,"parseAcceptLanguage");function o(c,a){var d=h.exec(c);if(!d)return null;var g=d[1],m=d[2],f=g;m&&(f+="-"+m);var y=1;if(d[3])for(var S=d[3].split(";"),b=0;b<S.length;b++){var E=S[b].split("=");E[0]==="q"&&(y=parseFloat(E[1]))}return{prefix:g,suffix:m,q:y,i:a,full:f}}v(o,"parseLanguage");function l(c,a,d){for(var g={o:-1,q:0,s:0},m=0;m<a.length;m++){var f=n(c,a[m],d);f&&(g.s-f.s||g.q-f.q||g.o-f.o)<0&&(g=f)}return g}v(l,"getLanguagePriority");function n(c,a,d){var g=o(c);if(!g)return null;var m=0;if(a.full.toLowerCase()===g.full.toLowerCase())m|=4;else if(a.prefix.toLowerCase()===g.full.toLowerCase())m|=2;else if(a.full.toLowerCase()===g.prefix.toLowerCase())m|=1;else if(a.full!=="*")return null;return{i:d,o:a.i,q:a.q,s:m}}v(n,"specify");function t(c,a){var d=p(c===void 0?"*":c||"");if(!a)return d.filter(i).sort(r).map(s);var g=a.map(v(function(m,f){return l(m,d,f)},"getPriority"));return g.filter(i).sort(r).map(v(function(m){return a[g.indexOf(m)]},"getLanguage"))}v(t,"preferredLanguages");function r(c,a){return a.q-c.q||a.s-c.s||c.o-a.o||c.i-a.i||0}v(r,"compareSpecs");function s(c){return c.full}v(s,"getFullLanguage");function i(c){return c.q>0}v(i,"isQuality")}),hg=J((e,u)=>{"use strict";u.exports=t,u.exports.preferredMediaTypes=t;var h=/^\s*([^\s\/;]+)\/([^;\s]+)\s*(?:;(.*))?$/;function p(m){for(var f=d(m),y=0,S=0;y<f.length;y++){var b=o(f[y].trim(),y);b&&(f[S++]=b)}return f.length=S,f}v(p,"parseAccept");function o(m,f){var y=h.exec(m);if(!y)return null;var S=Object.create(null),b=1,E=y[2],_=y[1];if(y[3])for(var w=g(y[3]).map(a),O=0;O<w.length;O++){var R=w[O],I=R[0].toLowerCase(),P=R[1],L=P&&P[0]==='"'&&P[P.length-1]==='"'?P.slice(1,-1):P;if(I==="q"){b=parseFloat(L);break}S[I]=L}return{type:_,subtype:E,params:S,q:b,i:f}}v(o,"parseMediaType");function l(m,f,y){for(var S={o:-1,q:0,s:0},b=0;b<f.length;b++){var E=n(m,f[b],y);E&&(S.s-E.s||S.q-E.q||S.o-E.o)<0&&(S=E)}return S}v(l,"getMediaTypePriority");function n(m,f,y){var S=o(m),b=0;if(!S)return null;if(f.type.toLowerCase()==S.type.toLowerCase())b|=4;else if(f.type!="*")return null;if(f.subtype.toLowerCase()==S.subtype.toLowerCase())b|=2;else if(f.subtype!="*")return null;var E=Object.keys(f.params);if(E.length>0)if(E.every(function(_){return f.params[_]=="*"||(f.params[_]||"").toLowerCase()==(S.params[_]||"").toLowerCase()}))b|=1;else return null;return{i:y,o:f.i,q:f.q,s:b}}v(n,"specify");function t(m,f){var y=p(m===void 0?"*/*":m||"");if(!f)return y.filter(i).sort(r).map(s);var S=f.map(v(function(b,E){return l(b,y,E)},"getPriority"));return S.filter(i).sort(r).map(v(function(b){return f[S.indexOf(b)]},"getType"))}v(t,"preferredMediaTypes");function r(m,f){return f.q-m.q||f.s-m.s||m.o-f.o||m.i-f.i||0}v(r,"compareSpecs");function s(m){return m.type+"/"+m.subtype}v(s,"getFullType");function i(m){return m.q>0}v(i,"isQuality");function c(m){for(var f=0,y=0;(y=m.indexOf('"',y))!==-1;)f++,y++;return f}v(c,"quoteCount");function a(m){var f=m.indexOf("="),y,S;return f===-1?y=m:(y=m.slice(0,f),S=m.slice(f+1)),[y,S]}v(a,"splitKeyValuePair");function d(m){for(var f=m.split(","),y=1,S=0;y<f.length;y++)c(f[S])%2==0?f[++S]=f[y]:f[S]+=","+f[y];return f.length=S+1,f}v(d,"splitMediaTypes");function g(m){for(var f=m.split(";"),y=1,S=0;y<f.length;y++)c(f[S])%2==0?f[++S]=f[y]:f[S]+=";"+f[y];f.length=S+1;for(var y=0;y<f.length;y++)f[y]=f[y].trim();return f}v(g,"splitParameters")}),pg=J((e,u)=>{"use strict";var h=lg(),p=cg(),o=ug(),l=hg();u.exports=n,u.exports.Negotiator=n;function n(t){if(!(this instanceof n))return new n(t);this.request=t}v(n,"Negotiator"),n.prototype.charset=v(function(t){var r=this.charsets(t);return r&&r[0]},"charset"),n.prototype.charsets=v(function(t){return h(this.request.headers["accept-charset"],t)},"charsets"),n.prototype.encoding=v(function(t,r){var s=this.encodings(t,r);return s&&s[0]},"encoding"),n.prototype.encodings=v(function(t,r){var s=r||{};return p(this.request.headers["accept-encoding"],t,s.preferred)},"encodings"),n.prototype.language=v(function(t){var r=this.languages(t);return r&&r[0]},"language"),n.prototype.languages=v(function(t){return o(this.request.headers["accept-language"],t)},"languages"),n.prototype.mediaType=v(function(t){var r=this.mediaTypes(t);return r&&r[0]},"mediaType"),n.prototype.mediaTypes=v(function(t){return l(this.request.headers.accept,t)},"mediaTypes"),n.prototype.preferredCharset=n.prototype.charset,n.prototype.preferredCharsets=n.prototype.charsets,n.prototype.preferredEncoding=n.prototype.encoding,n.prototype.preferredEncodings=n.prototype.encodings,n.prototype.preferredLanguage=n.prototype.language,n.prototype.preferredLanguages=n.prototype.languages,n.prototype.preferredMediaType=n.prototype.mediaType,n.prototype.preferredMediaTypes=n.prototype.mediaTypes}),nl=J((e,u)=>{var h=ag(),p=pg(),o=et(),l={shared:!1,ignoreCargoCult:!0},n={status:200,headers:{}},t=v(i=>{let c={method:i.method,url:i.url,headers:{},compress:i.compress};return i.headers.forEach((a,d)=>{c.headers[d]=a}),c},"requestObject"),r=v(i=>{let c={status:i.status,headers:{}};return i.headers.forEach((a,d)=>{c.headers[d]=a}),c},"responseObject"),s=class{static{v(this,"CachePolicy")}constructor({entry:i,request:c,response:a,options:d}){this.entry=i,this.request=t(c),this.response=r(a),this.options=d,this.policy=new h(this.request,this.response,l),this.entry&&(this.policy._responseTime=this.entry.metadata.time)}static storable(i,c){return!c.cachePath||c.cache==="no-store"||!["GET","HEAD"].includes(i.method)?!1:new h(t(i),n,l).storable()}satisfies(i){let c=t(i);if(this.request.headers.host!==c.headers.host||this.request.compress!==c.compress)return!1;let a=new p(this.request),d=new p(c);return JSON.stringify(a.mediaTypes())!==JSON.stringify(d.mediaTypes())||JSON.stringify(a.languages())!==JSON.stringify(d.languages())||JSON.stringify(a.encodings())!==JSON.stringify(d.encodings())?!1:this.options.integrity?o.parse(this.options.integrity).match(this.entry.integrity):!0}storable(){return this.policy.storable()}get mustRevalidate(){return!!this.policy._rescc["must-revalidate"]}needsRevalidation(i){let c=t(i);return c.method="GET",!this.policy.satisfiesWithoutRevalidation(c)}responseHeaders(){return this.policy.responseHeaders()}revalidationHeaders(i){let c=t(i);return this.policy.revalidationHeaders(c)}revalidated(i,c){let a=t(i),d=r(c);return!this.policy.revalidatedPolicy(a,d).modified}};u.exports=s}),dg=J((e,u)=>{var h=class extends Error{static{v(this,"NotCachedError")}constructor(p){super(`request to ${p} failed: cache mode is 'only-if-cached' but no cached response is available.`),this.code="ENOTCACHED"}};u.exports={NotCachedError:h}}),ol=J((e,u)=>{"use strict";var h=Wt(),p=class extends h{static{v(this,"CachingMinipassPipeline")}#e=[];#t=new Map;constructor(o,...l){super(),this.#e=o.events,l.length&&this.push(...l)}on(o,l){return this.#e.includes(o)&&this.#t.has(o)?l(...this.#t.get(o)):super.on(o,l)}emit(o,...l){return this.#e.includes(o)&&this.#t.set(o,l),super.emit(o,...l)}};u.exports=p}),fg=J((e,u)=>{var{URL:h,format:p}=require("url"),o={auth:!1,fragment:!1,search:!0,unicode:!1},l=v(n=>{let t=new h(n.url);return`make-fetch-happen:request-cache:${p(t,o)}`},"cacheKey");u.exports=l}),al=J((e,u)=>{"use strict";var{LRUCache:h}=_t(),p=require("dns"),o=new h({max:50}),l=v(({family:n=0,hints:t=p.ADDRCONFIG,all:r=!1,verbatim:s=void 0,ttl:i=300*1e3,lookup:c=p.lookup})=>({hints:t,lookup:v((a,...d)=>{let g=d.pop(),m=d[0]??{},f={family:n,hints:t,all:r,verbatim:s,...typeof m=="number"?{family:m}:m},y=JSON.stringify({hostname:a,...f});if(o.has(y)){let S=o.get(y);return process.nextTick(g,null,...S)}c(a,f,(S,...b)=>S?g(S):(o.set(y,b,{ttl:i}),g(null,...b)))},"lookup")}),"getOptions");u.exports={cache:o,getOptions:l}}),ll=J((e,u)=>{"use strict";var h=al(),p=v(n=>{let t=parseInt(n.family??"0",10),r=n.keepAlive??!0,s={keepAliveMsecs:r?1e3:void 0,maxSockets:n.maxSockets??15,maxTotalSockets:1/0,maxFreeSockets:r?256:void 0,scheduling:"fifo",...n,family:t,keepAlive:r,timeouts:{idle:n.timeout??0,connection:0,response:0,transfer:0,...n.timeouts},...h.getOptions({family:t,...n.dns})};return delete s.timeout,s},"normalizeOptions"),o=v(n=>{let t="",r=Object.entries(n).sort((s,i)=>s[0]-i[0]);for(let[s,i]of r)i==null?i="null":i instanceof URL?i=i.toString():typeof i=="object"&&(i=o(i)),t+=`${s}:${i}:`;return t},"createKey"),l=v(({secureEndpoint:n,...t})=>o({secureEndpoint:!!n,family:t.family,hints:t.hints,localAddress:t.localAddress,strictSsl:n?!!t.rejectUnauthorized:!1,ca:n?t.ca:null,cert:n?t.cert:null,key:n?t.key:null,keepAlive:t.keepAlive,keepAliveMsecs:t.keepAliveMsecs,maxSockets:t.maxSockets,maxTotalSockets:t.maxTotalSockets,maxFreeSockets:t.maxFreeSockets,scheduling:t.scheduling,timeouts:t.timeouts,proxy:t.proxy}),"cacheOptions");u.exports={normalizeOptions:p,cacheOptions:l}}),gg=J((e,u)=>{var h=1e3,p=h*60,o=p*60,l=o*24,n=l*7,t=l*365.25;u.exports=function(a,d){d=d||{};var g=typeof a;if(g==="string"&&a.length>0)return r(a);if(g==="number"&&isFinite(a))return d.long?i(a):s(a);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(a))};function r(a){if(a=String(a),!(a.length>100)){var d=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(a);if(d){var g=parseFloat(d[1]),m=(d[2]||"ms").toLowerCase();switch(m){case"years":case"year":case"yrs":case"yr":case"y":return g*t;case"weeks":case"week":case"w":return g*n;case"days":case"day":case"d":return g*l;case"hours":case"hour":case"hrs":case"hr":case"h":return g*o;case"minutes":case"minute":case"mins":case"min":case"m":return g*p;case"seconds":case"second":case"secs":case"sec":case"s":return g*h;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return g;default:return}}}}v(r,"parse");function s(a){var d=Math.abs(a);return d>=l?Math.round(a/l)+"d":d>=o?Math.round(a/o)+"h":d>=p?Math.round(a/p)+"m":d>=h?Math.round(a/h)+"s":a+"ms"}v(s,"fmtShort");function i(a){var d=Math.abs(a);return d>=l?c(a,d,l,"day"):d>=o?c(a,d,o,"hour"):d>=p?c(a,d,p,"minute"):d>=h?c(a,d,h,"second"):a+" ms"}v(i,"fmtLong");function c(a,d,g,m){var f=d>=g*1.5;return Math.round(a/g)+" "+m+(f?"s":"")}v(c,"plural")}),cl=J((e,u)=>{function h(p){l.debug=l,l.default=l,l.coerce=c,l.disable=s,l.enable=t,l.enabled=i,l.humanize=gg(),l.destroy=a,Object.keys(p).forEach(d=>{l[d]=p[d]}),l.names=[],l.skips=[],l.formatters={};function o(d){let g=0;for(let m=0;m<d.length;m++)g=(g<<5)-g+d.charCodeAt(m),g|=0;return l.colors[Math.abs(g)%l.colors.length]}v(o,"selectColor"),l.selectColor=o;function l(d){let g,m=null,f,y;function S(...b){if(!S.enabled)return;let E=S,_=Number(new Date),w=_-(g||_);E.diff=w,E.prev=g,E.curr=_,g=_,b[0]=l.coerce(b[0]),typeof b[0]!="string"&&b.unshift("%O");let O=0;b[0]=b[0].replace(/%([a-zA-Z%])/g,(R,I)=>{if(R==="%%")return"%";O++;let P=l.formatters[I];if(typeof P=="function"){let L=b[O];R=P.call(E,L),b.splice(O,1),O--}return R}),l.formatArgs.call(E,b),(E.log||l.log).apply(E,b)}return v(S,"debug"),S.namespace=d,S.useColors=l.useColors(),S.color=l.selectColor(d),S.extend=n,S.destroy=l.destroy,Object.defineProperty(S,"enabled",{enumerable:!0,configurable:!1,get:v(()=>m!==null?m:(f!==l.namespaces&&(f=l.namespaces,y=l.enabled(d)),y),"get"),set:v(b=>{m=b},"set")}),typeof l.init=="function"&&l.init(S),S}v(l,"createDebug");function n(d,g){let m=l(this.namespace+(typeof g>"u"?":":g)+d);return m.log=this.log,m}v(n,"extend");function t(d){l.save(d),l.namespaces=d,l.names=[],l.skips=[];let g=(typeof d=="string"?d:"").trim().replace(/\s+/g,",").split(",").filter(Boolean);for(let m of g)m[0]==="-"?l.skips.push(m.slice(1)):l.names.push(m)}v(t,"enable");function r(d,g){let m=0,f=0,y=-1,S=0;for(;m<d.length;)if(f<g.length&&(g[f]===d[m]||g[f]==="*"))g[f]==="*"?(y=f,S=m,f++):(m++,f++);else if(y!==-1)f=y+1,S++,m=S;else return!1;for(;f<g.length&&g[f]==="*";)f++;return f===g.length}v(r,"matchesTemplate");function s(){let d=[...l.names,...l.skips.map(g=>"-"+g)].join(",");return l.enable(""),d}v(s,"disable");function i(d){for(let g of l.skips)if(r(d,g))return!1;for(let g of l.names)if(r(d,g))return!0;return!1}v(i,"enabled");function c(d){return d instanceof Error?d.stack||d.message:d}v(c,"coerce");function a(){}return v(a,"destroy"),l.enable(l.load()),l}v(h,"setup"),u.exports=h}),mg=J((e,u)=>{e.formatArgs=p,e.save=o,e.load=l,e.useColors=h,e.storage=n(),e.destroy=(()=>{let r=!1;return()=>{r||(r=!0)}})(),e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function h(){let r;return!1}v(h,"useColors");function p(r){if(r[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+r[0]+(this.useColors?"%c ":" ")+"+"+u.exports.humanize(this.diff),!this.useColors)return;let s="color: "+this.color;r.splice(1,0,s,"color: inherit");let i=0,c=0;r[0].replace(/%[a-zA-Z%]/g,a=>{a!=="%%"&&(i++,a==="%c"&&(c=i))}),r.splice(c,0,s)}v(p,"formatArgs"),e.log=console.debug||console.log||(()=>{});function o(r){try{r?e.storage.setItem("debug",r):e.storage.removeItem("debug")}catch{}}v(o,"save");function l(){let r;try{r=e.storage.getItem("debug")||e.storage.getItem("DEBUG")}catch{}return!r&&typeof process<"u"&&"env"in process&&(r=void 0),r}v(l,"load");function n(){try{return}catch{}}v(n,"localstorage"),u.exports=cl()(e);var{formatters:t}=u.exports;t.j=function(r){try{return JSON.stringify(r)}catch(s){return"[UnexpectedJSONParseError]: "+s.message}}}),yg=J((e,u)=>{"use strict";u.exports=(h,p=process.argv)=>{let o=h.startsWith("-")?"":h.length===1?"-":"--",l=p.indexOf(o+h),n=p.indexOf("--");return l!==-1&&(n===-1||l<n)}}),vg=J((e,u)=>{"use strict";var h=require("os"),p=require("tty"),o=yg(),{env:l}=process,n;o("no-color")||o("no-colors")||o("color=false")||o("color=never")?n=0:(o("color")||o("colors")||o("color=true")||o("color=always"))&&(n=1),"FORCE_COLOR"in l&&(l.FORCE_COLOR==="true"?n=1:l.FORCE_COLOR==="false"?n=0:n=l.FORCE_COLOR.length===0?1:Math.min(parseInt(l.FORCE_COLOR,10),3));function t(i){return i===0?!1:{level:i,hasBasic:!0,has256:i>=2,has16m:i>=3}}v(t,"translateLevel");function r(i,c){if(n===0)return 0;if(o("color=16m")||o("color=full")||o("color=truecolor"))return 3;if(o("color=256"))return 2;if(i&&!c&&n===void 0)return 0;let a=n||0;if(l.TERM==="dumb")return a;if(process.platform==="win32"){let d=h.release().split(".");return Number(d[0])>=10&&Number(d[2])>=10586?Number(d[2])>=14931?3:2:1}if("CI"in l)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI","GITHUB_ACTIONS","BUILDKITE"].some(d=>d in l)||l.CI_NAME==="codeship"?1:a;if("TEAMCITY_VERSION"in l)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(l.TEAMCITY_VERSION)?1:0;if(l.COLORTERM==="truecolor")return 3;if("TERM_PROGRAM"in l){let d=parseInt((l.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(l.TERM_PROGRAM){case"iTerm.app":return d>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(l.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(l.TERM)||"COLORTERM"in l?1:a}v(r,"supportsColor");function s(i){let c=r(i,i&&i.isTTY);return t(c)}v(s,"getSupportLevel"),u.exports={supportsColor:s,stdout:t(r(!0,p.isatty(1))),stderr:t(r(!0,p.isatty(2)))}}),Sg=J((e,u)=>{var h=require("tty"),p=require("util");e.init=i,e.log=t,e.formatArgs=l,e.save=r,e.load=s,e.useColors=o,e.destroy=p.deprecate(()=>{},"Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."),e.colors=[6,2,3,4,5,1];try{let a=vg();a&&(a.stderr||a).level>=2&&(e.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch{}e.inspectOpts=Object.keys(process.env).filter(a=>/^debug_/i.test(a)).reduce((a,d)=>{let g=d.substring(6).toLowerCase().replace(/_([a-z])/g,(f,y)=>y.toUpperCase()),m=process.env[d];return/^(yes|on|true|enabled)$/i.test(m)?m=!0:/^(no|off|false|disabled)$/i.test(m)?m=!1:m==="null"?m=null:m=Number(m),a[g]=m,a},{});function o(){return"colors"in e.inspectOpts?!!e.inspectOpts.colors:h.isatty(process.stderr.fd)}v(o,"useColors");function l(a){let{namespace:d,useColors:g}=this;if(g){let m=this.color,f="\x1B[3"+(m<8?m:"8;5;"+m),y=`  ${f};1m${d} \x1B[0m`;a[0]=y+a[0].split(`
`).join(`
`+y),a.push(f+"m+"+u.exports.humanize(this.diff)+"\x1B[0m")}else a[0]=n()+d+" "+a[0]}v(l,"formatArgs");function n(){return e.inspectOpts.hideDate?"":new Date().toISOString()+" "}v(n,"getDate");function t(...a){return process.stderr.write(p.formatWithOptions(e.inspectOpts,...a)+`
`)}v(t,"log");function r(a){a?process.env.DEBUG=a:delete void 0}v(r,"save");function s(){}v(s,"load");function i(a){a.inspectOpts={};let d=Object.keys(e.inspectOpts);for(let g=0;g<d.length;g++)a.inspectOpts[d[g]]=e.inspectOpts[d[g]]}v(i,"init"),u.exports=cl()(e);var{formatters:c}=u.exports;c.o=function(a){return this.inspectOpts.colors=this.useColors,p.inspect(a,this.inspectOpts).split(`
`).map(d=>d.trim()).join(" ")},c.O=function(a){return this.inspectOpts.colors=this.useColors,p.inspect(a,this.inspectOpts)}}),At=J((e,u)=>{typeof process>"u"||process.type==="renderer"||process.__nwjs?u.exports=mg():u.exports=Sg()}),bg=J(e=>{"use strict";var u=e&&e.__createBinding||(Object.create?function(s,i,c,a){a===void 0&&(a=c);var d=Object.getOwnPropertyDescriptor(i,c);(!d||("get"in d?!i.__esModule:d.writable||d.configurable))&&(d={enumerable:!0,get:v(function(){return i[c]},"get")}),Object.defineProperty(s,a,d)}:function(s,i,c,a){a===void 0&&(a=c),s[a]=i[c]}),h=e&&e.__setModuleDefault||(Object.create?function(s,i){Object.defineProperty(s,"default",{enumerable:!0,value:i})}:function(s,i){s.default=i}),p=e&&e.__importStar||function(s){if(s&&s.__esModule)return s;var i={};if(s!=null)for(var c in s)c!=="default"&&Object.prototype.hasOwnProperty.call(s,c)&&u(i,s,c);return h(i,s),i};Object.defineProperty(e,"__esModule",{value:!0}),e.req=e.json=e.toBuffer=void 0;var o=p(require("http")),l=p(require("https"));async function n(s){let i=0,c=[];for await(let a of s)i+=a.length,c.push(a);return Buffer.concat(c,i)}v(n,"toBuffer"),e.toBuffer=n;async function t(s){let i=(await n(s)).toString("utf8");try{return JSON.parse(i)}catch(c){let a=c;throw a.message+=` (input: ${i})`,a}}v(t,"json"),e.json=t;function r(s,i={}){let c=((typeof s=="string"?s:s.href).startsWith("https:")?l:o).request(s,i),a=new Promise((d,g)=>{c.once("response",d).once("error",g).end()});return c.then=a.then.bind(a),c}v(r,"req"),e.req=r}),Tr=J(e=>{"use strict";var u=e&&e.__createBinding||(Object.create?function(i,c,a,d){d===void 0&&(d=a);var g=Object.getOwnPropertyDescriptor(c,a);(!g||("get"in g?!c.__esModule:g.writable||g.configurable))&&(g={enumerable:!0,get:v(function(){return c[a]},"get")}),Object.defineProperty(i,d,g)}:function(i,c,a,d){d===void 0&&(d=a),i[d]=c[a]}),h=e&&e.__setModuleDefault||(Object.create?function(i,c){Object.defineProperty(i,"default",{enumerable:!0,value:c})}:function(i,c){i.default=c}),p=e&&e.__importStar||function(i){if(i&&i.__esModule)return i;var c={};if(i!=null)for(var a in i)a!=="default"&&Object.prototype.hasOwnProperty.call(i,a)&&u(c,i,a);return h(c,i),c},o=e&&e.__exportStar||function(i,c){for(var a in i)a!=="default"&&!Object.prototype.hasOwnProperty.call(c,a)&&u(c,i,a)};Object.defineProperty(e,"__esModule",{value:!0}),e.Agent=void 0;var l=p(require("net")),n=p(require("http")),t=require("https");o(bg(),e);var r=Symbol("AgentBaseInternalState"),s=class extends n.Agent{static{v(this,"Agent")}constructor(i){super(i),this[r]={}}isSecureEndpoint(i){if(i){if(typeof i.secureEndpoint=="boolean")return i.secureEndpoint;if(typeof i.protocol=="string")return i.protocol==="https:"}let{stack:c}=new Error;return typeof c!="string"?!1:c.split(`
`).some(a=>a.indexOf("(https.js:")!==-1||a.indexOf("node:https:")!==-1)}incrementSockets(i){if(this.maxSockets===1/0&&this.maxTotalSockets===1/0)return null;this.sockets[i]||(this.sockets[i]=[]);let c=new l.Socket({writable:!1});return this.sockets[i].push(c),this.totalSocketCount++,c}decrementSockets(i,c){if(!this.sockets[i]||c===null)return;let a=this.sockets[i],d=a.indexOf(c);d!==-1&&(a.splice(d,1),this.totalSocketCount--,a.length===0&&delete this.sockets[i])}getName(i){return this.isSecureEndpoint(i)?t.Agent.prototype.getName.call(this,i):super.getName(i)}createSocket(i,c,a){let d={...c,secureEndpoint:this.isSecureEndpoint(c)},g=this.getName(d),m=this.incrementSockets(g);Promise.resolve().then(()=>this.connect(i,d)).then(f=>{if(this.decrementSockets(g,m),f instanceof n.Agent)try{return f.addRequest(i,d)}catch(y){return a(y)}this[r].currentSocket=f,super.createSocket(i,c,a)},f=>{this.decrementSockets(g,m),a(f)})}createConnection(){let i=this[r].currentSocket;if(this[r].currentSocket=void 0,!i)throw new Error("No socket was returned in the `connect()` function");return i}get defaultPort(){return this[r].defaultPort??(this.protocol==="https:"?443:80)}set defaultPort(i){this[r]&&(this[r].defaultPort=i)}get protocol(){return this[r].protocol??(this.isSecureEndpoint()?"https:":"http:")}set protocol(i){this[r]&&(this[r].protocol=i)}};e.Agent=s}),Eg=J(e=>{"use strict";var u=e&&e.__createBinding||(Object.create?function(g,m,f,y){y===void 0&&(y=f);var S=Object.getOwnPropertyDescriptor(m,f);(!S||("get"in S?!m.__esModule:S.writable||S.configurable))&&(S={enumerable:!0,get:v(function(){return m[f]},"get")}),Object.defineProperty(g,y,S)}:function(g,m,f,y){y===void 0&&(y=f),g[y]=m[f]}),h=e&&e.__setModuleDefault||(Object.create?function(g,m){Object.defineProperty(g,"default",{enumerable:!0,value:m})}:function(g,m){g.default=m}),p=e&&e.__importStar||function(g){if(g&&g.__esModule)return g;var m={};if(g!=null)for(var f in g)f!=="default"&&Object.prototype.hasOwnProperty.call(g,f)&&u(m,g,f);return h(m,g),m},o=e&&e.__importDefault||function(g){return g&&g.__esModule?g:{default:g}};Object.defineProperty(e,"__esModule",{value:!0}),e.HttpProxyAgent=void 0;var l=p(require("net")),n=p(require("tls")),t=o(At()),r=require("events"),s=Tr(),i=require("url"),c=(0,t.default)("http-proxy-agent"),a=class extends s.Agent{static{v(this,"HttpProxyAgent")}constructor(g,m){super(m),this.proxy=typeof g=="string"?new i.URL(g):g,this.proxyHeaders=m?.headers??{},c("Creating new HttpProxyAgent instance: %o",this.proxy.href);let f=(this.proxy.hostname||this.proxy.host).replace(/^\[|\]$/g,""),y=this.proxy.port?parseInt(this.proxy.port,10):this.proxy.protocol==="https:"?443:80;this.connectOpts={...m?d(m,"headers"):null,host:f,port:y}}addRequest(g,m){g._header=null,this.setRequestProps(g,m),super.addRequest(g,m)}setRequestProps(g,m){let{proxy:f}=this,y=m.secureEndpoint?"https:":"http:",S=g.getHeader("host")||"localhost",b=`${y}//${S}`,E=new i.URL(g.path,b);m.port!==80&&(E.port=String(m.port)),g.path=String(E);let _=typeof this.proxyHeaders=="function"?this.proxyHeaders():{...this.proxyHeaders};if(f.username||f.password){let w=`${decodeURIComponent(f.username)}:${decodeURIComponent(f.password)}`;_["Proxy-Authorization"]=`Basic ${Buffer.from(w).toString("base64")}`}_["Proxy-Connection"]||(_["Proxy-Connection"]=this.keepAlive?"Keep-Alive":"close");for(let w of Object.keys(_)){let O=_[w];O&&g.setHeader(w,O)}}async connect(g,m){g._header=null,g.path.includes("://")||this.setRequestProps(g,m);let f,y;c("Regenerating stored HTTP header string for request"),g._implicitHeader(),g.outputData&&g.outputData.length>0&&(c("Patching connection write() output buffer with updated header"),f=g.outputData[0].data,y=f.indexOf(`\r
\r
`)+4,g.outputData[0].data=g._header+f.substring(y),c("Output buffer: %o",g.outputData[0].data));let S;return this.proxy.protocol==="https:"?(c("Creating `tls.Socket`: %o",this.connectOpts),S=n.connect(this.connectOpts)):(c("Creating `net.Socket`: %o",this.connectOpts),S=l.connect(this.connectOpts)),await(0,r.once)(S,"connect"),S}};a.protocols=["http","https"],e.HttpProxyAgent=a;function d(g,...m){let f={},y;for(y in g)m.includes(y)||(f[y]=g[y]);return f}v(d,"omit")}),_g=J(e=>{"use strict";var u=e&&e.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(e,"__esModule",{value:!0}),e.parseProxyResponse=void 0;var h=u(At()),p=(0,h.default)("https-proxy-agent:parse-proxy-response");function o(l){return new Promise((n,t)=>{let r=0,s=[];function i(){let m=l.read();m?g(m):l.once("readable",i)}v(i,"read");function c(){l.removeListener("end",a),l.removeListener("error",d),l.removeListener("readable",i)}v(c,"cleanup");function a(){c(),p("onend"),t(new Error("Proxy connection ended before receiving CONNECT response"))}v(a,"onend");function d(m){c(),p("onerror %o",m),t(m)}v(d,"onerror");function g(m){s.push(m),r+=m.length;let f=Buffer.concat(s,r),y=f.indexOf(`\r
\r
`);if(y===-1){p("have not received end of HTTP headers yet..."),i();return}let S=f.slice(0,y).toString("ascii").split(`\r
`),b=S.shift();if(!b)return l.destroy(),t(new Error("No header received from proxy CONNECT response"));let E=b.split(" "),_=+E[1],w=E.slice(2).join(" "),O={};for(let R of S){if(!R)continue;let I=R.indexOf(":");if(I===-1)return l.destroy(),t(new Error(`Invalid header from proxy CONNECT response: "${R}"`));let P=R.slice(0,I).toLowerCase(),L=R.slice(I+1).trimStart(),M=O[P];typeof M=="string"?O[P]=[M,L]:Array.isArray(M)?M.push(L):O[P]=L}p("got proxy server response: %o %o",b,O),c(),n({connect:{statusCode:_,statusText:w,headers:O},buffered:f})}v(g,"ondata"),l.on("error",d),l.on("end",a),i()})}v(o,"parseProxyResponse"),e.parseProxyResponse=o}),wg=J(e=>{"use strict";var u=e&&e.__createBinding||(Object.create?function(y,S,b,E){E===void 0&&(E=b);var _=Object.getOwnPropertyDescriptor(S,b);(!_||("get"in _?!S.__esModule:_.writable||_.configurable))&&(_={enumerable:!0,get:v(function(){return S[b]},"get")}),Object.defineProperty(y,E,_)}:function(y,S,b,E){E===void 0&&(E=b),y[E]=S[b]}),h=e&&e.__setModuleDefault||(Object.create?function(y,S){Object.defineProperty(y,"default",{enumerable:!0,value:S})}:function(y,S){y.default=S}),p=e&&e.__importStar||function(y){if(y&&y.__esModule)return y;var S={};if(y!=null)for(var b in y)b!=="default"&&Object.prototype.hasOwnProperty.call(y,b)&&u(S,y,b);return h(S,y),S},o=e&&e.__importDefault||function(y){return y&&y.__esModule?y:{default:y}};Object.defineProperty(e,"__esModule",{value:!0}),e.HttpsProxyAgent=void 0;var l=p(require("net")),n=p(require("tls")),t=o(require("assert")),r=o(At()),s=Tr(),i=require("url"),c=_g(),a=(0,r.default)("https-proxy-agent"),d=v(y=>y.servername===void 0&&y.host&&!l.isIP(y.host)?{...y,servername:y.host}:y,"setServernameFromNonIpHost"),g=class extends s.Agent{static{v(this,"HttpsProxyAgent")}constructor(y,S){super(S),this.options={path:void 0},this.proxy=typeof y=="string"?new i.URL(y):y,this.proxyHeaders=S?.headers??{},a("Creating new HttpsProxyAgent instance: %o",this.proxy.href);let b=(this.proxy.hostname||this.proxy.host).replace(/^\[|\]$/g,""),E=this.proxy.port?parseInt(this.proxy.port,10):this.proxy.protocol==="https:"?443:80;this.connectOpts={ALPNProtocols:["http/1.1"],...S?f(S,"headers"):null,host:b,port:E}}async connect(y,S){let{proxy:b}=this;if(!S.host)throw new TypeError('No "host" provided');let E;b.protocol==="https:"?(a("Creating `tls.Socket`: %o",this.connectOpts),E=n.connect(d(this.connectOpts))):(a("Creating `net.Socket`: %o",this.connectOpts),E=l.connect(this.connectOpts));let _=typeof this.proxyHeaders=="function"?this.proxyHeaders():{...this.proxyHeaders},w=l.isIPv6(S.host)?`[${S.host}]`:S.host,O=`CONNECT ${w}:${S.port} HTTP/1.1\r
`;if(b.username||b.password){let M=`${decodeURIComponent(b.username)}:${decodeURIComponent(b.password)}`;_["Proxy-Authorization"]=`Basic ${Buffer.from(M).toString("base64")}`}_.Host=`${w}:${S.port}`,_["Proxy-Connection"]||(_["Proxy-Connection"]=this.keepAlive?"Keep-Alive":"close");for(let M of Object.keys(_))O+=`${M}: ${_[M]}\r
`;let R=(0,c.parseProxyResponse)(E);E.write(`${O}\r
`);let{connect:I,buffered:P}=await R;if(y.emit("proxyConnect",I),this.emit("proxyConnect",I,y),I.statusCode===200)return y.once("socket",m),S.secureEndpoint?(a("Upgrading socket connection to TLS"),n.connect({...f(d(S),"host","path","port"),socket:E})):E;E.destroy();let L=new l.Socket({writable:!1});return L.readable=!0,y.once("socket",M=>{a("Replaying proxy buffer for failed request"),(0,t.default)(M.listenerCount("data")>0),M.push(P),M.push(null)}),L}};g.protocols=["http","https"],e.HttpsProxyAgent=g;function m(y){y.resume()}v(m,"resume");function f(y,...S){let b={},E;for(E in y)S.includes(E)||(b[E]=y[E]);return b}v(f,"omit")}),Og=J(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var u=require("buffer"),h={INVALID_ENCODING:"Invalid encoding provided. Please specify a valid encoding the internal Node.js Buffer supports.",INVALID_SMARTBUFFER_SIZE:"Invalid size provided. Size must be a valid integer greater than zero.",INVALID_SMARTBUFFER_BUFFER:"Invalid Buffer provided in SmartBufferOptions.",INVALID_SMARTBUFFER_OBJECT:"Invalid SmartBufferOptions object supplied to SmartBuffer constructor or factory methods.",INVALID_OFFSET:"An invalid offset value was provided.",INVALID_OFFSET_NON_NUMBER:"An invalid offset value was provided. A numeric value is required.",INVALID_LENGTH:"An invalid length value was provided.",INVALID_LENGTH_NON_NUMBER:"An invalid length value was provived. A numeric value is required.",INVALID_TARGET_OFFSET:"Target offset is beyond the bounds of the internal SmartBuffer data.",INVALID_TARGET_LENGTH:"Specified length value moves cursor beyong the bounds of the internal SmartBuffer data.",INVALID_READ_BEYOND_BOUNDS:"Attempted to read beyond the bounds of the managed data.",INVALID_WRITE_BEYOND_BOUNDS:"Attempted to write beyond the bounds of the managed data."};e.ERRORS=h;function p(c){if(!u.Buffer.isEncoding(c))throw new Error(h.INVALID_ENCODING)}v(p,"checkEncoding"),e.checkEncoding=p;function o(c){return typeof c=="number"&&isFinite(c)&&s(c)}v(o,"isFiniteInteger"),e.isFiniteInteger=o;function l(c,a){if(typeof c=="number"){if(!o(c)||c<0)throw new Error(a?h.INVALID_OFFSET:h.INVALID_LENGTH)}else throw new Error(a?h.INVALID_OFFSET_NON_NUMBER:h.INVALID_LENGTH_NON_NUMBER)}v(l,"checkOffsetOrLengthValue");function n(c){l(c,!1)}v(n,"checkLengthValue"),e.checkLengthValue=n;function t(c){l(c,!0)}v(t,"checkOffsetValue"),e.checkOffsetValue=t;function r(c,a){if(c<0||c>a.length)throw new Error(h.INVALID_TARGET_OFFSET)}v(r,"checkTargetOffset"),e.checkTargetOffset=r;function s(c){return typeof c=="number"&&isFinite(c)&&Math.floor(c)===c}v(s,"isInteger");function i(c){if(typeof BigInt>"u")throw new Error("Platform does not support JS BigInt type.");if(typeof u.Buffer.prototype[c]>"u")throw new Error(`Platform does not support Buffer.prototype.${c}.`)}v(i,"bigIntAndBufferInt64Check"),e.bigIntAndBufferInt64Check=i}),Ag=J(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var u=Og(),h=4096,p="utf8",o=class ul{static{v(this,"SmartBuffer")}constructor(n){if(this.length=0,this._encoding=p,this._writeOffset=0,this._readOffset=0,ul.isSmartBufferOptions(n))if(n.encoding&&(u.checkEncoding(n.encoding),this._encoding=n.encoding),n.size)if(u.isFiniteInteger(n.size)&&n.size>0)this._buff=Buffer.allocUnsafe(n.size);else throw new Error(u.ERRORS.INVALID_SMARTBUFFER_SIZE);else if(n.buff)if(Buffer.isBuffer(n.buff))this._buff=n.buff,this.length=n.buff.length;else throw new Error(u.ERRORS.INVALID_SMARTBUFFER_BUFFER);else this._buff=Buffer.allocUnsafe(h);else{if(typeof n<"u")throw new Error(u.ERRORS.INVALID_SMARTBUFFER_OBJECT);this._buff=Buffer.allocUnsafe(h)}}static fromSize(n,t){return new this({size:n,encoding:t})}static fromBuffer(n,t){return new this({buff:n,encoding:t})}static fromOptions(n){return new this(n)}static isSmartBufferOptions(n){let t=n;return t&&(t.encoding!==void 0||t.size!==void 0||t.buff!==void 0)}readInt8(n){return this._readNumberValue(Buffer.prototype.readInt8,1,n)}readInt16BE(n){return this._readNumberValue(Buffer.prototype.readInt16BE,2,n)}readInt16LE(n){return this._readNumberValue(Buffer.prototype.readInt16LE,2,n)}readInt32BE(n){return this._readNumberValue(Buffer.prototype.readInt32BE,4,n)}readInt32LE(n){return this._readNumberValue(Buffer.prototype.readInt32LE,4,n)}readBigInt64BE(n){return u.bigIntAndBufferInt64Check("readBigInt64BE"),this._readNumberValue(Buffer.prototype.readBigInt64BE,8,n)}readBigInt64LE(n){return u.bigIntAndBufferInt64Check("readBigInt64LE"),this._readNumberValue(Buffer.prototype.readBigInt64LE,8,n)}writeInt8(n,t){return this._writeNumberValue(Buffer.prototype.writeInt8,1,n,t),this}insertInt8(n,t){return this._insertNumberValue(Buffer.prototype.writeInt8,1,n,t)}writeInt16BE(n,t){return this._writeNumberValue(Buffer.prototype.writeInt16BE,2,n,t)}insertInt16BE(n,t){return this._insertNumberValue(Buffer.prototype.writeInt16BE,2,n,t)}writeInt16LE(n,t){return this._writeNumberValue(Buffer.prototype.writeInt16LE,2,n,t)}insertInt16LE(n,t){return this._insertNumberValue(Buffer.prototype.writeInt16LE,2,n,t)}writeInt32BE(n,t){return this._writeNumberValue(Buffer.prototype.writeInt32BE,4,n,t)}insertInt32BE(n,t){return this._insertNumberValue(Buffer.prototype.writeInt32BE,4,n,t)}writeInt32LE(n,t){return this._writeNumberValue(Buffer.prototype.writeInt32LE,4,n,t)}insertInt32LE(n,t){return this._insertNumberValue(Buffer.prototype.writeInt32LE,4,n,t)}writeBigInt64BE(n,t){return u.bigIntAndBufferInt64Check("writeBigInt64BE"),this._writeNumberValue(Buffer.prototype.writeBigInt64BE,8,n,t)}insertBigInt64BE(n,t){return u.bigIntAndBufferInt64Check("writeBigInt64BE"),this._insertNumberValue(Buffer.prototype.writeBigInt64BE,8,n,t)}writeBigInt64LE(n,t){return u.bigIntAndBufferInt64Check("writeBigInt64LE"),this._writeNumberValue(Buffer.prototype.writeBigInt64LE,8,n,t)}insertBigInt64LE(n,t){return u.bigIntAndBufferInt64Check("writeBigInt64LE"),this._insertNumberValue(Buffer.prototype.writeBigInt64LE,8,n,t)}readUInt8(n){return this._readNumberValue(Buffer.prototype.readUInt8,1,n)}readUInt16BE(n){return this._readNumberValue(Buffer.prototype.readUInt16BE,2,n)}readUInt16LE(n){return this._readNumberValue(Buffer.prototype.readUInt16LE,2,n)}readUInt32BE(n){return this._readNumberValue(Buffer.prototype.readUInt32BE,4,n)}readUInt32LE(n){return this._readNumberValue(Buffer.prototype.readUInt32LE,4,n)}readBigUInt64BE(n){return u.bigIntAndBufferInt64Check("readBigUInt64BE"),this._readNumberValue(Buffer.prototype.readBigUInt64BE,8,n)}readBigUInt64LE(n){return u.bigIntAndBufferInt64Check("readBigUInt64LE"),this._readNumberValue(Buffer.prototype.readBigUInt64LE,8,n)}writeUInt8(n,t){return this._writeNumberValue(Buffer.prototype.writeUInt8,1,n,t)}insertUInt8(n,t){return this._insertNumberValue(Buffer.prototype.writeUInt8,1,n,t)}writeUInt16BE(n,t){return this._writeNumberValue(Buffer.prototype.writeUInt16BE,2,n,t)}insertUInt16BE(n,t){return this._insertNumberValue(Buffer.prototype.writeUInt16BE,2,n,t)}writeUInt16LE(n,t){return this._writeNumberValue(Buffer.prototype.writeUInt16LE,2,n,t)}insertUInt16LE(n,t){return this._insertNumberValue(Buffer.prototype.writeUInt16LE,2,n,t)}writeUInt32BE(n,t){return this._writeNumberValue(Buffer.prototype.writeUInt32BE,4,n,t)}insertUInt32BE(n,t){return this._insertNumberValue(Buffer.prototype.writeUInt32BE,4,n,t)}writeUInt32LE(n,t){return this._writeNumberValue(Buffer.prototype.writeUInt32LE,4,n,t)}insertUInt32LE(n,t){return this._insertNumberValue(Buffer.prototype.writeUInt32LE,4,n,t)}writeBigUInt64BE(n,t){return u.bigIntAndBufferInt64Check("writeBigUInt64BE"),this._writeNumberValue(Buffer.prototype.writeBigUInt64BE,8,n,t)}insertBigUInt64BE(n,t){return u.bigIntAndBufferInt64Check("writeBigUInt64BE"),this._insertNumberValue(Buffer.prototype.writeBigUInt64BE,8,n,t)}writeBigUInt64LE(n,t){return u.bigIntAndBufferInt64Check("writeBigUInt64LE"),this._writeNumberValue(Buffer.prototype.writeBigUInt64LE,8,n,t)}insertBigUInt64LE(n,t){return u.bigIntAndBufferInt64Check("writeBigUInt64LE"),this._insertNumberValue(Buffer.prototype.writeBigUInt64LE,8,n,t)}readFloatBE(n){return this._readNumberValue(Buffer.prototype.readFloatBE,4,n)}readFloatLE(n){return this._readNumberValue(Buffer.prototype.readFloatLE,4,n)}writeFloatBE(n,t){return this._writeNumberValue(Buffer.prototype.writeFloatBE,4,n,t)}insertFloatBE(n,t){return this._insertNumberValue(Buffer.prototype.writeFloatBE,4,n,t)}writeFloatLE(n,t){return this._writeNumberValue(Buffer.prototype.writeFloatLE,4,n,t)}insertFloatLE(n,t){return this._insertNumberValue(Buffer.prototype.writeFloatLE,4,n,t)}readDoubleBE(n){return this._readNumberValue(Buffer.prototype.readDoubleBE,8,n)}readDoubleLE(n){return this._readNumberValue(Buffer.prototype.readDoubleLE,8,n)}writeDoubleBE(n,t){return this._writeNumberValue(Buffer.prototype.writeDoubleBE,8,n,t)}insertDoubleBE(n,t){return this._insertNumberValue(Buffer.prototype.writeDoubleBE,8,n,t)}writeDoubleLE(n,t){return this._writeNumberValue(Buffer.prototype.writeDoubleLE,8,n,t)}insertDoubleLE(n,t){return this._insertNumberValue(Buffer.prototype.writeDoubleLE,8,n,t)}readString(n,t){let r;typeof n=="number"?(u.checkLengthValue(n),r=Math.min(n,this.length-this._readOffset)):(t=n,r=this.length-this._readOffset),typeof t<"u"&&u.checkEncoding(t);let s=this._buff.slice(this._readOffset,this._readOffset+r).toString(t||this._encoding);return this._readOffset+=r,s}insertString(n,t,r){return u.checkOffsetValue(t),this._handleString(n,!0,t,r)}writeString(n,t,r){return this._handleString(n,!1,t,r)}readStringNT(n){typeof n<"u"&&u.checkEncoding(n);let t=this.length;for(let s=this._readOffset;s<this.length;s++)if(this._buff[s]===0){t=s;break}let r=this._buff.slice(this._readOffset,t);return this._readOffset=t+1,r.toString(n||this._encoding)}insertStringNT(n,t,r){return u.checkOffsetValue(t),this.insertString(n,t,r),this.insertUInt8(0,t+n.length),this}writeStringNT(n,t,r){return this.writeString(n,t,r),this.writeUInt8(0,typeof t=="number"?t+n.length:this.writeOffset),this}readBuffer(n){typeof n<"u"&&u.checkLengthValue(n);let t=typeof n=="number"?n:this.length,r=Math.min(this.length,this._readOffset+t),s=this._buff.slice(this._readOffset,r);return this._readOffset=r,s}insertBuffer(n,t){return u.checkOffsetValue(t),this._handleBuffer(n,!0,t)}writeBuffer(n,t){return this._handleBuffer(n,!1,t)}readBufferNT(){let n=this.length;for(let r=this._readOffset;r<this.length;r++)if(this._buff[r]===0){n=r;break}let t=this._buff.slice(this._readOffset,n);return this._readOffset=n+1,t}insertBufferNT(n,t){return u.checkOffsetValue(t),this.insertBuffer(n,t),this.insertUInt8(0,t+n.length),this}writeBufferNT(n,t){return typeof t<"u"&&u.checkOffsetValue(t),this.writeBuffer(n,t),this.writeUInt8(0,typeof t=="number"?t+n.length:this._writeOffset),this}clear(){return this._writeOffset=0,this._readOffset=0,this.length=0,this}remaining(){return this.length-this._readOffset}get readOffset(){return this._readOffset}set readOffset(n){u.checkOffsetValue(n),u.checkTargetOffset(n,this),this._readOffset=n}get writeOffset(){return this._writeOffset}set writeOffset(n){u.checkOffsetValue(n),u.checkTargetOffset(n,this),this._writeOffset=n}get encoding(){return this._encoding}set encoding(n){u.checkEncoding(n),this._encoding=n}get internalBuffer(){return this._buff}toBuffer(){return this._buff.slice(0,this.length)}toString(n){let t=typeof n=="string"?n:this._encoding;return u.checkEncoding(t),this._buff.toString(t,0,this.length)}destroy(){return this.clear(),this}_handleString(n,t,r,s){let i=this._writeOffset,c=this._encoding;typeof r=="number"?i=r:typeof r=="string"&&(u.checkEncoding(r),c=r),typeof s=="string"&&(u.checkEncoding(s),c=s);let a=Buffer.byteLength(n,c);return t?this.ensureInsertable(a,i):this._ensureWriteable(a,i),this._buff.write(n,i,a,c),t?this._writeOffset+=a:typeof r=="number"?this._writeOffset=Math.max(this._writeOffset,i+a):this._writeOffset+=a,this}_handleBuffer(n,t,r){let s=typeof r=="number"?r:this._writeOffset;return t?this.ensureInsertable(n.length,s):this._ensureWriteable(n.length,s),n.copy(this._buff,s),t?this._writeOffset+=n.length:typeof r=="number"?this._writeOffset=Math.max(this._writeOffset,s+n.length):this._writeOffset+=n.length,this}ensureReadable(n,t){let r=this._readOffset;if(typeof t<"u"&&(u.checkOffsetValue(t),r=t),r<0||r+n>this.length)throw new Error(u.ERRORS.INVALID_READ_BEYOND_BOUNDS)}ensureInsertable(n,t){u.checkOffsetValue(t),this._ensureCapacity(this.length+n),t<this.length&&this._buff.copy(this._buff,t+n,t,this._buff.length),t+n>this.length?this.length=t+n:this.length+=n}_ensureWriteable(n,t){let r=typeof t=="number"?t:this._writeOffset;this._ensureCapacity(r+n),r+n>this.length&&(this.length=r+n)}_ensureCapacity(n){let t=this._buff.length;if(n>t){let r=this._buff,s=t*3/2+1;s<n&&(s=n),this._buff=Buffer.allocUnsafe(s),r.copy(this._buff,0,0,t)}}_readNumberValue(n,t,r){this.ensureReadable(t,r);let s=n.call(this._buff,typeof r=="number"?r:this._readOffset);return typeof r>"u"&&(this._readOffset+=t),s}_insertNumberValue(n,t,r,s){return u.checkOffsetValue(s),this.ensureInsertable(t,s),n.call(this._buff,r,s),this._writeOffset+=t,this}_writeNumberValue(n,t,r,s){if(typeof s=="number"){if(s<0)throw new Error(u.ERRORS.INVALID_WRITE_BEYOND_BOUNDS);u.checkOffsetValue(s)}let i=typeof s=="number"?s:this._writeOffset;return this._ensureWriteable(t,i),n.call(this._buff,r,i),typeof s=="number"?this._writeOffset=Math.max(this._writeOffset,i+t):this._writeOffset+=t,this}};e.SmartBuffer=o}),hl=J(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SOCKS5_NO_ACCEPTABLE_AUTH=e.SOCKS5_CUSTOM_AUTH_END=e.SOCKS5_CUSTOM_AUTH_START=e.SOCKS_INCOMING_PACKET_SIZES=e.SocksClientState=e.Socks5Response=e.Socks5HostType=e.Socks5Auth=e.Socks4Response=e.SocksCommand=e.ERRORS=e.DEFAULT_TIMEOUT=void 0;var u=3e4;e.DEFAULT_TIMEOUT=u;var h={InvalidSocksCommand:"An invalid SOCKS command was provided. Valid options are connect, bind, and associate.",InvalidSocksCommandForOperation:"An invalid SOCKS command was provided. Only a subset of commands are supported for this operation.",InvalidSocksCommandChain:"An invalid SOCKS command was provided. Chaining currently only supports the connect command.",InvalidSocksClientOptionsDestination:"An invalid destination host was provided.",InvalidSocksClientOptionsExistingSocket:"An invalid existing socket was provided. This should be an instance of stream.Duplex.",InvalidSocksClientOptionsProxy:"Invalid SOCKS proxy details were provided.",InvalidSocksClientOptionsTimeout:"An invalid timeout value was provided. Please enter a value above 0 (in ms).",InvalidSocksClientOptionsProxiesLength:"At least two socks proxies must be provided for chaining.",InvalidSocksClientOptionsCustomAuthRange:"Custom auth must be a value between 0x80 and 0xFE.",InvalidSocksClientOptionsCustomAuthOptions:"When a custom_auth_method is provided, custom_auth_request_handler, custom_auth_response_size, and custom_auth_response_handler must also be provided and valid.",NegotiationError:"Negotiation error",SocketClosed:"Socket closed",ProxyConnectionTimedOut:"Proxy connection timed out",InternalError:"SocksClient internal error (this should not happen)",InvalidSocks4HandshakeResponse:"Received invalid Socks4 handshake response",Socks4ProxyRejectedConnection:"Socks4 Proxy rejected connection",InvalidSocks4IncomingConnectionResponse:"Socks4 invalid incoming connection response",Socks4ProxyRejectedIncomingBoundConnection:"Socks4 Proxy rejected incoming bound connection",InvalidSocks5InitialHandshakeResponse:"Received invalid Socks5 initial handshake response",InvalidSocks5IntiailHandshakeSocksVersion:"Received invalid Socks5 initial handshake (invalid socks version)",InvalidSocks5InitialHandshakeNoAcceptedAuthType:"Received invalid Socks5 initial handshake (no accepted authentication type)",InvalidSocks5InitialHandshakeUnknownAuthType:"Received invalid Socks5 initial handshake (unknown authentication type)",Socks5AuthenticationFailed:"Socks5 Authentication failed",InvalidSocks5FinalHandshake:"Received invalid Socks5 final handshake response",InvalidSocks5FinalHandshakeRejected:"Socks5 proxy rejected connection",InvalidSocks5IncomingConnectionResponse:"Received invalid Socks5 incoming connection response",Socks5ProxyRejectedIncomingBoundConnection:"Socks5 Proxy rejected incoming bound connection"};e.ERRORS=h;var p={Socks5InitialHandshakeResponse:2,Socks5UserPassAuthenticationResponse:2,Socks5ResponseHeader:5,Socks5ResponseIPv4:10,Socks5ResponseIPv6:22,Socks5ResponseHostname:v(d=>d+7,"Socks5ResponseHostname"),Socks4Response:8};e.SOCKS_INCOMING_PACKET_SIZES=p;var o;(function(d){d[d.connect=1]="connect",d[d.bind=2]="bind",d[d.associate=3]="associate"})(o||(e.SocksCommand=o={}));var l;(function(d){d[d.Granted=90]="Granted",d[d.Failed=91]="Failed",d[d.Rejected=92]="Rejected",d[d.RejectedIdent=93]="RejectedIdent"})(l||(e.Socks4Response=l={}));var n;(function(d){d[d.NoAuth=0]="NoAuth",d[d.GSSApi=1]="GSSApi",d[d.UserPass=2]="UserPass"})(n||(e.Socks5Auth=n={}));var t=128;e.SOCKS5_CUSTOM_AUTH_START=t;var r=254;e.SOCKS5_CUSTOM_AUTH_END=r;var s=255;e.SOCKS5_NO_ACCEPTABLE_AUTH=s;var i;(function(d){d[d.Granted=0]="Granted",d[d.Failure=1]="Failure",d[d.NotAllowed=2]="NotAllowed",d[d.NetworkUnreachable=3]="NetworkUnreachable",d[d.HostUnreachable=4]="HostUnreachable",d[d.ConnectionRefused=5]="ConnectionRefused",d[d.TTLExpired=6]="TTLExpired",d[d.CommandNotSupported=7]="CommandNotSupported",d[d.AddressNotSupported=8]="AddressNotSupported"})(i||(e.Socks5Response=i={}));var c;(function(d){d[d.IPv4=1]="IPv4",d[d.Hostname=3]="Hostname",d[d.IPv6=4]="IPv6"})(c||(e.Socks5HostType=c={}));var a;(function(d){d[d.Created=0]="Created",d[d.Connecting=1]="Connecting",d[d.Connected=2]="Connected",d[d.SentInitialHandshake=3]="SentInitialHandshake",d[d.ReceivedInitialHandshakeResponse=4]="ReceivedInitialHandshakeResponse",d[d.SentAuthentication=5]="SentAuthentication",d[d.ReceivedAuthenticationResponse=6]="ReceivedAuthenticationResponse",d[d.SentFinalHandshake=7]="SentFinalHandshake",d[d.ReceivedFinalResponse=8]="ReceivedFinalResponse",d[d.BoundWaitingForConnection=9]="BoundWaitingForConnection",d[d.Established=10]="Established",d[d.Disconnected=11]="Disconnected",d[d.Error=99]="Error"})(a||(e.SocksClientState=a={}))}),pl=J(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.shuffleArray=e.SocksClientError=void 0;var u=class extends Error{static{v(this,"SocksClientError")}constructor(p,o){super(p),this.options=o}};e.SocksClientError=u;function h(p){for(let o=p.length-1;o>0;o--){let l=Math.floor(Math.random()*(o+1));[p[o],p[l]]=[p[l],p[o]]}}v(h,"shuffleArray"),e.shuffleArray=h}),Gs=J(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isInSubnet=u,e.isCorrect=h,e.numberToPaddedHex=p,e.stringToPaddedHex=o,e.testBit=l;function u(n){return this.subnetMask<n.subnetMask?!1:this.mask(n.subnetMask)===n.mask()}v(u,"isInSubnet");function h(n){return function(){return this.addressMinusSuffix!==this.correctForm()?!1:this.subnetMask===n&&!this.parsedSubnet?!0:this.parsedSubnet===String(this.subnetMask)}}v(h,"isCorrect");function p(n){return n.toString(16).padStart(2,"0")}v(p,"numberToPaddedHex");function o(n){return p(parseInt(n,10))}v(o,"stringToPaddedHex");function l(n,t){let{length:r}=n;if(t>r)return!1;let s=r-t;return n.substring(s,s+1)==="1"}v(l,"testBit")}),dl=J(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RE_SUBNET_STRING=e.RE_ADDRESS=e.GROUPS=e.BITS=void 0,e.BITS=32,e.GROUPS=4,e.RE_ADDRESS=/^(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/g,e.RE_SUBNET_STRING=/\/\d{1,2}$/}),Pi=J(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AddressError=void 0;var u=class extends Error{static{v(this,"AddressError")}constructor(h,p){super(h),this.name="AddressError",this.parseMessage=p}};e.AddressError=u}),fl=J(e=>{"use strict";var u=e&&e.__createBinding||(Object.create?function(r,s,i,c){c===void 0&&(c=i);var a=Object.getOwnPropertyDescriptor(s,i);(!a||("get"in a?!s.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:v(function(){return s[i]},"get")}),Object.defineProperty(r,c,a)}:function(r,s,i,c){c===void 0&&(c=i),r[c]=s[i]}),h=e&&e.__setModuleDefault||(Object.create?function(r,s){Object.defineProperty(r,"default",{enumerable:!0,value:s})}:function(r,s){r.default=s}),p=e&&e.__importStar||function(r){if(r&&r.__esModule)return r;var s={};if(r!=null)for(var i in r)i!=="default"&&Object.prototype.hasOwnProperty.call(r,i)&&u(s,r,i);return h(s,r),s};Object.defineProperty(e,"__esModule",{value:!0}),e.Address4=void 0;var o=p(Gs()),l=p(dl()),n=Pi(),t=class Ve{static{v(this,"Address4")}constructor(s){this.groups=l.GROUPS,this.parsedAddress=[],this.parsedSubnet="",this.subnet="/32",this.subnetMask=32,this.v4=!0,this.isCorrect=o.isCorrect(l.BITS),this.isInSubnet=o.isInSubnet,this.address=s;let i=l.RE_SUBNET_STRING.exec(s);if(i){if(this.parsedSubnet=i[0].replace("/",""),this.subnetMask=parseInt(this.parsedSubnet,10),this.subnet=`/${this.subnetMask}`,this.subnetMask<0||this.subnetMask>l.BITS)throw new n.AddressError("Invalid subnet mask.");s=s.replace(l.RE_SUBNET_STRING,"")}this.addressMinusSuffix=s,this.parsedAddress=this.parse(s)}static isValid(s){try{return new Ve(s),!0}catch{return!1}}parse(s){let i=s.split(".");if(!s.match(l.RE_ADDRESS))throw new n.AddressError("Invalid IPv4 address.");return i}correctForm(){return this.parsedAddress.map(s=>parseInt(s,10)).join(".")}static fromHex(s){let i=s.replace(/:/g,"").padStart(8,"0"),c=[],a;for(a=0;a<8;a+=2){let d=i.slice(a,a+2);c.push(parseInt(d,16))}return new Ve(c.join("."))}static fromInteger(s){return Ve.fromHex(s.toString(16))}static fromArpa(s){let i=s.replace(/(\.in-addr\.arpa)?\.$/,"").split(".").reverse().join(".");return new Ve(i)}toHex(){return this.parsedAddress.map(s=>o.stringToPaddedHex(s)).join(":")}toArray(){return this.parsedAddress.map(s=>parseInt(s,10))}toGroup6(){let s=[],i;for(i=0;i<l.GROUPS;i+=2)s.push(`${o.stringToPaddedHex(this.parsedAddress[i])}${o.stringToPaddedHex(this.parsedAddress[i+1])}`);return s.join(":")}bigInt(){return BigInt(`0x${this.parsedAddress.map(s=>o.stringToPaddedHex(s)).join("")}`)}_startAddress(){return BigInt(`0b${this.mask()+"0".repeat(l.BITS-this.subnetMask)}`)}startAddress(){return Ve.fromBigInt(this._startAddress())}startAddressExclusive(){let s=BigInt("1");return Ve.fromBigInt(this._startAddress()+s)}_endAddress(){return BigInt(`0b${this.mask()+"1".repeat(l.BITS-this.subnetMask)}`)}endAddress(){return Ve.fromBigInt(this._endAddress())}endAddressExclusive(){let s=BigInt("1");return Ve.fromBigInt(this._endAddress()-s)}static fromBigInt(s){return Ve.fromHex(s.toString(16))}mask(s){return s===void 0&&(s=this.subnetMask),this.getBitsBase2(0,s)}getBitsBase2(s,i){return this.binaryZeroPad().slice(s,i)}reverseForm(s){s||(s={});let i=this.correctForm().split(".").reverse().join(".");return s.omitSuffix?i:`${i}.in-addr.arpa.`}isMulticast(){return this.isInSubnet(new Ve("224.0.0.0/4"))}binaryZeroPad(){return this.bigInt().toString(2).padStart(l.BITS,"0")}groupForV6(){let s=this.parsedAddress;return this.address.replace(l.RE_ADDRESS,`<span class="hover-group group-v4 group-6">${s.slice(0,2).join(".")}</span>.<span class="hover-group group-v4 group-7">${s.slice(2,4).join(".")}</span>`)}};e.Address4=t}),gl=J(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RE_URL_WITH_PORT=e.RE_URL=e.RE_ZONE_STRING=e.RE_SUBNET_STRING=e.RE_BAD_ADDRESS=e.RE_BAD_CHARACTERS=e.TYPES=e.SCOPES=e.GROUPS=e.BITS=void 0,e.BITS=128,e.GROUPS=8,e.SCOPES={0:"Reserved",1:"Interface local",2:"Link local",4:"Admin local",5:"Site local",8:"Organization local",14:"Global",15:"Reserved"},e.TYPES={"ff01::1/128":"Multicast (All nodes on this interface)","ff01::2/128":"Multicast (All routers on this interface)","ff02::1/128":"Multicast (All nodes on this link)","ff02::2/128":"Multicast (All routers on this link)","ff05::2/128":"Multicast (All routers in this site)","ff02::5/128":"Multicast (OSPFv3 AllSPF routers)","ff02::6/128":"Multicast (OSPFv3 AllDR routers)","ff02::9/128":"Multicast (RIP routers)","ff02::a/128":"Multicast (EIGRP routers)","ff02::d/128":"Multicast (PIM routers)","ff02::16/128":"Multicast (MLDv2 reports)","ff01::fb/128":"Multicast (mDNSv6)","ff02::fb/128":"Multicast (mDNSv6)","ff05::fb/128":"Multicast (mDNSv6)","ff02::1:2/128":"Multicast (All DHCP servers and relay agents on this link)","ff05::1:2/128":"Multicast (All DHCP servers and relay agents in this site)","ff02::1:3/128":"Multicast (All DHCP servers on this link)","ff05::1:3/128":"Multicast (All DHCP servers in this site)","::/128":"Unspecified","::1/128":"Loopback","ff00::/8":"Multicast","fe80::/10":"Link-local unicast"},e.RE_BAD_CHARACTERS=/([^0-9a-f:/%])/gi,e.RE_BAD_ADDRESS=/([0-9a-f]{5,}|:{3,}|[^:]:$|^:[^:]|\/$)/gi,e.RE_SUBNET_STRING=/\/\d{1,3}(?=%|$)/,e.RE_ZONE_STRING=/%.*$/,e.RE_URL=/^\[{0,1}([0-9a-f:]+)\]{0,1}/,e.RE_URL_WITH_PORT=/\[([0-9a-f:]+)\]:([0-9]{1,5})/}),ml=J(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.spanAllZeroes=u,e.spanAll=h,e.spanLeadingZeroes=o,e.simpleGroup=l;function u(n){return n.replace(/(0+)/g,'<span class="zero">$1</span>')}v(u,"spanAllZeroes");function h(n,t=0){return n.split("").map((r,s)=>`<span class="digit value-${r} position-${s+t}">${u(r)}</span>`).join("")}v(h,"spanAll");function p(n){return n.replace(/^(0+)/,'<span class="zero">$1</span>')}v(p,"spanLeadingZeroesSimple");function o(n){return n.split(":").map(t=>p(t)).join(":")}v(o,"spanLeadingZeroes");function l(n,t=0){return n.split(":").map((r,s)=>/group-v4/.test(r)?r:`<span class="hover-group group-${s+t}">${p(r)}</span>`)}v(l,"simpleGroup")}),Rg=J(e=>{"use strict";var u=e&&e.__createBinding||(Object.create?function(s,i,c,a){a===void 0&&(a=c);var d=Object.getOwnPropertyDescriptor(i,c);(!d||("get"in d?!i.__esModule:d.writable||d.configurable))&&(d={enumerable:!0,get:v(function(){return i[c]},"get")}),Object.defineProperty(s,a,d)}:function(s,i,c,a){a===void 0&&(a=c),s[a]=i[c]}),h=e&&e.__setModuleDefault||(Object.create?function(s,i){Object.defineProperty(s,"default",{enumerable:!0,value:i})}:function(s,i){s.default=i}),p=e&&e.__importStar||function(s){if(s&&s.__esModule)return s;var i={};if(s!=null)for(var c in s)c!=="default"&&Object.prototype.hasOwnProperty.call(s,c)&&u(i,s,c);return h(i,s),i};Object.defineProperty(e,"__esModule",{value:!0}),e.ADDRESS_BOUNDARY=void 0,e.groupPossibilities=l,e.padGroup=n,e.simpleRegularExpression=t,e.possibleElisions=r;var o=p(gl());function l(s){return`(${s.join("|")})`}v(l,"groupPossibilities");function n(s){return s.length<4?`0{0,${4-s.length}}${s}`:s}v(n,"padGroup"),e.ADDRESS_BOUNDARY="[^A-Fa-f0-9:]";function t(s){let i=[];s.forEach((a,d)=>{parseInt(a,16)===0&&i.push(d)});let c=i.map(a=>s.map((d,g)=>{if(g===a){let m=g===0||g===o.GROUPS-1?":":"";return l([n(d),m])}return n(d)}).join(":"));return c.push(s.map(n).join(":")),l(c)}v(t,"simpleRegularExpression");function r(s,i,c){let a=i?"":":",d=c?"":":",g=[];!i&&!c&&g.push("::"),i&&c&&g.push(""),(c&&!i||!c&&i)&&g.push(":"),g.push(`${a}(:0{1,4}){1,${s-1}}`),g.push(`(0{1,4}:){1,${s-1}}${d}`),g.push(`(0{1,4}:){${s-1}}0{1,4}`);for(let m=1;m<s-1;m++)for(let f=1;f<s-m;f++)g.push(`(0{1,4}:){${f}}:(0{1,4}:){${s-f-m-1}}0{1,4}`);return l(g)}v(r,"possibleElisions")}),Cg=J(e=>{"use strict";var u=e&&e.__createBinding||(Object.create?function(b,E,_,w){w===void 0&&(w=_);var O=Object.getOwnPropertyDescriptor(E,_);(!O||("get"in O?!E.__esModule:O.writable||O.configurable))&&(O={enumerable:!0,get:v(function(){return E[_]},"get")}),Object.defineProperty(b,w,O)}:function(b,E,_,w){w===void 0&&(w=_),b[w]=E[_]}),h=e&&e.__setModuleDefault||(Object.create?function(b,E){Object.defineProperty(b,"default",{enumerable:!0,value:E})}:function(b,E){b.default=E}),p=e&&e.__importStar||function(b){if(b&&b.__esModule)return b;var E={};if(b!=null)for(var _ in b)_!=="default"&&Object.prototype.hasOwnProperty.call(b,_)&&u(E,b,_);return h(E,b),E};Object.defineProperty(e,"__esModule",{value:!0}),e.Address6=void 0;var o=p(Gs()),l=p(dl()),n=p(gl()),t=p(ml()),r=fl(),s=Rg(),i=Pi(),c=Gs();function a(b){if(!b)throw new Error("Assertion failed.")}v(a,"assert");function d(b){let E=/(\d+)(\d{3})/;for(;E.test(b);)b=b.replace(E,"$1,$2");return b}v(d,"addCommas");function g(b){return b=b.replace(/^(0{1,})([1-9]+)$/,'<span class="parse-error">$1</span>$2'),b=b.replace(/^(0{1,})(0)$/,'<span class="parse-error">$1</span>$2'),b}v(g,"spanLeadingZeroes4");function m(b,E){let _=[],w=[],O;for(O=0;O<b.length;O++)O<E[0]?_.push(b[O]):O>E[1]&&w.push(b[O]);return _.concat(["compact"]).concat(w)}v(m,"compact");function f(b){return parseInt(b,16).toString(16).padStart(4,"0")}v(f,"paddedHex");function y(b){return b&255}v(y,"unsignByte");var S=class Te{static{v(this,"Address6")}constructor(E,_){this.addressMinusSuffix="",this.parsedSubnet="",this.subnet="/128",this.subnetMask=128,this.v4=!1,this.zone="",this.isInSubnet=o.isInSubnet,this.isCorrect=o.isCorrect(n.BITS),_===void 0?this.groups=n.GROUPS:this.groups=_,this.address=E;let w=n.RE_SUBNET_STRING.exec(E);if(w){if(this.parsedSubnet=w[0].replace("/",""),this.subnetMask=parseInt(this.parsedSubnet,10),this.subnet=`/${this.subnetMask}`,Number.isNaN(this.subnetMask)||this.subnetMask<0||this.subnetMask>n.BITS)throw new i.AddressError("Invalid subnet mask.");E=E.replace(n.RE_SUBNET_STRING,"")}else if(/\//.test(E))throw new i.AddressError("Invalid subnet mask.");let O=n.RE_ZONE_STRING.exec(E);O&&(this.zone=O[0],E=E.replace(n.RE_ZONE_STRING,"")),this.addressMinusSuffix=E,this.parsedAddress=this.parse(this.addressMinusSuffix)}static isValid(E){try{return new Te(E),!0}catch{return!1}}static fromBigInt(E){let _=E.toString(16).padStart(32,"0"),w=[],O;for(O=0;O<n.GROUPS;O++)w.push(_.slice(O*4,(O+1)*4));return new Te(w.join(":"))}static fromURL(E){let _,w=null,O;if(E.indexOf("[")!==-1&&E.indexOf("]:")!==-1){if(O=n.RE_URL_WITH_PORT.exec(E),O===null)return{error:"failed to parse address with port",address:null,port:null};_=O[1],w=O[2]}else if(E.indexOf("/")!==-1){if(E=E.replace(/^[a-z0-9]+:\/\//,""),O=n.RE_URL.exec(E),O===null)return{error:"failed to parse address from URL",address:null,port:null};_=O[1]}else _=E;return w?(w=parseInt(w,10),(w<0||w>65536)&&(w=null)):w=null,{address:new Te(_),port:w}}static fromAddress4(E){let _=new r.Address4(E),w=n.BITS-(l.BITS-_.subnetMask);return new Te(`::ffff:${_.correctForm()}/${w}`)}static fromArpa(E){let _=E.replace(/(\.ip6\.arpa)?\.$/,""),w=7;if(_.length!==63)throw new i.AddressError("Invalid 'ip6.arpa' form.");let O=_.split(".").reverse();for(let R=w;R>0;R--){let I=R*4;O.splice(I,0,":")}return _=O.join(""),new Te(_)}microsoftTranscription(){return`${this.correctForm().replace(/:/g,"-")}.ipv6-literal.net`}mask(E=this.subnetMask){return this.getBitsBase2(0,E)}possibleSubnets(E=128){let _=n.BITS-this.subnetMask,w=Math.abs(E-n.BITS),O=_-w;return O<0?"0":d((BigInt("2")**BigInt(O)).toString(10))}_startAddress(){return BigInt(`0b${this.mask()+"0".repeat(n.BITS-this.subnetMask)}`)}startAddress(){return Te.fromBigInt(this._startAddress())}startAddressExclusive(){let E=BigInt("1");return Te.fromBigInt(this._startAddress()+E)}_endAddress(){return BigInt(`0b${this.mask()+"1".repeat(n.BITS-this.subnetMask)}`)}endAddress(){return Te.fromBigInt(this._endAddress())}endAddressExclusive(){let E=BigInt("1");return Te.fromBigInt(this._endAddress()-E)}getScope(){let E=n.SCOPES[parseInt(this.getBits(12,16).toString(10),10)];return this.getType()==="Global unicast"&&E!=="Link local"&&(E="Global"),E||"Unknown"}getType(){for(let E of Object.keys(n.TYPES))if(this.isInSubnet(new Te(E)))return n.TYPES[E];return"Global unicast"}getBits(E,_){return BigInt(`0b${this.getBitsBase2(E,_)}`)}getBitsBase2(E,_){return this.binaryZeroPad().slice(E,_)}getBitsBase16(E,_){let w=_-E;if(w%4!==0)throw new Error("Length of bits to retrieve must be divisible by four");return this.getBits(E,_).toString(16).padStart(w/4,"0")}getBitsPastSubnet(){return this.getBitsBase2(this.subnetMask,n.BITS)}reverseForm(E){E||(E={});let _=Math.floor(this.subnetMask/4),w=this.canonicalForm().replace(/:/g,"").split("").slice(0,_).reverse().join(".");return _>0?E.omitSuffix?w:`${w}.ip6.arpa.`:E.omitSuffix?"":"ip6.arpa."}correctForm(){let E,_=[],w=0,O=[];for(E=0;E<this.parsedAddress.length;E++){let P=parseInt(this.parsedAddress[E],16);P===0&&w++,P!==0&&w>0&&(w>1&&O.push([E-w,E-1]),w=0)}w>1&&O.push([this.parsedAddress.length-w,this.parsedAddress.length-1]);let R=O.map(P=>P[1]-P[0]+1);if(O.length>0){let P=R.indexOf(Math.max(...R));_=m(this.parsedAddress,O[P])}else _=this.parsedAddress;for(E=0;E<_.length;E++)_[E]!=="compact"&&(_[E]=parseInt(_[E],16).toString(16));let I=_.join(":");return I=I.replace(/^compact$/,"::"),I=I.replace(/(^compact)|(compact$)/,":"),I=I.replace(/compact/,""),I}binaryZeroPad(){return this.bigInt().toString(2).padStart(n.BITS,"0")}parse4in6(E){let _=E.split(":"),w=_.slice(-1)[0].match(l.RE_ADDRESS);if(w){this.parsedAddress4=w[0],this.address4=new r.Address4(this.parsedAddress4);for(let O=0;O<this.address4.groups;O++)if(/^0[0-9]+/.test(this.address4.parsedAddress[O]))throw new i.AddressError("IPv4 addresses can't have leading zeroes.",E.replace(l.RE_ADDRESS,this.address4.parsedAddress.map(g).join(".")));this.v4=!0,_[_.length-1]=this.address4.toGroup6(),E=_.join(":")}return E}parse(E){E=this.parse4in6(E);let _=E.match(n.RE_BAD_CHARACTERS);if(_)throw new i.AddressError(`Bad character${_.length>1?"s":""} detected in address: ${_.join("")}`,E.replace(n.RE_BAD_CHARACTERS,'<span class="parse-error">$1</span>'));let w=E.match(n.RE_BAD_ADDRESS);if(w)throw new i.AddressError(`Address failed regex: ${w.join("")}`,E.replace(n.RE_BAD_ADDRESS,'<span class="parse-error">$1</span>'));let O=[],R=E.split("::");if(R.length===2){let I=R[0].split(":"),P=R[1].split(":");I.length===1&&I[0]===""&&(I=[]),P.length===1&&P[0]===""&&(P=[]);let L=this.groups-(I.length+P.length);if(!L)throw new i.AddressError("Error parsing groups");this.elidedGroups=L,this.elisionBegin=I.length,this.elisionEnd=I.length+this.elidedGroups,O=O.concat(I);for(let M=0;M<L;M++)O.push("0");O=O.concat(P)}else if(R.length===1)O=E.split(":"),this.elidedGroups=0;else throw new i.AddressError("Too many :: groups found");if(O=O.map(I=>parseInt(I,16).toString(16)),O.length!==this.groups)throw new i.AddressError("Incorrect number of groups found");return O}canonicalForm(){return this.parsedAddress.map(f).join(":")}decimal(){return this.parsedAddress.map(E=>parseInt(E,16).toString(10).padStart(5,"0")).join(":")}bigInt(){return BigInt(`0x${this.parsedAddress.map(f).join("")}`)}to4(){let E=this.binaryZeroPad().split("");return r.Address4.fromHex(BigInt(`0b${E.slice(96,128).join("")}`).toString(16))}to4in6(){let E=this.to4(),_=new Te(this.parsedAddress.slice(0,6).join(":"),6).correctForm(),w="";return/:$/.test(_)||(w=":"),_+w+E.address}inspectTeredo(){let E=this.getBitsBase16(0,32),_=(this.getBits(80,96)^BigInt("0xffff")).toString(),w=r.Address4.fromHex(this.getBitsBase16(32,64)),O=this.getBits(96,128),R=r.Address4.fromHex((O^BigInt("0xffffffff")).toString(16)),I=this.getBitsBase2(64,80),P=(0,c.testBit)(I,15),L=(0,c.testBit)(I,14),M=(0,c.testBit)(I,8),x=(0,c.testBit)(I,9),j=BigInt(`0b${I.slice(2,6)+I.slice(8,16)}`).toString(10);return{prefix:`${E.slice(0,4)}:${E.slice(4,8)}`,server4:w.address,client4:R.address,flags:I,coneNat:P,microsoft:{reserved:L,universalLocal:x,groupIndividual:M,nonce:j},udpPort:_}}inspect6to4(){let E=this.getBitsBase16(0,16),_=r.Address4.fromHex(this.getBitsBase16(16,48));return{prefix:E.slice(0,4),gateway:_.address}}to6to4(){if(!this.is4())return null;let E=["2002",this.getBitsBase16(96,112),this.getBitsBase16(112,128),"","/16"].join(":");return new Te(E)}toByteArray(){let E=this.bigInt().toString(16),_=`${"0".repeat(E.length%2)}${E}`,w=[];for(let O=0,R=_.length;O<R;O+=2)w.push(parseInt(_.substring(O,O+2),16));return w}toUnsignedByteArray(){return this.toByteArray().map(y)}static fromByteArray(E){return this.fromUnsignedByteArray(E.map(y))}static fromUnsignedByteArray(E){let _=BigInt("256"),w=BigInt("0"),O=BigInt("1");for(let R=E.length-1;R>=0;R--)w+=O*BigInt(E[R].toString(10)),O*=_;return Te.fromBigInt(w)}isCanonical(){return this.addressMinusSuffix===this.canonicalForm()}isLinkLocal(){return this.getBitsBase2(0,64)==="1111111010000000000000000000000000000000000000000000000000000000"}isMulticast(){return this.getType()==="Multicast"}is4(){return this.v4}isTeredo(){return this.isInSubnet(new Te("2001::/32"))}is6to4(){return this.isInSubnet(new Te("2002::/16"))}isLoopback(){return this.getType()==="Loopback"}href(E){return E===void 0?E="":E=`:${E}`,`http://[${this.correctForm()}]${E}/`}link(E){E||(E={}),E.className===void 0&&(E.className=""),E.prefix===void 0&&(E.prefix="/#address="),E.v4===void 0&&(E.v4=!1);let _=this.correctForm;E.v4&&(_=this.to4in6);let w=_.call(this);return E.className?`<a href="${E.prefix}${w}" class="${E.className}">${w}</a>`:`<a href="${E.prefix}${w}">${w}</a>`}group(){if(this.elidedGroups===0)return t.simpleGroup(this.address).join(":");a(typeof this.elidedGroups=="number"),a(typeof this.elisionBegin=="number");let E=[],[_,w]=this.address.split("::");_.length?E.push(...t.simpleGroup(_)):E.push("");let O=["hover-group"];for(let R=this.elisionBegin;R<this.elisionBegin+this.elidedGroups;R++)O.push(`group-${R}`);return E.push(`<span class="${O.join(" ")}"></span>`),w.length?E.push(...t.simpleGroup(w,this.elisionEnd)):E.push(""),this.is4()&&(a(this.address4 instanceof r.Address4),E.pop(),E.push(this.address4.groupForV6())),E.join(":")}regularExpressionString(E=!1){let _=[],w=new Te(this.correctForm());if(w.elidedGroups===0)_.push((0,s.simpleRegularExpression)(w.parsedAddress));else if(w.elidedGroups===n.GROUPS)_.push((0,s.possibleElisions)(n.GROUPS));else{let O=w.address.split("::");O[0].length&&_.push((0,s.simpleRegularExpression)(O[0].split(":"))),a(typeof w.elidedGroups=="number"),_.push((0,s.possibleElisions)(w.elidedGroups,O[0].length!==0,O[1].length!==0)),O[1].length&&_.push((0,s.simpleRegularExpression)(O[1].split(":"))),_=[_.join(":")]}return E||(_=["(?=^|",s.ADDRESS_BOUNDARY,"|[^\\w\\:])(",..._,")(?=[^\\w\\:]|",s.ADDRESS_BOUNDARY,"|$)"]),_.join("")}regularExpression(E=!1){return new RegExp(this.regularExpressionString(E),"i")}};e.Address6=S}),yl=J(e=>{"use strict";var u=e&&e.__createBinding||(Object.create?function(r,s,i,c){c===void 0&&(c=i);var a=Object.getOwnPropertyDescriptor(s,i);(!a||("get"in a?!s.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:v(function(){return s[i]},"get")}),Object.defineProperty(r,c,a)}:function(r,s,i,c){c===void 0&&(c=i),r[c]=s[i]}),h=e&&e.__setModuleDefault||(Object.create?function(r,s){Object.defineProperty(r,"default",{enumerable:!0,value:s})}:function(r,s){r.default=s}),p=e&&e.__importStar||function(r){if(r&&r.__esModule)return r;var s={};if(r!=null)for(var i in r)i!=="default"&&Object.prototype.hasOwnProperty.call(r,i)&&u(s,r,i);return h(s,r),s};Object.defineProperty(e,"__esModule",{value:!0}),e.v6=e.AddressError=e.Address6=e.Address4=void 0;var o=fl();Object.defineProperty(e,"Address4",{enumerable:!0,get:v(function(){return o.Address4},"get")});var l=Cg();Object.defineProperty(e,"Address6",{enumerable:!0,get:v(function(){return l.Address6},"get")});var n=Pi();Object.defineProperty(e,"AddressError",{enumerable:!0,get:v(function(){return n.AddressError},"get")});var t=p(ml());e.v6={helpers:t}}),Ig=J(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ipToBuffer=e.int32ToIpv4=e.ipv4ToInt32=e.validateSocksClientChainOptions=e.validateSocksClientOptions=void 0;var u=pl(),h=hl(),p=require("stream"),o=yl(),l=require("net");function n(m,f=["connect","bind","associate"]){if(!h.SocksCommand[m.command])throw new u.SocksClientError(h.ERRORS.InvalidSocksCommand,m);if(f.indexOf(m.command)===-1)throw new u.SocksClientError(h.ERRORS.InvalidSocksCommandForOperation,m);if(!s(m.destination))throw new u.SocksClientError(h.ERRORS.InvalidSocksClientOptionsDestination,m);if(!i(m.proxy))throw new u.SocksClientError(h.ERRORS.InvalidSocksClientOptionsProxy,m);if(r(m.proxy,m),m.timeout&&!c(m.timeout))throw new u.SocksClientError(h.ERRORS.InvalidSocksClientOptionsTimeout,m);if(m.existing_socket&&!(m.existing_socket instanceof p.Duplex))throw new u.SocksClientError(h.ERRORS.InvalidSocksClientOptionsExistingSocket,m)}v(n,"validateSocksClientOptions"),e.validateSocksClientOptions=n;function t(m){if(m.command!=="connect")throw new u.SocksClientError(h.ERRORS.InvalidSocksCommandChain,m);if(!s(m.destination))throw new u.SocksClientError(h.ERRORS.InvalidSocksClientOptionsDestination,m);if(!(m.proxies&&Array.isArray(m.proxies)&&m.proxies.length>=2))throw new u.SocksClientError(h.ERRORS.InvalidSocksClientOptionsProxiesLength,m);if(m.proxies.forEach(f=>{if(!i(f))throw new u.SocksClientError(h.ERRORS.InvalidSocksClientOptionsProxy,m);r(f,m)}),m.timeout&&!c(m.timeout))throw new u.SocksClientError(h.ERRORS.InvalidSocksClientOptionsTimeout,m)}v(t,"validateSocksClientChainOptions"),e.validateSocksClientChainOptions=t;function r(m,f){if(m.custom_auth_method!==void 0){if(m.custom_auth_method<h.SOCKS5_CUSTOM_AUTH_START||m.custom_auth_method>h.SOCKS5_CUSTOM_AUTH_END)throw new u.SocksClientError(h.ERRORS.InvalidSocksClientOptionsCustomAuthRange,f);if(m.custom_auth_request_handler===void 0||typeof m.custom_auth_request_handler!="function")throw new u.SocksClientError(h.ERRORS.InvalidSocksClientOptionsCustomAuthOptions,f);if(m.custom_auth_response_size===void 0)throw new u.SocksClientError(h.ERRORS.InvalidSocksClientOptionsCustomAuthOptions,f);if(m.custom_auth_response_handler===void 0||typeof m.custom_auth_response_handler!="function")throw new u.SocksClientError(h.ERRORS.InvalidSocksClientOptionsCustomAuthOptions,f)}}v(r,"validateCustomProxyAuth");function s(m){return m&&typeof m.host=="string"&&Buffer.byteLength(m.host)<256&&typeof m.port=="number"&&m.port>=0&&m.port<=65535}v(s,"isValidSocksRemoteHost");function i(m){return m&&(typeof m.host=="string"||typeof m.ipaddress=="string")&&typeof m.port=="number"&&m.port>=0&&m.port<=65535&&(m.type===4||m.type===5)}v(i,"isValidSocksProxy");function c(m){return typeof m=="number"&&m>0}v(c,"isValidTimeoutValue");function a(m){return new o.Address4(m).toArray().reduce((f,y)=>(f<<8)+y,0)>>>0}v(a,"ipv4ToInt32"),e.ipv4ToInt32=a;function d(m){let f=m>>>24&255,y=m>>>16&255,S=m>>>8&255,b=m&255;return[f,y,S,b].join(".")}v(d,"int32ToIpv4"),e.int32ToIpv4=d;function g(m){if(l.isIPv4(m)){let f=new o.Address4(m);return Buffer.from(f.toArray())}else if(l.isIPv6(m)){let f=new o.Address6(m);return Buffer.from(f.canonicalForm().split(":").map(y=>y.padStart(4,"0")).join(""),"hex")}else throw new Error("Invalid IP address format")}v(g,"ipToBuffer"),e.ipToBuffer=g}),Tg=J(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ReceiveBuffer=void 0;var u=class{static{v(this,"ReceiveBuffer")}constructor(h=4096){this.buffer=Buffer.allocUnsafe(h),this.offset=0,this.originalSize=h}get length(){return this.offset}append(h){if(!Buffer.isBuffer(h))throw new Error("Attempted to append a non-buffer instance to ReceiveBuffer.");if(this.offset+h.length>=this.buffer.length){let p=this.buffer;this.buffer=Buffer.allocUnsafe(Math.max(this.buffer.length+this.originalSize,this.buffer.length+h.length)),p.copy(this.buffer)}return h.copy(this.buffer,this.offset),this.offset+=h.length}peek(h){if(h>this.offset)throw new Error("Attempted to read beyond the bounds of the managed internal data.");return this.buffer.slice(0,h)}get(h){if(h>this.offset)throw new Error("Attempted to read beyond the bounds of the managed internal data.");let p=Buffer.allocUnsafe(h);return this.buffer.slice(0,h).copy(p),this.buffer.copyWithin(0,h,h+this.offset-h),this.offset-=h,p}};e.ReceiveBuffer=u}),Pg=J(e=>{"use strict";var u=e&&e.__awaiter||function(c,a,d,g){function m(f){return f instanceof d?f:new d(function(y){y(f)})}return v(m,"adopt"),new(d||(d=Promise))(function(f,y){function S(_){try{E(g.next(_))}catch(w){y(w)}}v(S,"fulfilled");function b(_){try{E(g.throw(_))}catch(w){y(w)}}v(b,"rejected");function E(_){_.done?f(_.value):m(_.value).then(S,b)}v(E,"step"),E((g=g.apply(c,a||[])).next())})};Object.defineProperty(e,"__esModule",{value:!0}),e.SocksClientError=e.SocksClient=void 0;var h=require("events"),p=require("net"),o=Ag(),l=hl(),n=Ig(),t=Tg(),r=pl();Object.defineProperty(e,"SocksClientError",{enumerable:!0,get:v(function(){return r.SocksClientError},"get")});var s=yl(),i=class Vs extends h.EventEmitter{static{v(this,"SocksClient")}constructor(a){super(),this.options=Object.assign({},a),(0,n.validateSocksClientOptions)(a),this.setState(l.SocksClientState.Created)}static createConnection(a,d){return new Promise((g,m)=>{try{(0,n.validateSocksClientOptions)(a,["connect"])}catch(y){return typeof d=="function"?(d(y),g(y)):m(y)}let f=new Vs(a);f.connect(a.existing_socket),f.once("established",y=>{f.removeAllListeners(),typeof d=="function"&&d(null,y),g(y)}),f.once("error",y=>{f.removeAllListeners(),typeof d=="function"?(d(y),g(y)):m(y)})})}static createConnectionChain(a,d){return new Promise((g,m)=>u(this,void 0,void 0,function*(){try{(0,n.validateSocksClientChainOptions)(a)}catch(f){return typeof d=="function"?(d(f),g(f)):m(f)}a.randomizeChain&&(0,r.shuffleArray)(a.proxies);try{let f;for(let y=0;y<a.proxies.length;y++){let S=a.proxies[y],b=y===a.proxies.length-1?a.destination:{host:a.proxies[y+1].host||a.proxies[y+1].ipaddress,port:a.proxies[y+1].port},E=yield Vs.createConnection({command:"connect",proxy:S,destination:b,existing_socket:f});f=f||E.socket}typeof d=="function"?(d(null,{socket:f}),g({socket:f})):g({socket:f})}catch(f){typeof d=="function"?(d(f),g(f)):m(f)}}))}static createUDPFrame(a){let d=new o.SmartBuffer;return d.writeUInt16BE(0),d.writeUInt8(a.frameNumber||0),p.isIPv4(a.remoteHost.host)?(d.writeUInt8(l.Socks5HostType.IPv4),d.writeUInt32BE((0,n.ipv4ToInt32)(a.remoteHost.host))):p.isIPv6(a.remoteHost.host)?(d.writeUInt8(l.Socks5HostType.IPv6),d.writeBuffer((0,n.ipToBuffer)(a.remoteHost.host))):(d.writeUInt8(l.Socks5HostType.Hostname),d.writeUInt8(Buffer.byteLength(a.remoteHost.host)),d.writeString(a.remoteHost.host)),d.writeUInt16BE(a.remoteHost.port),d.writeBuffer(a.data),d.toBuffer()}static parseUDPFrame(a){let d=o.SmartBuffer.fromBuffer(a);d.readOffset=2;let g=d.readUInt8(),m=d.readUInt8(),f;m===l.Socks5HostType.IPv4?f=(0,n.int32ToIpv4)(d.readUInt32BE()):m===l.Socks5HostType.IPv6?f=s.Address6.fromByteArray(Array.from(d.readBuffer(16))).canonicalForm():f=d.readString(d.readUInt8());let y=d.readUInt16BE();return{frameNumber:g,remoteHost:{host:f,port:y},data:d.readBuffer()}}setState(a){this.state!==l.SocksClientState.Error&&(this.state=a)}connect(a){this.onDataReceived=g=>this.onDataReceivedHandler(g),this.onClose=()=>this.onCloseHandler(),this.onError=g=>this.onErrorHandler(g),this.onConnect=()=>this.onConnectHandler();let d=setTimeout(()=>this.onEstablishedTimeout(),this.options.timeout||l.DEFAULT_TIMEOUT);d.unref&&typeof d.unref=="function"&&d.unref(),a?this.socket=a:this.socket=new p.Socket,this.socket.once("close",this.onClose),this.socket.once("error",this.onError),this.socket.once("connect",this.onConnect),this.socket.on("data",this.onDataReceived),this.setState(l.SocksClientState.Connecting),this.receiveBuffer=new t.ReceiveBuffer,a?this.socket.emit("connect"):(this.socket.connect(this.getSocketOptions()),this.options.set_tcp_nodelay!==void 0&&this.options.set_tcp_nodelay!==null&&this.socket.setNoDelay(!!this.options.set_tcp_nodelay)),this.prependOnceListener("established",g=>{setImmediate(()=>{if(this.receiveBuffer.length>0){let m=this.receiveBuffer.get(this.receiveBuffer.length);g.socket.emit("data",m)}g.socket.resume()})})}getSocketOptions(){return Object.assign(Object.assign({},this.options.socket_options),{host:this.options.proxy.host||this.options.proxy.ipaddress,port:this.options.proxy.port})}onEstablishedTimeout(){this.state!==l.SocksClientState.Established&&this.state!==l.SocksClientState.BoundWaitingForConnection&&this.closeSocket(l.ERRORS.ProxyConnectionTimedOut)}onConnectHandler(){this.setState(l.SocksClientState.Connected),this.options.proxy.type===4?this.sendSocks4InitialHandshake():this.sendSocks5InitialHandshake(),this.setState(l.SocksClientState.SentInitialHandshake)}onDataReceivedHandler(a){this.receiveBuffer.append(a),this.processData()}processData(){for(;this.state!==l.SocksClientState.Established&&this.state!==l.SocksClientState.Error&&this.receiveBuffer.length>=this.nextRequiredPacketBufferSize;)if(this.state===l.SocksClientState.SentInitialHandshake)this.options.proxy.type===4?this.handleSocks4FinalHandshakeResponse():this.handleInitialSocks5HandshakeResponse();else if(this.state===l.SocksClientState.SentAuthentication)this.handleInitialSocks5AuthenticationHandshakeResponse();else if(this.state===l.SocksClientState.SentFinalHandshake)this.handleSocks5FinalHandshakeResponse();else if(this.state===l.SocksClientState.BoundWaitingForConnection)this.options.proxy.type===4?this.handleSocks4IncomingConnectionResponse():this.handleSocks5IncomingConnectionResponse();else{this.closeSocket(l.ERRORS.InternalError);break}}onCloseHandler(){this.closeSocket(l.ERRORS.SocketClosed)}onErrorHandler(a){this.closeSocket(a.message)}removeInternalSocketHandlers(){this.socket.pause(),this.socket.removeListener("data",this.onDataReceived),this.socket.removeListener("close",this.onClose),this.socket.removeListener("error",this.onError),this.socket.removeListener("connect",this.onConnect)}closeSocket(a){this.state!==l.SocksClientState.Error&&(this.setState(l.SocksClientState.Error),this.socket.destroy(),this.removeInternalSocketHandlers(),this.emit("error",new r.SocksClientError(a,this.options)))}sendSocks4InitialHandshake(){let a=this.options.proxy.userId||"",d=new o.SmartBuffer;d.writeUInt8(4),d.writeUInt8(l.SocksCommand[this.options.command]),d.writeUInt16BE(this.options.destination.port),p.isIPv4(this.options.destination.host)?(d.writeBuffer((0,n.ipToBuffer)(this.options.destination.host)),d.writeStringNT(a)):(d.writeUInt8(0),d.writeUInt8(0),d.writeUInt8(0),d.writeUInt8(1),d.writeStringNT(a),d.writeStringNT(this.options.destination.host)),this.nextRequiredPacketBufferSize=l.SOCKS_INCOMING_PACKET_SIZES.Socks4Response,this.socket.write(d.toBuffer())}handleSocks4FinalHandshakeResponse(){let a=this.receiveBuffer.get(8);if(a[1]!==l.Socks4Response.Granted)this.closeSocket(`${l.ERRORS.Socks4ProxyRejectedConnection} - (${l.Socks4Response[a[1]]})`);else if(l.SocksCommand[this.options.command]===l.SocksCommand.bind){let d=o.SmartBuffer.fromBuffer(a);d.readOffset=2;let g={port:d.readUInt16BE(),host:(0,n.int32ToIpv4)(d.readUInt32BE())};g.host==="0.0.0.0"&&(g.host=this.options.proxy.ipaddress),this.setState(l.SocksClientState.BoundWaitingForConnection),this.emit("bound",{remoteHost:g,socket:this.socket})}else this.setState(l.SocksClientState.Established),this.removeInternalSocketHandlers(),this.emit("established",{socket:this.socket})}handleSocks4IncomingConnectionResponse(){let a=this.receiveBuffer.get(8);if(a[1]!==l.Socks4Response.Granted)this.closeSocket(`${l.ERRORS.Socks4ProxyRejectedIncomingBoundConnection} - (${l.Socks4Response[a[1]]})`);else{let d=o.SmartBuffer.fromBuffer(a);d.readOffset=2;let g={port:d.readUInt16BE(),host:(0,n.int32ToIpv4)(d.readUInt32BE())};this.setState(l.SocksClientState.Established),this.removeInternalSocketHandlers(),this.emit("established",{remoteHost:g,socket:this.socket})}}sendSocks5InitialHandshake(){let a=new o.SmartBuffer,d=[l.Socks5Auth.NoAuth];(this.options.proxy.userId||this.options.proxy.password)&&d.push(l.Socks5Auth.UserPass),this.options.proxy.custom_auth_method!==void 0&&d.push(this.options.proxy.custom_auth_method),a.writeUInt8(5),a.writeUInt8(d.length);for(let g of d)a.writeUInt8(g);this.nextRequiredPacketBufferSize=l.SOCKS_INCOMING_PACKET_SIZES.Socks5InitialHandshakeResponse,this.socket.write(a.toBuffer()),this.setState(l.SocksClientState.SentInitialHandshake)}handleInitialSocks5HandshakeResponse(){let a=this.receiveBuffer.get(2);a[0]!==5?this.closeSocket(l.ERRORS.InvalidSocks5IntiailHandshakeSocksVersion):a[1]===l.SOCKS5_NO_ACCEPTABLE_AUTH?this.closeSocket(l.ERRORS.InvalidSocks5InitialHandshakeNoAcceptedAuthType):a[1]===l.Socks5Auth.NoAuth?(this.socks5ChosenAuthType=l.Socks5Auth.NoAuth,this.sendSocks5CommandRequest()):a[1]===l.Socks5Auth.UserPass?(this.socks5ChosenAuthType=l.Socks5Auth.UserPass,this.sendSocks5UserPassAuthentication()):a[1]===this.options.proxy.custom_auth_method?(this.socks5ChosenAuthType=this.options.proxy.custom_auth_method,this.sendSocks5CustomAuthentication()):this.closeSocket(l.ERRORS.InvalidSocks5InitialHandshakeUnknownAuthType)}sendSocks5UserPassAuthentication(){let a=this.options.proxy.userId||"",d=this.options.proxy.password||"",g=new o.SmartBuffer;g.writeUInt8(1),g.writeUInt8(Buffer.byteLength(a)),g.writeString(a),g.writeUInt8(Buffer.byteLength(d)),g.writeString(d),this.nextRequiredPacketBufferSize=l.SOCKS_INCOMING_PACKET_SIZES.Socks5UserPassAuthenticationResponse,this.socket.write(g.toBuffer()),this.setState(l.SocksClientState.SentAuthentication)}sendSocks5CustomAuthentication(){return u(this,void 0,void 0,function*(){this.nextRequiredPacketBufferSize=this.options.proxy.custom_auth_response_size,this.socket.write(yield this.options.proxy.custom_auth_request_handler()),this.setState(l.SocksClientState.SentAuthentication)})}handleSocks5CustomAuthHandshakeResponse(a){return u(this,void 0,void 0,function*(){return yield this.options.proxy.custom_auth_response_handler(a)})}handleSocks5AuthenticationNoAuthHandshakeResponse(a){return u(this,void 0,void 0,function*(){return a[1]===0})}handleSocks5AuthenticationUserPassHandshakeResponse(a){return u(this,void 0,void 0,function*(){return a[1]===0})}handleInitialSocks5AuthenticationHandshakeResponse(){return u(this,void 0,void 0,function*(){this.setState(l.SocksClientState.ReceivedAuthenticationResponse);let a=!1;this.socks5ChosenAuthType===l.Socks5Auth.NoAuth?a=yield this.handleSocks5AuthenticationNoAuthHandshakeResponse(this.receiveBuffer.get(2)):this.socks5ChosenAuthType===l.Socks5Auth.UserPass?a=yield this.handleSocks5AuthenticationUserPassHandshakeResponse(this.receiveBuffer.get(2)):this.socks5ChosenAuthType===this.options.proxy.custom_auth_method&&(a=yield this.handleSocks5CustomAuthHandshakeResponse(this.receiveBuffer.get(this.options.proxy.custom_auth_response_size))),a?this.sendSocks5CommandRequest():this.closeSocket(l.ERRORS.Socks5AuthenticationFailed)})}sendSocks5CommandRequest(){let a=new o.SmartBuffer;a.writeUInt8(5),a.writeUInt8(l.SocksCommand[this.options.command]),a.writeUInt8(0),p.isIPv4(this.options.destination.host)?(a.writeUInt8(l.Socks5HostType.IPv4),a.writeBuffer((0,n.ipToBuffer)(this.options.destination.host))):p.isIPv6(this.options.destination.host)?(a.writeUInt8(l.Socks5HostType.IPv6),a.writeBuffer((0,n.ipToBuffer)(this.options.destination.host))):(a.writeUInt8(l.Socks5HostType.Hostname),a.writeUInt8(this.options.destination.host.length),a.writeString(this.options.destination.host)),a.writeUInt16BE(this.options.destination.port),this.nextRequiredPacketBufferSize=l.SOCKS_INCOMING_PACKET_SIZES.Socks5ResponseHeader,this.socket.write(a.toBuffer()),this.setState(l.SocksClientState.SentFinalHandshake)}handleSocks5FinalHandshakeResponse(){let a=this.receiveBuffer.peek(5);if(a[0]!==5||a[1]!==l.Socks5Response.Granted)this.closeSocket(`${l.ERRORS.InvalidSocks5FinalHandshakeRejected} - ${l.Socks5Response[a[1]]}`);else{let d=a[3],g,m;if(d===l.Socks5HostType.IPv4){let f=l.SOCKS_INCOMING_PACKET_SIZES.Socks5ResponseIPv4;if(this.receiveBuffer.length<f){this.nextRequiredPacketBufferSize=f;return}m=o.SmartBuffer.fromBuffer(this.receiveBuffer.get(f).slice(4)),g={host:(0,n.int32ToIpv4)(m.readUInt32BE()),port:m.readUInt16BE()},g.host==="0.0.0.0"&&(g.host=this.options.proxy.ipaddress)}else if(d===l.Socks5HostType.Hostname){let f=a[4],y=l.SOCKS_INCOMING_PACKET_SIZES.Socks5ResponseHostname(f);if(this.receiveBuffer.length<y){this.nextRequiredPacketBufferSize=y;return}m=o.SmartBuffer.fromBuffer(this.receiveBuffer.get(y).slice(5)),g={host:m.readString(f),port:m.readUInt16BE()}}else if(d===l.Socks5HostType.IPv6){let f=l.SOCKS_INCOMING_PACKET_SIZES.Socks5ResponseIPv6;if(this.receiveBuffer.length<f){this.nextRequiredPacketBufferSize=f;return}m=o.SmartBuffer.fromBuffer(this.receiveBuffer.get(f).slice(4)),g={host:s.Address6.fromByteArray(Array.from(m.readBuffer(16))).canonicalForm(),port:m.readUInt16BE()}}this.setState(l.SocksClientState.ReceivedFinalResponse),l.SocksCommand[this.options.command]===l.SocksCommand.connect?(this.setState(l.SocksClientState.Established),this.removeInternalSocketHandlers(),this.emit("established",{remoteHost:g,socket:this.socket})):l.SocksCommand[this.options.command]===l.SocksCommand.bind?(this.setState(l.SocksClientState.BoundWaitingForConnection),this.nextRequiredPacketBufferSize=l.SOCKS_INCOMING_PACKET_SIZES.Socks5ResponseHeader,this.emit("bound",{remoteHost:g,socket:this.socket})):l.SocksCommand[this.options.command]===l.SocksCommand.associate&&(this.setState(l.SocksClientState.Established),this.removeInternalSocketHandlers(),this.emit("established",{remoteHost:g,socket:this.socket}))}}handleSocks5IncomingConnectionResponse(){let a=this.receiveBuffer.peek(5);if(a[0]!==5||a[1]!==l.Socks5Response.Granted)this.closeSocket(`${l.ERRORS.Socks5ProxyRejectedIncomingBoundConnection} - ${l.Socks5Response[a[1]]}`);else{let d=a[3],g,m;if(d===l.Socks5HostType.IPv4){let f=l.SOCKS_INCOMING_PACKET_SIZES.Socks5ResponseIPv4;if(this.receiveBuffer.length<f){this.nextRequiredPacketBufferSize=f;return}m=o.SmartBuffer.fromBuffer(this.receiveBuffer.get(f).slice(4)),g={host:(0,n.int32ToIpv4)(m.readUInt32BE()),port:m.readUInt16BE()},g.host==="0.0.0.0"&&(g.host=this.options.proxy.ipaddress)}else if(d===l.Socks5HostType.Hostname){let f=a[4],y=l.SOCKS_INCOMING_PACKET_SIZES.Socks5ResponseHostname(f);if(this.receiveBuffer.length<y){this.nextRequiredPacketBufferSize=y;return}m=o.SmartBuffer.fromBuffer(this.receiveBuffer.get(y).slice(5)),g={host:m.readString(f),port:m.readUInt16BE()}}else if(d===l.Socks5HostType.IPv6){let f=l.SOCKS_INCOMING_PACKET_SIZES.Socks5ResponseIPv6;if(this.receiveBuffer.length<f){this.nextRequiredPacketBufferSize=f;return}m=o.SmartBuffer.fromBuffer(this.receiveBuffer.get(f).slice(4)),g={host:s.Address6.fromByteArray(Array.from(m.readBuffer(16))).canonicalForm(),port:m.readUInt16BE()}}this.setState(l.SocksClientState.Established),this.removeInternalSocketHandlers(),this.emit("established",{remoteHost:g,socket:this.socket})}}get socksClientOptions(){return Object.assign({},this.options)}};e.SocksClient=i}),xg=J(e=>{"use strict";var u=e&&e.__createBinding||(Object.create?function(p,o,l,n){n===void 0&&(n=l);var t=Object.getOwnPropertyDescriptor(o,l);(!t||("get"in t?!o.__esModule:t.writable||t.configurable))&&(t={enumerable:!0,get:v(function(){return o[l]},"get")}),Object.defineProperty(p,n,t)}:function(p,o,l,n){n===void 0&&(n=l),p[n]=o[l]}),h=e&&e.__exportStar||function(p,o){for(var l in p)l!=="default"&&!Object.prototype.hasOwnProperty.call(o,l)&&u(o,p,l)};Object.defineProperty(e,"__esModule",{value:!0}),h(Pg(),e)}),kg=J(e=>{"use strict";var u=e&&e.__createBinding||(Object.create?function(y,S,b,E){E===void 0&&(E=b);var _=Object.getOwnPropertyDescriptor(S,b);(!_||("get"in _?!S.__esModule:_.writable||_.configurable))&&(_={enumerable:!0,get:v(function(){return S[b]},"get")}),Object.defineProperty(y,E,_)}:function(y,S,b,E){E===void 0&&(E=b),y[E]=S[b]}),h=e&&e.__setModuleDefault||(Object.create?function(y,S){Object.defineProperty(y,"default",{enumerable:!0,value:S})}:function(y,S){y.default=S}),p=e&&e.__importStar||function(y){if(y&&y.__esModule)return y;var S={};if(y!=null)for(var b in y)b!=="default"&&Object.prototype.hasOwnProperty.call(y,b)&&u(S,y,b);return h(S,y),S},o=e&&e.__importDefault||function(y){return y&&y.__esModule?y:{default:y}};Object.defineProperty(e,"__esModule",{value:!0}),e.SocksProxyAgent=void 0;var l=xg(),n=Tr(),t=o(At()),r=p(require("dns")),s=p(require("net")),i=p(require("tls")),c=require("url"),a=(0,t.default)("socks-proxy-agent"),d=v(y=>y.servername===void 0&&y.host&&!s.isIP(y.host)?{...y,servername:y.host}:y,"setServernameFromNonIpHost");function g(y){let S=!1,b=5,E=y.hostname,_=parseInt(y.port,10)||1080;switch(y.protocol.replace(":","")){case"socks4":S=!0,b=4;break;case"socks4a":b=4;break;case"socks5":S=!0,b=5;break;case"socks":b=5;break;case"socks5h":b=5;break;default:throw new TypeError(`A "socks" protocol must be specified! Got: ${String(y.protocol)}`)}let w={host:E,port:_,type:b};return y.username&&Object.defineProperty(w,"userId",{value:decodeURIComponent(y.username),enumerable:!1}),y.password!=null&&Object.defineProperty(w,"password",{value:decodeURIComponent(y.password),enumerable:!1}),{lookup:S,proxy:w}}v(g,"parseSocksURL");var m=class extends n.Agent{static{v(this,"SocksProxyAgent")}constructor(y,S){super(S);let b=typeof y=="string"?new c.URL(y):y,{proxy:E,lookup:_}=g(b);this.shouldLookup=_,this.proxy=E,this.timeout=S?.timeout??null,this.socketOptions=S?.socketOptions??null}async connect(y,S){let{shouldLookup:b,proxy:E,timeout:_}=this;if(!S.host)throw new Error("No `host` defined!");let{host:w}=S,{port:O,lookup:R=r.lookup}=S;b&&(w=await new Promise((M,x)=>{R(w,{},(j,U)=>{j?x(j):M(U)})}));let I={proxy:E,destination:{host:w,port:typeof O=="number"?O:parseInt(O,10)},command:"connect",timeout:_??void 0,socket_options:this.socketOptions??void 0},P=v(M=>{y.destroy(),L.destroy(),M&&M.destroy()},"cleanup");a("Creating socks proxy connection: %o",I);let{socket:L}=await l.SocksClient.createConnection(I);if(a("Successfully created socks proxy connection"),_!==null&&(L.setTimeout(_),L.on("timeout",()=>P())),S.secureEndpoint){a("Upgrading socket connection to TLS");let M=i.connect({...f(d(S),"host","path","port"),socket:L});return M.once("error",x=>{a("Socket TLS error",x.message),P(M)}),M}return L}};m.protocols=["socks","socks4","socks4a","socks5","socks5h"],e.SocksProxyAgent=m;function f(y,...S){let b={},E;for(E in y)S.includes(E)||(b[E]=y[E]);return b}v(f,"omit")}),vl=J((e,u)=>{"use strict";var h=class extends Error{static{v(this,"InvalidProxyProtocolError")}constructor(t){super(`Invalid protocol \`${t.protocol}\` connecting to proxy \`${t.host}\``),this.code="EINVALIDPROXY",this.proxy=t}},p=class extends Error{static{v(this,"ConnectionTimeoutError")}constructor(t){super(`Timeout connecting to host \`${t}\``),this.code="ECONNECTIONTIMEOUT",this.host=t}},o=class extends Error{static{v(this,"IdleTimeoutError")}constructor(t){super(`Idle timeout reached for host \`${t}\``),this.code="EIDLETIMEOUT",this.host=t}},l=class extends Error{static{v(this,"ResponseTimeoutError")}constructor(t,r){let s="Response timeout ";r&&(s+=`from proxy \`${r.host}\` `),s+=`connecting to host \`${t.host}\``,super(s),this.code="ERESPONSETIMEOUT",this.proxy=r,this.request=t}},n=class extends Error{static{v(this,"TransferTimeoutError")}constructor(t,r){let s="Transfer timeout ";r&&(s+=`from proxy \`${r.host}\` `),s+=`for \`${t.host}\``,super(s),this.code="ETRANSFERTIMEOUT",this.proxy=r,this.request=t}};u.exports={InvalidProxyProtocolError:h,ConnectionTimeoutError:p,IdleTimeoutError:o,ResponseTimeoutError:l,TransferTimeoutError:n}}),Sl=J((e,u)=>{"use strict";var{HttpProxyAgent:h}=Eg(),{HttpsProxyAgent:p}=wg(),{SocksProxyAgent:o}=kg(),{LRUCache:l}=_t(),{InvalidProxyProtocolError:n}=vl(),t=new l({max:20}),r=new Set(o.protocols),s=new Set(["https_proxy","http_proxy","proxy","no_proxy"]),i=Object.entries(process.env).reduce((g,[m,f])=>(m=m.toLowerCase(),s.has(m)&&(g[m]=f),g),{}),c=v(g=>{g=new URL(g);let m=g.protocol.slice(0,-1);if(r.has(m))return o;if(m==="https"||m==="http")return[h,p];throw new n(g)},"getProxyAgent"),a=v((g,m)=>{if(typeof m=="string"&&(m=m.split(",").map(y=>y.trim()).filter(Boolean)),!m||!m.length)return!1;let f=g.hostname.split(".").reverse();return m.some(y=>{let S=y.split(".").filter(Boolean).reverse();if(!S.length)return!1;for(let b=0;b<S.length;b++)if(f[b]!==S[b])return!1;return!0})},"isNoProxy"),d=v((g,{proxy:m,noProxy:f})=>(g=new URL(g),m||(m=g.protocol==="https:"?i.https_proxy:i.https_proxy||i.http_proxy||i.proxy),f||(f=i.no_proxy),!m||a(g,f)?null:new URL(m)),"getProxy");u.exports={getProxyAgent:c,getProxy:d,proxyCache:t}}),Ng=J((e,u)=>{"use strict";var h=require("net"),p=require("tls"),{once:o}=require("events"),l=require("timers/promises"),{normalizeOptions:n,cacheOptions:t}=ll(),{getProxy:r,getProxyAgent:s,proxyCache:i}=Sl(),c=vl(),{Agent:a}=Tr();u.exports=class extends a{static{v(this,"Agent")}#e;#t;#r;#s;#i;constructor(d={}){let{timeouts:g,proxy:m,noProxy:f,...y}=n(d);super(y),this.#e=y,this.#t=g,m&&(this.#r=new URL(m),this.#s=f,this.#i=s(m))}get proxy(){return this.#r?{url:this.#r}:{}}#c(d){if(!this.#r)return;let g=r(`${d.protocol}//${d.host}:${d.port}`,{proxy:this.#r,noProxy:this.#s});if(!g)return;let m=t({...d,...this.#e,timeouts:this.#t,proxy:g});if(i.has(m))return i.get(m);let f=this.#i;Array.isArray(f)&&(f=this.isSecureEndpoint(d)?f[1]:f[0]);let y=new f(g,{...this.#e,socketOptions:{family:this.#e.family}});return i.set(m,y),y}async#l({promises:d,options:g,timeout:m},f=new AbortController){if(m){let S=l.setTimeout(m,null,{signal:f.signal}).then(()=>{throw new c.ConnectionTimeoutError(`${g.host}:${g.port}`)}).catch(b=>{if(b.name!=="AbortError")throw b});d.push(S)}let y;try{y=await Promise.race(d),f.abort()}catch(S){throw f.abort(),S}return y}async connect(d,g){g.lookup??=this.#e.lookup;let m,f=this.#t.connection,y=this.isSecureEndpoint(g),S=this.#c(g);if(S){let w=Date.now();m=await this.#l({options:g,timeout:f,promises:[S.connect(d,g)]}),f&&(f=f-(Date.now()-w))}else m=(y?p:h).connect(g);m.setKeepAlive(this.keepAlive,this.keepAliveMsecs),m.setNoDelay(this.keepAlive);let b=new AbortController,{signal:E}=b,_=m[y?"secureConnecting":"connecting"]?o(m,y?"secureConnect":"connect",{signal:E}):Promise.resolve();return await this.#l({options:g,timeout:f,promises:[_,o(m,"error",{signal:E}).then(w=>{throw w[0]})]},b),this.#t.idle&&m.setTimeout(this.#t.idle,()=>{m.destroy(new c.IdleTimeoutError(`${g.host}:${g.port}`))}),m}addRequest(d,g){let m=this.#c(g);if(m?.setRequestProps&&m.setRequestProps(d,g),d.setHeader("connection",this.keepAlive?"keep-alive":"close"),this.#t.response){let f;d.once("finish",()=>{setTimeout(()=>{d.destroy(new c.ResponseTimeoutError(d,this.#r))},this.#t.response)}),d.once("response",()=>{clearTimeout(f)})}if(this.#t.transfer){let f;d.once("response",y=>{setTimeout(()=>{y.destroy(new c.TransferTimeoutError(d,this.#r))},this.#t.transfer),y.once("close",()=>{clearTimeout(f)})})}return super.addRequest(d,g)}}}),Lg=J((e,u)=>{"use strict";var{LRUCache:h}=_t(),{normalizeOptions:p,cacheOptions:o}=ll(),{getProxy:l,proxyCache:n}=Sl(),t=al(),r=Ng(),s=new h({max:20}),i=v((c,{agent:a,proxy:d,noProxy:g,...m}={})=>{if(a!=null)return a;c=new URL(c);let f=l(c,{proxy:d,noProxy:g}),y={...p(m),proxy:f},S=o({...y,secureEndpoint:c.protocol==="https:"});if(s.has(S))return s.get(S);let b=new r(y);return s.set(S,b),b},"getAgent");u.exports={getAgent:i,Agent:r,HttpAgent:r,HttpsAgent:r,cache:{proxy:n,agent:s,dns:t.cache,clear:v(()=>{n.clear(),s.clear(),t.cache.clear()},"clear")}}}),Dg=J((e,u)=>{u.exports={name:"make-fetch-happen",version:"15.0.2",description:"Opinionated, caching, retrying fetch client",main:"lib/index.js",files:["bin/","lib/"],scripts:{test:"tap",posttest:"npm run lint",eslint:'eslint "**/*.{js,cjs,ts,mjs,jsx,tsx}"',lint:"npm run eslint",lintfix:"npm run eslint -- --fix",postlint:"template-oss-check",snap:"tap","template-oss-apply":"template-oss-apply --force"},repository:{type:"git",url:"git+https://github.com/npm/make-fetch-happen.git"},keywords:["http","request","fetch","mean girls","caching","cache","subresource integrity"],author:"GitHub Inc.",license:"ISC",dependencies:{"@npmcli/agent":"^4.0.0",cacache:"^20.0.1","http-cache-semantics":"^4.1.1",minipass:"^7.0.2","minipass-fetch":"^4.0.0","minipass-flush":"^1.0.5","minipass-pipeline":"^1.2.4",negotiator:"^1.0.0","proc-log":"^5.0.0","promise-retry":"^2.0.1",ssri:"^12.0.0"},devDependencies:{"@npmcli/eslint-config":"^5.0.0","@npmcli/template-oss":"4.25.0",nock:"^13.2.4","safe-buffer":"^5.2.1","standard-version":"^9.3.2",tap:"^16.0.0"},engines:{node:"^20.17.0 || >=22.9.0"},tap:{color:1,files:"test/*.js","check-coverage":!0,timeout:60,"nyc-arg":["--exclude","tap-snapshots/**"]},templateOSS:{"//@npmcli/template-oss":"This file is partially managed by @npmcli/template-oss. Edits may be overwritten.",version:"4.25.0",publish:"true"}}}),xi=J((e,u)=>{var{Minipass:h}=Ae(),p=tr(),o=_r(),l=et(),{log:n}=We(),t=ol(),{getAgent:r}=Lg(),s=Dg(),i=`${s.name}/${s.version} (+https://npm.im/${s.name})`,c=["ECONNRESET","ECONNREFUSED","EADDRINUSE","ETIMEDOUT","ECONNECTIONTIMEOUT","EIDLETIMEOUT","ERESPONSETIMEOUT","ETRANSFERTIMEOUT"],a=["request-timeout"],d=v((g,m)=>{let f=r(g.url,{...m,signal:void 0});g.headers.has("connection")||g.headers.set("connection",f?"keep-alive":"close"),g.headers.has("user-agent")||g.headers.set("user-agent",i);let y={...m,agent:f,redirect:"manual"};return o(async(S,b)=>{let E=new p.Request(g,y);try{let _=await p(E,y);if(y.integrity&&_.status===200){let O=l.integrityStream({algorithms:y.algorithms,integrity:y.integrity,size:y.size}),R=new t({events:["integrity","size"]},_.body,O);O.on("integrity",I=>R.emit("integrity",I)),O.on("size",I=>R.emit("size",I)),_=new p.Response(R,_),_.body.hasIntegrityEmitter=!0}_.headers.set("x-fetch-attempts",b);let w=h.isStream(E.body);return E.method!=="POST"&&!w&&([408,420,429].includes(_.status)||_.status>=500)?(typeof m.onRetry=="function"&&m.onRetry(_),n.http("fetch",`${E.method} ${E.url} attempt ${b} failed with ${_.status}`),S(_)):_}catch(_){let w=_.code==="EPROMISERETRY"?_.retried.code:_.code,O=_.retried instanceof p.Response||c.includes(w)&&a.includes(_.type);if(E.method==="POST"||O)throw _;return typeof m.onRetry=="function"&&m.onRetry(_),n.http("fetch",`${E.method} ${E.url} attempt ${b} failed with ${_.code}`),S(_)}},m.retry).catch(S=>{if(S.status>=400&&S.type!=="system")return S;throw S})},"remoteFetch");u.exports=d}),Mg=J((e,u)=>{var{Request:h,Response:p}=tr(),{Minipass:o}=Ae(),l=Si(),n=Cr(),t=require("url"),r=ol(),s=nl(),i=fg(),c=xi(),a=v((E,_)=>Object.prototype.hasOwnProperty.call(E,_),"hasOwnProperty"),d=["accept-charset","accept-encoding","accept-language","accept","cache-control"],g=["cache-control","content-encoding","content-language","content-type","date","etag","expires","last-modified","link","location","pragma","vary"],m=v((E,_,w)=>{let O={time:Date.now(),url:E.url,reqHeaders:{},resHeaders:{},options:{compress:w.compress!=null?w.compress:E.compress}};_.status!==200&&_.status!==304&&(O.status=_.status);for(let P of d)E.headers.has(P)&&(O.reqHeaders[P]=E.headers.get(P));let R=E.headers.get("host"),I=new t.URL(E.url);if(R&&I.host!==R&&(O.reqHeaders.host=R),_.headers.has("vary")){let P=_.headers.get("vary");if(P!=="*"){let L=P.trim().toLowerCase().split(/\s*,\s*/);for(let M of L)E.headers.has(M)&&(O.reqHeaders[M]=E.headers.get(M))}}for(let P of g)_.headers.has(P)&&(O.resHeaders[P]=_.headers.get(P));for(let P of w.cacheAdditionalHeaders)_.headers.has(P)&&(O.resHeaders[P]=_.headers.get(P));return O},"getMetadata"),f=Symbol("request"),y=Symbol("response"),S=Symbol("policy"),b=class St{static{v(this,"CacheEntry")}constructor({entry:_,request:w,response:O,options:R}){_?(this.key=_.key,this.entry=_,this.entry.metadata.time=this.entry.metadata.time||this.entry.time):this.key=i(w),this.options=R,this[f]=w,this[y]=O,this[S]=null}static async find(_,w){try{var O=await n.index.compact(w.cachePath,i(_),(I,P)=>{let L=new St({entry:I,options:w}),M=new St({entry:P,options:w});return L.policy.satisfies(M.request)},{validateEntry:v(I=>I.metadata&&I.metadata.resHeaders&&I.metadata.resHeaders["content-encoding"]===null?!1:I.integrity===null?!!(I.metadata&&I.metadata.status):!0,"validateEntry")})}catch{return}if(w.cache==="reload")return;let R;for(let I of O){let P=new St({entry:I,options:w});if(P.policy.satisfies(_)){R=P;break}}return R}static async invalidate(_,w){let O=i(_);try{await n.rm.entry(w.cachePath,O,{removeFully:!0})}catch{}}get request(){return this[f]||(this[f]=new h(this.entry.metadata.url,{method:"GET",headers:this.entry.metadata.reqHeaders,...this.entry.metadata.options})),this[f]}get response(){return this[y]||(this[y]=new p(null,{url:this.entry.metadata.url,counter:this.options.counter,status:this.entry.metadata.status||200,headers:{...this.entry.metadata.resHeaders,"content-length":this.entry.size}})),this[y]}get policy(){return this[S]||(this[S]=new s({entry:this.entry,request:this.request,response:this.response,options:this.options})),this[S]}async store(_){if(this.request.method!=="GET"||![200,301,308].includes(this.response.status)||!this.policy.storable())return this.response.headers.set("x-local-cache-status","skip"),this.response;let w=this.response.headers.get("content-length"),O={algorithms:this.options.algorithms,metadata:m(this.request,this.response,this.options),size:w,integrity:this.options.integrity,integrityEmitter:this.response.body.hasIntegrityEmitter&&this.response.body},R=null;if(this.response.status===200){let I,P,L=new Promise((x,j)=>{I=x,P=j}).catch(x=>{R.emit("error",x)});R=new r({events:["integrity","size"]},new l({flush(){return L}})),R.hasIntegrityEmitter=!0;let M=v(()=>{let x=new o,j=n.put.stream(this.options.cachePath,this.key,O);j.on("integrity",U=>R.emit("integrity",U)),j.on("size",U=>R.emit("size",U)),x.pipe(j),j.promise().then(I,P),R.unshift(x),R.unshift(this.response.body)},"onResume");R.once("resume",M),R.once("end",()=>R.removeListener("resume",M))}else await n.index.insert(this.options.cachePath,this.key,null,O);return this.response.headers.set("x-local-cache",encodeURIComponent(this.options.cachePath)),this.response.headers.set("x-local-cache-key",encodeURIComponent(this.key)),this.response.headers.set("x-local-cache-mode","stream"),this.response.headers.set("x-local-cache-status",_),this.response.headers.set("x-local-cache-time",new Date().toISOString()),new p(R,{url:this.response.url,status:this.response.status,headers:this.response.headers,counter:this.options.counter})}async respond(_,w,O){let R;if(_==="HEAD"||[301,308].includes(this.response.status))R=this.response;else{let I=new o,P={...this.policy.responseHeaders()},L=v(()=>{let M=n.get.stream.byDigest(this.options.cachePath,this.entry.integrity,{memoize:this.options.memoize});M.on("error",async x=>{M.pause(),x.code==="EINTEGRITY"&&await n.rm.content(this.options.cachePath,this.entry.integrity,{memoize:this.options.memoize}),(x.code==="ENOENT"||x.code==="EINTEGRITY")&&await St.invalidate(this.request,this.options),I.emit("error",x),M.resume()}),I.emit("integrity",this.entry.integrity),I.emit("size",Number(P["content-length"])),M.pipe(I)},"onResume");I.once("resume",L),I.once("end",()=>I.removeListener("resume",L)),R=new p(I,{url:this.entry.metadata.url,counter:w.counter,status:200,headers:P})}return R.headers.set("x-local-cache",encodeURIComponent(this.options.cachePath)),R.headers.set("x-local-cache-hash",encodeURIComponent(this.entry.integrity)),R.headers.set("x-local-cache-key",encodeURIComponent(this.key)),R.headers.set("x-local-cache-mode","stream"),R.headers.set("x-local-cache-status",O),R.headers.set("x-local-cache-time",new Date(this.entry.metadata.time).toUTCString()),R}async revalidate(_,w){let O=new h(_,{headers:this.policy.revalidationHeaders(_)});try{var R=await c(O,{...w,headers:void 0})}catch(I){if(!this.policy.mustRevalidate)return this.respond(_.method,w,"stale");throw I}if(this.policy.revalidated(O,R)){let I=m(_,R,w);for(let P of g)!a(I.resHeaders,P)&&a(this.entry.metadata.resHeaders,P)&&(I.resHeaders[P]=this.entry.metadata.resHeaders[P]);for(let P of w.cacheAdditionalHeaders){let L=a(I.resHeaders,P),M=a(this.entry.metadata.resHeaders,P),x=a(this.policy.response.headers,P);!L&&M&&(I.resHeaders[P]=this.entry.metadata.resHeaders[P]),!x&&L&&(this.policy.response.headers[P]=I.resHeaders[P])}try{await n.index.insert(w.cachePath,this.key,this.entry.integrity,{size:this.entry.size,metadata:I})}catch{}return this.respond(_.method,w,"revalidated")}return new St({request:_,response:R,options:w}).store("updated")}};u.exports=b}),jg=J((e,u)=>{var{NotCachedError:h}=dg(),p=Mg(),o=xi(),l=v(async(n,t)=>{let r=await p.find(n,t);if(!r){if(t.cache==="only-if-cached")throw new h(n.url);let i=await o(n,t);return new p({request:n,response:i,options:t}).store("miss")}if(t.cache==="no-cache")return r.revalidate(n,t);let s=r.policy.needsRevalidation(n);return t.cache==="force-cache"||t.cache==="only-if-cached"||!s?r.respond(n.method,t,s?"stale":"hit"):r.revalidate(n,t)},"cacheFetch");l.invalidate=async(n,t)=>{if(t.cachePath)return p.invalidate(n,t)},u.exports=l}),$g=J((e,u)=>{"use strict";var{FetchError:h,Request:p,isRedirect:o}=tr(),l=require("url"),n=nl(),t=jg(),r=xi(),s=v((a,d,g)=>{if(!o(d.status)||g.redirect==="manual")return!1;if(g.redirect==="error")throw new h(`redirect mode is set to error: ${a.url}`,"no-redirect",{code:"ENOREDIRECT"});if(!d.headers.has("location"))throw new h(`redirect location header missing for: ${a.url}`,"no-location",{code:"EINVALIDREDIRECT"});if(a.counter>=a.follow)throw new h(`maximum redirect reached at: ${a.url}`,"max-redirect",{code:"EMAXREDIRECT"});return!0},"canFollowRedirect"),i=v((a,d,g)=>{let m={...g},f=d.headers.get("location"),y=new l.URL(f,/^https?:/.test(f)?void 0:a.url);return new l.URL(a.url).hostname!==y.hostname&&(a.headers.delete("authorization"),a.headers.delete("cookie")),(d.status===303||a.method==="POST"&&[301,302].includes(d.status))&&(m.method="GET",m.body=null,a.headers.delete("content-length")),m.headers={},a.headers.forEach((S,b)=>{m.headers[b]=S}),m.counter=++a.counter,{request:new p(l.format(y),m),options:m}},"getRedirect"),c=v(async(a,d)=>{let g=n.storable(a,d)?await t(a,d):await r(a,d);if(!["GET","HEAD"].includes(a.method)&&g.status>=200&&g.status<=399&&await t.invalidate(a,d),!s(a,g,d))return g;let m=i(a,g,d);return c(m.request,m.options)},"fetch");u.exports=c}),Pr=J((e,u)=>{var{FetchError:h,Headers:p,Request:o,Response:l}=tr(),n=og(),t=$g(),r=v((s,i)=>{let c=n(i),a=new o(s,c);return t(a,c)},"makeFetchHappen");r.defaults=(s,i={},c=r)=>{typeof s=="object"&&(i=s,s=null);let a=v((d,g={})=>{let m=d||s,f={...i,...g,headers:{...i.headers,...g.headers}};return c(m,f)},"defaultedFetch");return a.defaults=(d,g={})=>r.defaults(d,g,a),a},u.exports=r,u.exports.FetchError=h,u.exports.Headers=p,u.exports.Request=o,u.exports.Response=l}),Bg=J((e,u)=>{var h={},p=h.LEFT_BRACE=1,o=h.RIGHT_BRACE=2,l=h.LEFT_BRACKET=3,n=h.RIGHT_BRACKET=4,t=h.COLON=5,r=h.COMMA=6,s=h.TRUE=7,i=h.FALSE=8,c=h.NULL=9,a=h.STRING=10,d=h.NUMBER=11,g=h.START=17,m=h.STOP=18,f=h.TRUE1=33,y=h.TRUE2=34,S=h.TRUE3=35,b=h.FALSE1=49,E=h.FALSE2=50,_=h.FALSE3=51,w=h.FALSE4=52,O=h.NULL1=65,R=h.NULL2=66,I=h.NULL3=67,P=h.NUMBER1=81,L=h.NUMBER3=83,M=h.STRING1=97,x=h.STRING2=98,j=h.STRING3=99,U=h.STRING4=100,V=h.STRING5=101,B=h.STRING6=102,G=h.VALUE=113,W=h.KEY=114,k=h.OBJECT=129,D=h.ARRAY=130,T=92,C=47,Z=8,Y=12,Q=10,N=13,F=9,z=64*1024;function $(){this.tState=g,this.value=void 0,this.string=void 0,this.stringBuffer=Buffer.alloc?Buffer.alloc(z):new Buffer(z),this.stringBufferOffset=0,this.unicode=void 0,this.highSurrogate=void 0,this.key=void 0,this.mode=void 0,this.stack=[],this.state=G,this.bytes_remaining=0,this.bytes_in_sequence=0,this.temp_buffs={2:new Buffer(2),3:new Buffer(3),4:new Buffer(4)},this.offset=-1}v($,"Parser"),$.toknam=function(q){for(var X=Object.keys(h),A=0,H=X.length;A<H;A++){var ee=X[A];if(h[ee]===q)return ee}return q&&"0x"+q.toString(16)};var K=$.prototype;K.onError=function(q){throw q},K.charError=function(q,X){this.tState=m,this.onError(new Error("Unexpected "+JSON.stringify(String.fromCharCode(q[X]))+" at position "+X+" in state "+$.toknam(this.tState)))},K.appendStringChar=function(q){this.stringBufferOffset>=z&&(this.string+=this.stringBuffer.toString("utf8"),this.stringBufferOffset=0),this.stringBuffer[this.stringBufferOffset++]=q},K.appendStringBuf=function(q,X,A){var H=q.length;typeof X=="number"&&(typeof A=="number"?A<0?H=q.length-X+A:H=A-X:H=q.length-X),H<0&&(H=0),this.stringBufferOffset+H>z&&(this.string+=this.stringBuffer.toString("utf8",0,this.stringBufferOffset),this.stringBufferOffset=0),q.copy(this.stringBuffer,this.stringBufferOffset,X,A),this.stringBufferOffset+=H},K.write=function(q){typeof q=="string"&&(q=new Buffer(q));for(var X,A=0,H=q.length;A<H;A++)if(this.tState===g){if(X=q[A],this.offset++,X===123)this.onToken(p,"{");else if(X===125)this.onToken(o,"}");else if(X===91)this.onToken(l,"[");else if(X===93)this.onToken(n,"]");else if(X===58)this.onToken(t,":");else if(X===44)this.onToken(r,",");else if(X===116)this.tState=f;else if(X===102)this.tState=b;else if(X===110)this.tState=O;else if(X===34)this.string="",this.stringBufferOffset=0,this.tState=M;else if(X===45)this.string="-",this.tState=P;else if(X>=48&&X<64)this.string=String.fromCharCode(X),this.tState=L;else if(!(X===32||X===9||X===10||X===13))return this.charError(q,A)}else if(this.tState===M)if(X=q[A],this.bytes_remaining>0){for(var ee=0;ee<this.bytes_remaining;ee++)this.temp_buffs[this.bytes_in_sequence][this.bytes_in_sequence-this.bytes_remaining+ee]=q[ee];this.appendStringBuf(this.temp_buffs[this.bytes_in_sequence]),this.bytes_in_sequence=this.bytes_remaining=0,A=A+ee-1}else if(this.bytes_remaining===0&&X>=128){if(X<=193||X>244)return this.onError(new Error("Invalid UTF-8 character at position "+A+" in state "+$.toknam(this.tState)));if(X>=194&&X<=223&&(this.bytes_in_sequence=2),X>=224&&X<=239&&(this.bytes_in_sequence=3),X>=240&&X<=244&&(this.bytes_in_sequence=4),this.bytes_in_sequence+A>q.length){for(var ne=0;ne<=q.length-1-A;ne++)this.temp_buffs[this.bytes_in_sequence][ne]=q[A+ne];this.bytes_remaining=A+this.bytes_in_sequence-q.length,A=q.length-1}else this.appendStringBuf(q,A,A+this.bytes_in_sequence),A=A+this.bytes_in_sequence-1}else if(X===34)this.tState=g,this.string+=this.stringBuffer.toString("utf8",0,this.stringBufferOffset),this.stringBufferOffset=0,this.onToken(a,this.string),this.offset+=Buffer.byteLength(this.string,"utf8")+1,this.string=void 0;else if(X===92)this.tState=x;else if(X>=32)this.appendStringChar(X);else return this.charError(q,A);else if(this.tState===x)if(X=q[A],X===34)this.appendStringChar(X),this.tState=M;else if(X===92)this.appendStringChar(T),this.tState=M;else if(X===47)this.appendStringChar(C),this.tState=M;else if(X===98)this.appendStringChar(Z),this.tState=M;else if(X===102)this.appendStringChar(Y),this.tState=M;else if(X===110)this.appendStringChar(Q),this.tState=M;else if(X===114)this.appendStringChar(N),this.tState=M;else if(X===116)this.appendStringChar(F),this.tState=M;else if(X===117)this.unicode="",this.tState=j;else return this.charError(q,A);else if(this.tState===j||this.tState===U||this.tState===V||this.tState===B)if(X=q[A],X>=48&&X<64||X>64&&X<=70||X>96&&X<=102){if(this.unicode+=String.fromCharCode(X),this.tState++===B){var te=parseInt(this.unicode,16);this.unicode=void 0,this.highSurrogate!==void 0&&te>=56320&&te<57344?(this.appendStringBuf(new Buffer(String.fromCharCode(this.highSurrogate,te))),this.highSurrogate=void 0):this.highSurrogate===void 0&&te>=55296&&te<56320?this.highSurrogate=te:(this.highSurrogate!==void 0&&(this.appendStringBuf(new Buffer(String.fromCharCode(this.highSurrogate))),this.highSurrogate=void 0),this.appendStringBuf(new Buffer(String.fromCharCode(te)))),this.tState=M}}else return this.charError(q,A);else if(this.tState===P||this.tState===L)switch(X=q[A],X){case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:case 46:case 101:case 69:case 43:case 45:this.string+=String.fromCharCode(X),this.tState=L;break;default:this.tState=g;var ae=Number(this.string);if(isNaN(ae))return this.charError(q,A);this.string.match(/[0-9]+/)==this.string&&ae.toString()!=this.string?this.onToken(a,this.string):this.onToken(d,ae),this.offset+=this.string.length-1,this.string=void 0,A--;break}else if(this.tState===f)if(q[A]===114)this.tState=y;else return this.charError(q,A);else if(this.tState===y)if(q[A]===117)this.tState=S;else return this.charError(q,A);else if(this.tState===S)if(q[A]===101)this.tState=g,this.onToken(s,!0),this.offset+=3;else return this.charError(q,A);else if(this.tState===b)if(q[A]===97)this.tState=E;else return this.charError(q,A);else if(this.tState===E)if(q[A]===108)this.tState=_;else return this.charError(q,A);else if(this.tState===_)if(q[A]===115)this.tState=w;else return this.charError(q,A);else if(this.tState===w)if(q[A]===101)this.tState=g,this.onToken(i,!1),this.offset+=4;else return this.charError(q,A);else if(this.tState===O)if(q[A]===117)this.tState=R;else return this.charError(q,A);else if(this.tState===R)if(q[A]===108)this.tState=I;else return this.charError(q,A);else if(this.tState===I)if(q[A]===108)this.tState=g,this.onToken(c,null),this.offset+=3;else return this.charError(q,A)},K.onToken=function(q,X){},K.parseError=function(q,X){this.tState=m,this.onError(new Error("Unexpected "+$.toknam(q)+(X?"("+JSON.stringify(X)+")":"")+" in state "+$.toknam(this.state)))},K.push=function(){this.stack.push({value:this.value,key:this.key,mode:this.mode})},K.pop=function(){var q=this.value,X=this.stack.pop();this.value=X.value,this.key=X.key,this.mode=X.mode,this.emit(q),this.mode||(this.state=G)},K.emit=function(q){this.mode&&(this.state=r),this.onValue(q)},K.onValue=function(q){},K.onToken=function(q,X){if(this.state===G)if(q===a||q===d||q===s||q===i||q===c)this.value&&(this.value[this.key]=X),this.emit(X);else if(q===p)this.push(),this.value?this.value=this.value[this.key]={}:this.value={},this.key=void 0,this.state=W,this.mode=k;else if(q===l)this.push(),this.value?this.value=this.value[this.key]=[]:this.value=[],this.key=0,this.mode=D,this.state=G;else if(q===o)if(this.mode===k)this.pop();else return this.parseError(q,X);else if(q===n)if(this.mode===D)this.pop();else return this.parseError(q,X);else return this.parseError(q,X);else if(this.state===W)if(q===a)this.key=X,this.state=t;else if(q===o)this.pop();else return this.parseError(q,X);else if(this.state===t)if(q===t)this.state=G;else return this.parseError(q,X);else if(this.state===r)if(q===r)this.mode===D?(this.key++,this.state=G):this.mode===k&&(this.state=W);else if(q===n&&this.mode===D||q===o&&this.mode===k)this.pop();else return this.parseError(q,X);else return this.parseError(q,X)},$.C=h,u.exports=$}),Ug=J((e,u)=>{var h=Bg(),{Minipass:p}=Ae(),o=class extends Error{static{v(this,"JSONStreamError")}constructor(t,r){super(t.message),Error.captureStackTrace(this,r||this.constructor)}get name(){return"JSONStreamError"}},l=v((t,r)=>typeof t=="string"?String(r)===t:t&&typeof t.test=="function"?t.test(r):typeof t=="boolean"||typeof t=="object"?t:typeof t=="function"?t(r):!1,"check"),n=class bl extends p{static{v(this,"JSONStream")}#e=0;#t=!1;#r=null;#s=null;#i=null;#c;#l;#p=null;#n=null;constructor(r){super({...r,objectMode:!0});let s=this.#l=new h;s.onValue=i=>this.#a(i),this.#c=s.onToken,s.onToken=(i,c)=>this.#d(i,c),s.onError=i=>this.#o(i),this.#p=typeof r.path=="string"?r.path.split(".").map(i=>i==="$*"?{emitKey:!0}:i==="*"?!0:i===""?{recurse:!0}:i):Array.isArray(r.path)&&r.path.length?r.path:null,typeof r.map=="function"&&(this.#i=r.map)}#h(r,s){this.#s!==!1&&(this.#s=this.#s||{},this.#s[r]=s),this.#r!==!1&&this.#s===!1&&(this.#r=this.#r||{},this.#r[r]=s)}#o(r){let s=this.#t?this.end:this.write;return this.#t=!1,this.emit("error",new o(r,s))}#d(r,s){let i=this.#l;if(this.#c.call(this.#l,r,s),i.stack.length===0&&this.#n){let c=this.#n;this.#p||super.write(c),this.#n=null,this.#e=0}}#a(r){let s=this.#l;if(this.#n=r,!this.#p)return;let i=0,c=0,a=!1;for(;i<this.#p.length;){let g=this.#p[i];if(c++,g&&!g.recurse){let m=c===s.stack.length?s:s.stack[c];if(!m)return;if(!l(g,m.key)){this.#h(m.key,r);return}a=!!g.emitKey,i++}else{if(i++,i>=this.#p.length)return;let m=this.#p[i];if(!m)return;for(;;){let f=c===s.stack.length?s:s.stack[c];if(!f)return;if(l(m,f.key)){i++,Object.isFrozen(s.stack[c])||(s.stack[c].value=null);break}else this.#h(f.key,r);c++}}}if(this.#s){let g=this.#s;this.#s=!1,this.emit("header",g)}if(c!==s.stack.length)return;this.#e++;let d=s.stack.slice(1).map(g=>g.key).concat([s.key]);if(r!=null){let g=this.#i?this.#i(r,d):r;if(g!=null){let m=a?{value:g}:g;a&&(m.key=s.key),super.write(m)}}s.value&&delete s.value[s.key];for(let g of s.stack)g.value=null}write(r,s){if(typeof r=="string")r=Buffer.from(r,s);else if(!Buffer.isBuffer(r))return this.emit("error",new TypeError("Can only parse JSON from string or buffer input"));return this.#l.write(r),this.flowing}end(r,s){this.#t=!0,r&&this.write(r,s);let i=this.#s;this.#s=null;let c=this.#r;return this.#r=null,i&&this.emit("header",i),c&&this.emit("footer",c),super.end()}static get JSONStreamError(){return o}static parse(r,s){return new bl({path:r,map:s})}};u.exports=n}),El=J((e,u)=>{"use strict";var{HttpErrorAuthOTP:h}=Xa(),p=ig(),o=ng(),l=Pr(),n=Ug(),t=qt(),r=require("querystring"),s=require("url"),i=Ir(),{Minipass:c}=Ae(),a=sl(),d=v(E=>{try{return!!new s.URL(E)}catch{return!1}},"urlIsValid");u.exports=g;function g(E,_={}){let w={...a,..._},O=d(E),R=w.registry||a.registry;O||(R=w.registry=w.spec&&y(w.spec,w)||w.registry||R,E=`${R.trim().replace(/\/?$/g,"")}/${E.trim().replace(/^\//,"")}`,new s.URL(E));let I=w.method||"GET",P=Date.now(),L=o(E,w),M=b(E,L,w),x=w.body,j=c.isStream(x),U=x&&typeof x=="object"&&typeof x.then=="function";if(x&&!j&&!U&&typeof x!="string"&&!Buffer.isBuffer(x)?(M["content-type"]=M["content-type"]||"application/json",x=JSON.stringify(x)):x&&!M["content-type"]&&(M["content-type"]="application/octet-stream"),w.gzip)if(M["content-encoding"]="gzip",j){let G=new i.Gzip;x.on("error",W=>G.emit("error",W)),x=x.pipe(G)}else U||(x=new i.Gzip().end(x).concat());let V=new s.URL(E);if(w.query){let G=typeof w.query=="string"?r.parse(w.query):w.query;Object.keys(G).forEach(W=>{G[W]!==void 0&&V.searchParams.set(W,G[W])}),E=s.format(V)}V.searchParams.get("write")==="true"&&I==="GET"&&(w.offline=!1,w.preferOffline=!1,w.preferOnline=!0);let B=v(async G=>{let W=l(E,{agent:w.agent,algorithms:w.algorithms,body:G,cache:S(w),cachePath:w.cache,ca:w.ca,cert:L.cert||w.cert,headers:M,integrity:w.integrity,key:L.key||w.key,localAddress:w.localAddress,maxSockets:w.maxSockets,memoize:w.memoize,method:I,noProxy:w.noProxy,proxy:w.httpsProxy||w.proxy,retry:w.retry?w.retry:{retries:w.fetchRetries,factor:w.fetchRetryFactor,minTimeout:w.fetchRetryMintimeout,maxTimeout:w.fetchRetryMaxtimeout},strictSSL:w.strictSSL,timeout:w.timeout||3e4}).then(k=>p({method:I,uri:E,res:k,registry:R,startTime:P,auth:L,opts:w}));return typeof w.otpPrompt=="function"?W.catch(async k=>{if(k instanceof h){let D;try{D=await w.otpPrompt()}catch{}if(!D)throw k;return g(E,{...w,otp:D})}throw k}):W},"doFetch");return Promise.resolve(x).then(B)}v(g,"regFetch"),u.exports.getAuth=o,u.exports.json=m;function m(E,_){return g(E,_).then(w=>w.json())}v(m,"fetchJSON"),u.exports.json.stream=f;function f(E,_,w={}){let O={...a,...w},R=n.parse(_,O.mapJSON);return g(E,O).then(I=>I.body.on("error",P=>R.emit("error",P)).pipe(R)).catch(I=>R.emit("error",I)),R}v(f,"fetchJSONStream"),u.exports.pickRegistry=y;function y(E,_={}){E=t(E);let w=E.scope&&_[E.scope.replace(/^@?/,"@")+":registry"];return!w&&_.scope&&(w=_[_.scope.replace(/^@?/,"@")+":registry"]),w||(w=_.registry||a.registry),w}v(y,"pickRegistry");function S(E){return E.offline?"only-if-cached":E.preferOffline?"force-cache":E.preferOnline?"no-cache":"default"}v(S,"getCacheMode");function b(E,_,w){let O=Object.assign({"user-agent":w.userAgent},w.headers||{});return w.authType&&(O["npm-auth-type"]=w.authType),w.scope&&(O["npm-scope"]=w.scope),w.npmSession&&(O["npm-session"]=w.npmSession),w.npmCommand&&(O["npm-command"]=w.npmCommand),_.token?O.authorization=`Bearer ${_.token}`:_.auth&&(O.authorization=`Basic ${_.auth}`),w.otp&&(O["npm-otp"]=w.otp),O}v(b,"getHeaders")}),_l=J((e,u)=>{u.exports={name:"pacote",version:"21.0.1",description:"JavaScript package downloader",author:"GitHub Inc.",bin:{pacote:"bin/index.js"},license:"ISC",main:"lib/index.js",scripts:{test:"tap",snap:"tap",lint:"npm run eslint",postlint:"template-oss-check",lintfix:"npm run eslint -- --fix",posttest:"npm run lint","template-oss-apply":"template-oss-apply --force",eslint:'eslint "**/*.{js,cjs,ts,mjs,jsx,tsx}"'},tap:{timeout:300,"nyc-arg":["--exclude","tap-snapshots/**"]},devDependencies:{"@npmcli/arborist":"^9.0.2","@npmcli/eslint-config":"^5.0.0","@npmcli/template-oss":"4.23.4","hosted-git-info":"^9.0.0","mutate-fs":"^2.1.1",nock:"^13.2.4","npm-registry-mock":"^1.3.2",rimraf:"^6.0.1",tap:"^16.0.1"},files:["bin/","lib/"],keywords:["packages","npm","git"],dependencies:{"@npmcli/git":"^6.0.0","@npmcli/installed-package-contents":"^3.0.0","@npmcli/package-json":"^7.0.0","@npmcli/promise-spawn":"^8.0.0","@npmcli/run-script":"^10.0.0",cacache:"^20.0.0","fs-minipass":"^3.0.0",minipass:"^7.0.2","npm-package-arg":"^13.0.0","npm-packlist":"^10.0.1","npm-pick-manifest":"^10.0.0","npm-registry-fetch":"^19.0.0","proc-log":"^5.0.0","promise-retry":"^2.0.1",sigstore:"^4.0.0",ssri:"^12.0.0",tar:"^7.4.3"},engines:{node:"^20.17.0 || >=22.9.0"},repository:{type:"git",url:"git+https://github.com/npm/pacote.git"},templateOSS:{"//@npmcli/template-oss":"This file is partially managed by @npmcli/template-oss. Edits may be overwritten.",version:"4.23.4",windowsCI:!1,publish:"true"}}}),xr=J((e,u)=>{var h=El(),{Minipass:p}=Ae(),o=It(),l=er(),n=Ot(),t=_l().version,r=class extends o{static{v(this,"RemoteFetcher")}constructor(s,i){super(s,i),this.resolved=this.spec.fetchSpec;let c=new URL(this.resolved);this.replaceRegistryHost!=="never"&&(this.replaceRegistryHost==="always"||this.replaceRegistryHost===c.host)&&(this.resolved=new URL(c.pathname,this.registry).href);let a=this.spec.name?`${this.spec.name}@`:"";this.pkgid=i.pkgid?i.pkgid:`remote:${a}${this.resolved}`}get[n.cacheFetches](){return!1}[n.tarballFromResolved](){let s=new p;s.hasIntegrityEmitter=!0;let i={...this.opts,headers:this.#e(),spec:this.spec,integrity:this.integrity,algorithms:[this.pickIntegrityAlgorithm()]};return h(this.resolved,i).then(c=>{c.body.on("error",a=>s.emit("error",a)),c.body.on("integrity",a=>{this.integrity=a,s.emit("integrity",a)}),c.body.pipe(s)}).catch(c=>s.emit("error",c)),s}#e(){return{"user-agent":this.opts.userAgent||`pacote/${t} node/${process.version}`,...this.opts.headers||{},"pacote-version":t,"pacote-req-type":"tarball","pacote-pkg-id":this.pkgid,...this.integrity?{"pacote-integrity":String(this.integrity)}:{},...this.opts.headers||{}}}get types(){return["remote"]}packument(){return l.prototype.packument.apply(this)}manifest(){return l.prototype.manifest.apply(this)}};u.exports=r}),Fg=J((e,u)=>{var h=v((p,o)=>{if(p.hosted){let l=p.hosted,n={noCommittish:!0};return`${l.https&&l.auth?l.https(n):l.shortcut(n)}#${o}`}else return p.rawSpec.replace(/#.*$/,"")+`#${o}`},"addGitSha");u.exports=h}),Hg=J((e,u)=>{var h=li();u.exports=(p,o,l,n,t)=>{let r=p.endsWith(".js"),s=r?process.execPath:p,i=(r?[p]:[]).concat(o);return h(s,i,{cwd:l,env:n},t)}}),wl=J((e,u)=>{var h=Cr(),p=Ca(),o=qt(),l=gi(),{Minipass:n}=Ae(),{log:t}=We(),r=Ci(),s=It(),i=er(),c=xr(),a=Ot(),d=Fg(),g=Hg(),m=/^[a-f0-9]{40}$/,f=v((b,E)=>b.sshurl&&!(b.https&&b.auth)&&y(b.sshurl(E))||b.https&&y(b.https(E)),"repoUrl"),y=v(b=>b&&`git+${b}`.replace(/^(git\+)+/,"git+"),"addGitPlus"),S=class extends s{static{v(this,"GitFetcher")}constructor(b,E){super(b,E),this.opts.integrity&&(delete this.opts.integrity,t.warn(`skipping integrity check for git dependency ${this.spec.fetchSpec}`)),this.resolvedRef=null,this.spec.hosted&&(this.from=this.spec.hosted.shortcut({noCommittish:!1})),this.spec.gitCommittish&&m.test(this.spec.gitCommittish)?(this.resolvedSha=this.spec.gitCommittish,this.resolved=this.spec.hosted?f(this.spec.hosted,{noCommittish:!1}):this.spec.rawSpec):this.resolvedSha="",this.Arborist=E.Arborist||null}static repoUrl(b,E){return f(b,E)}get types(){return["git"]}resolve(){if(this.resolved)return super.resolve();let b=this.spec.hosted;return b?this.#e(b):this.#t(this.spec.fetchSpec)}#e(b){return this.#t(b.https&&b.https()).catch(E=>{if(E instanceof p.errors.GitPathspecError)throw E;let _=b.sshurl&&b.sshurl();if(!_||b.auth)throw E;return this.#t(_)})}#t(b){if(!b)return Promise.reject(new Error(`No git url for ${this.spec}`));let E=this.spec.gitRange,_=this.spec.name;return p.revs(b,this.opts).then(w=>E?l({versions:w.versions,"dist-tags":w["dist-tags"],name:_},E,this.opts):this.spec.gitCommittish?w.refs[this.spec.gitCommittish]||w.refs[w.shas[this.spec.gitCommittish]]:w.refs.HEAD).then(w=>!w||!w.sha?this.#i():(this.resolvedRef=w,this.resolvedSha=w.sha,this.#s(w.sha),this.resolved))}#r(b){this.resolved=this.spec.hosted?f(o(b).hosted,{noCommittish:!1}):b}#s(b){this.#r(d(this.spec,b))}#i(){return this.#l(()=>this.resolved)}#c(b){return this[a.readPackageJson](b).then(E=>{let _=E.scripts;if(!E.workspaces&&(!_||!(_.postinstall||_.build||_.preinstall||_.install||_.prepack||_.prepare)))return;let w=process.env._PACOTE_NO_PREPARE_?process.env._PACOTE_NO_PREPARE_.split(`
`):[];if(w.includes(this.resolved)){t.info("prepare","skip prepare, already seen",this.resolved);return}return w.push(this.resolved),g(this.npmBin,[].concat(this.npmInstallCmd).concat(this.npmCliConfig),b,{...process.env,_PACOTE_NO_PREPARE_:w.join(`
`)},{message:"git dep preparation failed"})})}[a.tarballFromResolved](){let b=new n;return b.resolved=this.resolved,b.from=this.from,this.#l(E=>this.#c(E).then(()=>new Promise((_,w)=>{if(!this.Arborist)throw new Error("GitFetcher requires an Arborist constructor to pack a tarball");let O=new r(`file:${E}`,{...this.opts,Arborist:this.Arborist,resolved:null,integrity:null})[a.tarballFromResolved]();O.on("error",w),O.on("end",_),O.pipe(b)}))).catch(E=>b.emit("error",E)),b}#l(b,E=!0){let _={tmpPrefix:"git-clone"},w=this.resolvedSha||this.spec.gitCommittish,O=this.spec.hosted,R=this.resolved;return E=E&&O&&R===f(O,{noCommittish:!1})&&O.tarball,h.tmp.withTmp(this.cache,_,async I=>{if(E){let L=this.spec.name?`${this.spec.name}@`:"";return new c(O.tarball({noCommittish:!1}),{...this.opts,allowGitIgnore:!0,pkgid:`git:${L}${this.resolved}`,resolved:this.resolved,integrity:null}).extract(I).then(()=>b(I),M=>{if(M.constructor.name.match(/^Http/))return this.#l(b,!1);throw M})}let P=await(O?this.#p(w,I):this.#n(this.spec.fetchSpec,w,I));return this.resolvedSha=P,this.resolved||await this.#s(P),b(I)})}#p(b,E){let _=this.spec.hosted;return this.#n(_.https({noCommittish:!0}),b,E).catch(w=>{if(w instanceof p.errors.GitPathspecError)throw w;let O=_.sshurl&&_.sshurl({noCommittish:!0});if(!O||_.auth)throw w;return this.#n(O,b,E)})}#n(b,E,_){let{opts:w,spec:O}=this;return p.clone(b,E,_,{...w,spec:O})}manifest(){return this.package?Promise.resolve(this.package):this.spec.hosted&&this.resolved?i.prototype.manifest.apply(this):this.#l(b=>this[a.readPackageJson](b).then(E=>this.package={...E,_resolved:this.resolved,_from:this.from}))}packument(){return i.prototype.packument.apply(this)}};u.exports=S}),Ol=J(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Signature=e.Envelope=void 0,e.Envelope={fromJSON(o){return{payload:p(o.payload)?Buffer.from(u(o.payload)):Buffer.alloc(0),payloadType:p(o.payloadType)?globalThis.String(o.payloadType):"",signatures:globalThis.Array.isArray(o?.signatures)?o.signatures.map(l=>e.Signature.fromJSON(l)):[]}},toJSON(o){let l={};return o.payload.length!==0&&(l.payload=h(o.payload)),o.payloadType!==""&&(l.payloadType=o.payloadType),o.signatures?.length&&(l.signatures=o.signatures.map(n=>e.Signature.toJSON(n))),l}},e.Signature={fromJSON(o){return{sig:p(o.sig)?Buffer.from(u(o.sig)):Buffer.alloc(0),keyid:p(o.keyid)?globalThis.String(o.keyid):""}},toJSON(o){let l={};return o.sig.length!==0&&(l.sig=h(o.sig)),o.keyid!==""&&(l.keyid=o.keyid),l}};function u(o){return Uint8Array.from(globalThis.Buffer.from(o,"base64"))}v(u,"bytesFromBase64");function h(o){return globalThis.Buffer.from(o).toString("base64")}v(h,"base64FromBytes");function p(o){return o!=null}v(p,"isSet")}),Gg=J(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Timestamp=void 0,e.Timestamp={fromJSON(h){return{seconds:u(h.seconds)?globalThis.String(h.seconds):"0",nanos:u(h.nanos)?globalThis.Number(h.nanos):0}},toJSON(h){let p={};return h.seconds!=="0"&&(p.seconds=h.seconds),h.nanos!==0&&(p.nanos=Math.round(h.nanos)),p}};function u(h){return h!=null}v(u,"isSet")}),rr=J(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TimeRange=e.X509CertificateChain=e.SubjectAlternativeName=e.X509Certificate=e.DistinguishedName=e.ObjectIdentifierValuePair=e.ObjectIdentifier=e.PublicKeyIdentifier=e.PublicKey=e.RFC3161SignedTimestamp=e.LogId=e.MessageSignature=e.HashOutput=e.SubjectAlternativeNameType=e.PublicKeyDetails=e.HashAlgorithm=void 0,e.hashAlgorithmFromJSON=p,e.hashAlgorithmToJSON=o,e.publicKeyDetailsFromJSON=n,e.publicKeyDetailsToJSON=t,e.subjectAlternativeNameTypeFromJSON=s,e.subjectAlternativeNameTypeToJSON=i;var u=Gg(),h;(function(f){f[f.HASH_ALGORITHM_UNSPECIFIED=0]="HASH_ALGORITHM_UNSPECIFIED",f[f.SHA2_256=1]="SHA2_256",f[f.SHA2_384=2]="SHA2_384",f[f.SHA2_512=3]="SHA2_512",f[f.SHA3_256=4]="SHA3_256",f[f.SHA3_384=5]="SHA3_384"})(h||(e.HashAlgorithm=h={}));function p(f){switch(f){case 0:case"HASH_ALGORITHM_UNSPECIFIED":return h.HASH_ALGORITHM_UNSPECIFIED;case 1:case"SHA2_256":return h.SHA2_256;case 2:case"SHA2_384":return h.SHA2_384;case 3:case"SHA2_512":return h.SHA2_512;case 4:case"SHA3_256":return h.SHA3_256;case 5:case"SHA3_384":return h.SHA3_384;default:throw new globalThis.Error("Unrecognized enum value "+f+" for enum HashAlgorithm")}}v(p,"hashAlgorithmFromJSON");function o(f){switch(f){case h.HASH_ALGORITHM_UNSPECIFIED:return"HASH_ALGORITHM_UNSPECIFIED";case h.SHA2_256:return"SHA2_256";case h.SHA2_384:return"SHA2_384";case h.SHA2_512:return"SHA2_512";case h.SHA3_256:return"SHA3_256";case h.SHA3_384:return"SHA3_384";default:throw new globalThis.Error("Unrecognized enum value "+f+" for enum HashAlgorithm")}}v(o,"hashAlgorithmToJSON");var l;(function(f){f[f.PUBLIC_KEY_DETAILS_UNSPECIFIED=0]="PUBLIC_KEY_DETAILS_UNSPECIFIED",f[f.PKCS1_RSA_PKCS1V5=1]="PKCS1_RSA_PKCS1V5",f[f.PKCS1_RSA_PSS=2]="PKCS1_RSA_PSS",f[f.PKIX_RSA_PKCS1V5=3]="PKIX_RSA_PKCS1V5",f[f.PKIX_RSA_PSS=4]="PKIX_RSA_PSS",f[f.PKIX_RSA_PKCS1V15_2048_SHA256=9]="PKIX_RSA_PKCS1V15_2048_SHA256",f[f.PKIX_RSA_PKCS1V15_3072_SHA256=10]="PKIX_RSA_PKCS1V15_3072_SHA256",f[f.PKIX_RSA_PKCS1V15_4096_SHA256=11]="PKIX_RSA_PKCS1V15_4096_SHA256",f[f.PKIX_RSA_PSS_2048_SHA256=16]="PKIX_RSA_PSS_2048_SHA256",f[f.PKIX_RSA_PSS_3072_SHA256=17]="PKIX_RSA_PSS_3072_SHA256",f[f.PKIX_RSA_PSS_4096_SHA256=18]="PKIX_RSA_PSS_4096_SHA256",f[f.PKIX_ECDSA_P256_HMAC_SHA_256=6]="PKIX_ECDSA_P256_HMAC_SHA_256",f[f.PKIX_ECDSA_P256_SHA_256=5]="PKIX_ECDSA_P256_SHA_256",f[f.PKIX_ECDSA_P384_SHA_384=12]="PKIX_ECDSA_P384_SHA_384",f[f.PKIX_ECDSA_P521_SHA_512=13]="PKIX_ECDSA_P521_SHA_512",f[f.PKIX_ED25519=7]="PKIX_ED25519",f[f.PKIX_ED25519_PH=8]="PKIX_ED25519_PH",f[f.PKIX_ECDSA_P384_SHA_256=19]="PKIX_ECDSA_P384_SHA_256",f[f.PKIX_ECDSA_P521_SHA_256=20]="PKIX_ECDSA_P521_SHA_256",f[f.LMS_SHA256=14]="LMS_SHA256",f[f.LMOTS_SHA256=15]="LMOTS_SHA256",f[f.ML_DSA_65=21]="ML_DSA_65",f[f.ML_DSA_87=22]="ML_DSA_87"})(l||(e.PublicKeyDetails=l={}));function n(f){switch(f){case 0:case"PUBLIC_KEY_DETAILS_UNSPECIFIED":return l.PUBLIC_KEY_DETAILS_UNSPECIFIED;case 1:case"PKCS1_RSA_PKCS1V5":return l.PKCS1_RSA_PKCS1V5;case 2:case"PKCS1_RSA_PSS":return l.PKCS1_RSA_PSS;case 3:case"PKIX_RSA_PKCS1V5":return l.PKIX_RSA_PKCS1V5;case 4:case"PKIX_RSA_PSS":return l.PKIX_RSA_PSS;case 9:case"PKIX_RSA_PKCS1V15_2048_SHA256":return l.PKIX_RSA_PKCS1V15_2048_SHA256;case 10:case"PKIX_RSA_PKCS1V15_3072_SHA256":return l.PKIX_RSA_PKCS1V15_3072_SHA256;case 11:case"PKIX_RSA_PKCS1V15_4096_SHA256":return l.PKIX_RSA_PKCS1V15_4096_SHA256;case 16:case"PKIX_RSA_PSS_2048_SHA256":return l.PKIX_RSA_PSS_2048_SHA256;case 17:case"PKIX_RSA_PSS_3072_SHA256":return l.PKIX_RSA_PSS_3072_SHA256;case 18:case"PKIX_RSA_PSS_4096_SHA256":return l.PKIX_RSA_PSS_4096_SHA256;case 6:case"PKIX_ECDSA_P256_HMAC_SHA_256":return l.PKIX_ECDSA_P256_HMAC_SHA_256;case 5:case"PKIX_ECDSA_P256_SHA_256":return l.PKIX_ECDSA_P256_SHA_256;case 12:case"PKIX_ECDSA_P384_SHA_384":return l.PKIX_ECDSA_P384_SHA_384;case 13:case"PKIX_ECDSA_P521_SHA_512":return l.PKIX_ECDSA_P521_SHA_512;case 7:case"PKIX_ED25519":return l.PKIX_ED25519;case 8:case"PKIX_ED25519_PH":return l.PKIX_ED25519_PH;case 19:case"PKIX_ECDSA_P384_SHA_256":return l.PKIX_ECDSA_P384_SHA_256;case 20:case"PKIX_ECDSA_P521_SHA_256":return l.PKIX_ECDSA_P521_SHA_256;case 14:case"LMS_SHA256":return l.LMS_SHA256;case 15:case"LMOTS_SHA256":return l.LMOTS_SHA256;case 21:case"ML_DSA_65":return l.ML_DSA_65;case 22:case"ML_DSA_87":return l.ML_DSA_87;default:throw new globalThis.Error("Unrecognized enum value "+f+" for enum PublicKeyDetails")}}v(n,"publicKeyDetailsFromJSON");function t(f){switch(f){case l.PUBLIC_KEY_DETAILS_UNSPECIFIED:return"PUBLIC_KEY_DETAILS_UNSPECIFIED";case l.PKCS1_RSA_PKCS1V5:return"PKCS1_RSA_PKCS1V5";case l.PKCS1_RSA_PSS:return"PKCS1_RSA_PSS";case l.PKIX_RSA_PKCS1V5:return"PKIX_RSA_PKCS1V5";case l.PKIX_RSA_PSS:return"PKIX_RSA_PSS";case l.PKIX_RSA_PKCS1V15_2048_SHA256:return"PKIX_RSA_PKCS1V15_2048_SHA256";case l.PKIX_RSA_PKCS1V15_3072_SHA256:return"PKIX_RSA_PKCS1V15_3072_SHA256";case l.PKIX_RSA_PKCS1V15_4096_SHA256:return"PKIX_RSA_PKCS1V15_4096_SHA256";case l.PKIX_RSA_PSS_2048_SHA256:return"PKIX_RSA_PSS_2048_SHA256";case l.PKIX_RSA_PSS_3072_SHA256:return"PKIX_RSA_PSS_3072_SHA256";case l.PKIX_RSA_PSS_4096_SHA256:return"PKIX_RSA_PSS_4096_SHA256";case l.PKIX_ECDSA_P256_HMAC_SHA_256:return"PKIX_ECDSA_P256_HMAC_SHA_256";case l.PKIX_ECDSA_P256_SHA_256:return"PKIX_ECDSA_P256_SHA_256";case l.PKIX_ECDSA_P384_SHA_384:return"PKIX_ECDSA_P384_SHA_384";case l.PKIX_ECDSA_P521_SHA_512:return"PKIX_ECDSA_P521_SHA_512";case l.PKIX_ED25519:return"PKIX_ED25519";case l.PKIX_ED25519_PH:return"PKIX_ED25519_PH";case l.PKIX_ECDSA_P384_SHA_256:return"PKIX_ECDSA_P384_SHA_256";case l.PKIX_ECDSA_P521_SHA_256:return"PKIX_ECDSA_P521_SHA_256";case l.LMS_SHA256:return"LMS_SHA256";case l.LMOTS_SHA256:return"LMOTS_SHA256";case l.ML_DSA_65:return"ML_DSA_65";case l.ML_DSA_87:return"ML_DSA_87";default:throw new globalThis.Error("Unrecognized enum value "+f+" for enum PublicKeyDetails")}}v(t,"publicKeyDetailsToJSON");var r;(function(f){f[f.SUBJECT_ALTERNATIVE_NAME_TYPE_UNSPECIFIED=0]="SUBJECT_ALTERNATIVE_NAME_TYPE_UNSPECIFIED",f[f.EMAIL=1]="EMAIL",f[f.URI=2]="URI",f[f.OTHER_NAME=3]="OTHER_NAME"})(r||(e.SubjectAlternativeNameType=r={}));function s(f){switch(f){case 0:case"SUBJECT_ALTERNATIVE_NAME_TYPE_UNSPECIFIED":return r.SUBJECT_ALTERNATIVE_NAME_TYPE_UNSPECIFIED;case 1:case"EMAIL":return r.EMAIL;case 2:case"URI":return r.URI;case 3:case"OTHER_NAME":return r.OTHER_NAME;default:throw new globalThis.Error("Unrecognized enum value "+f+" for enum SubjectAlternativeNameType")}}v(s,"subjectAlternativeNameTypeFromJSON");function i(f){switch(f){case r.SUBJECT_ALTERNATIVE_NAME_TYPE_UNSPECIFIED:return"SUBJECT_ALTERNATIVE_NAME_TYPE_UNSPECIFIED";case r.EMAIL:return"EMAIL";case r.URI:return"URI";case r.OTHER_NAME:return"OTHER_NAME";default:throw new globalThis.Error("Unrecognized enum value "+f+" for enum SubjectAlternativeNameType")}}v(i,"subjectAlternativeNameTypeToJSON"),e.HashOutput={fromJSON(f){return{algorithm:m(f.algorithm)?p(f.algorithm):0,digest:m(f.digest)?Buffer.from(c(f.digest)):Buffer.alloc(0)}},toJSON(f){let y={};return f.algorithm!==0&&(y.algorithm=o(f.algorithm)),f.digest.length!==0&&(y.digest=a(f.digest)),y}},e.MessageSignature={fromJSON(f){return{messageDigest:m(f.messageDigest)?e.HashOutput.fromJSON(f.messageDigest):void 0,signature:m(f.signature)?Buffer.from(c(f.signature)):Buffer.alloc(0)}},toJSON(f){let y={};return f.messageDigest!==void 0&&(y.messageDigest=e.HashOutput.toJSON(f.messageDigest)),f.signature.length!==0&&(y.signature=a(f.signature)),y}},e.LogId={fromJSON(f){return{keyId:m(f.keyId)?Buffer.from(c(f.keyId)):Buffer.alloc(0)}},toJSON(f){let y={};return f.keyId.length!==0&&(y.keyId=a(f.keyId)),y}},e.RFC3161SignedTimestamp={fromJSON(f){return{signedTimestamp:m(f.signedTimestamp)?Buffer.from(c(f.signedTimestamp)):Buffer.alloc(0)}},toJSON(f){let y={};return f.signedTimestamp.length!==0&&(y.signedTimestamp=a(f.signedTimestamp)),y}},e.PublicKey={fromJSON(f){return{rawBytes:m(f.rawBytes)?Buffer.from(c(f.rawBytes)):void 0,keyDetails:m(f.keyDetails)?n(f.keyDetails):0,validFor:m(f.validFor)?e.TimeRange.fromJSON(f.validFor):void 0}},toJSON(f){let y={};return f.rawBytes!==void 0&&(y.rawBytes=a(f.rawBytes)),f.keyDetails!==0&&(y.keyDetails=t(f.keyDetails)),f.validFor!==void 0&&(y.validFor=e.TimeRange.toJSON(f.validFor)),y}},e.PublicKeyIdentifier={fromJSON(f){return{hint:m(f.hint)?globalThis.String(f.hint):""}},toJSON(f){let y={};return f.hint!==""&&(y.hint=f.hint),y}},e.ObjectIdentifier={fromJSON(f){return{id:globalThis.Array.isArray(f?.id)?f.id.map(y=>globalThis.Number(y)):[]}},toJSON(f){let y={};return f.id?.length&&(y.id=f.id.map(S=>Math.round(S))),y}},e.ObjectIdentifierValuePair={fromJSON(f){return{oid:m(f.oid)?e.ObjectIdentifier.fromJSON(f.oid):void 0,value:m(f.value)?Buffer.from(c(f.value)):Buffer.alloc(0)}},toJSON(f){let y={};return f.oid!==void 0&&(y.oid=e.ObjectIdentifier.toJSON(f.oid)),f.value.length!==0&&(y.value=a(f.value)),y}},e.DistinguishedName={fromJSON(f){return{organization:m(f.organization)?globalThis.String(f.organization):"",commonName:m(f.commonName)?globalThis.String(f.commonName):""}},toJSON(f){let y={};return f.organization!==""&&(y.organization=f.organization),f.commonName!==""&&(y.commonName=f.commonName),y}},e.X509Certificate={fromJSON(f){return{rawBytes:m(f.rawBytes)?Buffer.from(c(f.rawBytes)):Buffer.alloc(0)}},toJSON(f){let y={};return f.rawBytes.length!==0&&(y.rawBytes=a(f.rawBytes)),y}},e.SubjectAlternativeName={fromJSON(f){return{type:m(f.type)?s(f.type):0,identity:m(f.regexp)?{$case:"regexp",regexp:globalThis.String(f.regexp)}:m(f.value)?{$case:"value",value:globalThis.String(f.value)}:void 0}},toJSON(f){let y={};return f.type!==0&&(y.type=i(f.type)),f.identity?.$case==="regexp"?y.regexp=f.identity.regexp:f.identity?.$case==="value"&&(y.value=f.identity.value),y}},e.X509CertificateChain={fromJSON(f){return{certificates:globalThis.Array.isArray(f?.certificates)?f.certificates.map(y=>e.X509Certificate.fromJSON(y)):[]}},toJSON(f){let y={};return f.certificates?.length&&(y.certificates=f.certificates.map(S=>e.X509Certificate.toJSON(S))),y}},e.TimeRange={fromJSON(f){return{start:m(f.start)?g(f.start):void 0,end:m(f.end)?g(f.end):void 0}},toJSON(f){let y={};return f.start!==void 0&&(y.start=f.start.toISOString()),f.end!==void 0&&(y.end=f.end.toISOString()),y}};function c(f){return Uint8Array.from(globalThis.Buffer.from(f,"base64"))}v(c,"bytesFromBase64");function a(f){return globalThis.Buffer.from(f).toString("base64")}v(a,"base64FromBytes");function d(f){let y=(globalThis.Number(f.seconds)||0)*1e3;return y+=(f.nanos||0)/1e6,new globalThis.Date(y)}v(d,"fromTimestamp");function g(f){return f instanceof globalThis.Date?f:typeof f=="string"?new globalThis.Date(f):d(u.Timestamp.fromJSON(f))}v(g,"fromJsonTimestamp");function m(f){return f!=null}v(m,"isSet")}),Al=J(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TransparencyLogEntry=e.InclusionPromise=e.InclusionProof=e.Checkpoint=e.KindVersion=void 0;var u=rr();e.KindVersion={fromJSON(l){return{kind:o(l.kind)?globalThis.String(l.kind):"",version:o(l.version)?globalThis.String(l.version):""}},toJSON(l){let n={};return l.kind!==""&&(n.kind=l.kind),l.version!==""&&(n.version=l.version),n}},e.Checkpoint={fromJSON(l){return{envelope:o(l.envelope)?globalThis.String(l.envelope):""}},toJSON(l){let n={};return l.envelope!==""&&(n.envelope=l.envelope),n}},e.InclusionProof={fromJSON(l){return{logIndex:o(l.logIndex)?globalThis.String(l.logIndex):"0",rootHash:o(l.rootHash)?Buffer.from(h(l.rootHash)):Buffer.alloc(0),treeSize:o(l.treeSize)?globalThis.String(l.treeSize):"0",hashes:globalThis.Array.isArray(l?.hashes)?l.hashes.map(n=>Buffer.from(h(n))):[],checkpoint:o(l.checkpoint)?e.Checkpoint.fromJSON(l.checkpoint):void 0}},toJSON(l){let n={};return l.logIndex!=="0"&&(n.logIndex=l.logIndex),l.rootHash.length!==0&&(n.rootHash=p(l.rootHash)),l.treeSize!=="0"&&(n.treeSize=l.treeSize),l.hashes?.length&&(n.hashes=l.hashes.map(t=>p(t))),l.checkpoint!==void 0&&(n.checkpoint=e.Checkpoint.toJSON(l.checkpoint)),n}},e.InclusionPromise={fromJSON(l){return{signedEntryTimestamp:o(l.signedEntryTimestamp)?Buffer.from(h(l.signedEntryTimestamp)):Buffer.alloc(0)}},toJSON(l){let n={};return l.signedEntryTimestamp.length!==0&&(n.signedEntryTimestamp=p(l.signedEntryTimestamp)),n}},e.TransparencyLogEntry={fromJSON(l){return{logIndex:o(l.logIndex)?globalThis.String(l.logIndex):"0",logId:o(l.logId)?u.LogId.fromJSON(l.logId):void 0,kindVersion:o(l.kindVersion)?e.KindVersion.fromJSON(l.kindVersion):void 0,integratedTime:o(l.integratedTime)?globalThis.String(l.integratedTime):"0",inclusionPromise:o(l.inclusionPromise)?e.InclusionPromise.fromJSON(l.inclusionPromise):void 0,inclusionProof:o(l.inclusionProof)?e.InclusionProof.fromJSON(l.inclusionProof):void 0,canonicalizedBody:o(l.canonicalizedBody)?Buffer.from(h(l.canonicalizedBody)):Buffer.alloc(0)}},toJSON(l){let n={};return l.logIndex!=="0"&&(n.logIndex=l.logIndex),l.logId!==void 0&&(n.logId=u.LogId.toJSON(l.logId)),l.kindVersion!==void 0&&(n.kindVersion=e.KindVersion.toJSON(l.kindVersion)),l.integratedTime!=="0"&&(n.integratedTime=l.integratedTime),l.inclusionPromise!==void 0&&(n.inclusionPromise=e.InclusionPromise.toJSON(l.inclusionPromise)),l.inclusionProof!==void 0&&(n.inclusionProof=e.InclusionProof.toJSON(l.inclusionProof)),l.canonicalizedBody.length!==0&&(n.canonicalizedBody=p(l.canonicalizedBody)),n}};function h(l){return Uint8Array.from(globalThis.Buffer.from(l,"base64"))}v(h,"bytesFromBase64");function p(l){return globalThis.Buffer.from(l).toString("base64")}v(p,"base64FromBytes");function o(l){return l!=null}v(o,"isSet")}),Rl=J(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Bundle=e.VerificationMaterial=e.TimestampVerificationData=void 0;var u=Ol(),h=rr(),p=Al();e.TimestampVerificationData={fromJSON(l){return{rfc3161Timestamps:globalThis.Array.isArray(l?.rfc3161Timestamps)?l.rfc3161Timestamps.map(n=>h.RFC3161SignedTimestamp.fromJSON(n)):[]}},toJSON(l){let n={};return l.rfc3161Timestamps?.length&&(n.rfc3161Timestamps=l.rfc3161Timestamps.map(t=>h.RFC3161SignedTimestamp.toJSON(t))),n}},e.VerificationMaterial={fromJSON(l){return{content:o(l.publicKey)?{$case:"publicKey",publicKey:h.PublicKeyIdentifier.fromJSON(l.publicKey)}:o(l.x509CertificateChain)?{$case:"x509CertificateChain",x509CertificateChain:h.X509CertificateChain.fromJSON(l.x509CertificateChain)}:o(l.certificate)?{$case:"certificate",certificate:h.X509Certificate.fromJSON(l.certificate)}:void 0,tlogEntries:globalThis.Array.isArray(l?.tlogEntries)?l.tlogEntries.map(n=>p.TransparencyLogEntry.fromJSON(n)):[],timestampVerificationData:o(l.timestampVerificationData)?e.TimestampVerificationData.fromJSON(l.timestampVerificationData):void 0}},toJSON(l){let n={};return l.content?.$case==="publicKey"?n.publicKey=h.PublicKeyIdentifier.toJSON(l.content.publicKey):l.content?.$case==="x509CertificateChain"?n.x509CertificateChain=h.X509CertificateChain.toJSON(l.content.x509CertificateChain):l.content?.$case==="certificate"&&(n.certificate=h.X509Certificate.toJSON(l.content.certificate)),l.tlogEntries?.length&&(n.tlogEntries=l.tlogEntries.map(t=>p.TransparencyLogEntry.toJSON(t))),l.timestampVerificationData!==void 0&&(n.timestampVerificationData=e.TimestampVerificationData.toJSON(l.timestampVerificationData)),n}},e.Bundle={fromJSON(l){return{mediaType:o(l.mediaType)?globalThis.String(l.mediaType):"",verificationMaterial:o(l.verificationMaterial)?e.VerificationMaterial.fromJSON(l.verificationMaterial):void 0,content:o(l.messageSignature)?{$case:"messageSignature",messageSignature:h.MessageSignature.fromJSON(l.messageSignature)}:o(l.dsseEnvelope)?{$case:"dsseEnvelope",dsseEnvelope:u.Envelope.fromJSON(l.dsseEnvelope)}:void 0}},toJSON(l){let n={};return l.mediaType!==""&&(n.mediaType=l.mediaType),l.verificationMaterial!==void 0&&(n.verificationMaterial=e.VerificationMaterial.toJSON(l.verificationMaterial)),l.content?.$case==="messageSignature"?n.messageSignature=h.MessageSignature.toJSON(l.content.messageSignature):l.content?.$case==="dsseEnvelope"&&(n.dsseEnvelope=u.Envelope.toJSON(l.content.dsseEnvelope)),n}};function o(l){return l!=null}v(o,"isSet")}),Cl=J(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ClientTrustConfig=e.ServiceConfiguration=e.Service=e.SigningConfig=e.TrustedRoot=e.CertificateAuthority=e.TransparencyLogInstance=e.ServiceSelector=void 0,e.serviceSelectorFromJSON=p,e.serviceSelectorToJSON=o;var u=rr(),h;(function(n){n[n.SERVICE_SELECTOR_UNDEFINED=0]="SERVICE_SELECTOR_UNDEFINED",n[n.ALL=1]="ALL",n[n.ANY=2]="ANY",n[n.EXACT=3]="EXACT"})(h||(e.ServiceSelector=h={}));function p(n){switch(n){case 0:case"SERVICE_SELECTOR_UNDEFINED":return h.SERVICE_SELECTOR_UNDEFINED;case 1:case"ALL":return h.ALL;case 2:case"ANY":return h.ANY;case 3:case"EXACT":return h.EXACT;default:throw new globalThis.Error("Unrecognized enum value "+n+" for enum ServiceSelector")}}v(p,"serviceSelectorFromJSON");function o(n){switch(n){case h.SERVICE_SELECTOR_UNDEFINED:return"SERVICE_SELECTOR_UNDEFINED";case h.ALL:return"ALL";case h.ANY:return"ANY";case h.EXACT:return"EXACT";default:throw new globalThis.Error("Unrecognized enum value "+n+" for enum ServiceSelector")}}v(o,"serviceSelectorToJSON"),e.TransparencyLogInstance={fromJSON(n){return{baseUrl:l(n.baseUrl)?globalThis.String(n.baseUrl):"",hashAlgorithm:l(n.hashAlgorithm)?(0,u.hashAlgorithmFromJSON)(n.hashAlgorithm):0,publicKey:l(n.publicKey)?u.PublicKey.fromJSON(n.publicKey):void 0,logId:l(n.logId)?u.LogId.fromJSON(n.logId):void 0,checkpointKeyId:l(n.checkpointKeyId)?u.LogId.fromJSON(n.checkpointKeyId):void 0,operator:l(n.operator)?globalThis.String(n.operator):""}},toJSON(n){let t={};return n.baseUrl!==""&&(t.baseUrl=n.baseUrl),n.hashAlgorithm!==0&&(t.hashAlgorithm=(0,u.hashAlgorithmToJSON)(n.hashAlgorithm)),n.publicKey!==void 0&&(t.publicKey=u.PublicKey.toJSON(n.publicKey)),n.logId!==void 0&&(t.logId=u.LogId.toJSON(n.logId)),n.checkpointKeyId!==void 0&&(t.checkpointKeyId=u.LogId.toJSON(n.checkpointKeyId)),n.operator!==""&&(t.operator=n.operator),t}},e.CertificateAuthority={fromJSON(n){return{subject:l(n.subject)?u.DistinguishedName.fromJSON(n.subject):void 0,uri:l(n.uri)?globalThis.String(n.uri):"",certChain:l(n.certChain)?u.X509CertificateChain.fromJSON(n.certChain):void 0,validFor:l(n.validFor)?u.TimeRange.fromJSON(n.validFor):void 0,operator:l(n.operator)?globalThis.String(n.operator):""}},toJSON(n){let t={};return n.subject!==void 0&&(t.subject=u.DistinguishedName.toJSON(n.subject)),n.uri!==""&&(t.uri=n.uri),n.certChain!==void 0&&(t.certChain=u.X509CertificateChain.toJSON(n.certChain)),n.validFor!==void 0&&(t.validFor=u.TimeRange.toJSON(n.validFor)),n.operator!==""&&(t.operator=n.operator),t}},e.TrustedRoot={fromJSON(n){return{mediaType:l(n.mediaType)?globalThis.String(n.mediaType):"",tlogs:globalThis.Array.isArray(n?.tlogs)?n.tlogs.map(t=>e.TransparencyLogInstance.fromJSON(t)):[],certificateAuthorities:globalThis.Array.isArray(n?.certificateAuthorities)?n.certificateAuthorities.map(t=>e.CertificateAuthority.fromJSON(t)):[],ctlogs:globalThis.Array.isArray(n?.ctlogs)?n.ctlogs.map(t=>e.TransparencyLogInstance.fromJSON(t)):[],timestampAuthorities:globalThis.Array.isArray(n?.timestampAuthorities)?n.timestampAuthorities.map(t=>e.CertificateAuthority.fromJSON(t)):[]}},toJSON(n){let t={};return n.mediaType!==""&&(t.mediaType=n.mediaType),n.tlogs?.length&&(t.tlogs=n.tlogs.map(r=>e.TransparencyLogInstance.toJSON(r))),n.certificateAuthorities?.length&&(t.certificateAuthorities=n.certificateAuthorities.map(r=>e.CertificateAuthority.toJSON(r))),n.ctlogs?.length&&(t.ctlogs=n.ctlogs.map(r=>e.TransparencyLogInstance.toJSON(r))),n.timestampAuthorities?.length&&(t.timestampAuthorities=n.timestampAuthorities.map(r=>e.CertificateAuthority.toJSON(r))),t}},e.SigningConfig={fromJSON(n){return{mediaType:l(n.mediaType)?globalThis.String(n.mediaType):"",caUrls:globalThis.Array.isArray(n?.caUrls)?n.caUrls.map(t=>e.Service.fromJSON(t)):[],oidcUrls:globalThis.Array.isArray(n?.oidcUrls)?n.oidcUrls.map(t=>e.Service.fromJSON(t)):[],rekorTlogUrls:globalThis.Array.isArray(n?.rekorTlogUrls)?n.rekorTlogUrls.map(t=>e.Service.fromJSON(t)):[],rekorTlogConfig:l(n.rekorTlogConfig)?e.ServiceConfiguration.fromJSON(n.rekorTlogConfig):void 0,tsaUrls:globalThis.Array.isArray(n?.tsaUrls)?n.tsaUrls.map(t=>e.Service.fromJSON(t)):[],tsaConfig:l(n.tsaConfig)?e.ServiceConfiguration.fromJSON(n.tsaConfig):void 0}},toJSON(n){let t={};return n.mediaType!==""&&(t.mediaType=n.mediaType),n.caUrls?.length&&(t.caUrls=n.caUrls.map(r=>e.Service.toJSON(r))),n.oidcUrls?.length&&(t.oidcUrls=n.oidcUrls.map(r=>e.Service.toJSON(r))),n.rekorTlogUrls?.length&&(t.rekorTlogUrls=n.rekorTlogUrls.map(r=>e.Service.toJSON(r))),n.rekorTlogConfig!==void 0&&(t.rekorTlogConfig=e.ServiceConfiguration.toJSON(n.rekorTlogConfig)),n.tsaUrls?.length&&(t.tsaUrls=n.tsaUrls.map(r=>e.Service.toJSON(r))),n.tsaConfig!==void 0&&(t.tsaConfig=e.ServiceConfiguration.toJSON(n.tsaConfig)),t}},e.Service={fromJSON(n){return{url:l(n.url)?globalThis.String(n.url):"",majorApiVersion:l(n.majorApiVersion)?globalThis.Number(n.majorApiVersion):0,validFor:l(n.validFor)?u.TimeRange.fromJSON(n.validFor):void 0,operator:l(n.operator)?globalThis.String(n.operator):""}},toJSON(n){let t={};return n.url!==""&&(t.url=n.url),n.majorApiVersion!==0&&(t.majorApiVersion=Math.round(n.majorApiVersion)),n.validFor!==void 0&&(t.validFor=u.TimeRange.toJSON(n.validFor)),n.operator!==""&&(t.operator=n.operator),t}},e.ServiceConfiguration={fromJSON(n){return{selector:l(n.selector)?p(n.selector):0,count:l(n.count)?globalThis.Number(n.count):0}},toJSON(n){let t={};return n.selector!==0&&(t.selector=o(n.selector)),n.count!==0&&(t.count=Math.round(n.count)),t}},e.ClientTrustConfig={fromJSON(n){return{mediaType:l(n.mediaType)?globalThis.String(n.mediaType):"",trustedRoot:l(n.trustedRoot)?e.TrustedRoot.fromJSON(n.trustedRoot):void 0,signingConfig:l(n.signingConfig)?e.SigningConfig.fromJSON(n.signingConfig):void 0}},toJSON(n){let t={};return n.mediaType!==""&&(t.mediaType=n.mediaType),n.trustedRoot!==void 0&&(t.trustedRoot=e.TrustedRoot.toJSON(n.trustedRoot)),n.signingConfig!==void 0&&(t.signingConfig=e.SigningConfig.toJSON(n.signingConfig)),t}};function l(n){return n!=null}v(l,"isSet")}),Vg=J(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Input=e.Artifact=e.ArtifactVerificationOptions_ObserverTimestampOptions=e.ArtifactVerificationOptions_TlogIntegratedTimestampOptions=e.ArtifactVerificationOptions_TimestampAuthorityOptions=e.ArtifactVerificationOptions_CtlogOptions=e.ArtifactVerificationOptions_TlogOptions=e.ArtifactVerificationOptions=e.PublicKeyIdentities=e.CertificateIdentities=e.CertificateIdentity=void 0;var u=Rl(),h=rr(),p=Cl();e.CertificateIdentity={fromJSON(t){return{issuer:n(t.issuer)?globalThis.String(t.issuer):"",san:n(t.san)?h.SubjectAlternativeName.fromJSON(t.san):void 0,oids:globalThis.Array.isArray(t?.oids)?t.oids.map(r=>h.ObjectIdentifierValuePair.fromJSON(r)):[]}},toJSON(t){let r={};return t.issuer!==""&&(r.issuer=t.issuer),t.san!==void 0&&(r.san=h.SubjectAlternativeName.toJSON(t.san)),t.oids?.length&&(r.oids=t.oids.map(s=>h.ObjectIdentifierValuePair.toJSON(s))),r}},e.CertificateIdentities={fromJSON(t){return{identities:globalThis.Array.isArray(t?.identities)?t.identities.map(r=>e.CertificateIdentity.fromJSON(r)):[]}},toJSON(t){let r={};return t.identities?.length&&(r.identities=t.identities.map(s=>e.CertificateIdentity.toJSON(s))),r}},e.PublicKeyIdentities={fromJSON(t){return{publicKeys:globalThis.Array.isArray(t?.publicKeys)?t.publicKeys.map(r=>h.PublicKey.fromJSON(r)):[]}},toJSON(t){let r={};return t.publicKeys?.length&&(r.publicKeys=t.publicKeys.map(s=>h.PublicKey.toJSON(s))),r}},e.ArtifactVerificationOptions={fromJSON(t){return{signers:n(t.certificateIdentities)?{$case:"certificateIdentities",certificateIdentities:e.CertificateIdentities.fromJSON(t.certificateIdentities)}:n(t.publicKeys)?{$case:"publicKeys",publicKeys:e.PublicKeyIdentities.fromJSON(t.publicKeys)}:void 0,tlogOptions:n(t.tlogOptions)?e.ArtifactVerificationOptions_TlogOptions.fromJSON(t.tlogOptions):void 0,ctlogOptions:n(t.ctlogOptions)?e.ArtifactVerificationOptions_CtlogOptions.fromJSON(t.ctlogOptions):void 0,tsaOptions:n(t.tsaOptions)?e.ArtifactVerificationOptions_TimestampAuthorityOptions.fromJSON(t.tsaOptions):void 0,integratedTsOptions:n(t.integratedTsOptions)?e.ArtifactVerificationOptions_TlogIntegratedTimestampOptions.fromJSON(t.integratedTsOptions):void 0,observerOptions:n(t.observerOptions)?e.ArtifactVerificationOptions_ObserverTimestampOptions.fromJSON(t.observerOptions):void 0}},toJSON(t){let r={};return t.signers?.$case==="certificateIdentities"?r.certificateIdentities=e.CertificateIdentities.toJSON(t.signers.certificateIdentities):t.signers?.$case==="publicKeys"&&(r.publicKeys=e.PublicKeyIdentities.toJSON(t.signers.publicKeys)),t.tlogOptions!==void 0&&(r.tlogOptions=e.ArtifactVerificationOptions_TlogOptions.toJSON(t.tlogOptions)),t.ctlogOptions!==void 0&&(r.ctlogOptions=e.ArtifactVerificationOptions_CtlogOptions.toJSON(t.ctlogOptions)),t.tsaOptions!==void 0&&(r.tsaOptions=e.ArtifactVerificationOptions_TimestampAuthorityOptions.toJSON(t.tsaOptions)),t.integratedTsOptions!==void 0&&(r.integratedTsOptions=e.ArtifactVerificationOptions_TlogIntegratedTimestampOptions.toJSON(t.integratedTsOptions)),t.observerOptions!==void 0&&(r.observerOptions=e.ArtifactVerificationOptions_ObserverTimestampOptions.toJSON(t.observerOptions)),r}},e.ArtifactVerificationOptions_TlogOptions={fromJSON(t){return{threshold:n(t.threshold)?globalThis.Number(t.threshold):0,performOnlineVerification:n(t.performOnlineVerification)?globalThis.Boolean(t.performOnlineVerification):!1,disable:n(t.disable)?globalThis.Boolean(t.disable):!1}},toJSON(t){let r={};return t.threshold!==0&&(r.threshold=Math.round(t.threshold)),t.performOnlineVerification!==!1&&(r.performOnlineVerification=t.performOnlineVerification),t.disable!==!1&&(r.disable=t.disable),r}},e.ArtifactVerificationOptions_CtlogOptions={fromJSON(t){return{threshold:n(t.threshold)?globalThis.Number(t.threshold):0,disable:n(t.disable)?globalThis.Boolean(t.disable):!1}},toJSON(t){let r={};return t.threshold!==0&&(r.threshold=Math.round(t.threshold)),t.disable!==!1&&(r.disable=t.disable),r}},e.ArtifactVerificationOptions_TimestampAuthorityOptions={fromJSON(t){return{threshold:n(t.threshold)?globalThis.Number(t.threshold):0,disable:n(t.disable)?globalThis.Boolean(t.disable):!1}},toJSON(t){let r={};return t.threshold!==0&&(r.threshold=Math.round(t.threshold)),t.disable!==!1&&(r.disable=t.disable),r}},e.ArtifactVerificationOptions_TlogIntegratedTimestampOptions={fromJSON(t){return{threshold:n(t.threshold)?globalThis.Number(t.threshold):0,disable:n(t.disable)?globalThis.Boolean(t.disable):!1}},toJSON(t){let r={};return t.threshold!==0&&(r.threshold=Math.round(t.threshold)),t.disable!==!1&&(r.disable=t.disable),r}},e.ArtifactVerificationOptions_ObserverTimestampOptions={fromJSON(t){return{threshold:n(t.threshold)?globalThis.Number(t.threshold):0,disable:n(t.disable)?globalThis.Boolean(t.disable):!1}},toJSON(t){let r={};return t.threshold!==0&&(r.threshold=Math.round(t.threshold)),t.disable!==!1&&(r.disable=t.disable),r}},e.Artifact={fromJSON(t){return{data:n(t.artifactUri)?{$case:"artifactUri",artifactUri:globalThis.String(t.artifactUri)}:n(t.artifact)?{$case:"artifact",artifact:Buffer.from(o(t.artifact))}:n(t.artifactDigest)?{$case:"artifactDigest",artifactDigest:h.HashOutput.fromJSON(t.artifactDigest)}:void 0}},toJSON(t){let r={};return t.data?.$case==="artifactUri"?r.artifactUri=t.data.artifactUri:t.data?.$case==="artifact"?r.artifact=l(t.data.artifact):t.data?.$case==="artifactDigest"&&(r.artifactDigest=h.HashOutput.toJSON(t.data.artifactDigest)),r}},e.Input={fromJSON(t){return{artifactTrustRoot:n(t.artifactTrustRoot)?p.TrustedRoot.fromJSON(t.artifactTrustRoot):void 0,artifactVerificationOptions:n(t.artifactVerificationOptions)?e.ArtifactVerificationOptions.fromJSON(t.artifactVerificationOptions):void 0,bundle:n(t.bundle)?u.Bundle.fromJSON(t.bundle):void 0,artifact:n(t.artifact)?e.Artifact.fromJSON(t.artifact):void 0}},toJSON(t){let r={};return t.artifactTrustRoot!==void 0&&(r.artifactTrustRoot=p.TrustedRoot.toJSON(t.artifactTrustRoot)),t.artifactVerificationOptions!==void 0&&(r.artifactVerificationOptions=e.ArtifactVerificationOptions.toJSON(t.artifactVerificationOptions)),t.bundle!==void 0&&(r.bundle=u.Bundle.toJSON(t.bundle)),t.artifact!==void 0&&(r.artifact=e.Artifact.toJSON(t.artifact)),r}};function o(t){return Uint8Array.from(globalThis.Buffer.from(t,"base64"))}v(o,"bytesFromBase64");function l(t){return globalThis.Buffer.from(t).toString("base64")}v(l,"base64FromBytes");function n(t){return t!=null}v(n,"isSet")}),kr=J(e=>{"use strict";var u=e&&e.__createBinding||(Object.create?function(p,o,l,n){n===void 0&&(n=l);var t=Object.getOwnPropertyDescriptor(o,l);(!t||("get"in t?!o.__esModule:t.writable||t.configurable))&&(t={enumerable:!0,get:v(function(){return o[l]},"get")}),Object.defineProperty(p,n,t)}:function(p,o,l,n){n===void 0&&(n=l),p[n]=o[l]}),h=e&&e.__exportStar||function(p,o){for(var l in p)l!=="default"&&!Object.prototype.hasOwnProperty.call(o,l)&&u(o,p,l)};Object.defineProperty(e,"__esModule",{value:!0}),h(Ol(),e),h(Rl(),e),h(rr(),e),h(Al(),e),h(Cl(),e),h(Vg(),e)}),ki=J(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BUNDLE_V03_MEDIA_TYPE=e.BUNDLE_V03_LEGACY_MEDIA_TYPE=e.BUNDLE_V02_MEDIA_TYPE=e.BUNDLE_V01_MEDIA_TYPE=void 0,e.isBundleWithCertificateChain=u,e.isBundleWithPublicKey=h,e.isBundleWithMessageSignature=p,e.isBundleWithDsseEnvelope=o,e.BUNDLE_V01_MEDIA_TYPE="application/vnd.dev.sigstore.bundle+json;version=0.1",e.BUNDLE_V02_MEDIA_TYPE="application/vnd.dev.sigstore.bundle+json;version=0.2",e.BUNDLE_V03_LEGACY_MEDIA_TYPE="application/vnd.dev.sigstore.bundle+json;version=0.3",e.BUNDLE_V03_MEDIA_TYPE="application/vnd.dev.sigstore.bundle.v0.3+json";function u(l){return l.verificationMaterial.content.$case==="x509CertificateChain"}v(u,"isBundleWithCertificateChain");function h(l){return l.verificationMaterial.content.$case==="publicKey"}v(h,"isBundleWithPublicKey");function p(l){return l.content.$case==="messageSignature"}v(p,"isBundleWithMessageSignature");function o(l){return l.content.$case==="dsseEnvelope"}v(o,"isBundleWithDsseEnvelope")}),Wg=J(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.toMessageSignatureBundle=p,e.toDSSEBundle=o;var u=kr(),h=ki();function p(s){return{mediaType:s.certificateChain?h.BUNDLE_V02_MEDIA_TYPE:h.BUNDLE_V03_MEDIA_TYPE,content:{$case:"messageSignature",messageSignature:{messageDigest:{algorithm:u.HashAlgorithm.SHA2_256,digest:s.digest},signature:s.signature}},verificationMaterial:t(s)}}v(p,"toMessageSignatureBundle");function o(s){return{mediaType:s.certificateChain?h.BUNDLE_V02_MEDIA_TYPE:h.BUNDLE_V03_MEDIA_TYPE,content:{$case:"dsseEnvelope",dsseEnvelope:l(s)},verificationMaterial:t(s)}}v(o,"toDSSEBundle");function l(s){return{payloadType:s.artifactType,payload:s.artifact,signatures:[n(s)]}}v(l,"toEnvelope");function n(s){return{keyid:s.keyHint||"",sig:s.signature}}v(n,"toSignature");function t(s){return{content:r(s),tlogEntries:[],timestampVerificationData:{rfc3161Timestamps:[]}}}v(t,"toVerificationMaterial");function r(s){return s.certificate?s.certificateChain?{$case:"x509CertificateChain",x509CertificateChain:{certificates:[{rawBytes:s.certificate}]}}:{$case:"certificate",certificate:{rawBytes:s.certificate}}:{$case:"publicKey",publicKey:{hint:s.keyHint||""}}}v(r,"toKeyContent")}),Il=J(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ValidationError=void 0;var u=class extends Error{static{v(this,"ValidationError")}constructor(h,p){super(h),this.fields=p}};e.ValidationError=u}),Tl=J(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.assertBundle=h,e.assertBundleV01=p,e.isBundleV01=o,e.assertBundleV02=l,e.assertBundleLatest=n;var u=Il();function h(c){let a=t(c);if(a.length>0)throw new u.ValidationError("invalid bundle",a)}v(h,"assertBundle");function p(c){let a=[];if(a.push(...t(c)),a.push(...r(c)),a.length>0)throw new u.ValidationError("invalid v0.1 bundle",a)}v(p,"assertBundleV01");function o(c){try{return p(c),!0}catch{return!1}}v(o,"isBundleV01");function l(c){let a=[];if(a.push(...t(c)),a.push(...s(c)),a.length>0)throw new u.ValidationError("invalid v0.2 bundle",a)}v(l,"assertBundleV02");function n(c){let a=[];if(a.push(...t(c)),a.push(...s(c)),a.push(...i(c)),a.length>0)throw new u.ValidationError("invalid bundle",a)}v(n,"assertBundleLatest");function t(c){let a=[];if((c.mediaType===void 0||!c.mediaType.match(/^application\/vnd\.dev\.sigstore\.bundle\+json;version=\d\.\d/)&&!c.mediaType.match(/^application\/vnd\.dev\.sigstore\.bundle\.v\d\.\d\+json/))&&a.push("mediaType"),c.content===void 0)a.push("content");else switch(c.content.$case){case"messageSignature":c.content.messageSignature.messageDigest===void 0?a.push("content.messageSignature.messageDigest"):c.content.messageSignature.messageDigest.digest.length===0&&a.push("content.messageSignature.messageDigest.digest"),c.content.messageSignature.signature.length===0&&a.push("content.messageSignature.signature");break;case"dsseEnvelope":c.content.dsseEnvelope.payload.length===0&&a.push("content.dsseEnvelope.payload"),c.content.dsseEnvelope.signatures.length!==1?a.push("content.dsseEnvelope.signatures"):c.content.dsseEnvelope.signatures[0].sig.length===0&&a.push("content.dsseEnvelope.signatures[0].sig");break}if(c.verificationMaterial===void 0)a.push("verificationMaterial");else{if(c.verificationMaterial.content===void 0)a.push("verificationMaterial.content");else switch(c.verificationMaterial.content.$case){case"x509CertificateChain":c.verificationMaterial.content.x509CertificateChain.certificates.length===0&&a.push("verificationMaterial.content.x509CertificateChain.certificates"),c.verificationMaterial.content.x509CertificateChain.certificates.forEach((d,g)=>{d.rawBytes.length===0&&a.push(`verificationMaterial.content.x509CertificateChain.certificates[${g}].rawBytes`)});break;case"certificate":c.verificationMaterial.content.certificate.rawBytes.length===0&&a.push("verificationMaterial.content.certificate.rawBytes");break}c.verificationMaterial.tlogEntries===void 0?a.push("verificationMaterial.tlogEntries"):c.verificationMaterial.tlogEntries.length>0&&c.verificationMaterial.tlogEntries.forEach((d,g)=>{d.logId===void 0&&a.push(`verificationMaterial.tlogEntries[${g}].logId`),d.kindVersion===void 0&&a.push(`verificationMaterial.tlogEntries[${g}].kindVersion`)})}return a}v(t,"validateBundleBase");function r(c){let a=[];return c.verificationMaterial&&c.verificationMaterial.tlogEntries?.length>0&&c.verificationMaterial.tlogEntries.forEach((d,g)=>{d.inclusionPromise===void 0&&a.push(`verificationMaterial.tlogEntries[${g}].inclusionPromise`)}),a}v(r,"validateInclusionPromise");function s(c){let a=[];return c.verificationMaterial&&c.verificationMaterial.tlogEntries?.length>0&&c.verificationMaterial.tlogEntries.forEach((d,g)=>{d.inclusionProof===void 0?a.push(`verificationMaterial.tlogEntries[${g}].inclusionProof`):d.inclusionProof.checkpoint===void 0&&a.push(`verificationMaterial.tlogEntries[${g}].inclusionProof.checkpoint`)}),a}v(s,"validateInclusionProof");function i(c){let a=[];return c.verificationMaterial?.content?.$case==="x509CertificateChain"&&a.push("verificationMaterial.content.$case"),a}v(i,"validateNoCertificateChain")}),zg=J(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.envelopeToJSON=e.envelopeFromJSON=e.bundleToJSON=e.bundleFromJSON=void 0;var u=kr(),h=ki(),p=Tl(),o=v(r=>{let s=u.Bundle.fromJSON(r);switch(s.mediaType){case h.BUNDLE_V01_MEDIA_TYPE:(0,p.assertBundleV01)(s);break;case h.BUNDLE_V02_MEDIA_TYPE:(0,p.assertBundleV02)(s);break;default:(0,p.assertBundleLatest)(s);break}return s},"bundleFromJSON");e.bundleFromJSON=o;var l=v(r=>u.Bundle.toJSON(r),"bundleToJSON");e.bundleToJSON=l;var n=v(r=>u.Envelope.fromJSON(r),"envelopeFromJSON");e.envelopeFromJSON=n;var t=v(r=>u.Envelope.toJSON(r),"envelopeToJSON");e.envelopeToJSON=t}),Nr=J(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isBundleV01=e.assertBundleV02=e.assertBundleV01=e.assertBundleLatest=e.assertBundle=e.envelopeToJSON=e.envelopeFromJSON=e.bundleToJSON=e.bundleFromJSON=e.ValidationError=e.isBundleWithPublicKey=e.isBundleWithMessageSignature=e.isBundleWithDsseEnvelope=e.isBundleWithCertificateChain=e.BUNDLE_V03_MEDIA_TYPE=e.BUNDLE_V03_LEGACY_MEDIA_TYPE=e.BUNDLE_V02_MEDIA_TYPE=e.BUNDLE_V01_MEDIA_TYPE=e.toMessageSignatureBundle=e.toDSSEBundle=void 0;var u=Wg();Object.defineProperty(e,"toDSSEBundle",{enumerable:!0,get:v(function(){return u.toDSSEBundle},"get")}),Object.defineProperty(e,"toMessageSignatureBundle",{enumerable:!0,get:v(function(){return u.toMessageSignatureBundle},"get")});var h=ki();Object.defineProperty(e,"BUNDLE_V01_MEDIA_TYPE",{enumerable:!0,get:v(function(){return h.BUNDLE_V01_MEDIA_TYPE},"get")}),Object.defineProperty(e,"BUNDLE_V02_MEDIA_TYPE",{enumerable:!0,get:v(function(){return h.BUNDLE_V02_MEDIA_TYPE},"get")}),Object.defineProperty(e,"BUNDLE_V03_LEGACY_MEDIA_TYPE",{enumerable:!0,get:v(function(){return h.BUNDLE_V03_LEGACY_MEDIA_TYPE},"get")}),Object.defineProperty(e,"BUNDLE_V03_MEDIA_TYPE",{enumerable:!0,get:v(function(){return h.BUNDLE_V03_MEDIA_TYPE},"get")}),Object.defineProperty(e,"isBundleWithCertificateChain",{enumerable:!0,get:v(function(){return h.isBundleWithCertificateChain},"get")}),Object.defineProperty(e,"isBundleWithDsseEnvelope",{enumerable:!0,get:v(function(){return h.isBundleWithDsseEnvelope},"get")}),Object.defineProperty(e,"isBundleWithMessageSignature",{enumerable:!0,get:v(function(){return h.isBundleWithMessageSignature},"get")}),Object.defineProperty(e,"isBundleWithPublicKey",{enumerable:!0,get:v(function(){return h.isBundleWithPublicKey},"get")});var p=Il();Object.defineProperty(e,"ValidationError",{enumerable:!0,get:v(function(){return p.ValidationError},"get")});var o=zg();Object.defineProperty(e,"bundleFromJSON",{enumerable:!0,get:v(function(){return o.bundleFromJSON},"get")}),Object.defineProperty(e,"bundleToJSON",{enumerable:!0,get:v(function(){return o.bundleToJSON},"get")}),Object.defineProperty(e,"envelopeFromJSON",{enumerable:!0,get:v(function(){return o.envelopeFromJSON},"get")}),Object.defineProperty(e,"envelopeToJSON",{enumerable:!0,get:v(function(){return o.envelopeToJSON},"get")});var l=Tl();Object.defineProperty(e,"assertBundle",{enumerable:!0,get:v(function(){return l.assertBundle},"get")}),Object.defineProperty(e,"assertBundleLatest",{enumerable:!0,get:v(function(){return l.assertBundleLatest},"get")}),Object.defineProperty(e,"assertBundleV01",{enumerable:!0,get:v(function(){return l.assertBundleV01},"get")}),Object.defineProperty(e,"assertBundleV02",{enumerable:!0,get:v(function(){return l.assertBundleV02},"get")}),Object.defineProperty(e,"isBundleV01",{enumerable:!0,get:v(function(){return l.isBundleV01},"get")})}),Lr=J(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ByteStream=void 0;var u=class extends Error{static{v(this,"StreamError")}},h=class Ws{static{v(this,"ByteStream")}constructor(o){this.start=0,o?(this.buf=o,this.view=Buffer.from(o)):(this.buf=new ArrayBuffer(0),this.view=Buffer.from(this.buf))}get buffer(){return this.view.subarray(0,this.start)}get length(){return this.view.byteLength}get position(){return this.start}seek(o){this.start=o}slice(o,l){let n=o+l;if(n>this.length)throw new u("request past end of buffer");return this.view.subarray(o,n)}appendChar(o){this.ensureCapacity(1),this.view[this.start]=o,this.start+=1}appendUint16(o){this.ensureCapacity(2);let l=new Uint16Array([o]),n=new Uint8Array(l.buffer);this.view[this.start]=n[1],this.view[this.start+1]=n[0],this.start+=2}appendUint24(o){this.ensureCapacity(3);let l=new Uint32Array([o]),n=new Uint8Array(l.buffer);this.view[this.start]=n[2],this.view[this.start+1]=n[1],this.view[this.start+2]=n[0],this.start+=3}appendView(o){this.ensureCapacity(o.length),this.view.set(o,this.start),this.start+=o.length}getBlock(o){if(o<=0)return Buffer.alloc(0);if(this.start+o>this.view.length)throw new Error("request past end of buffer");let l=this.view.subarray(this.start,this.start+o);return this.start+=o,l}getUint8(){return this.getBlock(1)[0]}getUint16(){let o=this.getBlock(2);return o[0]<<8|o[1]}ensureCapacity(o){if(this.start+o>this.view.byteLength){let l=Ws.BLOCK_SIZE+(o>Ws.BLOCK_SIZE?o:0);this.realloc(this.view.byteLength+l)}}realloc(o){let l=new ArrayBuffer(o),n=Buffer.from(l);n.set(this.view),this.buf=l,this.view=n}};e.ByteStream=h,h.BLOCK_SIZE=1024}),Ni=J(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ASN1TypeError=e.ASN1ParseError=void 0;var u=class extends Error{static{v(this,"ASN1ParseError")}};e.ASN1ParseError=u;var h=class extends Error{static{v(this,"ASN1TypeError")}};e.ASN1TypeError=h}),Kg=J(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.decodeLength=h,e.encodeLength=p;var u=Ni();function h(o){let l=o.getUint8();if(!(l&128))return l;let n=l&127;if(n>6)throw new u.ASN1ParseError("length exceeds 6 byte limit");let t=0;for(let r=0;r<n;r++)t=t*256+o.getUint8();if(t===0)throw new u.ASN1ParseError("indefinite length encoding not supported");return t}v(h,"decodeLength");function p(o){if(o<128)return Buffer.from([o]);let l=BigInt(o),n=[];for(;l>0n;)n.unshift(Number(l&255n)),l=l>>8n;return Buffer.from([128|n.length,...n])}v(p,"encodeLength")}),Jg=J(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.parseInteger=p,e.parseStringASCII=o,e.parseTime=l,e.parseOID=n,e.parseBoolean=t,e.parseBitString=r;var u=/^(\d{2})(\d{2})(\d{2})(\d{2})(\d{2})(\d{2})(\.\d{3})?Z$/,h=/^(\d{4})(\d{2})(\d{2})(\d{2})(\d{2})(\d{2})(\.\d{3})?Z$/;function p(s){let i=0,c=s.length,a=s[i],d=a>127,g=d?255:0;for(;a==g&&++i<c;)a=s[i];if(c-i===0)return BigInt(d?-1:0);a=d?a-256:a;let m=BigInt(a);for(let f=i+1;f<c;++f)m=m*BigInt(256)+BigInt(s[f]);return m}v(p,"parseInteger");function o(s){return s.toString("ascii")}v(o,"parseStringASCII");function l(s,i){let c=o(s),a=i?u.exec(c):h.exec(c);if(!a)throw new Error("invalid time");if(i){let d=Number(a[1]);d+=d>=50?1900:2e3,a[1]=d.toString()}return new Date(`${a[1]}-${a[2]}-${a[3]}T${a[4]}:${a[5]}:${a[6]}Z`)}v(l,"parseTime");function n(s){let i=0,c=s.length,a=s[i++],d=Math.floor(a/40),g=a%40,m=`${d}.${g}`,f=0;for(;i<c;++i)a=s[i],f=(f<<7)+(a&127),!(a&128)&&(m+=`.${f}`,f=0);return m}v(n,"parseOID");function t(s){return s[0]!==0}v(t,"parseBoolean");function r(s){let i=s[0],c=1,a=s.length,d=[];for(let g=c;g<a;++g){let m=s[g],f=g===a-1?i:0;for(let y=7;y>=f;--y)d.push(m>>y&1)}return d}v(r,"parseBitString")}),qg=J(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ASN1Tag=void 0;var u=Ni(),h={BOOLEAN:1,INTEGER:2,BIT_STRING:3,OCTET_STRING:4,OBJECT_IDENTIFIER:6,SEQUENCE:16,SET:17,PRINTABLE_STRING:19,UTC_TIME:23,GENERALIZED_TIME:24},p={UNIVERSAL:0,APPLICATION:1,CONTEXT_SPECIFIC:2,PRIVATE:3},o=class{static{v(this,"ASN1Tag")}constructor(l){if(this.number=l&31,this.constructed=(l&32)===32,this.class=l>>6,this.number===31)throw new u.ASN1ParseError("long form tags not supported");if(this.class===p.UNIVERSAL&&this.number===0)throw new u.ASN1ParseError("unsupported tag 0x00")}isUniversal(){return this.class===p.UNIVERSAL}isContextSpecific(l){let n=this.class===p.CONTEXT_SPECIFIC;return l!==void 0?n&&this.number===l:n}isBoolean(){return this.isUniversal()&&this.number===h.BOOLEAN}isInteger(){return this.isUniversal()&&this.number===h.INTEGER}isBitString(){return this.isUniversal()&&this.number===h.BIT_STRING}isOctetString(){return this.isUniversal()&&this.number===h.OCTET_STRING}isOID(){return this.isUniversal()&&this.number===h.OBJECT_IDENTIFIER}isUTCTime(){return this.isUniversal()&&this.number===h.UTC_TIME}isGeneralizedTime(){return this.isUniversal()&&this.number===h.GENERALIZED_TIME}toDER(){return this.number|(this.constructed?32:0)|this.class<<6}};e.ASN1Tag=o}),Zg=J(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ASN1Obj=void 0;var u=Lr(),h=Ni(),p=Kg(),o=Jg(),l=qg(),n=class{static{v(this,"ASN1Obj")}constructor(s,i,c){this.tag=s,this.value=i,this.subs=c}static parseBuffer(s){return t(new u.ByteStream(s))}toDER(){let s=new u.ByteStream;if(this.subs.length>0)for(let a of this.subs)s.appendView(a.toDER());else s.appendView(this.value);let i=s.buffer,c=new u.ByteStream;return c.appendChar(this.tag.toDER()),c.appendView((0,p.encodeLength)(i.length)),c.appendView(i),c.buffer}toBoolean(){if(!this.tag.isBoolean())throw new h.ASN1TypeError("not a boolean");return(0,o.parseBoolean)(this.value)}toInteger(){if(!this.tag.isInteger())throw new h.ASN1TypeError("not an integer");return(0,o.parseInteger)(this.value)}toOID(){if(!this.tag.isOID())throw new h.ASN1TypeError("not an OID");return(0,o.parseOID)(this.value)}toDate(){switch(!0){case this.tag.isUTCTime():return(0,o.parseTime)(this.value,!0);case this.tag.isGeneralizedTime():return(0,o.parseTime)(this.value,!1);default:throw new h.ASN1TypeError("not a date")}}toBitString(){if(!this.tag.isBitString())throw new h.ASN1TypeError("not a bit string");return(0,o.parseBitString)(this.value)}};e.ASN1Obj=n;function t(s){let i=new l.ASN1Tag(s.getUint8()),c=(0,p.decodeLength)(s),a=s.slice(s.position,c),d=s.position,g=[];if(i.constructed)g=r(s,c);else if(i.isOctetString())try{g=r(s,c)}catch{}return g.length===0&&s.seek(d+c),new n(i,a,g)}v(t,"parseStream");function r(s,i){let c=s.position+i;if(c>s.length)throw new h.ASN1ParseError("invalid length");let a=[];for(;s.position<c;)a.push(t(s));if(s.position!==c)throw new h.ASN1ParseError("invalid length");return a}v(r,"collectSubs")}),Li=J(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ASN1Obj=void 0;var u=Zg();Object.defineProperty(e,"ASN1Obj",{enumerable:!0,get:v(function(){return u.ASN1Obj},"get")})}),sr=J(e=>{"use strict";var u=e&&e.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.createPublicKey=p,e.digest=o,e.verify=l,e.bufferEqual=n;var h=u(require("crypto"));function p(t,r="spki"){return typeof t=="string"?h.default.createPublicKey(t):h.default.createPublicKey({key:t,format:"der",type:r})}v(p,"createPublicKey");function o(t,...r){let s=h.default.createHash(t);for(let i of r)s.update(i);return s.digest()}v(o,"digest");function l(t,r,s,i){try{return h.default.verify(i,t,r,s)}catch{return!1}}v(l,"verify");function n(t,r){try{return h.default.timingSafeEqual(t,r)}catch{return!1}}v(n,"bufferEqual")}),Yg=J(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.preAuthEncoding=h;var u="DSSEv1";function h(p,o){let l=[u,p.length,p,o.length,""].join(" ");return Buffer.concat([Buffer.from(l,"ascii"),o])}v(h,"preAuthEncoding")}),Xg=J(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.base64Encode=p,e.base64Decode=o;var u="base64",h="utf-8";function p(l){return Buffer.from(l,h).toString(u)}v(p,"base64Encode");function o(l){return Buffer.from(l,u).toString(h)}v(o,"base64Decode")}),Qg=J(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.canonicalize=u;function u(h){let p="";if(h===null||typeof h!="object"||h.toJSON!=null)p+=JSON.stringify(h);else if(Array.isArray(h)){p+="[";let o=!0;h.forEach(l=>{o||(p+=","),o=!1,p+=u(l)}),p+="]"}else{p+="{";let o=!0;Object.keys(h).sort().forEach(l=>{o||(p+=","),o=!1,p+=JSON.stringify(l),p+=":",p+=u(h[l])}),p+="}"}return p}v(u,"canonicalize")}),Pl=J(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.toDER=p,e.fromDER=o;var u=/-----BEGIN (.*)-----/,h=/-----END (.*)-----/;function p(l){let n="";return l.split(`
`).forEach(t=>{t.match(u)||t.match(h)||(n+=t)}),Buffer.from(n,"base64")}v(p,"toDER");function o(l,n="CERTIFICATE"){let t=l.toString("base64").match(/.{1,64}/g)||"";return[`-----BEGIN ${n}-----`,...t,`-----END ${n}-----`].join(`
`).concat(`
`)}v(o,"fromDER")}),Di=J(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SHA2_HASH_ALGOS=e.ECDSA_SIGNATURE_ALGOS=void 0,e.ECDSA_SIGNATURE_ALGOS={"1.2.840.10045.4.3.1":"sha224","1.2.840.10045.4.3.2":"sha256","1.2.840.10045.4.3.3":"sha384","1.2.840.10045.4.3.4":"sha512"},e.SHA2_HASH_ALGOS={"2.16.840.1.101.3.4.2.1":"sha256","2.16.840.1.101.3.4.2.2":"sha384","2.16.840.1.101.3.4.2.3":"sha512"}}),xl=J(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RFC3161TimestampVerificationError=void 0;var u=class extends Error{static{v(this,"RFC3161TimestampVerificationError")}};e.RFC3161TimestampVerificationError=u}),em=J(e=>{"use strict";var u=e&&e.__createBinding||(Object.create?function(r,s,i,c){c===void 0&&(c=i);var a=Object.getOwnPropertyDescriptor(s,i);(!a||("get"in a?!s.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:v(function(){return s[i]},"get")}),Object.defineProperty(r,c,a)}:function(r,s,i,c){c===void 0&&(c=i),r[c]=s[i]}),h=e&&e.__setModuleDefault||(Object.create?function(r,s){Object.defineProperty(r,"default",{enumerable:!0,value:s})}:function(r,s){r.default=s}),p=e&&e.__importStar||function(){var r=v(function(s){return r=Object.getOwnPropertyNames||function(i){var c=[];for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(c[c.length]=a);return c},r(s)},"ownKeys");return function(s){if(s&&s.__esModule)return s;var i={};if(s!=null)for(var c=r(s),a=0;a<c.length;a++)c[a]!=="default"&&u(i,s,c[a]);return h(i,s),i}}();Object.defineProperty(e,"__esModule",{value:!0}),e.TSTInfo=void 0;var o=p(sr()),l=Di(),n=xl(),t=class{static{v(this,"TSTInfo")}constructor(r){this.root=r}get version(){return this.root.subs[0].toInteger()}get genTime(){return this.root.subs[4].toDate()}get messageImprintHashAlgorithm(){let r=this.messageImprintObj.subs[0].subs[0].toOID();return l.SHA2_HASH_ALGOS[r]}get messageImprintHashedMessage(){return this.messageImprintObj.subs[1].value}get raw(){return this.root.toDER()}verify(r){let s=o.digest(this.messageImprintHashAlgorithm,r);if(!o.bufferEqual(s,this.messageImprintHashedMessage))throw new n.RFC3161TimestampVerificationError("message imprint does not match artifact")}get messageImprintObj(){return this.root.subs[2]}};e.TSTInfo=t}),tm=J(e=>{"use strict";var u=e&&e.__createBinding||(Object.create?function(d,g,m,f){f===void 0&&(f=m);var y=Object.getOwnPropertyDescriptor(g,m);(!y||("get"in y?!g.__esModule:y.writable||y.configurable))&&(y={enumerable:!0,get:v(function(){return g[m]},"get")}),Object.defineProperty(d,f,y)}:function(d,g,m,f){f===void 0&&(f=m),d[f]=g[m]}),h=e&&e.__setModuleDefault||(Object.create?function(d,g){Object.defineProperty(d,"default",{enumerable:!0,value:g})}:function(d,g){d.default=g}),p=e&&e.__importStar||function(){var d=v(function(g){return d=Object.getOwnPropertyNames||function(m){var f=[];for(var y in m)Object.prototype.hasOwnProperty.call(m,y)&&(f[f.length]=y);return f},d(g)},"ownKeys");return function(g){if(g&&g.__esModule)return g;var m={};if(g!=null)for(var f=d(g),y=0;y<f.length;y++)f[y]!=="default"&&u(m,g,f[y]);return h(m,g),m}}();Object.defineProperty(e,"__esModule",{value:!0}),e.RFC3161Timestamp=void 0;var o=Li(),l=p(sr()),n=Di(),t=xl(),r=em(),s="1.2.840.113549.1.7.2",i="1.2.840.113549.1.9.16.1.4",c="1.2.840.113549.1.9.4",a=class kl{static{v(this,"RFC3161Timestamp")}constructor(g){this.root=g}static parse(g){let m=o.ASN1Obj.parseBuffer(g);return new kl(m)}get status(){return this.pkiStatusInfoObj.subs[0].toInteger()}get contentType(){return this.contentTypeObj.toOID()}get eContentType(){return this.eContentTypeObj.toOID()}get signingTime(){return this.tstInfo.genTime}get signerIssuer(){return this.signerSidObj.subs[0].value}get signerSerialNumber(){return this.signerSidObj.subs[1].value}get signerDigestAlgorithm(){let g=this.signerDigestAlgorithmObj.subs[0].toOID();return n.SHA2_HASH_ALGOS[g]}get signatureAlgorithm(){let g=this.signatureAlgorithmObj.subs[0].toOID();return n.ECDSA_SIGNATURE_ALGOS[g]}get signatureValue(){return this.signatureValueObj.value}get tstInfo(){return new r.TSTInfo(this.eContentObj.subs[0].subs[0])}verify(g,m){if(!this.timeStampTokenObj)throw new t.RFC3161TimestampVerificationError("timeStampToken is missing");if(this.contentType!==s)throw new t.RFC3161TimestampVerificationError(`incorrect content type: ${this.contentType}`);if(this.eContentType!==i)throw new t.RFC3161TimestampVerificationError(`incorrect encapsulated content type: ${this.eContentType}`);this.tstInfo.verify(g),this.verifyMessageDigest(),this.verifySignature(m)}verifyMessageDigest(){let g=l.digest(this.signerDigestAlgorithm,this.tstInfo.raw),m=this.messageDigestAttributeObj.subs[1].subs[0].value;if(!l.bufferEqual(g,m))throw new t.RFC3161TimestampVerificationError("signed data does not match tstInfo")}verifySignature(g){let m=this.signedAttrsObj.toDER();if(m[0]=49,!l.verify(m,g,this.signatureValue,this.signatureAlgorithm))throw new t.RFC3161TimestampVerificationError("signature verification failed")}get pkiStatusInfoObj(){return this.root.subs[0]}get timeStampTokenObj(){return this.root.subs[1]}get contentTypeObj(){return this.timeStampTokenObj.subs[0]}get signedDataObj(){return this.timeStampTokenObj.subs.find(g=>g.tag.isContextSpecific(0)).subs[0]}get encapContentInfoObj(){return this.signedDataObj.subs[2]}get signerInfosObj(){let g=this.signedDataObj;return g.subs[g.subs.length-1]}get signerInfoObj(){return this.signerInfosObj.subs[0]}get eContentTypeObj(){return this.encapContentInfoObj.subs[0]}get eContentObj(){return this.encapContentInfoObj.subs[1]}get signedAttrsObj(){return this.signerInfoObj.subs.find(g=>g.tag.isContextSpecific(0))}get messageDigestAttributeObj(){return this.signedAttrsObj.subs.find(g=>g.subs[0].tag.isOID()&&g.subs[0].toOID()===c)}get signerSidObj(){return this.signerInfoObj.subs[1]}get signerDigestAlgorithmObj(){return this.signerInfoObj.subs[2]}get signatureAlgorithmObj(){return this.signerInfoObj.subs[4]}get signatureValueObj(){return this.signerInfoObj.subs[5]}};e.RFC3161Timestamp=a}),rm=J(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RFC3161Timestamp=void 0;var u=tm();Object.defineProperty(e,"RFC3161Timestamp",{enumerable:!0,get:v(function(){return u.RFC3161Timestamp},"get")})}),sm=J(e=>{"use strict";var u=e&&e.__createBinding||(Object.create?function(t,r,s,i){i===void 0&&(i=s);var c=Object.getOwnPropertyDescriptor(r,s);(!c||("get"in c?!r.__esModule:c.writable||c.configurable))&&(c={enumerable:!0,get:v(function(){return r[s]},"get")}),Object.defineProperty(t,i,c)}:function(t,r,s,i){i===void 0&&(i=s),t[i]=r[s]}),h=e&&e.__setModuleDefault||(Object.create?function(t,r){Object.defineProperty(t,"default",{enumerable:!0,value:r})}:function(t,r){t.default=r}),p=e&&e.__importStar||function(){var t=v(function(r){return t=Object.getOwnPropertyNames||function(s){var i=[];for(var c in s)Object.prototype.hasOwnProperty.call(s,c)&&(i[i.length]=c);return i},t(r)},"ownKeys");return function(r){if(r&&r.__esModule)return r;var s={};if(r!=null)for(var i=t(r),c=0;c<i.length;c++)i[c]!=="default"&&u(s,r,i[c]);return h(s,r),s}}();Object.defineProperty(e,"__esModule",{value:!0}),e.SignedCertificateTimestamp=void 0;var o=p(sr()),l=Lr(),n=class Nl{static{v(this,"SignedCertificateTimestamp")}constructor(r){this.version=r.version,this.logID=r.logID,this.timestamp=r.timestamp,this.extensions=r.extensions,this.hashAlgorithm=r.hashAlgorithm,this.signatureAlgorithm=r.signatureAlgorithm,this.signature=r.signature}get datetime(){return new Date(Number(this.timestamp.readBigInt64BE()))}get algorithm(){switch(this.hashAlgorithm){case 0:return"none";case 1:return"md5";case 2:return"sha1";case 3:return"sha224";case 4:return"sha256";case 5:return"sha384";case 6:return"sha512";default:return"unknown"}}verify(r,s){let i=new l.ByteStream;return i.appendChar(this.version),i.appendChar(0),i.appendView(this.timestamp),i.appendUint16(1),i.appendView(r),i.appendUint16(this.extensions.byteLength),this.extensions.byteLength>0&&i.appendView(this.extensions),o.verify(i.buffer,s,this.signature,this.algorithm)}static parse(r){let s=new l.ByteStream(r),i=s.getUint8(),c=s.getBlock(32),a=s.getBlock(8),d=s.getUint16(),g=s.getBlock(d),m=s.getUint8(),f=s.getUint8(),y=s.getUint16(),S=s.getBlock(y);if(s.position!==r.length)throw new Error("SCT buffer length mismatch");return new Nl({version:i,logID:c,timestamp:a,extensions:g,hashAlgorithm:m,signatureAlgorithm:f,signature:S})}};e.SignedCertificateTimestamp=n}),Ll=J(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.X509SCTExtension=e.X509SubjectKeyIDExtension=e.X509AuthorityKeyIDExtension=e.X509SubjectAlternativeNameExtension=e.X509KeyUsageExtension=e.X509BasicConstraintsExtension=e.X509Extension=void 0;var u=Lr(),h=sm(),p=class{static{v(this,"X509Extension")}constructor(i){this.root=i}get oid(){return this.root.subs[0].toOID()}get critical(){return this.root.subs.length===3?this.root.subs[1].toBoolean():!1}get value(){return this.extnValueObj.value}get valueObj(){return this.extnValueObj}get extnValueObj(){return this.root.subs[this.root.subs.length-1]}};e.X509Extension=p;var o=class extends p{static{v(this,"X509BasicConstraintsExtension")}get isCA(){return this.sequence.subs[0]?.toBoolean()??!1}get pathLenConstraint(){return this.sequence.subs.length>1?this.sequence.subs[1].toInteger():void 0}get sequence(){return this.extnValueObj.subs[0]}};e.X509BasicConstraintsExtension=o;var l=class extends p{static{v(this,"X509KeyUsageExtension")}get digitalSignature(){return this.bitString[0]===1}get keyCertSign(){return this.bitString[5]===1}get crlSign(){return this.bitString[6]===1}get bitString(){return this.extnValueObj.subs[0].toBitString()}};e.X509KeyUsageExtension=l;var n=class extends p{static{v(this,"X509SubjectAlternativeNameExtension")}get rfc822Name(){return this.findGeneralName(1)?.value.toString("ascii")}get uri(){return this.findGeneralName(6)?.value.toString("ascii")}otherName(i){let c=this.findGeneralName(0);return c===void 0||c.subs[0].toOID()!==i?void 0:c.subs[1].subs[0].value.toString("ascii")}findGeneralName(i){return this.generalNames.find(c=>c.tag.isContextSpecific(i))}get generalNames(){return this.extnValueObj.subs[0].subs}};e.X509SubjectAlternativeNameExtension=n;var t=class extends p{static{v(this,"X509AuthorityKeyIDExtension")}get keyIdentifier(){return this.findSequenceMember(0)?.value}findSequenceMember(i){return this.sequence.subs.find(c=>c.tag.isContextSpecific(i))}get sequence(){return this.extnValueObj.subs[0]}};e.X509AuthorityKeyIDExtension=t;var r=class extends p{static{v(this,"X509SubjectKeyIDExtension")}get keyIdentifier(){return this.extnValueObj.subs[0].value}};e.X509SubjectKeyIDExtension=r;var s=class extends p{static{v(this,"X509SCTExtension")}constructor(i){super(i)}get signedCertificateTimestamps(){let i=this.extnValueObj.subs[0].value,c=new u.ByteStream(i),a=c.getUint16()+2,d=[];for(;c.position<a;){let g=c.getUint16(),m=c.getBlock(g);d.push(h.SignedCertificateTimestamp.parse(m))}if(c.position!==a)throw new Error("SCT list length does not match actual length");return d}};e.X509SCTExtension=s}),im=J(e=>{"use strict";var u=e&&e.__createBinding||(Object.create?function(m,f,y,S){S===void 0&&(S=y);var b=Object.getOwnPropertyDescriptor(f,y);(!b||("get"in b?!f.__esModule:b.writable||b.configurable))&&(b={enumerable:!0,get:v(function(){return f[y]},"get")}),Object.defineProperty(m,S,b)}:function(m,f,y,S){S===void 0&&(S=y),m[S]=f[y]}),h=e&&e.__setModuleDefault||(Object.create?function(m,f){Object.defineProperty(m,"default",{enumerable:!0,value:f})}:function(m,f){m.default=f}),p=e&&e.__importStar||function(){var m=v(function(f){return m=Object.getOwnPropertyNames||function(y){var S=[];for(var b in y)Object.prototype.hasOwnProperty.call(y,b)&&(S[S.length]=b);return S},m(f)},"ownKeys");return function(f){if(f&&f.__esModule)return f;var y={};if(f!=null)for(var S=m(f),b=0;b<S.length;b++)S[b]!=="default"&&u(y,f,S[b]);return h(y,f),y}}();Object.defineProperty(e,"__esModule",{value:!0}),e.X509Certificate=e.EXTENSION_OID_SCT=void 0;var o=Li(),l=p(sr()),n=Di(),t=p(Pl()),r=Ll(),s="2.5.29.14",i="2.5.29.15",c="2.5.29.17",a="2.5.29.19",d="2.5.29.35";e.EXTENSION_OID_SCT="1.3.6.1.4.1.11129.2.4.2";var g=class zs{static{v(this,"X509Certificate")}constructor(f){this.root=f}static parse(f){let y=typeof f=="string"?t.toDER(f):f,S=o.ASN1Obj.parseBuffer(y);return new zs(S)}get tbsCertificate(){return this.tbsCertificateObj}get version(){return`v${(this.versionObj.subs[0].toInteger()+BigInt(1)).toString()}`}get serialNumber(){return this.serialNumberObj.value}get notBefore(){return this.validityObj.subs[0].toDate()}get notAfter(){return this.validityObj.subs[1].toDate()}get issuer(){return this.issuerObj.value}get subject(){return this.subjectObj.value}get publicKey(){return this.subjectPublicKeyInfoObj.toDER()}get signatureAlgorithm(){let f=this.signatureAlgorithmObj.subs[0].toOID();return n.ECDSA_SIGNATURE_ALGOS[f]}get signatureValue(){return this.signatureValueObj.value.subarray(1)}get subjectAltName(){let f=this.extSubjectAltName;return f?.uri||f?.rfc822Name}get extensions(){return this.extensionsObj?.subs[0]?.subs||[]}get extKeyUsage(){let f=this.findExtension(i);return f?new r.X509KeyUsageExtension(f):void 0}get extBasicConstraints(){let f=this.findExtension(a);return f?new r.X509BasicConstraintsExtension(f):void 0}get extSubjectAltName(){let f=this.findExtension(c);return f?new r.X509SubjectAlternativeNameExtension(f):void 0}get extAuthorityKeyID(){let f=this.findExtension(d);return f?new r.X509AuthorityKeyIDExtension(f):void 0}get extSubjectKeyID(){let f=this.findExtension(s);return f?new r.X509SubjectKeyIDExtension(f):void 0}get extSCT(){let f=this.findExtension(e.EXTENSION_OID_SCT);return f?new r.X509SCTExtension(f):void 0}get isCA(){let f=this.extBasicConstraints?.isCA||!1;return this.extKeyUsage?f&&this.extKeyUsage.keyCertSign:f}extension(f){let y=this.findExtension(f);return y?new r.X509Extension(y):void 0}verify(f){let y=f?.publicKey||this.publicKey,S=l.createPublicKey(y);return l.verify(this.tbsCertificate.toDER(),S,this.signatureValue,this.signatureAlgorithm)}validForDate(f){return this.notBefore<=f&&f<=this.notAfter}equals(f){return this.root.toDER().equals(f.root.toDER())}clone(){let f=this.root.toDER(),y=Buffer.alloc(f.length);return f.copy(y),zs.parse(y)}findExtension(f){return this.extensions.find(y=>y.subs[0].toOID()===f)}get tbsCertificateObj(){return this.root.subs[0]}get signatureAlgorithmObj(){return this.root.subs[1]}get signatureValueObj(){return this.root.subs[2]}get versionObj(){return this.tbsCertificateObj.subs[0]}get serialNumberObj(){return this.tbsCertificateObj.subs[1]}get issuerObj(){return this.tbsCertificateObj.subs[3]}get validityObj(){return this.tbsCertificateObj.subs[4]}get subjectObj(){return this.tbsCertificateObj.subs[5]}get subjectPublicKeyInfoObj(){return this.tbsCertificateObj.subs[6]}get extensionsObj(){return this.tbsCertificateObj.subs.find(f=>f.tag.isContextSpecific(3))}};e.X509Certificate=g}),nm=J(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.X509SCTExtension=e.X509Certificate=e.EXTENSION_OID_SCT=void 0;var u=im();Object.defineProperty(e,"EXTENSION_OID_SCT",{enumerable:!0,get:v(function(){return u.EXTENSION_OID_SCT},"get")}),Object.defineProperty(e,"X509Certificate",{enumerable:!0,get:v(function(){return u.X509Certificate},"get")});var h=Ll();Object.defineProperty(e,"X509SCTExtension",{enumerable:!0,get:v(function(){return h.X509SCTExtension},"get")})}),je=J(e=>{"use strict";var u=e&&e.__createBinding||(Object.create?function(r,s,i,c){c===void 0&&(c=i);var a=Object.getOwnPropertyDescriptor(s,i);(!a||("get"in a?!s.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:v(function(){return s[i]},"get")}),Object.defineProperty(r,c,a)}:function(r,s,i,c){c===void 0&&(c=i),r[c]=s[i]}),h=e&&e.__setModuleDefault||(Object.create?function(r,s){Object.defineProperty(r,"default",{enumerable:!0,value:s})}:function(r,s){r.default=s}),p=e&&e.__importStar||function(){var r=v(function(s){return r=Object.getOwnPropertyNames||function(i){var c=[];for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(c[c.length]=a);return c},r(s)},"ownKeys");return function(s){if(s&&s.__esModule)return s;var i={};if(s!=null)for(var c=r(s),a=0;a<c.length;a++)c[a]!=="default"&&u(i,s,c[a]);return h(i,s),i}}();Object.defineProperty(e,"__esModule",{value:!0}),e.X509SCTExtension=e.X509Certificate=e.EXTENSION_OID_SCT=e.ByteStream=e.RFC3161Timestamp=e.pem=e.json=e.encoding=e.dsse=e.crypto=e.ASN1Obj=void 0;var o=Li();Object.defineProperty(e,"ASN1Obj",{enumerable:!0,get:v(function(){return o.ASN1Obj},"get")}),e.crypto=p(sr()),e.dsse=p(Yg()),e.encoding=p(Xg()),e.json=p(Qg()),e.pem=p(Pl());var l=rm();Object.defineProperty(e,"RFC3161Timestamp",{enumerable:!0,get:v(function(){return l.RFC3161Timestamp},"get")});var n=Lr();Object.defineProperty(e,"ByteStream",{enumerable:!0,get:v(function(){return n.ByteStream},"get")});var t=nm();Object.defineProperty(e,"EXTENSION_OID_SCT",{enumerable:!0,get:v(function(){return t.EXTENSION_OID_SCT},"get")}),Object.defineProperty(e,"X509Certificate",{enumerable:!0,get:v(function(){return t.X509Certificate},"get")}),Object.defineProperty(e,"X509SCTExtension",{enumerable:!0,get:v(function(){return t.X509SCTExtension},"get")})}),om=J(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.extractJWTSubject=h;var u=je();function h(p){let o=p.split(".",3),l=JSON.parse(u.encoding.base64Decode(o[1]));if(l.email){if(!l.email_verified)throw new Error("JWT email not verified by issuer");return l.email}if(l.sub)return l.sub;throw new Error("JWT subject not found")}v(h,"extractJWTSubject")}),am=J((e,u)=>{u.exports={name:"@sigstore/sign",version:"4.0.1",description:"Sigstore signing library",main:"dist/index.js",types:"dist/index.d.ts",scripts:{clean:"shx rm -rf dist *.tsbuildinfo",build:"tsc --build",test:"jest"},files:["dist"],author:"bdehamer@github.com",license:"Apache-2.0",repository:{type:"git",url:"git+https://github.com/sigstore/sigstore-js.git"},bugs:{url:"https://github.com/sigstore/sigstore-js/issues"},homepage:"https://github.com/sigstore/sigstore-js/tree/main/packages/sign#readme",publishConfig:{provenance:!0},devDependencies:{"@sigstore/jest":"^0.0.0","@sigstore/mock":"^0.11.0","@sigstore/rekor-types":"^4.0.0","@types/make-fetch-happen":"^10.0.4","@types/promise-retry":"^1.1.6"},dependencies:{"@sigstore/bundle":"^4.0.0","@sigstore/core":"^3.0.0","@sigstore/protobuf-specs":"^0.5.0","make-fetch-happen":"^15.0.2","proc-log":"^5.0.0","promise-retry":"^2.0.1"},engines:{node:"^20.17.0 || >=22.9.0"}}}),lm=J(e=>{"use strict";var u=e&&e.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(e,"__esModule",{value:!0}),e.getUserAgent=void 0;var h=u(require("os")),p=v(()=>{let o=am().version,l=process.version,n=h.default.platform(),t=h.default.arch();return`sigstore-js/${o} (Node ${l}) (${n}/${t})`},"getUserAgent");e.getUserAgent=p}),ht=J(e=>{"use strict";var u=e&&e.__createBinding||(Object.create?function(l,n,t,r){r===void 0&&(r=t);var s=Object.getOwnPropertyDescriptor(n,t);(!s||("get"in s?!n.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:v(function(){return n[t]},"get")}),Object.defineProperty(l,r,s)}:function(l,n,t,r){r===void 0&&(r=t),l[r]=n[t]}),h=e&&e.__setModuleDefault||(Object.create?function(l,n){Object.defineProperty(l,"default",{enumerable:!0,value:n})}:function(l,n){l.default=n}),p=e&&e.__importStar||function(){var l=v(function(n){return l=Object.getOwnPropertyNames||function(t){var r=[];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(r[r.length]=s);return r},l(n)},"ownKeys");return function(n){if(n&&n.__esModule)return n;var t={};if(n!=null)for(var r=l(n),s=0;s<r.length;s++)r[s]!=="default"&&u(t,n,r[s]);return h(t,n),t}}();Object.defineProperty(e,"__esModule",{value:!0}),e.ua=e.oidc=e.pem=e.json=e.encoding=e.dsse=e.crypto=void 0;var o=je();Object.defineProperty(e,"crypto",{enumerable:!0,get:v(function(){return o.crypto},"get")}),Object.defineProperty(e,"dsse",{enumerable:!0,get:v(function(){return o.dsse},"get")}),Object.defineProperty(e,"encoding",{enumerable:!0,get:v(function(){return o.encoding},"get")}),Object.defineProperty(e,"json",{enumerable:!0,get:v(function(){return o.json},"get")}),Object.defineProperty(e,"pem",{enumerable:!0,get:v(function(){return o.pem},"get")}),e.oidc=p(om()),e.ua=p(lm())}),Dl=J(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BaseBundleBuilder=void 0;var u=class{static{v(this,"BaseBundleBuilder")}constructor(p){this.signer=p.signer,this.witnesses=p.witnesses}async create(p){let o=await this.prepare(p).then(s=>this.signer.sign(s)),l=await this.package(p,o),n=await Promise.all(this.witnesses.map(s=>s.testify(l.content,h(o.key)))),t=[],r=[];return n.forEach(({tlogEntries:s,rfc3161Timestamps:i})=>{t.push(...s??[]),r.push(...i??[])}),l.verificationMaterial.tlogEntries=t,l.verificationMaterial.timestampVerificationData={rfc3161Timestamps:r},l}async prepare(p){return p.data}};e.BaseBundleBuilder=u;function h(p){switch(p.$case){case"publicKey":return p.publicKey;case"x509Certificate":return p.certificate}}v(h,"publicKey")}),Ml=J(e=>{"use strict";var u=e&&e.__createBinding||(Object.create?function(r,s,i,c){c===void 0&&(c=i);var a=Object.getOwnPropertyDescriptor(s,i);(!a||("get"in a?!s.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:v(function(){return s[i]},"get")}),Object.defineProperty(r,c,a)}:function(r,s,i,c){c===void 0&&(c=i),r[c]=s[i]}),h=e&&e.__setModuleDefault||(Object.create?function(r,s){Object.defineProperty(r,"default",{enumerable:!0,value:s})}:function(r,s){r.default=s}),p=e&&e.__importStar||function(){var r=v(function(s){return r=Object.getOwnPropertyNames||function(i){var c=[];for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(c[c.length]=a);return c},r(s)},"ownKeys");return function(s){if(s&&s.__esModule)return s;var i={};if(s!=null)for(var c=r(s),a=0;a<c.length;a++)c[a]!=="default"&&u(i,s,c[a]);return h(i,s),i}}();Object.defineProperty(e,"__esModule",{value:!0}),e.toMessageSignatureBundle=n,e.toDSSEBundle=t;var o=p(Nr()),l=ht();function n(r,s){let i=l.crypto.digest("sha256",r.data);return o.toMessageSignatureBundle({digest:i,signature:s.signature,certificate:s.key.$case==="x509Certificate"?l.pem.toDER(s.key.certificate):void 0,keyHint:s.key.$case==="publicKey"?s.key.hint:void 0,certificateChain:!0})}v(n,"toMessageSignatureBundle");function t(r,s,i){return o.toDSSEBundle({artifact:r.data,artifactType:r.type,signature:s.signature,certificate:s.key.$case==="x509Certificate"?l.pem.toDER(s.key.certificate):void 0,keyHint:s.key.$case==="publicKey"?s.key.hint:void 0,certificateChain:i})}v(t,"toDSSEBundle")}),cm=J(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DSSEBundleBuilder=void 0;var u=ht(),h=Dl(),p=Ml(),o=class extends h.BaseBundleBuilder{static{v(this,"DSSEBundleBuilder")}constructor(n){super(n),this.certificateChain=n.certificateChain??!1}async prepare(n){let t=l(n);return u.dsse.preAuthEncoding(t.type,t.data)}async package(n,t){return(0,p.toDSSEBundle)(l(n),t,this.certificateChain)}};e.DSSEBundleBuilder=o;function l(n){return{...n,type:n.type??""}}v(l,"artifactDefaults")}),um=J(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MessageSignatureBundleBuilder=void 0;var u=Dl(),h=Ml(),p=class extends u.BaseBundleBuilder{static{v(this,"MessageSignatureBundleBuilder")}constructor(o){super(o)}async package(o,l){return(0,h.toMessageSignatureBundle)(o,l)}};e.MessageSignatureBundleBuilder=p}),hm=J(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MessageSignatureBundleBuilder=e.DSSEBundleBuilder=void 0;var u=cm();Object.defineProperty(e,"DSSEBundleBuilder",{enumerable:!0,get:v(function(){return u.DSSEBundleBuilder},"get")});var h=um();Object.defineProperty(e,"MessageSignatureBundleBuilder",{enumerable:!0,get:v(function(){return h.MessageSignatureBundleBuilder},"get")})}),Mi=J(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HTTPError=void 0;var u=class extends Error{static{v(this,"HTTPError")}constructor({status:h,message:p,location:o}){super(`(${h}) ${p}`),this.statusCode=h,this.location=o}};e.HTTPError=u}),ir=J(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InternalError=void 0,e.internalError=p;var u=Mi(),h=class extends Error{static{v(this,"InternalError")}constructor({code:o,message:l,cause:n}){super(l),this.name=this.constructor.name,this.cause=n,this.code=o}};e.InternalError=h;function p(o,l,n){throw o instanceof u.HTTPError&&(n+=` - ${o.message}`),new h({code:l,message:n,cause:o})}v(p,"internalError")}),pm=J(e=>{"use strict";var u=e&&e.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.CIContextProvider=void 0;var h=u(Pr()),p=[l,n],o=class{static{v(this,"CIContextProvider")}constructor(t="sigstore"){this.audience=t}async getToken(){return Promise.any(p.map(t=>t(this.audience))).catch(()=>Promise.reject("CI: no tokens available"))}};e.CIContextProvider=o;async function l(t){if(!process.env.ACTIONS_ID_TOKEN_REQUEST_URL||!process.env.ACTIONS_ID_TOKEN_REQUEST_TOKEN)return Promise.reject("no token available");let r=new URL(process.env.ACTIONS_ID_TOKEN_REQUEST_URL);return r.searchParams.append("audience",t),(await(0,h.default)(r.href,{retry:2,headers:{Accept:"application/json",Authorization:`Bearer ${process.env.ACTIONS_ID_TOKEN_REQUEST_TOKEN}`}})).json().then(s=>s.value)}v(l,"getGHAToken");async function n(){return process.env.SIGSTORE_ID_TOKEN?process.env.SIGSTORE_ID_TOKEN:Promise.reject("no token available")}v(n,"getEnv")}),dm=J(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CIContextProvider=void 0;var u=pm();Object.defineProperty(e,"CIContextProvider",{enumerable:!0,get:v(function(){return u.CIContextProvider},"get")})}),ji=J(e=>{"use strict";var u=e&&e.__importDefault||function(S){return S&&S.__esModule?S:{default:S}};Object.defineProperty(e,"__esModule",{value:!0}),e.fetchWithRetry=g;var h=require("http2"),p=u(Pr()),o=We(),l=u(_r()),n=ht(),t=Mi(),{HTTP2_HEADER_LOCATION:r,HTTP2_HEADER_CONTENT_TYPE:s,HTTP2_HEADER_USER_AGENT:i,HTTP_STATUS_INTERNAL_SERVER_ERROR:c,HTTP_STATUS_TOO_MANY_REQUESTS:a,HTTP_STATUS_REQUEST_TIMEOUT:d}=h.constants;async function g(S,b){return(0,l.default)(async(E,_)=>{let w=b.method||"POST",O={[i]:n.ua.getUserAgent(),...b.headers},R=await(0,p.default)(S,{method:w,headers:O,body:b.body,timeout:b.timeout,retry:!1}).catch(I=>(o.log.http("fetch",`${w} ${S} attempt ${_} failed with ${I}`),E(I)));if(R.ok)return R;{let I=await m(R);if(o.log.http("fetch",`${w} ${S} attempt ${_} failed with ${R.status}`),f(R.status))return E(I);throw I}},y(b.retry))}v(g,"fetchWithRetry");var m=v(async S=>{let b=S.statusText,E=S.headers.get(r)||void 0;if(S.headers.get(s)?.includes("application/json"))try{b=(await S.json()).message||b}catch{}return new t.HTTPError({status:S.status,message:b,location:E})},"errorFromResponse"),f=v(S=>[d,a].includes(S)||S>=c,"retryable"),y=v(S=>typeof S=="boolean"?{retries:S?1:0}:typeof S=="number"?{retries:S}:{retries:0,...S},"retryOpts")}),fm=J(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Fulcio=void 0;var u=ji(),h=class{static{v(this,"Fulcio")}constructor(p){this.options=p}async createSigningCertificate(p){let{baseURL:o,retry:l,timeout:n}=this.options,t=`${o}/api/v2/signingCert`;return(await(0,u.fetchWithRetry)(t,{headers:{"Content-Type":"application/json"},body:JSON.stringify(p),timeout:n,retry:l})).json()}};e.Fulcio=h}),gm=J(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CAClient=void 0;var u=ir(),h=fm(),p=class{static{v(this,"CAClient")}constructor(l){this.fulcio=new h.Fulcio({baseURL:l.fulcioBaseURL,retry:l.retry,timeout:l.timeout})}async createSigningCertificate(l,n,t){let r=o(l,n,t);try{let s=await this.fulcio.createSigningCertificate(r);return(s.signedCertificateEmbeddedSct?s.signedCertificateEmbeddedSct:s.signedCertificateDetachedSct).chain.certificates}catch(s){(0,u.internalError)(s,"CA_CREATE_SIGNING_CERTIFICATE_ERROR","error creating signing certificate")}}};e.CAClient=p;function o(l,n,t){return{credentials:{oidcIdentityToken:l},publicKeyRequest:{publicKey:{algorithm:"ECDSA",content:n},proofOfPossession:t.toString("base64")}}}v(o,"toCertificateRequest")}),mm=J(e=>{"use strict";var u=e&&e.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(e,"__esModule",{value:!0}),e.EphemeralSigner=void 0;var h=u(require("crypto")),p="ec",o="P-256",l=class{static{v(this,"EphemeralSigner")}constructor(){this.keypair=h.default.generateKeyPairSync(p,{namedCurve:o})}async sign(n){let t=h.default.sign(null,n,this.keypair.privateKey),r=this.keypair.publicKey.export({format:"pem",type:"spki"}).toString("ascii");return{signature:t,key:{$case:"publicKey",publicKey:r}}}};e.EphemeralSigner=l}),ym=J(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FulcioSigner=e.DEFAULT_FULCIO_URL=void 0;var u=ir(),h=ht(),p=gm(),o=mm();e.DEFAULT_FULCIO_URL="https://fulcio.sigstore.dev";var l=class{static{v(this,"FulcioSigner")}constructor(n){this.ca=new p.CAClient({...n,fulcioBaseURL:n.fulcioBaseURL||e.DEFAULT_FULCIO_URL}),this.identityProvider=n.identityProvider,this.keyHolder=n.keyHolder||new o.EphemeralSigner}async sign(n){let t=await this.getIdentityToken(),r;try{r=h.oidc.extractJWTSubject(t)}catch(c){throw new u.InternalError({code:"IDENTITY_TOKEN_PARSE_ERROR",message:`invalid identity token: ${t}`,cause:c})}let s=await this.keyHolder.sign(Buffer.from(r));if(s.key.$case!=="publicKey")throw new u.InternalError({code:"CA_CREATE_SIGNING_CERTIFICATE_ERROR",message:"unexpected format for signing key"});let i=await this.ca.createSigningCertificate(t,s.key.publicKey,s.signature);return{signature:(await this.keyHolder.sign(n)).signature,key:{$case:"x509Certificate",certificate:i[0]}}}async getIdentityToken(){try{return await this.identityProvider.getToken()}catch(n){throw new u.InternalError({code:"IDENTITY_TOKEN_READ_ERROR",message:"error retrieving identity token",cause:n})}}};e.FulcioSigner=l}),vm=J(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FulcioSigner=e.DEFAULT_FULCIO_URL=void 0;var u=ym();Object.defineProperty(e,"DEFAULT_FULCIO_URL",{enumerable:!0,get:v(function(){return u.DEFAULT_FULCIO_URL},"get")}),Object.defineProperty(e,"FulcioSigner",{enumerable:!0,get:v(function(){return u.FulcioSigner},"get")})}),Sm=J(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Rekor=void 0;var u=ji(),h=class{static{v(this,"Rekor")}constructor(o){this.options=o}async createEntry(o){let{baseURL:l,timeout:n,retry:t}=this.options,r=`${l}/api/v1/log/entries`,s=await(await(0,u.fetchWithRetry)(r,{headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(o),timeout:n,retry:t})).json();return p(s)}async getEntry(o){let{baseURL:l,timeout:n,retry:t}=this.options,r=`${l}/api/v1/log/entries/${o}`,s=await(await(0,u.fetchWithRetry)(r,{method:"GET",headers:{Accept:"application/json"},timeout:n,retry:t})).json();return p(s)}};e.Rekor=h;function p(o){let l=Object.entries(o);if(l.length!=1)throw new Error("Received multiple entries in Rekor response");let[n,t]=l[0];return{...t,uuid:n}}v(p,"entryFromResponse")}),bm=J(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TLogClient=void 0;var u=ir(),h=Mi(),p=Sm(),o=class{static{v(this,"TLogClient")}constructor(n){this.fetchOnConflict=n.fetchOnConflict??!1,this.rekor=new p.Rekor({baseURL:n.rekorBaseURL,retry:n.retry,timeout:n.timeout})}async createEntry(n){let t;try{t=await this.rekor.createEntry(n)}catch(r){if(l(r)&&this.fetchOnConflict){let s=r.location.split("/").pop()||"";try{t=await this.rekor.getEntry(s)}catch(i){(0,u.internalError)(i,"TLOG_FETCH_ENTRY_ERROR","error fetching tlog entry")}}else(0,u.internalError)(r,"TLOG_CREATE_ENTRY_ERROR","error creating tlog entry")}return t}};e.TLogClient=o;function l(n){return n instanceof h.HTTPError&&n.statusCode===409&&n.location!==void 0}v(l,"entryExistsError")}),Em=J(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.toProposedEntry=o;var u=Nr(),h=ht(),p="sha256";function o(s,i,c="dsse"){switch(s.$case){case"dsseEnvelope":return c==="intoto"?t(s.dsseEnvelope,i):n(s.dsseEnvelope,i);case"messageSignature":return l(s.messageSignature,i)}}v(o,"toProposedEntry");function l(s,i){let c=s.messageDigest.digest.toString("hex"),a=s.signature.toString("base64"),d=h.encoding.base64Encode(i);return{apiVersion:"0.0.1",kind:"hashedrekord",spec:{data:{hash:{algorithm:p,value:c}},signature:{content:a,publicKey:{content:d}}}}}v(l,"toProposedHashedRekordEntry");function n(s,i){let c=JSON.stringify((0,u.envelopeToJSON)(s)),a=h.encoding.base64Encode(i);return{apiVersion:"0.0.1",kind:"dsse",spec:{proposedContent:{envelope:c,verifiers:[a]}}}}v(n,"toProposedDSSEEntry");function t(s,i){let c=h.crypto.digest(p,s.payload).toString("hex"),a=r(s,i),d=h.encoding.base64Encode(s.payload.toString("base64")),g=h.encoding.base64Encode(s.signatures[0].sig.toString("base64")),m=s.signatures[0].keyid,f=h.encoding.base64Encode(i),y={payloadType:s.payloadType,payload:d,signatures:[{sig:g,publicKey:f}]};return m.length>0&&(y.signatures[0].keyid=m),{apiVersion:"0.0.2",kind:"intoto",spec:{content:{envelope:y,hash:{algorithm:p,value:a},payloadHash:{algorithm:p,value:c}}}}}v(t,"toProposedIntotoEntry");function r(s,i){let c={payloadType:s.payloadType,payload:s.payload.toString("base64"),signatures:[{sig:s.signatures[0].sig.toString("base64"),publicKey:i}]};return s.signatures[0].keyid.length>0&&(c.signatures[0].keyid=s.signatures[0].keyid),h.crypto.digest(p,h.json.canonicalize(c)).toString("hex")}v(r,"calculateDSSEHash")}),_m=J(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RekorWitness=e.DEFAULT_REKOR_URL=void 0;var u=ht(),h=bm(),p=Em();e.DEFAULT_REKOR_URL="https://rekor.sigstore.dev";var o=class{static{v(this,"RekorWitness")}constructor(r){this.entryType=r.entryType,this.tlog=new h.TLogClient({...r,rekorBaseURL:r.rekorBaseURL||e.DEFAULT_REKOR_URL})}async testify(r,s){let i=(0,p.toProposedEntry)(r,s,this.entryType),c=await this.tlog.createEntry(i);return l(c)}};e.RekorWitness=o;function l(r){let s=Buffer.from(r.logID,"hex"),i=u.encoding.base64Decode(r.body),c=JSON.parse(i),a=r?.verification?.signedEntryTimestamp?n(r.verification.signedEntryTimestamp):void 0,d=r?.verification?.inclusionProof?t(r.verification.inclusionProof):void 0;return{tlogEntries:[{logIndex:r.logIndex.toString(),logId:{keyId:s},integratedTime:r.integratedTime.toString(),kindVersion:{kind:c.kind,version:c.apiVersion},inclusionPromise:a,inclusionProof:d,canonicalizedBody:Buffer.from(r.body,"base64")}]}}v(l,"toTransparencyLogEntry");function n(r){return{signedEntryTimestamp:Buffer.from(r,"base64")}}v(n,"inclusionPromise");function t(r){return{logIndex:r.logIndex.toString(),treeSize:r.treeSize.toString(),rootHash:Buffer.from(r.rootHash,"hex"),hashes:r.hashes.map(s=>Buffer.from(s,"hex")),checkpoint:{envelope:r.checkpoint}}}v(t,"inclusionProof")}),wm=J(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TimestampAuthority=void 0;var u=ji(),h=class{static{v(this,"TimestampAuthority")}constructor(p){this.options=p}async createTimestamp(p){let{baseURL:o,timeout:l,retry:n}=this.options,t=`${o}/api/v1/timestamp`;return(await(0,u.fetchWithRetry)(t,{headers:{"Content-Type":"application/json"},body:JSON.stringify(p),timeout:l,retry:n})).buffer()}};e.TimestampAuthority=h}),Om=J(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TSAClient=void 0;var u=ir(),h=wm(),p=ht(),o="sha256",l=class{static{v(this,"TSAClient")}constructor(n){this.tsa=new h.TimestampAuthority({baseURL:n.tsaBaseURL,retry:n.retry,timeout:n.timeout})}async createTimestamp(n){let t={artifactHash:p.crypto.digest(o,n).toString("base64"),hashAlgorithm:o};try{return await this.tsa.createTimestamp(t)}catch(r){(0,u.internalError)(r,"TSA_CREATE_TIMESTAMP_ERROR","error creating timestamp")}}};e.TSAClient=l}),Am=J(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TSAWitness=void 0;var u=Om(),h=class{static{v(this,"TSAWitness")}constructor(o){this.tsa=new u.TSAClient({tsaBaseURL:o.tsaBaseURL,retry:o.retry,timeout:o.timeout})}async testify(o){let l=p(o);return{rfc3161Timestamps:[{signedTimestamp:await this.tsa.createTimestamp(l)}]}}};e.TSAWitness=h;function p(o){switch(o.$case){case"dsseEnvelope":return o.dsseEnvelope.signatures[0].sig;case"messageSignature":return o.messageSignature.signature}}v(p,"extractSignature")}),Rm=J(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TSAWitness=e.RekorWitness=e.DEFAULT_REKOR_URL=void 0;var u=_m();Object.defineProperty(e,"DEFAULT_REKOR_URL",{enumerable:!0,get:v(function(){return u.DEFAULT_REKOR_URL},"get")}),Object.defineProperty(e,"RekorWitness",{enumerable:!0,get:v(function(){return u.RekorWitness},"get")});var h=Am();Object.defineProperty(e,"TSAWitness",{enumerable:!0,get:v(function(){return h.TSAWitness},"get")})}),jl=J(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TSAWitness=e.RekorWitness=e.DEFAULT_REKOR_URL=e.FulcioSigner=e.DEFAULT_FULCIO_URL=e.CIContextProvider=e.InternalError=e.MessageSignatureBundleBuilder=e.DSSEBundleBuilder=void 0;var u=hm();Object.defineProperty(e,"DSSEBundleBuilder",{enumerable:!0,get:v(function(){return u.DSSEBundleBuilder},"get")}),Object.defineProperty(e,"MessageSignatureBundleBuilder",{enumerable:!0,get:v(function(){return u.MessageSignatureBundleBuilder},"get")});var h=ir();Object.defineProperty(e,"InternalError",{enumerable:!0,get:v(function(){return h.InternalError},"get")});var p=dm();Object.defineProperty(e,"CIContextProvider",{enumerable:!0,get:v(function(){return p.CIContextProvider},"get")});var o=vm();Object.defineProperty(e,"DEFAULT_FULCIO_URL",{enumerable:!0,get:v(function(){return o.DEFAULT_FULCIO_URL},"get")}),Object.defineProperty(e,"FulcioSigner",{enumerable:!0,get:v(function(){return o.FulcioSigner},"get")});var l=Rm();Object.defineProperty(e,"DEFAULT_REKOR_URL",{enumerable:!0,get:v(function(){return l.DEFAULT_REKOR_URL},"get")}),Object.defineProperty(e,"RekorWitness",{enumerable:!0,get:v(function(){return l.RekorWitness},"get")}),Object.defineProperty(e,"TSAWitness",{enumerable:!0,get:v(function(){return l.TSAWitness},"get")})}),Cm=J(e=>{"use strict";var u=e&&e.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(e,"__esModule",{value:!0}),e.appDataPath=o;var h=u(require("os")),p=u(require("path"));function o(l){let n=h.default.homedir();switch(process.platform){case"darwin":{let t=p.default.join(n,"Library","Application Support");return p.default.join(t,l)}case"win32":{let t=process.env.LOCALAPPDATA||p.default.join(n,"AppData","Local");return p.default.join(t,l,"Data")}default:{let t=process.env.XDG_DATA_HOME||p.default.join(n,".local","share");return p.default.join(t,l)}}}v(o,"appDataPath")}),tt=J(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.UnsupportedAlgorithmError=e.CryptoError=e.LengthOrHashMismatchError=e.UnsignedMetadataError=e.RepositoryError=e.ValueError=void 0;var u=class extends Error{static{v(this,"ValueError")}};e.ValueError=u;var h=class extends Error{static{v(this,"RepositoryError")}};e.RepositoryError=h;var p=class extends h{static{v(this,"UnsignedMetadataError")}};e.UnsignedMetadataError=p;var o=class extends h{static{v(this,"LengthOrHashMismatchError")}};e.LengthOrHashMismatchError=o;var l=class extends Error{static{v(this,"CryptoError")}};e.CryptoError=l;var n=class extends l{static{v(this,"UnsupportedAlgorithmError")}};e.UnsupportedAlgorithmError=n}),Im=J(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isDefined=u,e.isObject=h,e.isStringArray=p,e.isObjectArray=o,e.isStringRecord=l,e.isObjectRecord=n;function u(t){return t!==void 0}v(u,"isDefined");function h(t){return typeof t=="object"&&t!==null}v(h,"isObject");function p(t){return Array.isArray(t)&&t.every(r=>typeof r=="string")}v(p,"isStringArray");function o(t){return Array.isArray(t)&&t.every(h)}v(o,"isObjectArray");function l(t){return typeof t=="object"&&t!==null&&Object.keys(t).every(r=>typeof r=="string")&&Object.values(t).every(r=>typeof r=="string")}v(l,"isStringRecord");function n(t){return typeof t=="object"&&t!==null&&Object.keys(t).every(r=>typeof r=="string")&&Object.values(t).every(r=>typeof r=="object"&&r!==null)}v(n,"isObjectRecord")}),$l=J((e,u)=>{function h(o){let l=[];if(typeof o=="string")l.push(p(o));else if(typeof o=="boolean")l.push(JSON.stringify(o));else if(Number.isInteger(o))l.push(JSON.stringify(o));else if(o===null)l.push(JSON.stringify(o));else if(Array.isArray(o)){l.push("[");let n=!0;o.forEach(t=>{n||l.push(","),n=!1,l.push(h(t))}),l.push("]")}else if(typeof o=="object"){l.push("{");let n=!0;Object.keys(o).sort().forEach(t=>{n||l.push(","),n=!1,l.push(p(t)),l.push(":"),l.push(h(o[t]))}),l.push("}")}else throw new TypeError("cannot encode "+o.toString());return l.join("")}v(h,"canonicalize");function p(o){return'"'+o.replace(/\\/g,"\\\\").replace(/"/g,'\\"')+'"'}v(p,"canonicalizeString"),u.exports={canonicalize:h}}),Tm=J(e=>{"use strict";var u=e&&e.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(e,"__esModule",{value:!0}),e.verifySignature=void 0;var h=$l(),p=u(require("crypto")),o=v((l,n,t)=>{let r=Buffer.from((0,h.canonicalize)(l));return p.default.verify(void 0,r,n,Buffer.from(t,"hex"))},"verifySignature");e.verifySignature=o}),Xe=J(e=>{"use strict";var u=e&&e.__createBinding||(Object.create?function(o,l,n,t){t===void 0&&(t=n);var r=Object.getOwnPropertyDescriptor(l,n);(!r||("get"in r?!l.__esModule:r.writable||r.configurable))&&(r={enumerable:!0,get:v(function(){return l[n]},"get")}),Object.defineProperty(o,t,r)}:function(o,l,n,t){t===void 0&&(t=n),o[t]=l[n]}),h=e&&e.__setModuleDefault||(Object.create?function(o,l){Object.defineProperty(o,"default",{enumerable:!0,value:l})}:function(o,l){o.default=l}),p=e&&e.__importStar||function(){var o=v(function(l){return o=Object.getOwnPropertyNames||function(n){var t=[];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[t.length]=r);return t},o(l)},"ownKeys");return function(l){if(l&&l.__esModule)return l;var n={};if(l!=null)for(var t=o(l),r=0;r<t.length;r++)t[r]!=="default"&&u(n,l,t[r]);return h(n,l),n}}();Object.defineProperty(e,"__esModule",{value:!0}),e.crypto=e.guard=void 0,e.guard=p(Im()),e.crypto=p(Tm())}),Rt=J(e=>{"use strict";var u=e&&e.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(e,"__esModule",{value:!0}),e.Signed=e.MetadataKind=void 0,e.isMetadataKind=t;var h=u(require("util")),p=tt(),o=Xe(),l=["1","0","31"],n;(function(i){i.Root="root",i.Timestamp="timestamp",i.Snapshot="snapshot",i.Targets="targets"})(n||(e.MetadataKind=n={}));function t(i){return typeof i=="string"&&Object.values(n).includes(i)}v(t,"isMetadataKind");var r=class Bl{static{v(this,"Signed")}specVersion;expires;version;unrecognizedFields;constructor(c){this.specVersion=c.specVersion||l.join(".");let a=this.specVersion.split(".");if(!(a.length===2||a.length===3)||!a.every(d=>s(d)))throw new p.ValueError("Failed to parse specVersion");if(a[0]!=l[0])throw new p.ValueError("Unsupported specVersion");this.expires=c.expires,this.version=c.version,this.unrecognizedFields=c.unrecognizedFields||{}}equals(c){return c instanceof Bl?this.specVersion===c.specVersion&&this.expires===c.expires&&this.version===c.version&&h.default.isDeepStrictEqual(this.unrecognizedFields,c.unrecognizedFields):!1}isExpired(c){return c||(c=new Date),c>=new Date(this.expires)}static commonFieldsFromJSON(c){let{spec_version:a,expires:d,version:g,...m}=c;if(o.guard.isDefined(a)){if(typeof a!="string")throw new TypeError("spec_version must be a string")}else throw new p.ValueError("spec_version is not defined");if(o.guard.isDefined(d)){if(typeof d!="string")throw new TypeError("expires must be a string")}else throw new p.ValueError("expires is not defined");if(o.guard.isDefined(g)){if(typeof g!="number")throw new TypeError("version must be a number")}else throw new p.ValueError("version is not defined");return{specVersion:a,expires:d,version:g,unrecognizedFields:m}}};e.Signed=r;function s(i){return!isNaN(Number(i))}v(s,"isNumeric")}),Dr=J(e=>{"use strict";var u=e&&e.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(e,"__esModule",{value:!0}),e.TargetFile=e.MetaFile=void 0;var h=u(require("crypto")),p=u(require("util")),o=tt(),l=Xe(),n=class Ks{static{v(this,"MetaFile")}version;length;hashes;unrecognizedFields;constructor(i){if(i.version<=0)throw new o.ValueError("Metafile version must be at least 1");i.length!==void 0&&r(i.length),this.version=i.version,this.length=i.length,this.hashes=i.hashes,this.unrecognizedFields=i.unrecognizedFields||{}}equals(i){return i instanceof Ks?this.version===i.version&&this.length===i.length&&p.default.isDeepStrictEqual(this.hashes,i.hashes)&&p.default.isDeepStrictEqual(this.unrecognizedFields,i.unrecognizedFields):!1}verify(i){if(this.length!==void 0&&i.length!==this.length)throw new o.LengthOrHashMismatchError(`Expected length ${this.length} but got ${i.length}`);this.hashes&&Object.entries(this.hashes).forEach(([c,a])=>{let d;try{d=h.default.createHash(c)}catch{throw new o.LengthOrHashMismatchError(`Hash algorithm ${c} not supported`)}let g=d.update(i).digest("hex");if(g!==a)throw new o.LengthOrHashMismatchError(`Expected hash ${a} but got ${g}`)})}toJSON(){let i={version:this.version,...this.unrecognizedFields};return this.length!==void 0&&(i.length=this.length),this.hashes&&(i.hashes=this.hashes),i}static fromJSON(i){let{version:c,length:a,hashes:d,...g}=i;if(typeof c!="number")throw new TypeError("version must be a number");if(l.guard.isDefined(a)&&typeof a!="number")throw new TypeError("length must be a number");if(l.guard.isDefined(d)&&!l.guard.isStringRecord(d))throw new TypeError("hashes must be string keys and values");return new Ks({version:c,length:a,hashes:d,unrecognizedFields:g})}};e.MetaFile=n;var t=class Js{static{v(this,"TargetFile")}length;path;hashes;unrecognizedFields;constructor(i){r(i.length),this.length=i.length,this.path=i.path,this.hashes=i.hashes,this.unrecognizedFields=i.unrecognizedFields||{}}get custom(){let i=this.unrecognizedFields.custom;return!i||Array.isArray(i)||typeof i!="object"?{}:i}equals(i){return i instanceof Js?this.length===i.length&&this.path===i.path&&p.default.isDeepStrictEqual(this.hashes,i.hashes)&&p.default.isDeepStrictEqual(this.unrecognizedFields,i.unrecognizedFields):!1}async verify(i){let c=0,a=Object.keys(this.hashes).reduce((d,g)=>{try{d[g]=h.default.createHash(g)}catch{throw new o.LengthOrHashMismatchError(`Hash algorithm ${g} not supported`)}return d},{});for await(let d of i)c+=d.length,Object.values(a).forEach(g=>{g.update(d)});if(c!==this.length)throw new o.LengthOrHashMismatchError(`Expected length ${this.length} but got ${c}`);Object.entries(a).forEach(([d,g])=>{let m=this.hashes[d],f=g.digest("hex");if(f!==m)throw new o.LengthOrHashMismatchError(`Expected hash ${m} but got ${f}`)})}toJSON(){return{length:this.length,hashes:this.hashes,...this.unrecognizedFields}}static fromJSON(i,c){let{length:a,hashes:d,...g}=c;if(typeof a!="number")throw new TypeError("length must be a number");if(!l.guard.isStringRecord(d))throw new TypeError("hashes must have string keys and values");return new Js({length:a,path:i,hashes:d,unrecognizedFields:g})}};e.TargetFile=t;function r(s){if(s<0)throw new o.ValueError("Length must be at least 0")}v(r,"validateLength")}),Pm=J(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.encodeOIDString=h;var u=6;function h(o){let l=o.split("."),n=parseInt(l[0],10)*40+parseInt(l[1],10),t=[];l.slice(2).forEach(s=>{let i=p(parseInt(s,10));t.push(...i)});let r=Buffer.from([n,...t]);return Buffer.from([u,r.length,...r])}v(h,"encodeOIDString");function p(o){let l=[],n=0;for(;o>0;)l.unshift(o&127|n),o>>=7,n=128;return l}v(p,"encodeVariableLengthInteger")}),xm=J(e=>{"use strict";var u=e&&e.__importDefault||function(b){return b&&b.__esModule?b:{default:b}};Object.defineProperty(e,"__esModule",{value:!0}),e.getPublicKey=a;var h=u(require("crypto")),p=tt(),o=Pm(),l=48,n=3,t=0,r="1.3.101.112",s="1.2.840.10045.2.1",i="1.2.840.10045.3.1.7",c="-----BEGIN PUBLIC KEY-----";function a(b){switch(b.keyType){case"rsa":return d(b);case"ed25519":return g(b);case"ecdsa":case"ecdsa-sha2-nistp256":case"ecdsa-sha2-nistp384":return m(b);default:throw new p.UnsupportedAlgorithmError(`Unsupported key type: ${b.keyType}`)}}v(a,"getPublicKey");function d(b){if(!b.keyVal.startsWith(c))throw new p.CryptoError("Invalid key format");let E=h.default.createPublicKey(b.keyVal);switch(b.scheme){case"rsassa-pss-sha256":return{key:E,padding:h.default.constants.RSA_PKCS1_PSS_PADDING};default:throw new p.UnsupportedAlgorithmError(`Unsupported RSA scheme: ${b.scheme}`)}}v(d,"getRSAPublicKey");function g(b){let E;if(b.keyVal.startsWith(c))E=h.default.createPublicKey(b.keyVal);else{if(!S(b.keyVal))throw new p.CryptoError("Invalid key format");E=h.default.createPublicKey({key:f.hexToDER(b.keyVal),format:"der",type:"spki"})}return{key:E}}v(g,"getED25519PublicKey");function m(b){let E;if(b.keyVal.startsWith(c))E=h.default.createPublicKey(b.keyVal);else{if(!S(b.keyVal))throw new p.CryptoError("Invalid key format");E=h.default.createPublicKey({key:y.hexToDER(b.keyVal),format:"der",type:"spki"})}return{key:E}}v(m,"getECDCSAPublicKey");var f={hexToDER:v(b=>{let E=Buffer.from(b,"hex"),_=(0,o.encodeOIDString)(r),w=Buffer.concat([Buffer.concat([Buffer.from([l]),Buffer.from([_.length]),_]),Buffer.concat([Buffer.from([n]),Buffer.from([E.length+1]),Buffer.from([t]),E])]);return Buffer.concat([Buffer.from([l]),Buffer.from([w.length]),w])},"hexToDER")},y={hexToDER:v(b=>{let E=Buffer.from(b,"hex"),_=Buffer.concat([Buffer.from([n]),Buffer.from([E.length+1]),Buffer.from([t]),E]),w=Buffer.concat([(0,o.encodeOIDString)(s),(0,o.encodeOIDString)(i)]),O=Buffer.concat([Buffer.from([l]),Buffer.from([w.length]),w]);return Buffer.concat([Buffer.from([l]),Buffer.from([O.length+_.length]),O,_])},"hexToDER")},S=v(b=>/^[0-9a-fA-F]+$/.test(b),"isHex")}),$i=J(e=>{"use strict";var u=e&&e.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.Key=void 0;var h=u(require("util")),p=tt(),o=Xe(),l=xm(),n=class qs{static{v(this,"Key")}keyID;keyType;scheme;keyVal;unrecognizedFields;constructor(r){let{keyID:s,keyType:i,scheme:c,keyVal:a,unrecognizedFields:d}=r;this.keyID=s,this.keyType=i,this.scheme=c,this.keyVal=a,this.unrecognizedFields=d||{}}verifySignature(r){let s=r.signatures[this.keyID];if(!s)throw new p.UnsignedMetadataError("no signature for key found in metadata");if(!this.keyVal.public)throw new p.UnsignedMetadataError("no public key found");let i=(0,l.getPublicKey)({keyType:this.keyType,scheme:this.scheme,keyVal:this.keyVal.public}),c=r.signed.toJSON();try{if(!o.crypto.verifySignature(c,i,s.sig))throw new p.UnsignedMetadataError(`failed to verify ${this.keyID} signature`)}catch(a){throw a instanceof p.UnsignedMetadataError?a:new p.UnsignedMetadataError(`failed to verify ${this.keyID} signature`)}}equals(r){return r instanceof qs?this.keyID===r.keyID&&this.keyType===r.keyType&&this.scheme===r.scheme&&h.default.isDeepStrictEqual(this.keyVal,r.keyVal)&&h.default.isDeepStrictEqual(this.unrecognizedFields,r.unrecognizedFields):!1}toJSON(){return{keytype:this.keyType,scheme:this.scheme,keyval:this.keyVal,...this.unrecognizedFields}}static fromJSON(r,s){let{keytype:i,scheme:c,keyval:a,...d}=s;if(typeof i!="string")throw new TypeError("keytype must be a string");if(typeof c!="string")throw new TypeError("scheme must be a string");if(!o.guard.isStringRecord(a))throw new TypeError("keyval must be a string record");return new qs({keyID:r,keyType:i,scheme:c,keyVal:a,unrecognizedFields:d})}};e.Key=n}),km=J((e,u)=>{"use strict";u.exports=h;function h(l,n,t){l instanceof RegExp&&(l=p(l,t)),n instanceof RegExp&&(n=p(n,t));var r=o(l,n,t);return r&&{start:r[0],end:r[1],pre:t.slice(0,r[0]),body:t.slice(r[0]+l.length,r[1]),post:t.slice(r[1]+n.length)}}v(h,"balanced");function p(l,n){var t=n.match(l);return t?t[0]:null}v(p,"maybeMatch"),h.range=o;function o(l,n,t){var r,s,i,c,a,d=t.indexOf(l),g=t.indexOf(n,d+1),m=d;if(d>=0&&g>0){if(l===n)return[d,g];for(r=[],i=t.length;m>=0&&!a;)m==d?(r.push(m),d=t.indexOf(l,m+1)):r.length==1?a=[r.pop(),g]:(s=r.pop(),s<i&&(i=s,c=g),g=t.indexOf(n,m+1)),m=d<g&&d>=0?d:g;r.length&&(a=[i,c])}return a}v(o,"range")}),Nm=J((e,u)=>{var h=km();u.exports=a;var p="\0SLASH"+Math.random()+"\0",o="\0OPEN"+Math.random()+"\0",l="\0CLOSE"+Math.random()+"\0",n="\0COMMA"+Math.random()+"\0",t="\0PERIOD"+Math.random()+"\0";function r(S){return parseInt(S,10)==S?parseInt(S,10):S.charCodeAt(0)}v(r,"numeric");function s(S){return S.split("\\\\").join(p).split("\\{").join(o).split("\\}").join(l).split("\\,").join(n).split("\\.").join(t)}v(s,"escapeBraces");function i(S){return S.split(p).join("\\").split(o).join("{").split(l).join("}").split(n).join(",").split(t).join(".")}v(i,"unescapeBraces");function c(S){if(!S)return[""];var b=[],E=h("{","}",S);if(!E)return S.split(",");var _=E.pre,w=E.body,O=E.post,R=_.split(",");R[R.length-1]+="{"+w+"}";var I=c(O);return O.length&&(R[R.length-1]+=I.shift(),R.push.apply(R,I)),b.push.apply(b,R),b}v(c,"parseCommaParts");function a(S){return S?(S.substr(0,2)==="{}"&&(S="\\{\\}"+S.substr(2)),y(s(S),!0).map(i)):[]}v(a,"expandTop");function d(S){return"{"+S+"}"}v(d,"embrace");function g(S){return/^-?0\d/.test(S)}v(g,"isPadded");function m(S,b){return S<=b}v(m,"lte");function f(S,b){return S>=b}v(f,"gte");function y(S,b){var E=[],_=h("{","}",S);if(!_)return[S];var w=_.pre,O=_.post.length?y(_.post,!1):[""];if(/\$$/.test(_.pre))for(var R=0;R<O.length;R++){var I=w+"{"+_.body+"}"+O[R];E.push(I)}else{var P=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(_.body),L=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(_.body),M=P||L,x=_.body.indexOf(",")>=0;if(!M&&!x)return _.post.match(/,(?!,).*\}/)?(S=_.pre+"{"+_.body+l+_.post,y(S)):[S];var j;if(M)j=_.body.split(/\.\./);else if(j=c(_.body),j.length===1&&(j=y(j[0],!1).map(d),j.length===1))return O.map(function(F){return _.pre+j[0]+F});var U;if(M){var V=r(j[0]),B=r(j[1]),G=Math.max(j[0].length,j[1].length),W=j.length==3?Math.abs(r(j[2])):1,k=m,D=B<V;D&&(W*=-1,k=f);var T=j.some(g);U=[];for(var C=V;k(C,B);C+=W){var Z;if(L)Z=String.fromCharCode(C),Z==="\\"&&(Z="");else if(Z=String(C),T){var Y=G-Z.length;if(Y>0){var Q=new Array(Y+1).join("0");C<0?Z="-"+Q+Z.slice(1):Z=Q+Z}}U.push(Z)}}else{U=[];for(var N=0;N<j.length;N++)U.push.apply(U,y(j[N],!1))}for(var N=0;N<U.length;N++)for(var R=0;R<O.length;R++){var I=w+U[N]+O[R];(!b||M||I)&&E.push(I)}}return E}v(y,"expand")}),Lm=J(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.assertValidPattern=void 0;var u=1024*64,h=v(p=>{if(typeof p!="string")throw new TypeError("invalid pattern");if(p.length>u)throw new TypeError("pattern is too long")},"assertValidPattern");e.assertValidPattern=h}),Dm=J(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.parseClass=void 0;var u={"[:alnum:]":["\\p{L}\\p{Nl}\\p{Nd}",!0],"[:alpha:]":["\\p{L}\\p{Nl}",!0],"[:ascii:]":["\\x00-\\x7f",!1],"[:blank:]":["\\p{Zs}\\t",!0],"[:cntrl:]":["\\p{Cc}",!0],"[:digit:]":["\\p{Nd}",!0],"[:graph:]":["\\p{Z}\\p{C}",!0,!0],"[:lower:]":["\\p{Ll}",!0],"[:print:]":["\\p{C}",!0],"[:punct:]":["\\p{P}",!0],"[:space:]":["\\p{Z}\\t\\r\\n\\v\\f",!0],"[:upper:]":["\\p{Lu}",!0],"[:word:]":["\\p{L}\\p{Nl}\\p{Nd}\\p{Pc}",!0],"[:xdigit:]":["A-Fa-f0-9",!1]},h=v(n=>n.replace(/[[\]\\-]/g,"\\$&"),"braceEscape"),p=v(n=>n.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),"regexpEscape"),o=v(n=>n.join(""),"rangesToString"),l=v((n,t)=>{let r=t;if(n.charAt(r)!=="[")throw new Error("not in a brace expression");let s=[],i=[],c=r+1,a=!1,d=!1,g=!1,m=!1,f=r,y="";e:for(;c<n.length;){let E=n.charAt(c);if((E==="!"||E==="^")&&c===r+1){m=!0,c++;continue}if(E==="]"&&a&&!g){f=c+1;break}if(a=!0,E==="\\"&&!g){g=!0,c++;continue}if(E==="["&&!g){for(let[_,[w,O,R]]of Object.entries(u))if(n.startsWith(_,c)){if(y)return["$.",!1,n.length-r,!0];c+=_.length,R?i.push(w):s.push(w),d=d||O;continue e}}if(g=!1,y){E>y?s.push(h(y)+"-"+h(E)):E===y&&s.push(h(E)),y="",c++;continue}if(n.startsWith("-]",c+1)){s.push(h(E+"-")),c+=2;continue}if(n.startsWith("-",c+1)){y=E,c+=2;continue}s.push(h(E)),c++}if(f<c)return["",!1,0,!1];if(!s.length&&!i.length)return["$.",!1,n.length-r,!0];if(i.length===0&&s.length===1&&/^\\?.$/.test(s[0])&&!m){let E=s[0].length===2?s[0].slice(-1):s[0];return[p(E),!1,f-r,!1]}let S="["+(m?"^":"")+o(s)+"]",b="["+(m?"":"^")+o(i)+"]";return[s.length&&i.length?"("+S+"|"+b+")":s.length?S:b,d,f-r,!0]},"parseClass");e.parseClass=l}),Zs=J(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.unescape=void 0;var u=v((h,{windowsPathsNoEscape:p=!1}={})=>p?h.replace(/\[([^\/\\])\]/g,"$1"):h.replace(/((?!\\).|^)\[([^\/\\])\]/g,"$1$2").replace(/\\([^\/])/g,"$1"),"unescape");e.unescape=u}),Zo=J(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AST=void 0;var u=Dm(),h=Zs(),p=new Set(["!","?","+","*","@"]),o=v(m=>p.has(m),"isExtglobType"),l="(?!(?:^|/)\\.\\.?(?:$|/))",n="(?!\\.)",t=new Set(["[","."]),r=new Set(["..","."]),s=new Set("().*{}+?[]^$\\!"),i=v(m=>m.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),"regExpEscape"),c="[^/]",a=c+"*?",d=c+"+?",g=class Me{static{v(this,"AST")}type;#e;#t;#r=!1;#s=[];#i;#c;#l;#p=!1;#n;#h;#o=!1;constructor(f,y,S={}){this.type=f,f&&(this.#t=!0),this.#i=y,this.#e=this.#i?this.#i.#e:this,this.#n=this.#e===this?S:this.#e.#n,this.#l=this.#e===this?[]:this.#e.#l,f==="!"&&!this.#e.#p&&this.#l.push(this),this.#c=this.#i?this.#i.#s.length:0}get hasMagic(){if(this.#t!==void 0)return this.#t;for(let f of this.#s)if(typeof f!="string"&&(f.type||f.hasMagic))return this.#t=!0;return this.#t}toString(){return this.#h!==void 0?this.#h:this.type?this.#h=this.type+"("+this.#s.map(f=>String(f)).join("|")+")":this.#h=this.#s.map(f=>String(f)).join("")}#d(){if(this!==this.#e)throw new Error("should only call on root");if(this.#p)return this;this.toString(),this.#p=!0;let f;for(;f=this.#l.pop();){if(f.type!=="!")continue;let y=f,S=y.#i;for(;S;){for(let b=y.#c+1;!S.type&&b<S.#s.length;b++)for(let E of f.#s){if(typeof E=="string")throw new Error("string part in extglob AST??");E.copyIn(S.#s[b])}y=S,S=y.#i}}return this}push(...f){for(let y of f)if(y!==""){if(typeof y!="string"&&!(y instanceof Me&&y.#i===this))throw new Error("invalid part: "+y);this.#s.push(y)}}toJSON(){let f=this.type===null?this.#s.slice().map(y=>typeof y=="string"?y:y.toJSON()):[this.type,...this.#s.map(y=>y.toJSON())];return this.isStart()&&!this.type&&f.unshift([]),this.isEnd()&&(this===this.#e||this.#e.#p&&this.#i?.type==="!")&&f.push({}),f}isStart(){if(this.#e===this)return!0;if(!this.#i?.isStart())return!1;if(this.#c===0)return!0;let f=this.#i;for(let y=0;y<this.#c;y++){let S=f.#s[y];if(!(S instanceof Me&&S.type==="!"))return!1}return!0}isEnd(){if(this.#e===this||this.#i?.type==="!")return!0;if(!this.#i?.isEnd())return!1;if(!this.type)return this.#i?.isEnd();let f=this.#i?this.#i.#s.length:0;return this.#c===f-1}copyIn(f){typeof f=="string"?this.push(f):this.push(f.clone(this))}clone(f){let y=new Me(this.type,f);for(let S of this.#s)y.copyIn(S);return y}static#a(f,y,S,b){let E=!1,_=!1,w=-1,O=!1;if(y.type===null){let M=S,x="";for(;M<f.length;){let j=f.charAt(M++);if(E||j==="\\"){E=!E,x+=j;continue}if(_){M===w+1?(j==="^"||j==="!")&&(O=!0):j==="]"&&!(M===w+2&&O)&&(_=!1),x+=j;continue}else if(j==="["){_=!0,w=M,O=!1,x+=j;continue}if(!b.noext&&o(j)&&f.charAt(M)==="("){y.push(x),x="";let U=new Me(j,y);M=Me.#a(f,U,M,b),y.push(U);continue}x+=j}return y.push(x),M}let R=S+1,I=new Me(null,y),P=[],L="";for(;R<f.length;){let M=f.charAt(R++);if(E||M==="\\"){E=!E,L+=M;continue}if(_){R===w+1?(M==="^"||M==="!")&&(O=!0):M==="]"&&!(R===w+2&&O)&&(_=!1),L+=M;continue}else if(M==="["){_=!0,w=R,O=!1,L+=M;continue}if(o(M)&&f.charAt(R)==="("){I.push(L),L="";let x=new Me(M,I);I.push(x),R=Me.#a(f,x,R,b);continue}if(M==="|"){I.push(L),L="",P.push(I),I=new Me(null,y);continue}if(M===")")return L===""&&y.#s.length===0&&(y.#o=!0),I.push(L),L="",y.push(...P,I),R;L+=M}return y.type=null,y.#t=void 0,y.#s=[f.substring(S-1)],R}static fromGlob(f,y={}){let S=new Me(null,void 0,y);return Me.#a(f,S,0,y),S}toMMPattern(){if(this!==this.#e)return this.#e.toMMPattern();let f=this.toString(),[y,S,b,E]=this.toRegExpSource();if(!(b||this.#t||this.#n.nocase&&!this.#n.nocaseMagicOnly&&f.toUpperCase()!==f.toLowerCase()))return S;let _=(this.#n.nocase?"i":"")+(E?"u":"");return Object.assign(new RegExp(`^${y}$`,_),{_src:y,_glob:f})}get options(){return this.#n}toRegExpSource(f){let y=f??!!this.#n.dot;if(this.#e===this&&this.#d(),!this.type){let O=this.isStart()&&this.isEnd(),R=this.#s.map(L=>{let[M,x,j,U]=typeof L=="string"?Me.#y(L,this.#t,O):L.toRegExpSource(f);return this.#t=this.#t||j,this.#r=this.#r||U,M}).join(""),I="";if(this.isStart()&&typeof this.#s[0]=="string"&&!(this.#s.length===1&&r.has(this.#s[0]))){let L=t,M=y&&L.has(R.charAt(0))||R.startsWith("\\.")&&L.has(R.charAt(2))||R.startsWith("\\.\\.")&&L.has(R.charAt(4)),x=!y&&!f&&L.has(R.charAt(0));I=M?l:x?n:""}let P="";return this.isEnd()&&this.#e.#p&&this.#i?.type==="!"&&(P="(?:$|\\/)"),[I+R+P,(0,h.unescape)(R),this.#t=!!this.#t,this.#r]}let S=this.type==="*"||this.type==="+",b=this.type==="!"?"(?:(?!(?:":"(?:",E=this.#f(y);if(this.isStart()&&this.isEnd()&&!E&&this.type!=="!"){let O=this.toString();return this.#s=[O],this.type=null,this.#t=void 0,[O,(0,h.unescape)(this.toString()),!1,!1]}let _=!S||f||y||!n?"":this.#f(!0);_===E&&(_=""),_&&(E=`(?:${E})(?:${_})*?`);let w="";if(this.type==="!"&&this.#o)w=(this.isStart()&&!y?n:"")+d;else{let O=this.type==="!"?"))"+(this.isStart()&&!y&&!f?n:"")+a+")":this.type==="@"?")":this.type==="?"?")?":this.type==="+"&&_?")":this.type==="*"&&_?")?":`)${this.type}`;w=b+E+O}return[w,(0,h.unescape)(E),this.#t=!!this.#t,this.#r]}#f(f){return this.#s.map(y=>{if(typeof y=="string")throw new Error("string type in extglob ast??");let[S,b,E,_]=y.toRegExpSource(f);return this.#r=this.#r||_,S}).filter(y=>!(this.isStart()&&this.isEnd())||!!y).join("|")}static#y(f,y,S=!1){let b=!1,E="",_=!1;for(let w=0;w<f.length;w++){let O=f.charAt(w);if(b){b=!1,E+=(s.has(O)?"\\":"")+O;continue}if(O==="\\"){w===f.length-1?E+="\\\\":b=!0;continue}if(O==="["){let[R,I,P,L]=(0,u.parseClass)(f,w);if(P){E+=R,_=_||I,w+=P-1,y=y||L;continue}}if(O==="*"){S&&f==="*"?E+=d:E+=a,y=!0;continue}if(O==="?"){E+=c,y=!0;continue}E+=i(O)}return[E,(0,h.unescape)(f),!!y,_]}};e.AST=g}),Yo=J(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.escape=void 0;var u=v((h,{windowsPathsNoEscape:p=!1}={})=>p?h.replace(/[?*()[\]]/g,"[$&]"):h.replace(/[?*()[\]\\]/g,"\\$&"),"escape");e.escape=u}),Mm=J(e=>{"use strict";var u=e&&e.__importDefault||function($){return $&&$.__esModule?$:{default:$}};Object.defineProperty(e,"__esModule",{value:!0}),e.unescape=e.escape=e.AST=e.Minimatch=e.match=e.makeRe=e.braceExpand=e.defaults=e.filter=e.GLOBSTAR=e.sep=e.minimatch=void 0;var h=u(Nm()),p=Lm(),o=Zo(),l=Yo(),n=Zs(),t=v(($,K,q={})=>((0,p.assertValidPattern)(K),!q.nocomment&&K.charAt(0)==="#"?!1:new Q(K,q).match($)),"minimatch");e.minimatch=t;var r=/^\*+([^+@!?\*\[\(]*)$/,s=v($=>K=>!K.startsWith(".")&&K.endsWith($),"starDotExtTest"),i=v($=>K=>K.endsWith($),"starDotExtTestDot"),c=v($=>($=$.toLowerCase(),K=>!K.startsWith(".")&&K.toLowerCase().endsWith($)),"starDotExtTestNocase"),a=v($=>($=$.toLowerCase(),K=>K.toLowerCase().endsWith($)),"starDotExtTestNocaseDot"),d=/^\*+\.\*+$/,g=v($=>!$.startsWith(".")&&$.includes("."),"starDotStarTest"),m=v($=>$!=="."&&$!==".."&&$.includes("."),"starDotStarTestDot"),f=/^\.\*+$/,y=v($=>$!=="."&&$!==".."&&$.startsWith("."),"dotStarTest"),S=/^\*+$/,b=v($=>$.length!==0&&!$.startsWith("."),"starTest"),E=v($=>$.length!==0&&$!=="."&&$!=="..","starTestDot"),_=/^\?+([^+@!?\*\[\(]*)?$/,w=v(([$,K=""])=>{let q=P([$]);return K?(K=K.toLowerCase(),X=>q(X)&&X.toLowerCase().endsWith(K)):q},"qmarksTestNocase"),O=v(([$,K=""])=>{let q=L([$]);return K?(K=K.toLowerCase(),X=>q(X)&&X.toLowerCase().endsWith(K)):q},"qmarksTestNocaseDot"),R=v(([$,K=""])=>{let q=L([$]);return K?X=>q(X)&&X.endsWith(K):q},"qmarksTestDot"),I=v(([$,K=""])=>{let q=P([$]);return K?X=>q(X)&&X.endsWith(K):q},"qmarksTest"),P=v(([$])=>{let K=$.length;return q=>q.length===K&&!q.startsWith(".")},"qmarksTestNoExt"),L=v(([$])=>{let K=$.length;return q=>q.length===K&&q!=="."&&q!==".."},"qmarksTestNoExtDot"),M=typeof process=="object"&&process?typeof process.env=="object"&&process.env&&process.env.__MINIMATCH_TESTING_PLATFORM__||process.platform:"posix",x={win32:{sep:"\\"},posix:{sep:"/"}};e.sep=M==="win32"?x.win32.sep:x.posix.sep,e.minimatch.sep=e.sep,e.GLOBSTAR=Symbol("globstar **"),e.minimatch.GLOBSTAR=e.GLOBSTAR;var j="[^/]",U=j+"*?",V="(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?",B="(?:(?!(?:\\/|^)\\.).)*?",G=v(($,K={})=>q=>(0,e.minimatch)(q,$,K),"filter");e.filter=G,e.minimatch.filter=e.filter;var W=v(($,K={})=>Object.assign({},$,K),"ext"),k=v($=>{if(!$||typeof $!="object"||!Object.keys($).length)return e.minimatch;let K=e.minimatch;return Object.assign(v((q,X,A={})=>K(q,X,W($,A)),"m"),{Minimatch:class extends K.Minimatch{static{v(this,"Minimatch")}constructor(q,X={}){super(q,W($,X))}static defaults(q){return K.defaults(W($,q)).Minimatch}},AST:class extends K.AST{static{v(this,"AST")}constructor(q,X,A={}){super(q,X,W($,A))}static fromGlob(q,X={}){return K.AST.fromGlob(q,W($,X))}},unescape:v((q,X={})=>K.unescape(q,W($,X)),"unescape"),escape:v((q,X={})=>K.escape(q,W($,X)),"escape"),filter:v((q,X={})=>K.filter(q,W($,X)),"filter"),defaults:v(q=>K.defaults(W($,q)),"defaults"),makeRe:v((q,X={})=>K.makeRe(q,W($,X)),"makeRe"),braceExpand:v((q,X={})=>K.braceExpand(q,W($,X)),"braceExpand"),match:v((q,X,A={})=>K.match(q,X,W($,A)),"match"),sep:K.sep,GLOBSTAR:e.GLOBSTAR})},"defaults");e.defaults=k,e.minimatch.defaults=e.defaults;var D=v(($,K={})=>((0,p.assertValidPattern)($),K.nobrace||!/\{(?:(?!\{).)*\}/.test($)?[$]:(0,h.default)($)),"braceExpand");e.braceExpand=D,e.minimatch.braceExpand=e.braceExpand;var T=v(($,K={})=>new Q($,K).makeRe(),"makeRe");e.makeRe=T,e.minimatch.makeRe=e.makeRe;var C=v(($,K,q={})=>{let X=new Q(K,q);return $=$.filter(A=>X.match(A)),X.options.nonull&&!$.length&&$.push(K),$},"match");e.match=C,e.minimatch.match=e.match;var Z=/[?*]|[+@!]\(.*?\)|\[|\]/,Y=v($=>$.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),"regExpEscape"),Q=class{static{v(this,"Minimatch")}options;set;pattern;windowsPathsNoEscape;nonegate;negate;comment;empty;preserveMultipleSlashes;partial;globSet;globParts;nocase;isWindows;platform;windowsNoMagicRoot;regexp;constructor($,K={}){(0,p.assertValidPattern)($),K=K||{},this.options=K,this.pattern=$,this.platform=K.platform||M,this.isWindows=this.platform==="win32",this.windowsPathsNoEscape=!!K.windowsPathsNoEscape||K.allowWindowsEscape===!1,this.windowsPathsNoEscape&&(this.pattern=this.pattern.replace(/\\/g,"/")),this.preserveMultipleSlashes=!!K.preserveMultipleSlashes,this.regexp=null,this.negate=!1,this.nonegate=!!K.nonegate,this.comment=!1,this.empty=!1,this.partial=!!K.partial,this.nocase=!!this.options.nocase,this.windowsNoMagicRoot=K.windowsNoMagicRoot!==void 0?K.windowsNoMagicRoot:!!(this.isWindows&&this.nocase),this.globSet=[],this.globParts=[],this.set=[],this.make()}hasMagic(){if(this.options.magicalBraces&&this.set.length>1)return!0;for(let $ of this.set)for(let K of $)if(typeof K!="string")return!0;return!1}debug(...$){}make(){let $=this.pattern,K=this.options;if(!K.nocomment&&$.charAt(0)==="#"){this.comment=!0;return}if(!$){this.empty=!0;return}this.parseNegate(),this.globSet=[...new Set(this.braceExpand())],K.debug&&(this.debug=(...A)=>{}),this.debug(this.pattern,this.globSet);let q=this.globSet.map(A=>this.slashSplit(A));this.globParts=this.preprocess(q),this.debug(this.pattern,this.globParts);let X=this.globParts.map((A,H,ee)=>{if(this.isWindows&&this.windowsNoMagicRoot){let ne=A[0]===""&&A[1]===""&&(A[2]==="?"||!Z.test(A[2]))&&!Z.test(A[3]),te=/^[a-z]:/i.test(A[0]);if(ne)return[...A.slice(0,4),...A.slice(4).map(ae=>this.parse(ae))];if(te)return[A[0],...A.slice(1).map(ae=>this.parse(ae))]}return A.map(ne=>this.parse(ne))});if(this.debug(this.pattern,X),this.set=X.filter(A=>A.indexOf(!1)===-1),this.isWindows)for(let A=0;A<this.set.length;A++){let H=this.set[A];H[0]===""&&H[1]===""&&this.globParts[A][2]==="?"&&typeof H[3]=="string"&&/^[a-z]:$/i.test(H[3])&&(H[2]="?")}this.debug(this.pattern,this.set)}preprocess($){if(this.options.noglobstar)for(let q=0;q<$.length;q++)for(let X=0;X<$[q].length;X++)$[q][X]==="**"&&($[q][X]="*");let{optimizationLevel:K=1}=this.options;return K>=2?($=this.firstPhasePreProcess($),$=this.secondPhasePreProcess($)):K>=1?$=this.levelOneOptimize($):$=this.adjascentGlobstarOptimize($),$}adjascentGlobstarOptimize($){return $.map(K=>{let q=-1;for(;(q=K.indexOf("**",q+1))!==-1;){let X=q;for(;K[X+1]==="**";)X++;X!==q&&K.splice(q,X-q)}return K})}levelOneOptimize($){return $.map(K=>(K=K.reduce((q,X)=>{let A=q[q.length-1];return X==="**"&&A==="**"?q:X===".."&&A&&A!==".."&&A!=="."&&A!=="**"?(q.pop(),q):(q.push(X),q)},[]),K.length===0?[""]:K))}levelTwoFileOptimize($){Array.isArray($)||($=this.slashSplit($));let K=!1;do{if(K=!1,!this.preserveMultipleSlashes){for(let X=1;X<$.length-1;X++){let A=$[X];X===1&&A===""&&$[0]===""||(A==="."||A==="")&&(K=!0,$.splice(X,1),X--)}$[0]==="."&&$.length===2&&($[1]==="."||$[1]==="")&&(K=!0,$.pop())}let q=0;for(;(q=$.indexOf("..",q+1))!==-1;){let X=$[q-1];X&&X!=="."&&X!==".."&&X!=="**"&&(K=!0,$.splice(q-1,2),q-=2)}}while(K);return $.length===0?[""]:$}firstPhasePreProcess($){let K=!1;do{K=!1;for(let q of $){let X=-1;for(;(X=q.indexOf("**",X+1))!==-1;){let H=X;for(;q[H+1]==="**";)H++;H>X&&q.splice(X+1,H-X);let ee=q[X+1],ne=q[X+2],te=q[X+3];if(ee!==".."||!ne||ne==="."||ne===".."||!te||te==="."||te==="..")continue;K=!0,q.splice(X,1);let ae=q.slice(0);ae[X]="**",$.push(ae),X--}if(!this.preserveMultipleSlashes){for(let H=1;H<q.length-1;H++){let ee=q[H];H===1&&ee===""&&q[0]===""||(ee==="."||ee==="")&&(K=!0,q.splice(H,1),H--)}q[0]==="."&&q.length===2&&(q[1]==="."||q[1]==="")&&(K=!0,q.pop())}let A=0;for(;(A=q.indexOf("..",A+1))!==-1;){let H=q[A-1];if(H&&H!=="."&&H!==".."&&H!=="**"){K=!0;let ee=A===1&&q[A+1]==="**"?["."]:[];q.splice(A-1,2,...ee),q.length===0&&q.push(""),A-=2}}}}while(K);return $}secondPhasePreProcess($){for(let K=0;K<$.length-1;K++)for(let q=K+1;q<$.length;q++){let X=this.partsMatch($[K],$[q],!this.preserveMultipleSlashes);if(X){$[K]=[],$[q]=X;break}}return $.filter(K=>K.length)}partsMatch($,K,q=!1){let X=0,A=0,H=[],ee="";for(;X<$.length&&A<K.length;)if($[X]===K[A])H.push(ee==="b"?K[A]:$[X]),X++,A++;else if(q&&$[X]==="**"&&K[A]===$[X+1])H.push($[X]),X++;else if(q&&K[A]==="**"&&$[X]===K[A+1])H.push(K[A]),A++;else if($[X]==="*"&&K[A]&&(this.options.dot||!K[A].startsWith("."))&&K[A]!=="**"){if(ee==="b")return!1;ee="a",H.push($[X]),X++,A++}else if(K[A]==="*"&&$[X]&&(this.options.dot||!$[X].startsWith("."))&&$[X]!=="**"){if(ee==="a")return!1;ee="b",H.push(K[A]),X++,A++}else return!1;return $.length===K.length&&H}parseNegate(){if(this.nonegate)return;let $=this.pattern,K=!1,q=0;for(let X=0;X<$.length&&$.charAt(X)==="!";X++)K=!K,q++;q&&(this.pattern=$.slice(q)),this.negate=K}matchOne($,K,q=!1){let X=this.options;if(this.isWindows){let le=typeof $[0]=="string"&&/^[a-z]:$/i.test($[0]),fe=!le&&$[0]===""&&$[1]===""&&$[2]==="?"&&/^[a-z]:$/i.test($[3]),ge=typeof K[0]=="string"&&/^[a-z]:$/i.test(K[0]),ce=!ge&&K[0]===""&&K[1]===""&&K[2]==="?"&&typeof K[3]=="string"&&/^[a-z]:$/i.test(K[3]),pe=fe?3:le?0:void 0,de=ce?3:ge?0:void 0;if(typeof pe=="number"&&typeof de=="number"){let[me,Se]=[$[pe],K[de]];me.toLowerCase()===Se.toLowerCase()&&(K[de]=me,de>pe?K=K.slice(de):pe>de&&($=$.slice(pe)))}}let{optimizationLevel:A=1}=this.options;A>=2&&($=this.levelTwoFileOptimize($)),this.debug("matchOne",this,{file:$,pattern:K}),this.debug("matchOne",$.length,K.length);for(var H=0,ee=0,ne=$.length,te=K.length;H<ne&&ee<te;H++,ee++){this.debug("matchOne loop");var ae=K[ee],he=$[H];if(this.debug(K,ae,he),ae===!1)return!1;if(ae===e.GLOBSTAR){this.debug("GLOBSTAR",[K,ae,he]);var re=H,ue=ee+1;if(ue===te){for(this.debug("** at the end");H<ne;H++)if($[H]==="."||$[H]===".."||!X.dot&&$[H].charAt(0)===".")return!1;return!0}for(;re<ne;){var ie=$[re];if(this.debug(`
globstar while`,$,re,K,ue,ie),this.matchOne($.slice(re),K.slice(ue),q))return this.debug("globstar found match!",re,ne,ie),!0;if(ie==="."||ie===".."||!X.dot&&ie.charAt(0)==="."){this.debug("dot detected!",$,re,K,ue);break}this.debug("globstar swallow a segment, and continue"),re++}return!!(q&&(this.debug(`
>>> no match, partial?`,$,re,K,ue),re===ne))}let le;if(typeof ae=="string"?(le=he===ae,this.debug("string match",ae,he,le)):(le=ae.test(he),this.debug("pattern match",ae,he,le)),!le)return!1}if(H===ne&&ee===te)return!0;if(H===ne)return q;if(ee===te)return H===ne-1&&$[H]==="";throw new Error("wtf?")}braceExpand(){return(0,e.braceExpand)(this.pattern,this.options)}parse($){(0,p.assertValidPattern)($);let K=this.options;if($==="**")return e.GLOBSTAR;if($==="")return"";let q,X=null;(q=$.match(S))?X=K.dot?E:b:(q=$.match(r))?X=(K.nocase?K.dot?a:c:K.dot?i:s)(q[1]):(q=$.match(_))?X=(K.nocase?K.dot?O:w:K.dot?R:I)(q):(q=$.match(d))?X=K.dot?m:g:(q=$.match(f))&&(X=y);let A=o.AST.fromGlob($,this.options).toMMPattern();return X&&typeof A=="object"&&Reflect.defineProperty(A,"test",{value:X}),A}makeRe(){if(this.regexp||this.regexp===!1)return this.regexp;let $=this.set;if(!$.length)return this.regexp=!1,this.regexp;let K=this.options,q=K.noglobstar?U:K.dot?V:B,X=new Set(K.nocase?["i"]:[]),A=$.map(ne=>{let te=ne.map(ae=>{if(ae instanceof RegExp)for(let he of ae.flags.split(""))X.add(he);return typeof ae=="string"?Y(ae):ae===e.GLOBSTAR?e.GLOBSTAR:ae._src});return te.forEach((ae,he)=>{let re=te[he+1],ue=te[he-1];ae!==e.GLOBSTAR||ue===e.GLOBSTAR||(ue===void 0?re!==void 0&&re!==e.GLOBSTAR?te[he+1]="(?:\\/|"+q+"\\/)?"+re:te[he]=q:re===void 0?te[he-1]=ue+"(?:\\/|"+q+")?":re!==e.GLOBSTAR&&(te[he-1]=ue+"(?:\\/|\\/"+q+"\\/)"+re,te[he+1]=e.GLOBSTAR))}),te.filter(ae=>ae!==e.GLOBSTAR).join("/")}).join("|"),[H,ee]=$.length>1?["(?:",")"]:["",""];A="^"+H+A+ee+"$",this.negate&&(A="^(?!"+A+").+$");try{this.regexp=new RegExp(A,[...X].join(""))}catch{this.regexp=!1}return this.regexp}slashSplit($){return this.preserveMultipleSlashes?$.split("/"):this.isWindows&&/^\/\/[^\/]+/.test($)?["",...$.split(/\/+/)]:$.split(/\/+/)}match($,K=this.partial){if(this.debug("match",$,this.pattern),this.comment)return!1;if(this.empty)return $==="";if($==="/"&&K)return!0;let q=this.options;this.isWindows&&($=$.split("\\").join("/"));let X=this.slashSplit($);this.debug(this.pattern,"split",X);let A=this.set;this.debug(this.pattern,"set",A);let H=X[X.length-1];if(!H)for(let ee=X.length-2;!H&&ee>=0;ee--)H=X[ee];for(let ee=0;ee<A.length;ee++){let ne=A[ee],te=X;if(q.matchBase&&ne.length===1&&(te=[H]),this.matchOne(te,ne,K))return q.flipNegate?!0:!this.negate}return q.flipNegate?!1:this.negate}static defaults($){return e.minimatch.defaults($).Minimatch}};e.Minimatch=Q;var N=Zo();Object.defineProperty(e,"AST",{enumerable:!0,get:v(function(){return N.AST},"get")});var F=Yo();Object.defineProperty(e,"escape",{enumerable:!0,get:v(function(){return F.escape},"get")});var z=Zs();Object.defineProperty(e,"unescape",{enumerable:!0,get:v(function(){return z.unescape},"get")}),e.minimatch.AST=o.AST,e.minimatch.Minimatch=Q,e.minimatch.escape=l.escape,e.minimatch.unescape=n.unescape}),Ul=J(e=>{"use strict";var u=e&&e.__importDefault||function(d){return d&&d.__esModule?d:{default:d}};Object.defineProperty(e,"__esModule",{value:!0}),e.SuccinctRoles=e.DelegatedRole=e.Role=e.TOP_LEVEL_ROLE_NAMES=void 0;var h=u(require("crypto")),p=Mm(),o=u(require("util")),l=tt(),n=Xe();e.TOP_LEVEL_ROLE_NAMES=["root","targets","snapshot","timestamp"];var t=class Ys{static{v(this,"Role")}keyIDs;threshold;unrecognizedFields;constructor(g){let{keyIDs:m,threshold:f,unrecognizedFields:y}=g;if(r(m))throw new l.ValueError("duplicate key IDs found");if(f<1)throw new l.ValueError("threshold must be at least 1");this.keyIDs=m,this.threshold=f,this.unrecognizedFields=y||{}}equals(g){return g instanceof Ys?this.threshold===g.threshold&&o.default.isDeepStrictEqual(this.keyIDs,g.keyIDs)&&o.default.isDeepStrictEqual(this.unrecognizedFields,g.unrecognizedFields):!1}toJSON(){return{keyids:this.keyIDs,threshold:this.threshold,...this.unrecognizedFields}}static fromJSON(g){let{keyids:m,threshold:f,...y}=g;if(!n.guard.isStringArray(m))throw new TypeError("keyids must be an array");if(typeof f!="number")throw new TypeError("threshold must be a number");return new Ys({keyIDs:m,threshold:f,unrecognizedFields:y})}};e.Role=t;function r(d){return new Set(d).size!==d.length}v(r,"hasDuplicates");var s=class Xs extends t{static{v(this,"DelegatedRole")}name;terminating;paths;pathHashPrefixes;constructor(g){super(g);let{name:m,terminating:f,paths:y,pathHashPrefixes:S}=g;if(this.name=m,this.terminating=f,g.paths&&g.pathHashPrefixes)throw new l.ValueError("paths and pathHashPrefixes are mutually exclusive");this.paths=y,this.pathHashPrefixes=S}equals(g){return g instanceof Xs?super.equals(g)&&this.name===g.name&&this.terminating===g.terminating&&o.default.isDeepStrictEqual(this.paths,g.paths)&&o.default.isDeepStrictEqual(this.pathHashPrefixes,g.pathHashPrefixes):!1}isDelegatedPath(g){if(this.paths)return this.paths.some(m=>c(g,m));if(this.pathHashPrefixes){let m=h.default.createHash("sha256").update(g).digest("hex");return this.pathHashPrefixes.some(f=>m.startsWith(f))}return!1}toJSON(){let g={...super.toJSON(),name:this.name,terminating:this.terminating};return this.paths&&(g.paths=this.paths),this.pathHashPrefixes&&(g.path_hash_prefixes=this.pathHashPrefixes),g}static fromJSON(g){let{keyids:m,threshold:f,name:y,terminating:S,paths:b,path_hash_prefixes:E,..._}=g;if(!n.guard.isStringArray(m))throw new TypeError("keyids must be an array of strings");if(typeof f!="number")throw new TypeError("threshold must be a number");if(typeof y!="string")throw new TypeError("name must be a string");if(typeof S!="boolean")throw new TypeError("terminating must be a boolean");if(n.guard.isDefined(b)&&!n.guard.isStringArray(b))throw new TypeError("paths must be an array of strings");if(n.guard.isDefined(E)&&!n.guard.isStringArray(E))throw new TypeError("path_hash_prefixes must be an array of strings");return new Xs({keyIDs:m,threshold:f,name:y,terminating:S,paths:b,pathHashPrefixes:E,unrecognizedFields:_})}};e.DelegatedRole=s;var i=v((d,g)=>d.map((m,f)=>[m,g[f]]),"zip");function c(d,g){let m=d.split("/"),f=g.split("/");return f.length!=m.length?!1:i(m,f).every(([y,S])=>(0,p.minimatch)(y,S))}v(c,"isTargetInPathPattern");var a=class Qs extends t{static{v(this,"SuccinctRoles")}bitLength;namePrefix;numberOfBins;suffixLen;constructor(g){super(g);let{bitLength:m,namePrefix:f}=g;if(m<=0||m>32)throw new l.ValueError("bitLength must be between 1 and 32");this.bitLength=m,this.namePrefix=f,this.numberOfBins=Math.pow(2,m),this.suffixLen=(this.numberOfBins-1).toString(16).length}equals(g){return g instanceof Qs?super.equals(g)&&this.bitLength===g.bitLength&&this.namePrefix===g.namePrefix:!1}getRoleForTarget(g){let m=h.default.createHash("sha256").update(g).digest().subarray(0,4),f=32-this.bitLength,y=(m.readUInt32BE()>>>f).toString(16).padStart(this.suffixLen,"0");return`${this.namePrefix}-${y}`}*getRoles(){for(let g=0;g<this.numberOfBins;g++){let m=g.toString(16).padStart(this.suffixLen,"0");yield`${this.namePrefix}-${m}`}}isDelegatedRole(g){let m=this.namePrefix+"-";if(!g.startsWith(m))return!1;let f=g.slice(m.length,g.length);if(f.length!=this.suffixLen||!f.match(/^[0-9a-fA-F]+$/))return!1;let y=parseInt(f,16);return 0<=y&&y<this.numberOfBins}toJSON(){return{...super.toJSON(),bit_length:this.bitLength,name_prefix:this.namePrefix}}static fromJSON(g){let{keyids:m,threshold:f,bit_length:y,name_prefix:S,...b}=g;if(!n.guard.isStringArray(m))throw new TypeError("keyids must be an array of strings");if(typeof f!="number")throw new TypeError("threshold must be a number");if(typeof y!="number")throw new TypeError("bit_length must be a number");if(typeof S!="string")throw new TypeError("name_prefix must be a string");return new Qs({keyIDs:m,threshold:f,bitLength:y,namePrefix:S,unrecognizedFields:b})}};e.SuccinctRoles=a}),Fl=J(e=>{"use strict";var u=e&&e.__importDefault||function(d){return d&&d.__esModule?d:{default:d}};Object.defineProperty(e,"__esModule",{value:!0}),e.Root=void 0;var h=u(require("util")),p=Rt(),o=tt(),l=$i(),n=Ul(),t=Xe(),r=class ei extends p.Signed{static{v(this,"Root")}type=p.MetadataKind.Root;keys;roles;consistentSnapshot;constructor(g){if(super(g),this.keys=g.keys||{},this.consistentSnapshot=g.consistentSnapshot??!0,!g.roles)this.roles=n.TOP_LEVEL_ROLE_NAMES.reduce((m,f)=>({...m,[f]:new n.Role({keyIDs:[],threshold:1})}),{});else{let m=new Set(Object.keys(g.roles));if(!n.TOP_LEVEL_ROLE_NAMES.every(f=>m.has(f)))throw new o.ValueError("missing top-level role");this.roles=g.roles}}addKey(g,m){if(!this.roles[m])throw new o.ValueError(`role ${m} does not exist`);this.roles[m].keyIDs.includes(g.keyID)||this.roles[m].keyIDs.push(g.keyID),this.keys[g.keyID]=g}equals(g){return g instanceof ei?super.equals(g)&&this.consistentSnapshot===g.consistentSnapshot&&h.default.isDeepStrictEqual(this.keys,g.keys)&&h.default.isDeepStrictEqual(this.roles,g.roles):!1}toJSON(){return{_type:this.type,spec_version:this.specVersion,version:this.version,expires:this.expires,keys:s(this.keys),roles:i(this.roles),consistent_snapshot:this.consistentSnapshot,...this.unrecognizedFields}}static fromJSON(g){let{unrecognizedFields:m,...f}=p.Signed.commonFieldsFromJSON(g),{keys:y,roles:S,consistent_snapshot:b,...E}=m;if(typeof b!="boolean")throw new TypeError("consistent_snapshot must be a boolean");return new ei({...f,keys:c(y),roles:a(S),consistentSnapshot:b,unrecognizedFields:E})}};e.Root=r;function s(d){return Object.entries(d).reduce((g,[m,f])=>({...g,[m]:f.toJSON()}),{})}v(s,"keysToJSON");function i(d){return Object.entries(d).reduce((g,[m,f])=>({...g,[m]:f.toJSON()}),{})}v(i,"rolesToJSON");function c(d){let g;if(t.guard.isDefined(d)){if(!t.guard.isObjectRecord(d))throw new TypeError("keys must be an object");g=Object.entries(d).reduce((m,[f,y])=>({...m,[f]:l.Key.fromJSON(f,y)}),{})}return g}v(c,"keysFromJSON");function a(d){let g;if(t.guard.isDefined(d)){if(!t.guard.isObjectRecord(d))throw new TypeError("roles must be an object");g=Object.entries(d).reduce((m,[f,y])=>({...m,[f]:n.Role.fromJSON(y)}),{})}return g}v(a,"rolesFromJSON")}),Hl=J(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Signature=void 0;var u=class Gl{static{v(this,"Signature")}keyID;sig;constructor(p){let{keyID:o,sig:l}=p;this.keyID=o,this.sig=l}toJSON(){return{keyid:this.keyID,sig:this.sig}}static fromJSON(p){let{keyid:o,sig:l}=p;if(typeof o!="string")throw new TypeError("keyid must be a string");if(typeof l!="string")throw new TypeError("sig must be a string");return new Gl({keyID:o,sig:l})}};e.Signature=u}),Vl=J(e=>{"use strict";var u=e&&e.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(e,"__esModule",{value:!0}),e.Snapshot=void 0;var h=u(require("util")),p=Rt(),o=Dr(),l=Xe(),n=class ti extends p.Signed{static{v(this,"Snapshot")}type=p.MetadataKind.Snapshot;meta;constructor(i){super(i),this.meta=i.meta||{"targets.json":new o.MetaFile({version:1})}}equals(i){return i instanceof ti?super.equals(i)&&h.default.isDeepStrictEqual(this.meta,i.meta):!1}toJSON(){return{_type:this.type,meta:t(this.meta),spec_version:this.specVersion,version:this.version,expires:this.expires,...this.unrecognizedFields}}static fromJSON(i){let{unrecognizedFields:c,...a}=p.Signed.commonFieldsFromJSON(i),{meta:d,...g}=c;return new ti({...a,meta:r(d),unrecognizedFields:g})}};e.Snapshot=n;function t(s){return Object.entries(s).reduce((i,[c,a])=>({...i,[c]:a.toJSON()}),{})}v(t,"metaToJSON");function r(s){let i;if(l.guard.isDefined(s))if(l.guard.isObjectRecord(s))i=Object.entries(s).reduce((c,[a,d])=>({...c,[a]:o.MetaFile.fromJSON(d)}),{});else throw new TypeError("meta field is malformed");return i}v(r,"metaFromJSON")}),jm=J(e=>{"use strict";var u=e&&e.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(e,"__esModule",{value:!0}),e.Delegations=void 0;var h=u(require("util")),p=tt(),o=$i(),l=Ul(),n=Xe(),t=class ri{static{v(this,"Delegations")}keys;roles;unrecognizedFields;succinctRoles;constructor(d){if(this.keys=d.keys,this.unrecognizedFields=d.unrecognizedFields||{},d.roles&&Object.keys(d.roles).some(g=>l.TOP_LEVEL_ROLE_NAMES.includes(g)))throw new p.ValueError("Delegated role name conflicts with top-level role name");this.succinctRoles=d.succinctRoles,this.roles=d.roles}equals(d){return d instanceof ri?h.default.isDeepStrictEqual(this.keys,d.keys)&&h.default.isDeepStrictEqual(this.roles,d.roles)&&h.default.isDeepStrictEqual(this.unrecognizedFields,d.unrecognizedFields)&&h.default.isDeepStrictEqual(this.succinctRoles,d.succinctRoles):!1}*rolesForTarget(d){if(this.roles)for(let g of Object.values(this.roles))g.isDelegatedPath(d)&&(yield{role:g.name,terminating:g.terminating});else this.succinctRoles&&(yield{role:this.succinctRoles.getRoleForTarget(d),terminating:!0})}toJSON(){let d={keys:r(this.keys),...this.unrecognizedFields};return this.roles?d.roles=s(this.roles):this.succinctRoles&&(d.succinct_roles=this.succinctRoles.toJSON()),d}static fromJSON(d){let{keys:g,roles:m,succinct_roles:f,...y}=d,S;return n.guard.isObject(f)&&(S=l.SuccinctRoles.fromJSON(f)),new ri({keys:i(g),roles:c(m),unrecognizedFields:y,succinctRoles:S})}};e.Delegations=t;function r(a){return Object.entries(a).reduce((d,[g,m])=>({...d,[g]:m.toJSON()}),{})}v(r,"keysToJSON");function s(a){return Object.values(a).map(d=>d.toJSON())}v(s,"rolesToJSON");function i(a){if(!n.guard.isObjectRecord(a))throw new TypeError("keys is malformed");return Object.entries(a).reduce((d,[g,m])=>({...d,[g]:o.Key.fromJSON(g,m)}),{})}v(i,"keysFromJSON");function c(a){let d;if(n.guard.isDefined(a)){if(!n.guard.isObjectArray(a))throw new TypeError("roles is malformed");d=a.reduce((g,m)=>{let f=l.DelegatedRole.fromJSON(m);return{...g,[f.name]:f}},{})}return d}v(c,"rolesFromJSON")}),Wl=J(e=>{"use strict";var u=e&&e.__importDefault||function(c){return c&&c.__esModule?c:{default:c}};Object.defineProperty(e,"__esModule",{value:!0}),e.Targets=void 0;var h=u(require("util")),p=Rt(),o=jm(),l=Dr(),n=Xe(),t=class si extends p.Signed{static{v(this,"Targets")}type=p.MetadataKind.Targets;targets;delegations;constructor(a){super(a),this.targets=a.targets||{},this.delegations=a.delegations}addTarget(a){this.targets[a.path]=a}equals(a){return a instanceof si?super.equals(a)&&h.default.isDeepStrictEqual(this.targets,a.targets)&&h.default.isDeepStrictEqual(this.delegations,a.delegations):!1}toJSON(){let a={_type:this.type,spec_version:this.specVersion,version:this.version,expires:this.expires,targets:r(this.targets),...this.unrecognizedFields};return this.delegations&&(a.delegations=this.delegations.toJSON()),a}static fromJSON(a){let{unrecognizedFields:d,...g}=p.Signed.commonFieldsFromJSON(a),{targets:m,delegations:f,...y}=d;return new si({...g,targets:s(m),delegations:i(f),unrecognizedFields:y})}};e.Targets=t;function r(c){return Object.entries(c).reduce((a,[d,g])=>({...a,[d]:g.toJSON()}),{})}v(r,"targetsToJSON");function s(c){let a;if(n.guard.isDefined(c))if(n.guard.isObjectRecord(c))a=Object.entries(c).reduce((d,[g,m])=>({...d,[g]:l.TargetFile.fromJSON(g,m)}),{});else throw new TypeError("targets must be an object");return a}v(s,"targetsFromJSON");function i(c){let a;if(n.guard.isDefined(c))if(n.guard.isObject(c))a=o.Delegations.fromJSON(c);else throw new TypeError("delegations must be an object");return a}v(i,"delegationsFromJSON")}),zl=J(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Timestamp=void 0;var u=Rt(),h=Dr(),p=Xe(),o=class ii extends u.Signed{static{v(this,"Timestamp")}type=u.MetadataKind.Timestamp;snapshotMeta;constructor(t){super(t),this.snapshotMeta=t.snapshotMeta||new h.MetaFile({version:1})}equals(t){return t instanceof ii?super.equals(t)&&this.snapshotMeta.equals(t.snapshotMeta):!1}toJSON(){return{_type:this.type,spec_version:this.specVersion,version:this.version,expires:this.expires,meta:{"snapshot.json":this.snapshotMeta.toJSON()},...this.unrecognizedFields}}static fromJSON(t){let{unrecognizedFields:r,...s}=u.Signed.commonFieldsFromJSON(t),{meta:i,...c}=r;return new ii({...s,snapshotMeta:l(i),unrecognizedFields:c})}};e.Timestamp=o;function l(n){let t;if(p.guard.isDefined(n)){let r=n["snapshot.json"];if(!p.guard.isDefined(r)||!p.guard.isObject(r))throw new TypeError("missing snapshot.json in meta");t=h.MetaFile.fromJSON(r)}return t}v(l,"snapshotMetaFromJSON")}),$m=J(e=>{"use strict";var u=e&&e.__importDefault||function(d){return d&&d.__esModule?d:{default:d}};Object.defineProperty(e,"__esModule",{value:!0}),e.Metadata=void 0;var h=$l(),p=u(require("util")),o=Rt(),l=tt(),n=Fl(),t=Hl(),r=Vl(),s=Wl(),i=zl(),c=Xe(),a=class ni{static{v(this,"Metadata")}signed;signatures;unrecognizedFields;constructor(g,m,f){this.signed=g,this.signatures=m||{},this.unrecognizedFields=f||{}}sign(g,m=!0){let f=Buffer.from((0,h.canonicalize)(this.signed.toJSON())),y=g(f);m||(this.signatures={}),this.signatures[y.keyID]=y}verifyDelegate(g,m){let f,y={};switch(this.signed.type){case o.MetadataKind.Root:y=this.signed.keys,f=this.signed.roles[g];break;case o.MetadataKind.Targets:if(!this.signed.delegations)throw new l.ValueError(`No delegations found for ${g}`);y=this.signed.delegations.keys,this.signed.delegations.roles?f=this.signed.delegations.roles[g]:this.signed.delegations.succinctRoles&&this.signed.delegations.succinctRoles.isDelegatedRole(g)&&(f=this.signed.delegations.succinctRoles);break;default:throw new TypeError("invalid metadata type")}if(!f)throw new l.ValueError(`no delegation found for ${g}`);let S=new Set;if(f.keyIDs.forEach(b=>{let E=y[b];if(E)try{E.verifySignature(m),S.add(E.keyID)}catch{}}),S.size<f.threshold)throw new l.UnsignedMetadataError(`${g} was signed by ${S.size}/${f.threshold} keys`)}equals(g){return g instanceof ni?this.signed.equals(g.signed)&&p.default.isDeepStrictEqual(this.signatures,g.signatures)&&p.default.isDeepStrictEqual(this.unrecognizedFields,g.unrecognizedFields):!1}toJSON(){return{signatures:Object.values(this.signatures).map(g=>g.toJSON()),signed:this.signed.toJSON(),...this.unrecognizedFields}}static fromJSON(g,m){let{signed:f,signatures:y,...S}=m;if(!c.guard.isDefined(f)||!c.guard.isObject(f))throw new TypeError("signed is not defined");if(g!==f._type)throw new l.ValueError(`expected '${g}', got ${f._type}`);if(!c.guard.isObjectArray(y))throw new TypeError("signatures is not an array");let b;switch(g){case o.MetadataKind.Root:b=n.Root.fromJSON(f);break;case o.MetadataKind.Timestamp:b=i.Timestamp.fromJSON(f);break;case o.MetadataKind.Snapshot:b=r.Snapshot.fromJSON(f);break;case o.MetadataKind.Targets:b=s.Targets.fromJSON(f);break;default:throw new TypeError("invalid metadata type")}let E={};return y.forEach(_=>{let w=t.Signature.fromJSON(_);if(E[w.keyID])throw new l.ValueError(`multiple signatures found for keyid: ${w.keyID}`);E[w.keyID]=w}),new ni(b,E,S)}};e.Metadata=a}),Bi=J(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Timestamp=e.Targets=e.Snapshot=e.Signature=e.Root=e.Metadata=e.Key=e.TargetFile=e.MetaFile=e.ValueError=e.MetadataKind=void 0;var u=Rt();Object.defineProperty(e,"MetadataKind",{enumerable:!0,get:v(function(){return u.MetadataKind},"get")});var h=tt();Object.defineProperty(e,"ValueError",{enumerable:!0,get:v(function(){return h.ValueError},"get")});var p=Dr();Object.defineProperty(e,"MetaFile",{enumerable:!0,get:v(function(){return p.MetaFile},"get")}),Object.defineProperty(e,"TargetFile",{enumerable:!0,get:v(function(){return p.TargetFile},"get")});var o=$i();Object.defineProperty(e,"Key",{enumerable:!0,get:v(function(){return o.Key},"get")});var l=$m();Object.defineProperty(e,"Metadata",{enumerable:!0,get:v(function(){return l.Metadata},"get")});var n=Fl();Object.defineProperty(e,"Root",{enumerable:!0,get:v(function(){return n.Root},"get")});var t=Hl();Object.defineProperty(e,"Signature",{enumerable:!0,get:v(function(){return t.Signature},"get")});var r=Vl();Object.defineProperty(e,"Snapshot",{enumerable:!0,get:v(function(){return r.Snapshot},"get")});var s=Wl();Object.defineProperty(e,"Targets",{enumerable:!0,get:v(function(){return s.Targets},"get")});var i=zl();Object.defineProperty(e,"Timestamp",{enumerable:!0,get:v(function(){return i.Timestamp},"get")})}),Ui=J(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DownloadHTTPError=e.DownloadLengthMismatchError=e.DownloadError=e.ExpiredMetadataError=e.EqualVersionError=e.BadVersionError=e.RepositoryError=e.PersistError=e.RuntimeError=e.ValueError=void 0;var u=class extends Error{static{v(this,"ValueError")}};e.ValueError=u;var h=class extends Error{static{v(this,"RuntimeError")}};e.RuntimeError=h;var p=class extends Error{static{v(this,"PersistError")}};e.PersistError=p;var o=class extends Error{static{v(this,"RepositoryError")}};e.RepositoryError=o;var l=class extends o{static{v(this,"BadVersionError")}};e.BadVersionError=l;var n=class extends l{static{v(this,"EqualVersionError")}};e.EqualVersionError=n;var t=class extends o{static{v(this,"ExpiredMetadataError")}};e.ExpiredMetadataError=t;var r=class extends Error{static{v(this,"DownloadError")}};e.DownloadError=r;var s=class extends r{static{v(this,"DownloadLengthMismatchError")}};e.DownloadLengthMismatchError=s;var i=class extends r{static{v(this,"DownloadHTTPError")}statusCode;constructor(c,a){super(c),this.statusCode=a}};e.DownloadHTTPError=i}),Bm=J(e=>{"use strict";var u=e&&e.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.withTempFile=void 0;var h=u(require("internal/fs/promises")),p=u(require("os")),o=u(require("path")),l=v(async t=>n(async r=>t(o.default.join(r,"tempfile"))),"withTempFile");e.withTempFile=l;var n=v(async t=>{let r=await h.default.realpath(p.default.tmpdir()),s=await h.default.mkdtemp(r+o.default.sep);try{return await t(s)}finally{await h.default.rm(s,{force:!0,recursive:!0,maxRetries:3})}},"withTempDir")}),Kl=J(e=>{"use strict";var u=e&&e.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(e,"__esModule",{value:!0}),e.DefaultFetcher=e.BaseFetcher=void 0;var h=u(At()),p=u(require("fs")),o=u(Pr()),l=u(require("util")),n=Ui(),t=Bm(),r=(0,h.default)("tuf:fetch"),s=class{static{v(this,"BaseFetcher")}async downloadFile(a,d,g){return(0,t.withTempFile)(async m=>{let f=await this.fetch(a),y=0,S=p.default.createWriteStream(m);try{for await(let b of f){if(y+=b.length,y>d)throw new n.DownloadLengthMismatchError("Max length reached");await c(S,b)}}finally{await l.default.promisify(S.close).bind(S)()}return g(m)})}async downloadBytes(a,d){return this.downloadFile(a,d,async g=>{let m=p.default.createReadStream(g),f=[];for await(let y of m)f.push(y);return Buffer.concat(f)})}};e.BaseFetcher=s;var i=class extends s{static{v(this,"DefaultFetcher")}timeout;retry;constructor(a={}){super(),this.timeout=a.timeout,this.retry=a.retry}async fetch(a){r("GET %s",a);let d=await(0,o.default)(a,{timeout:this.timeout,retry:this.retry});if(!d.ok||!d?.body)throw new n.DownloadHTTPError("Failed to download",d.status);return d.body}};e.DefaultFetcher=i;var c=v(async(a,d)=>new Promise((g,m)=>{a.write(d,f=>{f&&m(f),g(!0)})}),"writeBufferToStream")}),Um=J(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.defaultConfig=void 0,e.defaultConfig={maxRootRotations:256,maxDelegations:32,rootMaxLength:512e3,timestampMaxLength:16384,snapshotMaxLength:2e6,targetsMaxLength:5e6,prefixTargetsWithHash:!0,fetchTimeout:1e5,fetchRetries:void 0,fetchRetry:2}}),Fm=J(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TrustedMetadataStore=void 0;var u=Bi(),h=Ui(),p=class{static{v(this,"TrustedMetadataStore")}trustedSet={};referenceTime;constructor(o){this.referenceTime=new Date,this.loadTrustedRoot(o)}get root(){if(!this.trustedSet.root)throw new ReferenceError("No trusted root metadata");return this.trustedSet.root}get timestamp(){return this.trustedSet.timestamp}get snapshot(){return this.trustedSet.snapshot}get targets(){return this.trustedSet.targets}getRole(o){return this.trustedSet[o]}updateRoot(o){let l=JSON.parse(o.toString("utf8")),n=u.Metadata.fromJSON(u.MetadataKind.Root,l);if(n.signed.type!=u.MetadataKind.Root)throw new h.RepositoryError(`Expected 'root', got ${n.signed.type}`);if(this.root.verifyDelegate(u.MetadataKind.Root,n),n.signed.version!=this.root.signed.version+1)throw new h.BadVersionError(`Expected version ${this.root.signed.version+1}, got ${n.signed.version}`);return n.verifyDelegate(u.MetadataKind.Root,n),this.trustedSet.root=n,n}updateTimestamp(o){if(this.snapshot)throw new h.RuntimeError("Cannot update timestamp after snapshot");if(this.root.signed.isExpired(this.referenceTime))throw new h.ExpiredMetadataError("Final root.json is expired");let l=JSON.parse(o.toString("utf8")),n=u.Metadata.fromJSON(u.MetadataKind.Timestamp,l);if(n.signed.type!=u.MetadataKind.Timestamp)throw new h.RepositoryError(`Expected 'timestamp', got ${n.signed.type}`);if(this.root.verifyDelegate(u.MetadataKind.Timestamp,n),this.timestamp){if(n.signed.version<this.timestamp.signed.version)throw new h.BadVersionError(`New timestamp version ${n.signed.version} is less than current version ${this.timestamp.signed.version}`);if(n.signed.version===this.timestamp.signed.version)throw new h.EqualVersionError(`New timestamp version ${n.signed.version} is equal to current version ${this.timestamp.signed.version}`);let t=this.timestamp.signed.snapshotMeta,r=n.signed.snapshotMeta;if(r.version<t.version)throw new h.BadVersionError(`New snapshot version ${r.version} is less than current version ${t.version}`)}return this.trustedSet.timestamp=n,this.checkFinalTimestamp(),n}updateSnapshot(o,l=!1){if(!this.timestamp)throw new h.RuntimeError("Cannot update snapshot before timestamp");if(this.targets)throw new h.RuntimeError("Cannot update snapshot after targets");this.checkFinalTimestamp();let n=this.timestamp.signed.snapshotMeta;l||n.verify(o);let t=JSON.parse(o.toString("utf8")),r=u.Metadata.fromJSON(u.MetadataKind.Snapshot,t);if(r.signed.type!=u.MetadataKind.Snapshot)throw new h.RepositoryError(`Expected 'snapshot', got ${r.signed.type}`);return this.root.verifyDelegate(u.MetadataKind.Snapshot,r),this.snapshot&&Object.entries(this.snapshot.signed.meta).forEach(([s,i])=>{let c=r.signed.meta[s];if(!c)throw new h.RepositoryError(`Missing file ${s} in new snapshot`);if(c.version<i.version)throw new h.BadVersionError(`New version ${c.version} of ${s} is less than current version ${i.version}`)}),this.trustedSet.snapshot=r,this.checkFinalSnapsnot(),r}updateDelegatedTargets(o,l,n){if(!this.snapshot)throw new h.RuntimeError("Cannot update delegated targets before snapshot");this.checkFinalSnapsnot();let t=this.trustedSet[n];if(!t)throw new h.RuntimeError(`No trusted ${n} metadata`);let r=this.snapshot.signed.meta?.[`${l}.json`];if(!r)throw new h.RepositoryError(`Missing ${l}.json in snapshot`);r.verify(o);let s=JSON.parse(o.toString("utf8")),i=u.Metadata.fromJSON(u.MetadataKind.Targets,s);if(i.signed.type!=u.MetadataKind.Targets)throw new h.RepositoryError(`Expected 'targets', got ${i.signed.type}`);t.verifyDelegate(l,i);let c=i.signed.version;if(c!=r.version)throw new h.BadVersionError(`Version ${c} of ${l} does not match snapshot version ${r.version}`);if(i.signed.isExpired(this.referenceTime))throw new h.ExpiredMetadataError(`${l}.json is expired`);this.trustedSet[l]=i}loadTrustedRoot(o){let l=JSON.parse(o.toString("utf8")),n=u.Metadata.fromJSON(u.MetadataKind.Root,l);if(n.signed.type!=u.MetadataKind.Root)throw new h.RepositoryError(`Expected 'root', got ${n.signed.type}`);n.verifyDelegate(u.MetadataKind.Root,n),this.trustedSet.root=n}checkFinalTimestamp(){if(!this.timestamp)throw new ReferenceError("No trusted timestamp metadata");if(this.timestamp.signed.isExpired(this.referenceTime))throw new h.ExpiredMetadataError("Final timestamp.json is expired")}checkFinalSnapsnot(){if(!this.snapshot)throw new ReferenceError("No trusted snapshot metadata");if(!this.timestamp)throw new ReferenceError("No trusted timestamp metadata");if(this.snapshot.signed.isExpired(this.referenceTime))throw new h.ExpiredMetadataError("snapshot.json is expired");let o=this.timestamp.signed.snapshotMeta;if(this.snapshot.signed.version!==o.version)throw new h.BadVersionError("Snapshot version doesn't match timestamp")}};e.TrustedMetadataStore=p}),Hm=J(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.join=h;var u=require("url");function h(l,n){return new u.URL(p(l)+o(n)).toString()}v(h,"join");function p(l){return l.endsWith("/")?l:l+"/"}v(p,"ensureTrailingSlash");function o(l){return l.startsWith("/")?l.slice(1):l}v(o,"removeLeadingSlash")}),Gm=J(e=>{"use strict";var u=e&&e.__createBinding||(Object.create?function(f,y,S,b){b===void 0&&(b=S);var E=Object.getOwnPropertyDescriptor(y,S);(!E||("get"in E?!y.__esModule:E.writable||E.configurable))&&(E={enumerable:!0,get:v(function(){return y[S]},"get")}),Object.defineProperty(f,b,E)}:function(f,y,S,b){b===void 0&&(b=S),f[b]=y[S]}),h=e&&e.__setModuleDefault||(Object.create?function(f,y){Object.defineProperty(f,"default",{enumerable:!0,value:y})}:function(f,y){f.default=y}),p=e&&e.__importStar||function(){var f=v(function(y){return f=Object.getOwnPropertyNames||function(S){var b=[];for(var E in S)Object.prototype.hasOwnProperty.call(S,E)&&(b[b.length]=E);return b},f(y)},"ownKeys");return function(y){if(y&&y.__esModule)return y;var S={};if(y!=null)for(var b=f(y),E=0;E<b.length;E++)b[E]!=="default"&&u(S,y,b[E]);return h(S,y),S}}(),o=e&&e.__importDefault||function(f){return f&&f.__esModule?f:{default:f}};Object.defineProperty(e,"__esModule",{value:!0}),e.Updater=void 0;var l=Bi(),n=o(At()),t=p(require("fs")),r=p(require("path")),s=Um(),i=Ui(),c=Kl(),a=Fm(),d=p(Hm()),g=(0,n.default)("tuf:cache"),m=class{static{v(this,"Updater")}dir;metadataBaseUrl;targetDir;targetBaseUrl;forceCache;trustedSet;config;fetcher;constructor(f){let{metadataDir:y,metadataBaseUrl:S,targetDir:b,targetBaseUrl:E,fetcher:_,config:w}=f;this.dir=y,this.metadataBaseUrl=S,this.targetDir=b,this.targetBaseUrl=E,this.forceCache=f.forceCache??!1;let O=this.loadLocalMetadata(l.MetadataKind.Root);this.trustedSet=new a.TrustedMetadataStore(O),this.config={...s.defaultConfig,...w},this.fetcher=_||new c.DefaultFetcher({timeout:this.config.fetchTimeout,retry:this.config.fetchRetries??this.config.fetchRetry})}async refresh(){if(this.forceCache)try{await this.loadTimestamp({checkRemote:!1})}catch{await this.loadRoot(),await this.loadTimestamp()}else await this.loadRoot(),await this.loadTimestamp();await this.loadSnapshot(),await this.loadTargets(l.MetadataKind.Targets,l.MetadataKind.Root)}async getTargetInfo(f){return this.trustedSet.targets||await this.refresh(),this.preorderDepthFirstWalk(f)}async downloadTarget(f,y,S){let b=y||this.generateTargetPath(f);if(!S){if(!this.targetBaseUrl)throw new i.ValueError("Target base URL not set");S=this.targetBaseUrl}let E=f.path;if(this.trustedSet.root.signed.consistentSnapshot&&this.config.prefixTargetsWithHash){let w=Object.values(f.hashes),{dir:O,base:R}=r.parse(E),I=`${w[0]}.${R}`;E=O?`${O}/${I}`:I}let _=d.join(S,E);return await this.fetcher.downloadFile(_,f.length,async w=>{await f.verify(t.createReadStream(w)),g("WRITE %s",b),t.copyFileSync(w,b)}),b}async findCachedTarget(f,y){y||(y=this.generateTargetPath(f));try{if(t.existsSync(y))return await f.verify(t.createReadStream(y)),y}catch{return}}loadLocalMetadata(f){let y=r.join(this.dir,`${f}.json`);return g("READ %s",y),t.readFileSync(y)}async loadRoot(){let f=this.trustedSet.root.signed.version+1,y=f+this.config.maxRootRotations;for(let S=f;S<y;S++){let b=d.join(this.metadataBaseUrl,`${S}.root.json`);try{let E=await this.fetcher.downloadBytes(b,this.config.rootMaxLength);this.trustedSet.updateRoot(E),this.persistMetadata(l.MetadataKind.Root,E)}catch(E){if(E instanceof i.DownloadHTTPError&&[403,404].includes(E.statusCode))break;throw E}}}async loadTimestamp({checkRemote:f}={checkRemote:!0}){try{let b=this.loadLocalMetadata(l.MetadataKind.Timestamp);if(this.trustedSet.updateTimestamp(b),!f)return}catch{}let y=d.join(this.metadataBaseUrl,"timestamp.json"),S=await this.fetcher.downloadBytes(y,this.config.timestampMaxLength);try{this.trustedSet.updateTimestamp(S)}catch(b){if(b instanceof i.EqualVersionError)return;throw b}this.persistMetadata(l.MetadataKind.Timestamp,S)}async loadSnapshot(){try{let f=this.loadLocalMetadata(l.MetadataKind.Snapshot);this.trustedSet.updateSnapshot(f,!0)}catch{if(!this.trustedSet.timestamp)throw new ReferenceError("No timestamp metadata");let f=this.trustedSet.timestamp.signed.snapshotMeta,y=f.length||this.config.snapshotMaxLength,S=this.trustedSet.root.signed.consistentSnapshot?f.version:void 0,b=d.join(this.metadataBaseUrl,S?`${S}.snapshot.json`:"snapshot.json");try{let E=await this.fetcher.downloadBytes(b,y);this.trustedSet.updateSnapshot(E),this.persistMetadata(l.MetadataKind.Snapshot,E)}catch(E){throw new i.RuntimeError(`Unable to load snapshot metadata error ${E}`)}}}async loadTargets(f,y){if(this.trustedSet.getRole(f))return this.trustedSet.getRole(f);try{let S=this.loadLocalMetadata(f);this.trustedSet.updateDelegatedTargets(S,f,y)}catch{if(!this.trustedSet.snapshot)throw new ReferenceError("No snapshot metadata");let S=this.trustedSet.snapshot.signed.meta[`${f}.json`],b=S.length||this.config.targetsMaxLength,E=this.trustedSet.root.signed.consistentSnapshot?S.version:void 0,_=encodeURIComponent(f),w=d.join(this.metadataBaseUrl,E?`${E}.${_}.json`:`${_}.json`);try{let O=await this.fetcher.downloadBytes(w,b);this.trustedSet.updateDelegatedTargets(O,f,y),this.persistMetadata(f,O)}catch(O){throw new i.RuntimeError(`Unable to load targets error ${O}`)}}return this.trustedSet.getRole(f)}async preorderDepthFirstWalk(f){let y=[{roleName:l.MetadataKind.Targets,parentRoleName:l.MetadataKind.Root}],S=new Set;for(;S.size<=this.config.maxDelegations&&y.length>0;){let{roleName:b,parentRoleName:E}=y.pop();if(S.has(b))continue;let _=(await this.loadTargets(b,E))?.signed;if(!_)continue;let w=_.targets?.[f];if(w)return w;if(S.add(b),_.delegations){let O=[],R=_.delegations.rolesForTarget(f);for(let{role:I,terminating:P}of R)if(O.push({roleName:I,parentRoleName:b}),P){y.splice(0);break}O.reverse(),y.push(...O)}}}generateTargetPath(f){if(!this.targetDir)throw new i.ValueError("Target directory not set");let y=encodeURIComponent(f.path);return r.join(this.targetDir,y)}persistMetadata(f,y){let S=encodeURIComponent(f);try{let b=r.join(this.dir,`${S}.json`);g("WRITE %s",b),t.writeFileSync(b,y.toString("utf8"))}catch(b){throw new i.PersistError(`Failed to persist metadata ${S} error: ${b}`)}}};e.Updater=m}),Vm=J(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Updater=e.BaseFetcher=e.TargetFile=void 0;var u=Bi();Object.defineProperty(e,"TargetFile",{enumerable:!0,get:v(function(){return u.TargetFile},"get")});var h=Kl();Object.defineProperty(e,"BaseFetcher",{enumerable:!0,get:v(function(){return h.BaseFetcher},"get")});var p=Gm();Object.defineProperty(e,"Updater",{enumerable:!0,get:v(function(){return p.Updater},"get")})}),Jl=J(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TUFError=void 0;var u=class extends Error{static{v(this,"TUFError")}constructor({code:h,message:p,cause:o}){super(p),this.code=h,this.cause=o,this.name=this.constructor.name}};e.TUFError=u}),Wm=J(e=>{"use strict";var u=e&&e.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(e,"__esModule",{value:!0}),e.readTarget=o;var h=u(require("fs")),p=Jl();async function o(n,t){let r=await l(n,t);return new Promise((s,i)=>{h.default.readFile(r,"utf-8",(c,a)=>{c?i(new p.TUFError({code:"TUF_READ_TARGET_ERROR",message:`error reading target ${r}`,cause:c})):s(a)})})}v(o,"readTarget");async function l(n,t){let r;try{r=await n.getTargetInfo(t)}catch(i){throw new p.TUFError({code:"TUF_REFRESH_METADATA_ERROR",message:"error refreshing TUF metadata",cause:i})}if(!r)throw new p.TUFError({code:"TUF_FIND_TARGET_ERROR",message:`target ${t} not found`});let s=await n.findCachedTarget(r);if(!s)try{s=await n.downloadTarget(r)}catch(i){throw new p.TUFError({code:"TUF_DOWNLOAD_TARGET_ERROR",message:`error downloading target ${s}`,cause:i})}return s}v(l,"getTargetPath")}),zm=J((e,u)=>{u.exports={"https://tuf-repo-cdn.sigstore.dev":{"root.json":"ewogInNpZ25hdHVyZXMiOiBbCiAgewogICAia2V5aWQiOiAiNmYyNjAwODlkNTkyM2RhZjIwMTY2Y2E2NTdjNTQzYWY2MTgzNDZhYjk3MTg4NGE5OTk2MmIwMTk4OGJiZTBjMyIsCiAgICJzaWciOiAiIgogIH0sCiAgewogICAia2V5aWQiOiAiZTcxYTU0ZDU0MzgzNWJhODZhZGFkOTQ2MDM3OWM3NjQxZmI4NzI2ZDE2NGVhNzY2ODAxYTFjNTIyYWJhN2VhMiIsCiAgICJzaWciOiAiMzA0NTAyMjEwMGJiZGRkNDY0ZjgwNjZjZWI4OGJhNzg3Mzc1YzEyY2Q2MzMwNjgwZTA4YzI5MTA3MDNlNjUzOGM3MWNjNzlhZDIwMjIwNTE5MGIwNmU0NTM3ZmU5NjFiM2VmODFmZTY4ZWRjZDAwODljMTlmOTE5YWZlZDQyM2I5YWFmZDcwMDY0MTE1MyIKICB9LAogIHsKICAgImtleWlkIjogIjIyZjRjYWVjNmQ4ZTZmOTU1NWFmNjZiM2Q0YzNjYjA2YTNiYjIzZmRjN2UzOWM5MTZjNjFmNDYyZTZmNTJiMDYiLAogICAic2lnIjogIjMwNDQwMjIwNjkzMDZjZDUyNTdmNzMyYTc0MGMxYWZlNjBhOGU0MzNjNWRlNThlYWZlYWRiZTk5YzMzNmM5YzcxZDE5OGNmODAyMjAwZDc3Mzk1M2FlN2RiYzQ4ZDNlNWJhZDlhNmY2NGJhZmZmMTk2YjdlMmFkNGE1MmExOTUxOTM2N2Q0N2RjMDQyIgogIH0sCiAgewogICAia2V5aWQiOiAiNjE2NDM4MzgxMjViNDQwYjQwZGI2OTQyZjVjYjVhMzFjMGRjMDQzNjgzMTZlYjJhYWE1OGI5NTkwNGE1ODIyMiIsCiAgICJzaWciOiAiMzA0NDAyMjA0ZDIxYTJlYzgwZGY2NmU2MWY2ZmUyOTEyOTUxZGM0N2RmODM2MDM2ZjhjMGFiMTA4MTZkMzc1ZTcxZGJmNzllMDIyMDU0N2FkY2UxYWZkZjA0ZTY3OTRlZmEyMDNkZDUyNjRjNmY3ZTBlZjc4ZTU3ZmU5MzRiMGQyNmNiOTk0ZWVjNzYiCiAgfSwKICB7CiAgICJrZXlpZCI6ICJhNjg3ZTViZjRmYWI4MmIwZWU1OGQ0NmUwNWM5NTM1MTQ1YTJjOWFmYjQ1OGY0M2Q0MmI0NWNhMGZkY2UyYTcwIiwKICAgInNpZyI6ICIzMDQ1MDIyMDYwODI2NDk2NTU3MTQ0ZWIxNjQ5ODkzZWQ1ZjZmNGVhNTQ1MzZmZWIwY2E4MmY4Yjg5YWU2NDFiZTM5NzQzZTUwMjIxMDBhZDcxMThiNWU5ZDQ4MzczMjYyMDZlNDEyZmM2ZGEyOTk5OTI1ZDExMDMyOGE3YzE2NmIwNmM2MjQzMzZjOTNmIgogIH0sCiAgewogICAia2V5aWQiOiAiMTgzZTY0ZjM3NjcwZGMxM2NhMGQyODk5NWEzMDUzZjM3NDA5NTRkZGNlNDQzMjFhNDFlNDY1MzRjZjQ0ZTYzMiIsCiAgICJzaWciOiAiMzA0NjAyMjEwMGQ4MTc5NDM5YzJlNzNlYjBjMTczM2FiZWU3ZmFmODMyZGNhZWE3MjYzZWRjYjQ5MTk4OTFjM2EyNDdmMDU5MjMwMjIxMDBlMWE0MzdlMDc5N2U4MDNmOWI3MmRjOWQyZDkyMTU1YjBhMjI3MGMyNGVmZGQ1ZjRiM2E1ZDhmMGIwZjQzMWE3IgogIH0KIF0sCiAic2lnbmVkIjogewogICJfdHlwZSI6ICJyb290IiwKICAiY29uc2lzdGVudF9zbmFwc2hvdCI6IHRydWUsCiAgImV4cGlyZXMiOiAiMjAyNi0wMS0yMlQxMzowNTo1OVoiLAogICJrZXlzIjogewogICAiMGM4NzQzMmMzYmYwOWZkOTkxODlmZGMzMmZhNWVhZWRmNGU0YTVmYWM3YmFiNzNmYTA0YTJlMGZjNjRhZjZmNSI6IHsKICAgICJrZXlpZF9oYXNoX2FsZ29yaXRobXMiOiBbCiAgICAgInNoYTI1NiIsCiAgICAgInNoYTUxMiIKICAgIF0sCiAgICAia2V5dHlwZSI6ICJlY2RzYSIsCiAgICAia2V5dmFsIjogewogICAgICJwdWJsaWMiOiAiLS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS1cbk1Ga3dFd1lIS29aSXpqMENBUVlJS29aSXpqMERBUWNEUWdBRVdSaUdyNStqKzNKNVNzSCtadHI1bkUySDJ3TzdcbkJWK25PM3M5M2dMY2ExOHFUT3pIWTFvV3lBR0R5a01Tc0dUVUJTdDlEK0FuMEtmS3NEMm1mU000MlE9PVxuLS0tLS1FTkQgUFVCTElDIEtFWS0tLS0tXG4iCiAgICB9LAogICAgInNjaGVtZSI6ICJlY2RzYS1zaGEyLW5pc3RwMjU2IiwKICAgICJ4LXR1Zi1vbi1jaS1vbmxpbmUtdXJpIjogImdjcGttczpwcm9qZWN0cy9zaWdzdG9yZS1yb290LXNpZ25pbmcvbG9jYXRpb25zL2dsb2JhbC9rZXlSaW5ncy9yb290L2NyeXB0b0tleXMvdGltZXN0YW1wL2NyeXB0b0tleVZlcnNpb25zLzEiCiAgIH0sCiAgICIxODNlNjRmMzc2NzBkYzEzY2EwZDI4OTk1YTMwNTNmMzc0MDk1NGRkY2U0NDMyMWE0MWU0NjUzNGNmNDRlNjMyIjogewogICAgImtleXR5cGUiOiAiZWNkc2EiLAogICAgImtleXZhbCI6IHsKICAgICAicHVibGljIjogIi0tLS0tQkVHSU4gUFVCTElDIEtFWS0tLS0tXG5NRmt3RXdZSEtvWkl6ajBDQVFZSUtvWkl6ajBEQVFjRFFnQUVNeHBQT0pDSVo1b3RHNDEwNmZHSnNlRVFpM1Y5XG5wa01ZUTR1eVY5VGoxTTdXSFhJeUxHK2prZnZ1RzBnbFExSlpiUlpaQlYzZ0FSNHNvamRHSElTZW93PT1cbi0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLVxuIgogICAgfSwKICAgICJzY2hlbWUiOiAiZWNkc2Etc2hhMi1uaXN0cDI1NiIsCiAgICAieC10dWYtb24tY2kta2V5b3duZXIiOiAiQGxhbmNlIgogICB9LAogICAiMjJmNGNhZWM2ZDhlNmY5NTU1YWY2NmIzZDRjM2NiMDZhM2JiMjNmZGM3ZTM5YzkxNmM2MWY0NjJlNmY1MmIwNiI6IHsKICAgICJrZXlpZF9oYXNoX2FsZ29yaXRobXMiOiBbCiAgICAgInNoYTI1NiIsCiAgICAgInNoYTUxMiIKICAgIF0sCiAgICAia2V5dHlwZSI6ICJlY2RzYSIsCiAgICAia2V5dmFsIjogewogICAgICJwdWJsaWMiOiAiLS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS1cbk1Ga3dFd1lIS29aSXpqMENBUVlJS29aSXpqMERBUWNEUWdBRXpCelZPbUhDUG9qTVZMU0kzNjRXaWlWOE5QckRcbjZJZ1J4Vmxpc2t6L3YreTNKRVI1bWNWR2NPTmxpRGNXTUM1SjJsZkhtalBOUGhiNEg3eG04THpmU0E9PVxuLS0tLS1FTkQgUFVCTElDIEtFWS0tLS0tXG4iCiAgICB9LAogICAgInNjaGVtZSI6ICJlY2RzYS1zaGEyLW5pc3RwMjU2IiwKICAgICJ4LXR1Zi1vbi1jaS1rZXlvd25lciI6ICJAc2FudGlhZ290b3JyZXMiCiAgIH0sCiAgICI2MTY0MzgzODEyNWI0NDBiNDBkYjY5NDJmNWNiNWEzMWMwZGMwNDM2ODMxNmViMmFhYTU4Yjk1OTA0YTU4MjIyIjogewogICAgImtleWlkX2hhc2hfYWxnb3JpdGhtcyI6IFsKICAgICAic2hhMjU2IiwKICAgICAic2hhNTEyIgogICAgXSwKICAgICJrZXl0eXBlIjogImVjZHNhIiwKICAgICJrZXl2YWwiOiB7CiAgICAgInB1YmxpYyI6ICItLS0tLUJFR0lOIFBVQkxJQyBLRVktLS0tLVxuTUZrd0V3WUhLb1pJemowQ0FRWUlLb1pJemowREFRY0RRZ0FFaW5pa1NzQVFtWWtOZUg1ZVlxL0NuSXpMYWFjT1xueGxTYWF3UURPd3FLeS90Q3F4cTV4eFBTSmMyMUs0V0loczlHeU9rS2Z6dWVZM0dJTHpjTUpaNGNXdz09XG4tLS0tLUVORCBQVUJMSUMgS0VZLS0tLS1cbiIKICAgIH0sCiAgICAic2NoZW1lIjogImVjZHNhLXNoYTItbmlzdHAyNTYiLAogICAgIngtdHVmLW9uLWNpLWtleW93bmVyIjogIkBib2JjYWxsYXdheSIKICAgfSwKICAgImE2ODdlNWJmNGZhYjgyYjBlZTU4ZDQ2ZTA1Yzk1MzUxNDVhMmM5YWZiNDU4ZjQzZDQyYjQ1Y2EwZmRjZTJhNzAiOiB7CiAgICAia2V5aWRfaGFzaF9hbGdvcml0aG1zIjogWwogICAgICJzaGEyNTYiLAogICAgICJzaGE1MTIiCiAgICBdLAogICAgImtleXR5cGUiOiAiZWNkc2EiLAogICAgImtleXZhbCI6IHsKICAgICAicHVibGljIjogIi0tLS0tQkVHSU4gUFVCTElDIEtFWS0tLS0tXG5NRmt3RXdZSEtvWkl6ajBDQVFZSUtvWkl6ajBEQVFjRFFnQUUwZ2hyaDkyTHcxWXIzaWRHVjVXcUN0TURCOEN4XG4rRDhoZEM0dzJaTE5JcGxWUm9WR0xza1lhM2doZU15T2ppSjhrUGkxNWFRMi8vN1Arb2o3VXZKUEd3PT1cbi0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLVxuIgogICAgfSwKICAgICJzY2hlbWUiOiAiZWNkc2Etc2hhMi1uaXN0cDI1NiIsCiAgICAieC10dWYtb24tY2kta2V5b3duZXIiOiAiQGpvc2h1YWdsIgogICB9LAogICAiZTcxYTU0ZDU0MzgzNWJhODZhZGFkOTQ2MDM3OWM3NjQxZmI4NzI2ZDE2NGVhNzY2ODAxYTFjNTIyYWJhN2VhMiI6IHsKICAgICJrZXlpZF9oYXNoX2FsZ29yaXRobXMiOiBbCiAgICAgInNoYTI1NiIsCiAgICAgInNoYTUxMiIKICAgIF0sCiAgICAia2V5dHlwZSI6ICJlY2RzYSIsCiAgICAia2V5dmFsIjogewogICAgICJwdWJsaWMiOiAiLS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS1cbk1Ga3dFd1lIS29aSXpqMENBUVlJS29aSXpqMERBUWNEUWdBRUVYc3ozU1pYRmI4ak1WNDJqNnBKbHlqYmpSOEtcbk4zQndvY2V4cTZMTUliNXFzV0tPUXZMTjE2TlVlZkxjNEhzd09vdW1Sc1ZWYWFqU3BRUzZmb2JrUnc9PVxuLS0tLS1FTkQgUFVCTElDIEtFWS0tLS0tXG4iCiAgICB9LAogICAgInNjaGVtZSI6ICJlY2RzYS1zaGEyLW5pc3RwMjU2IiwKICAgICJ4LXR1Zi1vbi1jaS1rZXlvd25lciI6ICJAbW5tNjc4IgogICB9CiAgfSwKICAicm9sZXMiOiB7CiAgICJyb290IjogewogICAgImtleWlkcyI6IFsKICAgICAiZTcxYTU0ZDU0MzgzNWJhODZhZGFkOTQ2MDM3OWM3NjQxZmI4NzI2ZDE2NGVhNzY2ODAxYTFjNTIyYWJhN2VhMiIsCiAgICAgIjIyZjRjYWVjNmQ4ZTZmOTU1NWFmNjZiM2Q0YzNjYjA2YTNiYjIzZmRjN2UzOWM5MTZjNjFmNDYyZTZmNTJiMDYiLAogICAgICI2MTY0MzgzODEyNWI0NDBiNDBkYjY5NDJmNWNiNWEzMWMwZGMwNDM2ODMxNmViMmFhYTU4Yjk1OTA0YTU4MjIyIiwKICAgICAiYTY4N2U1YmY0ZmFiODJiMGVlNThkNDZlMDVjOTUzNTE0NWEyYzlhZmI0NThmNDNkNDJiNDVjYTBmZGNlMmE3MCIsCiAgICAgIjE4M2U2NGYzNzY3MGRjMTNjYTBkMjg5OTVhMzA1M2YzNzQwOTU0ZGRjZTQ0MzIxYTQxZTQ2NTM0Y2Y0NGU2MzIiCiAgICBdLAogICAgInRocmVzaG9sZCI6IDMKICAgfSwKICAgInNuYXBzaG90IjogewogICAgImtleWlkcyI6IFsKICAgICAiMGM4NzQzMmMzYmYwOWZkOTkxODlmZGMzMmZhNWVhZWRmNGU0YTVmYWM3YmFiNzNmYTA0YTJlMGZjNjRhZjZmNSIKICAgIF0sCiAgICAidGhyZXNob2xkIjogMSwKICAgICJ4LXR1Zi1vbi1jaS1leHBpcnktcGVyaW9kIjogMzY1MCwKICAgICJ4LXR1Zi1vbi1jaS1zaWduaW5nLXBlcmlvZCI6IDM2NQogICB9LAogICAidGFyZ2V0cyI6IHsKICAgICJrZXlpZHMiOiBbCiAgICAgImU3MWE1NGQ1NDM4MzViYTg2YWRhZDk0NjAzNzljNzY0MWZiODcyNmQxNjRlYTc2NjgwMWExYzUyMmFiYTdlYTIiLAogICAgICIyMmY0Y2FlYzZkOGU2Zjk1NTVhZjY2YjNkNGMzY2IwNmEzYmIyM2ZkYzdlMzljOTE2YzYxZjQ2MmU2ZjUyYjA2IiwKICAgICAiNjE2NDM4MzgxMjViNDQwYjQwZGI2OTQyZjVjYjVhMzFjMGRjMDQzNjgzMTZlYjJhYWE1OGI5NTkwNGE1ODIyMiIsCiAgICAgImE2ODdlNWJmNGZhYjgyYjBlZTU4ZDQ2ZTA1Yzk1MzUxNDVhMmM5YWZiNDU4ZjQzZDQyYjQ1Y2EwZmRjZTJhNzAiLAogICAgICIxODNlNjRmMzc2NzBkYzEzY2EwZDI4OTk1YTMwNTNmMzc0MDk1NGRkY2U0NDMyMWE0MWU0NjUzNGNmNDRlNjMyIgogICAgXSwKICAgICJ0aHJlc2hvbGQiOiAzCiAgIH0sCiAgICJ0aW1lc3RhbXAiOiB7CiAgICAia2V5aWRzIjogWwogICAgICIwYzg3NDMyYzNiZjA5ZmQ5OTE4OWZkYzMyZmE1ZWFlZGY0ZTRhNWZhYzdiYWI3M2ZhMDRhMmUwZmM2NGFmNmY1IgogICAgXSwKICAgICJ0aHJlc2hvbGQiOiAxLAogICAgIngtdHVmLW9uLWNpLWV4cGlyeS1wZXJpb2QiOiA3LAogICAgIngtdHVmLW9uLWNpLXNpZ25pbmctcGVyaW9kIjogNgogICB9CiAgfSwKICAic3BlY192ZXJzaW9uIjogIjEuMCIsCiAgInZlcnNpb24iOiAxMywKICAieC10dWYtb24tY2ktZXhwaXJ5LXBlcmlvZCI6IDE5NywKICAieC10dWYtb24tY2ktc2lnbmluZy1wZXJpb2QiOiA0NgogfQp9",targets:{"trusted_root.json":"ewogICJtZWRpYVR5cGUiOiAiYXBwbGljYXRpb24vdm5kLmRldi5zaWdzdG9yZS50cnVzdGVkcm9vdCtqc29uO3ZlcnNpb249MC4xIiwKICAidGxvZ3MiOiBbCiAgICB7CiAgICAgICJiYXNlVXJsIjogImh0dHBzOi8vcmVrb3Iuc2lnc3RvcmUuZGV2IiwKICAgICAgImhhc2hBbGdvcml0aG0iOiAiU0hBMl8yNTYiLAogICAgICAicHVibGljS2V5IjogewogICAgICAgICJyYXdCeXRlcyI6ICJNRmt3RXdZSEtvWkl6ajBDQVFZSUtvWkl6ajBEQVFjRFFnQUUyRzJZKzJ0YWJkVFY1QmNHaUJJeDBhOWZBRndya0JibUxTR3RrczRMM3FYNnlZWTB6dWZCbmhDOFVyL2l5NTVHaFdQLzlBL2JZMkxoQzMwTTkrUll0dz09IiwKICAgICAgICAia2V5RGV0YWlscyI6ICJQS0lYX0VDRFNBX1AyNTZfU0hBXzI1NiIsCiAgICAgICAgInZhbGlkRm9yIjogewogICAgICAgICAgInN0YXJ0IjogIjIwMjEtMDEtMTJUMTE6NTM6MjdaIgogICAgICAgIH0KICAgICAgfSwKICAgICAgImxvZ0lkIjogewogICAgICAgICJrZXlJZCI6ICJ3Tkk5YXRRR2x6K1ZXZk82TFJ5Z0g0UVVmWS84VzRSRndpVDVpNVdSZ0IwPSIKICAgICAgfQogICAgfQogIF0sCiAgImNlcnRpZmljYXRlQXV0aG9yaXRpZXMiOiBbCiAgICB7CiAgICAgICJzdWJqZWN0IjogewogICAgICAgICJvcmdhbml6YXRpb24iOiAic2lnc3RvcmUuZGV2IiwKICAgICAgICAiY29tbW9uTmFtZSI6ICJzaWdzdG9yZSIKICAgICAgfSwKICAgICAgInVyaSI6ICJodHRwczovL2Z1bGNpby5zaWdzdG9yZS5kZXYiLAogICAgICAiY2VydENoYWluIjogewogICAgICAgICJjZXJ0aWZpY2F0ZXMiOiBbCiAgICAgICAgICB7CiAgICAgICAgICAgICJyYXdCeXRlcyI6ICJNSUlCK0RDQ0FYNmdBd0lCQWdJVE5Wa0Rab0Npb2ZQRHN5N2RmbTZnZUxidWh6QUtCZ2dxaGtqT1BRUURBekFxTVJVd0V3WURWUVFLRXd4emFXZHpkRzl5WlM1a1pYWXhFVEFQQmdOVkJBTVRDSE5wWjNOMGIzSmxNQjRYRFRJeE1ETXdOekF6TWpBeU9Wb1hEVE14TURJeU16QXpNakF5T1Zvd0tqRVZNQk1HQTFVRUNoTU1jMmxuYzNSdmNtVXVaR1YyTVJFd0R3WURWUVFERXdoemFXZHpkRzl5WlRCMk1CQUdCeXFHU000OUFnRUdCU3VCQkFBaUEySUFCTFN5QTdJaTVrK3BOTzhaRVdZMHlsZW1XRG93T2tOYTNrTCtHWkU1WjVHV2VoTDkvQTliUk5BM1JicnNaNWkwSmNhc3RhUkw3U3A1ZnAvakQ1ZHhxYy9VZFRWbmx2UzE2YW4rMllmc3dlL1F1TG9sUlVDcmNPRTIrMmlBNSt0emQ2Tm1NR1F3RGdZRFZSMFBBUUgvQkFRREFnRUdNQklHQTFVZEV3RUIvd1FJTUFZQkFmOENBUUV3SFFZRFZSME9CQllFRk1qRkhRQkJtaVFwTWxFazZ3MnVTdTFLQnRQc01COEdBMVVkSXdRWU1CYUFGTWpGSFFCQm1pUXBNbEVrNncydVN1MUtCdFBzTUFvR0NDcUdTTTQ5QkFNREEyZ0FNR1VDTUg4bGlXSmZNdWk2dlhYQmhqRGdZNE13c2xtTi9USnhWZS84M1dyRm9td21OZjA1NnkxWDQ4RjljNG0zYTNvelhBSXhBS2pSYXk1L2FqL2pzS0tHSWttUWF0akk4dXVwSHIvK0N4RnZhSldtcFlxTmtMREdSVSs5b3J6aDVoSTJScmN1YVE9PSIKICAgICAgICAgIH0KICAgICAgICBdCiAgICAgIH0sCiAgICAgICJ2YWxpZEZvciI6IHsKICAgICAgICAic3RhcnQiOiAiMjAyMS0wMy0wN1QwMzoyMDoyOVoiLAogICAgICAgICJlbmQiOiAiMjAyMi0xMi0zMVQyMzo1OTo1OS45OTlaIgogICAgICB9CiAgICB9LAogICAgewogICAgICAic3ViamVjdCI6IHsKICAgICAgICAib3JnYW5pemF0aW9uIjogInNpZ3N0b3JlLmRldiIsCiAgICAgICAgImNvbW1vbk5hbWUiOiAic2lnc3RvcmUiCiAgICAgIH0sCiAgICAgICJ1cmkiOiAiaHR0cHM6Ly9mdWxjaW8uc2lnc3RvcmUuZGV2IiwKICAgICAgImNlcnRDaGFpbiI6IHsKICAgICAgICAiY2VydGlmaWNhdGVzIjogWwogICAgICAgICAgewogICAgICAgICAgICAicmF3Qnl0ZXMiOiAiTUlJQ0dqQ0NBYUdnQXdJQkFnSVVBTG5WaVZmblUwYnJKYXNtUmtIcm4vVW5mYVF3Q2dZSUtvWkl6ajBFQXdNd0tqRVZNQk1HQTFVRUNoTU1jMmxuYzNSdmNtVXVaR1YyTVJFd0R3WURWUVFERXdoemFXZHpkRzl5WlRBZUZ3MHlNakEwTVRNeU1EQTJNVFZhRncwek1URXdNRFV4TXpVMk5UaGFNRGN4RlRBVEJnTlZCQW9UREhOcFozTjBiM0psTG1SbGRqRWVNQndHQTFVRUF4TVZjMmxuYzNSdmNtVXRhVzUwWlhKdFpXUnBZWFJsTUhZd0VBWUhLb1pJemowQ0FRWUZLNEVFQUNJRFlnQUU4UlZTL3lzSCtOT3Z1RFp5UEladGlsZ1VGOU5sYXJZcEFkOUhQMXZCQkgxVTVDVjc3TFNTN3MwWmlING5FN0h2N3B0UzZMdnZSL1NUazc5OExWZ016TGxKNEhlSWZGM3RIU2FleExjWXBTQVNyMWtTME4vUmdCSnovOWpXQ2lYbm8zc3dlVEFPQmdOVkhROEJBZjhFQkFNQ0FRWXdFd1lEVlIwbEJBd3dDZ1lJS3dZQkJRVUhBd013RWdZRFZSMFRBUUgvQkFnd0JnRUIvd0lCQURBZEJnTlZIUTRFRmdRVTM5UHB6MVlrRVpiNXFOanBLRldpeGk0WVpEOHdId1lEVlIwakJCZ3dGb0FVV01BZVg1RkZwV2FwZXN5UW9aTWkwQ3JGeGZvd0NnWUlLb1pJemowRUF3TURad0F3WkFJd1BDc1FLNERZaVpZRFBJYURpNUhGS25meFh4NkFTU1ZtRVJmc3luWUJpWDJYNlNKUm5aVTg0LzlEWmRuRnZ2eG1BakJPdDZRcEJsYzRKLzBEeHZrVENxcGNsdnppTDZCQ0NQbmpkbElCM1B1M0J4c1BteWdVWTdJaTJ6YmRDZGxpaW93PSIKICAgICAgICAgIH0sCiAgICAgICAgICB7CiAgICAgICAgICAgICJyYXdCeXRlcyI6ICJNSUlCOXpDQ0FYeWdBd0lCQWdJVUFMWk5BUEZkeEhQd2plRGxvRHd5WUNoQU8vNHdDZ1lJS29aSXpqMEVBd013S2pFVk1CTUdBMVVFQ2hNTWMybG5jM1J2Y21VdVpHVjJNUkV3RHdZRFZRUURFd2h6YVdkemRHOXlaVEFlRncweU1URXdNRGN4TXpVMk5UbGFGdzB6TVRFd01EVXhNelUyTlRoYU1Db3hGVEFUQmdOVkJBb1RESE5wWjNOMGIzSmxMbVJsZGpFUk1BOEdBMVVFQXhNSWMybG5jM1J2Y21Vd2RqQVFCZ2NxaGtqT1BRSUJCZ1VyZ1FRQUlnTmlBQVQ3WGVGVDRyYjNQUUd3UzRJYWp0TGszL09sbnBnYW5nYUJjbFlwc1lCcjVpKzR5bkIwN2NlYjNMUDBPSU9aZHhleFg2OWM1aVZ1eUpSUStIejA1eWkrVUYzdUJXQWxIcGlTNXNoMCtIMkdIRTdTWHJrMUVDNW0xVHIxOUw5Z2c5MmpZekJoTUE0R0ExVWREd0VCL3dRRUF3SUJCakFQQmdOVkhSTUJBZjhFQlRBREFRSC9NQjBHQTFVZERnUVdCQlJZd0I1ZmtVV2xacWw2ekpDaGt5TFFLc1hGK2pBZkJnTlZIU01FR0RBV2dCUll3QjVma1VXbFpxbDZ6SkNoa3lMUUtzWEYrakFLQmdncWhrak9QUVFEQXdOcEFEQm1BakVBajFuSGVYWnArMTNOV0JOYStFRHNEUDhHMVdXZzF0Q01XUC9XSFBxcGFWbzBqaHN3ZU5GWmdTczBlRTd3WUk0cUFqRUEyV0I5b3Q5OHNJa29GM3ZaWWRkMy9WdFdCNWI5VE5NZWE3SXgvc3RKNVRmY0xMZUFCTEU0Qk5KT3NRNHZuQkhKIgogICAgICAgICAgfQogICAgICAgIF0KICAgICAgfSwKICAgICAgInZhbGlkRm9yIjogewogICAgICAgICJzdGFydCI6ICIyMDIyLTA0LTEzVDIwOjA2OjE1WiIKICAgICAgfQogICAgfQogIF0sCiAgImN0bG9ncyI6IFsKICAgIHsKICAgICAgImJhc2VVcmwiOiAiaHR0cHM6Ly9jdGZlLnNpZ3N0b3JlLmRldi90ZXN0IiwKICAgICAgImhhc2hBbGdvcml0aG0iOiAiU0hBMl8yNTYiLAogICAgICAicHVibGljS2V5IjogewogICAgICAgICJyYXdCeXRlcyI6ICJNRmt3RXdZSEtvWkl6ajBDQVFZSUtvWkl6ajBEQVFjRFFnQUViZndSK1JKdWRYc2NnUkJScEtYMVhGRHkzUHl1ZER4ei9TZm5SaTFmVDhla3BmQmQyTzF1b3o3anIzWjhuS3p4QTY5RVVRK2VGQ0ZJM3pldWJQV1U3dz09IiwKICAgICAgICAia2V5RGV0YWlscyI6ICJQS0lYX0VDRFNBX1AyNTZfU0hBXzI1NiIsCiAgICAgICAgInZhbGlkRm9yIjogewogICAgICAgICAgInN0YXJ0IjogIjIwMjEtMDMtMTRUMDA6MDA6MDBaIiwKICAgICAgICAgICJlbmQiOiAiMjAyMi0xMC0zMVQyMzo1OTo1OS45OTlaIgogICAgICAgIH0KICAgICAgfSwKICAgICAgImxvZ0lkIjogewogICAgICAgICJrZXlJZCI6ICJDR0NTOENoUy8yaEYwZEZySjRTY1JXY1lyQlk5d3pqU2JlYThJZ1kyYjNJPSIKICAgICAgfQogICAgfSwKICAgIHsKICAgICAgImJhc2VVcmwiOiAiaHR0cHM6Ly9jdGZlLnNpZ3N0b3JlLmRldi8yMDIyIiwKICAgICAgImhhc2hBbGdvcml0aG0iOiAiU0hBMl8yNTYiLAogICAgICAicHVibGljS2V5IjogewogICAgICAgICJyYXdCeXRlcyI6ICJNRmt3RXdZSEtvWkl6ajBDQVFZSUtvWkl6ajBEQVFjRFFnQUVpUFNsRmkwQ21GVGZFakNVcUY5SHVDRWNZWE5LQWFZYWxJSm1CWjh5eWV6UGpUcWh4cktCcE1uYW9jVnRMSkJJMWVNM3VYblF6UUdBSmRKNGdzOUZ5dz09IiwKICAgICAgICAia2V5RGV0YWlscyI6ICJQS0lYX0VDRFNBX1AyNTZfU0hBXzI1NiIsCiAgICAgICAgInZhbGlkRm9yIjogewogICAgICAgICAgInN0YXJ0IjogIjIwMjItMTAtMjBUMDA6MDA6MDBaIgogICAgICAgIH0KICAgICAgfSwKICAgICAgImxvZ0lkIjogewogICAgICAgICJrZXlJZCI6ICIzVDB3YXNiSEVUSmpHUjRjbVdjM0FxSktYcmplUEszL2g0cHlnQzhwN280PSIKICAgICAgfQogICAgfQogIF0sCiAgInRpbWVzdGFtcEF1dGhvcml0aWVzIjogWwogICAgewogICAgICAic3ViamVjdCI6IHsKICAgICAgICAib3JnYW5pemF0aW9uIjogInNpZ3N0b3JlLmRldiIsCiAgICAgICAgImNvbW1vbk5hbWUiOiAic2lnc3RvcmUtdHNhLXNlbGZzaWduZWQiCiAgICAgIH0sCiAgICAgICJ1cmkiOiAiaHR0cHM6Ly90aW1lc3RhbXAuc2lnc3RvcmUuZGV2L2FwaS92MS90aW1lc3RhbXAiLAogICAgICAiY2VydENoYWluIjogewogICAgICAgICJjZXJ0aWZpY2F0ZXMiOiBbCiAgICAgICAgICB7CiAgICAgICAgICAgICJyYXdCeXRlcyI6ICJNSUlDRURDQ0FaYWdBd0lCQWdJVU9oTlVMd3lRWWU2OHdVTXZ5NHFPaXlvaml3d3dDZ1lJS29aSXpqMEVBd013T1RFVk1CTUdBMVVFQ2hNTWMybG5jM1J2Y21VdVpHVjJNU0F3SGdZRFZRUURFeGR6YVdkemRHOXlaUzEwYzJFdGMyVnNabk5wWjI1bFpEQWVGdzB5TlRBME1EZ3dOalU1TkROYUZ3MHpOVEEwTURZd05qVTVORE5hTUM0eEZUQVRCZ05WQkFvVERITnBaM04wYjNKbExtUmxkakVWTUJNR0ExVUVBeE1NYzJsbmMzUnZjbVV0ZEhOaE1IWXdFQVlIS29aSXpqMENBUVlGSzRFRUFDSURZZ0FFNHJhMlo4aEtOaWcyVDlrRmpDQVRvR0czMGpreStXUXYzQnpMK21LdmgxU0tOUi9Vd3V3c2ZOQ2c0c3J5b1lBZDhFNmlzb3ZWQTNNNGFvTmRtOVFEaTUwWjhuVEV5dnFnZkRQdFRJd1hJdGZpVy9BRmYxVjd1d2tia0FvajB4eGNvMm93YURBT0JnTlZIUThCQWY4RUJBTUNCNEF3SFFZRFZSME9CQllFRkluOWVVT0h6OUJsUnNNQ1JzY3NjMXQ5dE9zRE1COEdBMVVkSXdRWU1CYUFGSmpzQWU5L3UxSC8xSlVlYjRxSW1GTUhpYzYvTUJZR0ExVWRKUUVCL3dRTU1Bb0dDQ3NHQVFVRkJ3TUlNQW9HQ0NxR1NNNDlCQU1EQTJnQU1HVUNNRHRwc1YvNkthTzBxeUYvVU1zWDJhU1VYS1FGZG9HVHB0UUdjMGZ0cTFjc3VsSFBHRzZkc215TU5kM0pCK0czRVFJeEFPYWp2QmNqcEptS2I0TnYrMlRhb2o4VWM1K2I2aWg2RlhDQ0tyYVNxdXBlMDd6cXN3TWNYSlRlMWNFeHZIdnZsdz09IgogICAgICAgICAgfSwKICAgICAgICAgIHsKICAgICAgICAgICAgInJhd0J5dGVzIjogIk1JSUI5ekNDQVh5Z0F3SUJBZ0lVVjdmMEdMRE9vRXpJaDhMWFNXODBPSmlVcDE0d0NnWUlLb1pJemowRUF3TXdPVEVWTUJNR0ExVUVDaE1NYzJsbmMzUnZjbVV1WkdWMk1TQXdIZ1lEVlFRREV4ZHphV2R6ZEc5eVpTMTBjMkV0YzJWc1puTnBaMjVsWkRBZUZ3MHlOVEEwTURnd05qVTVORE5hRncwek5UQTBNRFl3TmpVNU5ETmFNRGt4RlRBVEJnTlZCQW9UREhOcFozTjBiM0psTG1SbGRqRWdNQjRHQTFVRUF4TVhjMmxuYzNSdmNtVXRkSE5oTFhObGJHWnphV2R1WldRd2RqQVFCZ2NxaGtqT1BRSUJCZ1VyZ1FRQUlnTmlBQVFVUU50ZlJUL291M1lBVGE2d0Iva0tUZTcwY2ZKd3lSSUJvdk1udDhSY0pwaC9DT0U4MnV5UzZGbXBwTExMMVZCUEdjUGZwUVBZSk5Yeld3aThpY3doS1E2Vy9RZTJoM29lYkJiMkZIcHdOSkRxbytUTWFDL3RkZmt2L0VsSkI3MmpSVEJETUE0R0ExVWREd0VCL3dRRUF3SUJCakFTQmdOVkhSTUJBZjhFQ0RBR0FRSC9BZ0VBTUIwR0ExVWREZ1FXQkJTWTdBSHZmN3RSLzlTVkhtK0tpSmhUQjRuT3Z6QUtCZ2dxaGtqT1BRUURBd05wQURCbUFqRUF3R0VHcmZHWlIxY2VuMVI4L0RUVk1JOTQzTHNzWm1KUnREcC9pN1NmR0htR1JQNmdSYnVqOXZPSzNiNjdaMFFRQWpFQXVUMkg2NzNMUUVhSFRjeVFTWnJrcDRtWDdXd2ttRitzVmJrWVk1bVhOK1JNSDEzS1VFSEhPcUFTYWVtWVdLL0UiCiAgICAgICAgICB9CiAgICAgICAgXQogICAgICB9LAogICAgICAidmFsaWRGb3IiOiB7CiAgICAgICAgInN0YXJ0IjogIjIwMjUtMDctMDRUMDA6MDA6MDBaIgogICAgICB9CiAgICB9CiAgXQp9Cg==","registry.npmjs.org%2Fkeys.json":"ewogICAgImtleXMiOiBbCiAgICAgICAgewogICAgICAgICAgICAia2V5SWQiOiAiU0hBMjU2OmpsM2J3c3d1ODBQampva0NnaDBvMnc1YzJVNExoUUFFNTdnajljejFrekEiLAogICAgICAgICAgICAia2V5VXNhZ2UiOiAibnBtOnNpZ25hdHVyZXMiLAogICAgICAgICAgICAicHVibGljS2V5IjogewogICAgICAgICAgICAgICAgInJhd0J5dGVzIjogIk1Ga3dFd1lIS29aSXpqMENBUVlJS29aSXpqMERBUWNEUWdBRTFPbGIzek1BRkZ4WEtIaUlrUU81Y0ozWWhsNWk2VVBwK0lodXRlQkpidUhjQTVVb2dLbzBFV3RsV3dXNktTYUtvVE5FWUw3SmxDUWlWbmtoQmt0VWdnPT0iLAogICAgICAgICAgICAgICAgImtleURldGFpbHMiOiAiUEtJWF9FQ0RTQV9QMjU2X1NIQV8yNTYiLAogICAgICAgICAgICAgICAgInZhbGlkRm9yIjogewogICAgICAgICAgICAgICAgICAgICJzdGFydCI6ICIxOTk5LTAxLTAxVDAwOjAwOjAwLjAwMFoiLAogICAgICAgICAgICAgICAgICAgICJlbmQiOiAiMjAyNS0wMS0yOVQwMDowMDowMC4wMDBaIgogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgfSwKICAgICAgICB7CiAgICAgICAgICAgICJrZXlJZCI6ICJTSEEyNTY6amwzYndzd3U4MFBqam9rQ2doMG8ydzVjMlU0TGhRQUU1N2dqOWN6MWt6QSIsCiAgICAgICAgICAgICJrZXlVc2FnZSI6ICJucG06YXR0ZXN0YXRpb25zIiwKICAgICAgICAgICAgInB1YmxpY0tleSI6IHsKICAgICAgICAgICAgICAgICJyYXdCeXRlcyI6ICJNRmt3RXdZSEtvWkl6ajBDQVFZSUtvWkl6ajBEQVFjRFFnQUUxT2xiM3pNQUZGeFhLSGlJa1FPNWNKM1lobDVpNlVQcCtJaHV0ZUJKYnVIY0E1VW9nS28wRVd0bFd3VzZLU2FLb1RORVlMN0psQ1FpVm5raEJrdFVnZz09IiwKICAgICAgICAgICAgICAgICJrZXlEZXRhaWxzIjogIlBLSVhfRUNEU0FfUDI1Nl9TSEFfMjU2IiwKICAgICAgICAgICAgICAgICJ2YWxpZEZvciI6IHsKICAgICAgICAgICAgICAgICAgICAic3RhcnQiOiAiMjAyMi0xMi0wMVQwMDowMDowMC4wMDBaIiwKICAgICAgICAgICAgICAgICAgICAiZW5kIjogIjIwMjUtMDEtMjlUMDA6MDA6MDAuMDAwWiIKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgIH0sCiAgICAgICAgewogICAgICAgICAgICAia2V5SWQiOiAiU0hBMjU2OkRoUTh3UjVBUEJ2RkhMRi8rVGMrQVl2UE9kVHBjSURxT2h4c0JIUndDN1UiLAogICAgICAgICAgICAia2V5VXNhZ2UiOiAibnBtOnNpZ25hdHVyZXMiLAogICAgICAgICAgICAicHVibGljS2V5IjogewogICAgICAgICAgICAgICAgInJhd0J5dGVzIjogIk1Ga3dFd1lIS29aSXpqMENBUVlJS29aSXpqMERBUWNEUWdBRVk2WWE3VysrN2FVUHp2TVRyZXpINlljeDNjK0hPS1lDY05HeWJKWlNDSnEvZmQ3UWE4dXVBS3RkSWtVUXRRaUVLRVJoQW1FNWxNTUpoUDhPa0RPYTJnPT0iLAogICAgICAgICAgICAgICAgImtleURldGFpbHMiOiAiUEtJWF9FQ0RTQV9QMjU2X1NIQV8yNTYiLAogICAgICAgICAgICAgICAgInZhbGlkRm9yIjogewogICAgICAgICAgICAgICAgICAgICJzdGFydCI6ICIyMDI1LTAxLTEzVDAwOjAwOjAwLjAwMFoiCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICB9LAogICAgICAgIHsKICAgICAgICAgICAgImtleUlkIjogIlNIQTI1NjpEaFE4d1I1QVBCdkZITEYvK1RjK0FZdlBPZFRwY0lEcU9oeHNCSFJ3QzdVIiwKICAgICAgICAgICAgImtleVVzYWdlIjogIm5wbTphdHRlc3RhdGlvbnMiLAogICAgICAgICAgICAicHVibGljS2V5IjogewogICAgICAgICAgICAgICAgInJhd0J5dGVzIjogIk1Ga3dFd1lIS29aSXpqMENBUVlJS29aSXpqMERBUWNEUWdBRVk2WWE3VysrN2FVUHp2TVRyZXpINlljeDNjK0hPS1lDY05HeWJKWlNDSnEvZmQ3UWE4dXVBS3RkSWtVUXRRaUVLRVJoQW1FNWxNTUpoUDhPa0RPYTJnPT0iLAogICAgICAgICAgICAgICAgImtleURldGFpbHMiOiAiUEtJWF9FQ0RTQV9QMjU2X1NIQV8yNTYiLAogICAgICAgICAgICAgICAgInZhbGlkRm9yIjogewogICAgICAgICAgICAgICAgICAgICJzdGFydCI6ICIyMDI1LTAxLTEzVDAwOjAwOjAwLjAwMFoiCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICBdCn0K"}}}}),Km=J(e=>{"use strict";var u=e&&e.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(e,"__esModule",{value:!0}),e.TUFClient=void 0;var h=u(require("fs")),p=u(require("path")),o=Vm(),l=Fi(),n=Wm(),t="targets",r=class{static{v(this,"TUFClient")}constructor(a){let d=new URL(a.mirrorURL),g=encodeURIComponent(d.host+d.pathname.replace(/\/$/,"")),m=p.default.join(a.cachePath,g);s(m),i({cachePath:m,mirrorURL:a.mirrorURL,tufRootPath:a.rootPath,forceInit:a.forceInit}),this.updater=c({mirrorURL:a.mirrorURL,cachePath:m,forceCache:a.forceCache,retry:a.retry,timeout:a.timeout})}async refresh(){return this.updater.refresh()}getTarget(a){return(0,n.readTarget)(this.updater,a)}};e.TUFClient=r;function s(a){let d=p.default.join(a,t);h.default.existsSync(a)||h.default.mkdirSync(a,{recursive:!0}),h.default.existsSync(d)||h.default.mkdirSync(d)}v(s,"initTufCache");function i({cachePath:a,mirrorURL:d,tufRootPath:g,forceInit:m}){let f=p.default.join(a,"root.json");if(!h.default.existsSync(f)||m)if(g)h.default.copyFileSync(g,f);else{let y=zm()[d];if(!y)throw new l.TUFError({code:"TUF_INIT_CACHE_ERROR",message:`No root.json found for mirror: ${d}`});h.default.writeFileSync(f,Buffer.from(y["root.json"],"base64")),Object.entries(y.targets).forEach(([S,b])=>{h.default.writeFileSync(p.default.join(a,t,S),Buffer.from(b,"base64"))})}}v(i,"seedCache");function c(a){let d={fetchTimeout:a.timeout,fetchRetry:a.retry};return new o.Updater({metadataBaseUrl:a.mirrorURL,targetBaseUrl:`${a.mirrorURL}/targets`,metadataDir:a.cachePath,targetDir:p.default.join(a.cachePath,t),forceCache:a.forceCache,config:d})}v(c,"initClient")}),Fi=J(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TUFError=e.DEFAULT_MIRROR_URL=void 0,e.getTrustedRoot=r,e.initTUF=s;var u=kr(),h=Cm(),p=Km();e.DEFAULT_MIRROR_URL="https://tuf-repo-cdn.sigstore.dev";var o="sigstore-js",l={retries:2},n=5e3,t="trusted_root.json";async function r(a={}){let d=await i(a).getTarget(t);return u.TrustedRoot.fromJSON(JSON.parse(d))}v(r,"getTrustedRoot");async function s(a={}){let d=i(a);return d.refresh().then(()=>d)}v(s,"initTUF");function i(a){return new p.TUFClient({cachePath:a.cachePath||(0,h.appDataPath)(o),rootPath:a.rootPath,mirrorURL:a.mirrorURL||e.DEFAULT_MIRROR_URL,retry:a.retry??l,timeout:a.timeout??n,forceCache:a.forceCache??!1,forceInit:a.forceInit??a.force??!1})}v(i,"createClient");var c=Jl();Object.defineProperty(e,"TUFError",{enumerable:!0,get:v(function(){return c.TUFError},"get")})}),Jm=J(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DSSESignatureContent=void 0;var u=je(),h=class{static{v(this,"DSSESignatureContent")}constructor(p){this.env=p}compareDigest(p){return u.crypto.bufferEqual(p,u.crypto.digest("sha256",this.env.payload))}compareSignature(p){return u.crypto.bufferEqual(p,this.signature)}verifySignature(p){return u.crypto.verify(this.preAuthEncoding,p,this.signature)}get signature(){return this.env.signatures.length>0?this.env.signatures[0].sig:Buffer.from("")}get preAuthEncoding(){return u.dsse.preAuthEncoding(this.env.payloadType,this.env.payload)}};e.DSSESignatureContent=h}),qm=J(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MessageSignatureContent=void 0;var u=je(),h=class{static{v(this,"MessageSignatureContent")}constructor(p,o){this.signature=p.signature,this.messageDigest=p.messageDigest.digest,this.artifact=o}compareSignature(p){return u.crypto.bufferEqual(p,this.signature)}compareDigest(p){return u.crypto.bufferEqual(p,this.messageDigest)}verifySignature(p){return u.crypto.verify(this.artifact,p,this.signature)}};e.MessageSignatureContent=h}),Zm=J(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.toSignedEntity=o,e.signatureContent=l;var u=je(),h=Jm(),p=qm();function o(t,r){let{tlogEntries:s,timestampVerificationData:i}=t.verificationMaterial,c=[];for(let a of s)c.push({$case:"transparency-log",tlogEntry:a});for(let a of i?.rfc3161Timestamps??[])c.push({$case:"timestamp-authority",timestamp:u.RFC3161Timestamp.parse(a.signedTimestamp)});return{signature:l(t,r),key:n(t),tlogEntries:s,timestamps:c}}v(o,"toSignedEntity");function l(t,r){switch(t.content.$case){case"dsseEnvelope":return new h.DSSESignatureContent(t.content.dsseEnvelope);case"messageSignature":return new p.MessageSignatureContent(t.content.messageSignature,r)}}v(l,"signatureContent");function n(t){switch(t.verificationMaterial.content.$case){case"publicKey":return{$case:"public-key",hint:t.verificationMaterial.content.publicKey.hint};case"x509CertificateChain":return{$case:"certificate",certificate:u.X509Certificate.parse(t.verificationMaterial.content.x509CertificateChain.certificates[0].rawBytes)};case"certificate":return{$case:"certificate",certificate:u.X509Certificate.parse(t.verificationMaterial.content.certificate.rawBytes)}}}v(n,"key")}),xe=J(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PolicyError=e.VerificationError=void 0;var u=class extends Error{static{v(this,"BaseError")}constructor({code:o,message:l,cause:n}){super(l),this.code=o,this.cause=n,this.name=this.constructor.name}},h=class extends u{static{v(this,"VerificationError")}};e.VerificationError=h;var p=class extends u{static{v(this,"PolicyError")}};e.PolicyError=p}),Ym=J(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.filterCertAuthorities=u,e.filterTLogAuthorities=h;function u(p,o){return p.filter(l=>l.validFor.start<=o&&l.validFor.end>=o)}v(u,"filterCertAuthorities");function h(p,o){return p.filter(l=>o.logID&&!l.logID.equals(o.logID)?!1:l.validFor.start<=o.targetDate&&o.targetDate<=l.validFor.end)}v(h,"filterTLogAuthorities")}),Ct=J(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.filterTLogAuthorities=e.filterCertAuthorities=void 0,e.toTrustMaterial=t;var u=je(),h=kr(),p=xe(),o=new Date(0),l=new Date(864e13),n=Ym();Object.defineProperty(e,"filterCertAuthorities",{enumerable:!0,get:v(function(){return n.filterCertAuthorities},"get")}),Object.defineProperty(e,"filterTLogAuthorities",{enumerable:!0,get:v(function(){return n.filterTLogAuthorities},"get")});function t(c,a){let d=typeof a=="function"?a:i(a);return{certificateAuthorities:c.certificateAuthorities.map(s),timestampAuthorities:c.timestampAuthorities.map(s),tlogs:c.tlogs.map(r),ctlogs:c.ctlogs.map(r),publicKey:d}}v(t,"toTrustMaterial");function r(c){let a=c.publicKey.keyDetails,d=a===h.PublicKeyDetails.PKCS1_RSA_PKCS1V5||a===h.PublicKeyDetails.PKIX_RSA_PKCS1V5||a===h.PublicKeyDetails.PKIX_RSA_PKCS1V15_2048_SHA256||a===h.PublicKeyDetails.PKIX_RSA_PKCS1V15_3072_SHA256||a===h.PublicKeyDetails.PKIX_RSA_PKCS1V15_4096_SHA256?"pkcs1":"spki";return{logID:c.logId.keyId,publicKey:u.crypto.createPublicKey(c.publicKey.rawBytes,d),validFor:{start:c.publicKey.validFor?.start||o,end:c.publicKey.validFor?.end||l}}}v(r,"createTLogAuthority");function s(c){return{certChain:c.certChain.certificates.map(a=>u.X509Certificate.parse(a.rawBytes)),validFor:{start:c.validFor?.start||o,end:c.validFor?.end||l}}}v(s,"createCertAuthority");function i(c){return a=>{let d=(c||{})[a];if(!d)throw new p.VerificationError({code:"PUBLIC_KEY_ERROR",message:`key not found: ${a}`});return{publicKey:u.crypto.createPublicKey(d.rawBytes),validFor:v(g=>(d.validFor?.start||o)<=g&&(d.validFor?.end||l)>=g,"validFor")}}}v(i,"keyLocator")}),ql=J(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CertificateChainVerifier=void 0,e.verifyCertificateChain=p;var u=xe(),h=Ct();function p(n,t,r){let s=(0,h.filterCertAuthorities)(r,n),i;for(let c of s)try{return new o({trustedCerts:c.certChain,untrustedCert:t,timestamp:n}).verify()}catch(a){i=a}throw new u.VerificationError({code:"CERTIFICATE_ERROR",message:"Failed to verify certificate chain",cause:i})}v(p,"verifyCertificateChain");var o=class{static{v(this,"CertificateChainVerifier")}constructor(n){this.untrustedCert=n.untrustedCert,this.trustedCerts=n.trustedCerts,this.localCerts=l([...n.trustedCerts,n.untrustedCert]),this.timestamp=n.timestamp}verify(){let n=this.sort();if(this.checkPath(n),!n.every(t=>t.validForDate(this.timestamp)))throw new u.VerificationError({code:"CERTIFICATE_ERROR",message:"certificate is not valid or expired at the specified date"});return n}sort(){let n=this.untrustedCert,t=this.buildPaths(n);if(t=t.filter(s=>s.some(i=>this.trustedCerts.includes(i))),t.length===0)throw new u.VerificationError({code:"CERTIFICATE_ERROR",message:"no trusted certificate path found"});let r=t.reduce((s,i)=>s.length<i.length?s:i);return[n,...r].slice(0,-1)}buildPaths(n){let t=[],r=this.findIssuer(n);if(r.length===0)throw new u.VerificationError({code:"CERTIFICATE_ERROR",message:"no valid certificate path found"});for(let s=0;s<r.length;s++){let i=r[s];if(i.equals(n)){t.push([n]);continue}let c=this.buildPaths(i);for(let a=0;a<c.length;a++)t.push([i,...c[a]])}return t}findIssuer(n){let t=[],r;return n.subject.equals(n.issuer)&&n.verify()?[n]:(n.extAuthorityKeyID&&(r=n.extAuthorityKeyID.keyIdentifier),this.localCerts.forEach(s=>{if(r&&s.extSubjectKeyID){s.extSubjectKeyID.keyIdentifier.equals(r)&&t.push(s);return}s.subject.equals(n.issuer)&&t.push(s)}),t=t.filter(s=>{try{return n.verify(s)}catch{return!1}}),t)}checkPath(n){if(n.length<1)throw new u.VerificationError({code:"CERTIFICATE_ERROR",message:"certificate chain must contain at least one certificate"});if(!n.slice(1).every(t=>t.isCA))throw new u.VerificationError({code:"CERTIFICATE_ERROR",message:"intermediate certificate is not a CA"});for(let t=n.length-2;t>=0;t--)if(!n[t].issuer.equals(n[t+1].subject))throw new u.VerificationError({code:"CERTIFICATE_ERROR",message:"incorrect certificate name chaining"});for(let t=0;t<n.length;t++){let r=n[t];if(r.extBasicConstraints?.isCA){let s=r.extBasicConstraints.pathLenConstraint;if(s!==void 0&&s<t-1)throw new u.VerificationError({code:"CERTIFICATE_ERROR",message:"path length constraint exceeded"})}}}};e.CertificateChainVerifier=o;function l(n){for(let t=0;t<n.length;t++)for(let r=t+1;r<n.length;r++)n[t].equals(n[r])&&(n.splice(r,1),r--);return n}v(l,"dedupeCertificates")}),Xm=J(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.verifySCTs=o;var u=je(),h=xe(),p=Ct();function o(l,n,t){let r,s=l.clone();for(let d=0;d<s.extensions.length;d++){let g=s.extensions[d];if(g.subs[0].toOID()===u.EXTENSION_OID_SCT){r=new u.X509SCTExtension(g),s.extensions.splice(d,1);break}}if(!r)return[];if(r.signedCertificateTimestamps.length===0)return[];let i=new u.ByteStream,c=u.crypto.digest("sha256",n.publicKey);i.appendView(c);let a=s.tbsCertificate.toDER();return i.appendUint24(a.length),i.appendView(a),r.signedCertificateTimestamps.map(d=>{if(!(0,p.filterTLogAuthorities)(t,{logID:d.logID,targetDate:d.datetime}).some(g=>d.verify(i.buffer,g.publicKey)))throw new h.VerificationError({code:"CERTIFICATE_ERROR",message:"SCT verification failed"});return d.logID})}v(o,"verifySCTs")}),Qm=J(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.verifyPublicKey=t,e.verifyCertificate=r;var u=je(),h=xe(),p=ql(),o=Xm(),l="1.3.6.1.4.1.57264.1.1",n="1.3.6.1.4.1.57264.1.8";function t(i,c,a){let d=a.publicKey(i);return c.forEach(g=>{if(!d.validFor(g))throw new h.VerificationError({code:"PUBLIC_KEY_ERROR",message:`Public key is not valid for timestamp: ${g.toISOString()}`})}),{key:d.publicKey}}v(t,"verifyPublicKey");function r(i,c,a){let d=[];return c.forEach(g=>{d=(0,p.verifyCertificateChain)(g,i,a.certificateAuthorities)}),{scts:(0,o.verifySCTs)(d[0],d[1],a.ctlogs),signer:s(d[0])}}v(r,"verifyCertificate");function s(i){let c,a=i.extension(n);a?c=a.valueObj.subs?.[0]?.value.toString("ascii"):c=i.extension(l)?.value.toString("ascii");let d={extensions:{issuer:c},subjectAlternativeName:i.subjectAltName};return{key:u.crypto.createPublicKey(i.publicKey),identity:d}}v(s,"getSigner")}),ey=J(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.verifySubjectAlternativeName=h,e.verifyExtensions=p;var u=xe();function h(o,l){if(l===void 0||!l.match(o))throw new u.PolicyError({code:"UNTRUSTED_SIGNER_ERROR",message:`certificate identity error - expected ${o}, got ${l}`})}v(h,"verifySubjectAlternativeName");function p(o,l={}){let n;for(n in o)if(l[n]!==o[n])throw new u.PolicyError({code:"UNTRUSTED_SIGNER_ERROR",message:`invalid certificate extension - expected ${n}=${o[n]}, got ${n}=${l[n]}`})}v(p,"verifyExtensions")}),ty=J(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.verifyCheckpoint=n;var u=je(),h=xe(),p=Ct(),o=`

`,l=/\u2014 (\S+) (\S+)\n/g;function n(i,c){let a=(0,p.filterTLogAuthorities)(c,{targetDate:new Date(Number(i.integratedTime)*1e3)}),d=i.inclusionProof,g=r.fromString(d.checkpoint.envelope),m=s.fromString(g.note);if(!t(g,a))throw new h.VerificationError({code:"TLOG_INCLUSION_PROOF_ERROR",message:"invalid checkpoint signature"});if(!u.crypto.bufferEqual(m.logHash,d.rootHash))throw new h.VerificationError({code:"TLOG_INCLUSION_PROOF_ERROR",message:"root hash mismatch"})}v(n,"verifyCheckpoint");function t(i,c){let a=Buffer.from(i.note,"utf-8");return i.signatures.every(d=>{let g=c.find(m=>u.crypto.bufferEqual(m.logID.subarray(0,4),d.keyHint));return g?u.crypto.verify(a,g.publicKey,d.signature):!1})}v(t,"verifySignedNote");var r=class Zl{static{v(this,"SignedNote")}constructor(c,a){this.note=c,this.signatures=a}static fromString(c){if(!c.includes(o))throw new h.VerificationError({code:"TLOG_INCLUSION_PROOF_ERROR",message:"missing checkpoint separator"});let a=c.indexOf(o),d=c.slice(0,a+1),g=c.slice(a+o.length).matchAll(l),m=Array.from(g,f=>{let[,y,S]=f,b=Buffer.from(S,"base64");if(b.length<5)throw new h.VerificationError({code:"TLOG_INCLUSION_PROOF_ERROR",message:"malformed checkpoint signature"});return{name:y,keyHint:b.subarray(0,4),signature:b.subarray(4)}});if(m.length===0)throw new h.VerificationError({code:"TLOG_INCLUSION_PROOF_ERROR",message:"no signatures found in checkpoint"});return new Zl(d,m)}},s=class Yl{static{v(this,"LogCheckpoint")}constructor(c,a,d,g){this.origin=c,this.logSize=a,this.logHash=d,this.rest=g}static fromString(c){let a=c.trimEnd().split(`
`);if(a.length<3)throw new h.VerificationError({code:"TLOG_INCLUSION_PROOF_ERROR",message:"too few lines in checkpoint header"});let d=a[0],g=BigInt(a[1]),m=Buffer.from(a[2],"base64"),f=a.slice(3);return new Yl(d,g,m,f)}}}),ry=J(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.verifyMerkleInclusion=l;var u=je(),h=xe(),p=Buffer.from([0]),o=Buffer.from([1]);function l(g){let m=g.inclusionProof,f=BigInt(m.logIndex),y=BigInt(m.treeSize);if(f<0n||f>=y)throw new h.VerificationError({code:"TLOG_INCLUSION_PROOF_ERROR",message:`invalid index: ${f}`});let{inner:S,border:b}=n(f,y);if(m.hashes.length!==S+b)throw new h.VerificationError({code:"TLOG_INCLUSION_PROOF_ERROR",message:"invalid hash count"});let E=m.hashes.slice(0,S),_=m.hashes.slice(S),w=d(g.canonicalizedBody),O=r(t(w,E,f),_);if(!u.crypto.bufferEqual(O,m.rootHash))throw new h.VerificationError({code:"TLOG_INCLUSION_PROOF_ERROR",message:"calculated root hash does not match inclusion proof"})}v(l,"verifyMerkleInclusion");function n(g,m){let f=s(g,m),y=i(g>>BigInt(f));return{inner:f,border:y}}v(n,"decompInclProof");function t(g,m,f){return m.reduce((y,S,b)=>f>>BigInt(b)&BigInt(1)?a(S,y):a(y,S),g)}v(t,"chainInner");function r(g,m){return m.reduce((f,y)=>a(y,f),g)}v(r,"chainBorderRight");function s(g,m){return c(g^m-BigInt(1))}v(s,"innerProofSize");function i(g){return g.toString(2).split("1").length-1}v(i,"onesCount");function c(g){return g===0n?0:g.toString(2).length}v(c,"bitLength");function a(g,m){return u.crypto.digest("sha256",o,g,m)}v(a,"hashChildren");function d(g){return u.crypto.digest("sha256",p,g)}v(d,"hashLeaf")}),sy=J(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.verifyTLogSET=o;var u=je(),h=xe(),p=Ct();function o(n,t){if(!(0,p.filterTLogAuthorities)(t,{logID:n.logId.keyId,targetDate:new Date(Number(n.integratedTime)*1e3)}).some(r=>{let s=l(n),i=Buffer.from(u.json.canonicalize(s),"utf8"),c=n.inclusionPromise.signedEntryTimestamp;return u.crypto.verify(i,r.publicKey,c)}))throw new h.VerificationError({code:"TLOG_INCLUSION_PROMISE_ERROR",message:"inclusion promise could not be verified"})}v(o,"verifyTLogSET");function l(n){let{integratedTime:t,logIndex:r,logId:s,canonicalizedBody:i}=n;return{body:i.toString("base64"),integratedTime:Number(t),logIndex:Number(r),logID:s.keyId.toString("hex")}}v(l,"toVerificationPayload")}),iy=J(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.verifyRFC3161Timestamp=l;var u=je(),h=xe(),p=ql(),o=Ct();function l(r,s,i){let c=r.signingTime;if(i=(0,o.filterCertAuthorities)(i,c),i=t(i,{serialNumber:r.signerSerialNumber,issuer:r.signerIssuer}),!i.some(a=>{try{return n(r,s,a),!0}catch{return!1}}))throw new h.VerificationError({code:"TIMESTAMP_ERROR",message:"timestamp could not be verified"})}v(l,"verifyRFC3161Timestamp");function n(r,s,i){let[c,...a]=i.certChain,d=u.crypto.createPublicKey(c.publicKey),g=r.signingTime;try{new p.CertificateChainVerifier({untrustedCert:c,trustedCerts:a,timestamp:g}).verify()}catch{throw new h.VerificationError({code:"TIMESTAMP_ERROR",message:"invalid certificate chain"})}r.verify(s,d)}v(n,"verifyTimestampForCA");function t(r,s){return r.filter(i=>i.certChain.length>0&&u.crypto.bufferEqual(i.certChain[0].serialNumber,s.serialNumber)&&u.crypto.bufferEqual(i.certChain[0].issuer,s.issuer))}v(t,"filterCAsBySerialAndIssuer")}),ny=J(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.verifyTSATimestamp=n,e.verifyTLogTimestamp=t;var u=xe(),h=ty(),p=ry(),o=sy(),l=iy();function n(i,c,a){return(0,l.verifyRFC3161Timestamp)(i,c,a),{type:"timestamp-authority",logID:i.signerSerialNumber,timestamp:i.signingTime}}v(n,"verifyTSATimestamp");function t(i,c){let a=!1;if(r(i)&&((0,o.verifyTLogSET)(i,c),a=!0),s(i)&&((0,p.verifyMerkleInclusion)(i),(0,h.verifyCheckpoint)(i,c),a=!0),!a)throw new u.VerificationError({code:"TLOG_MISSING_INCLUSION_ERROR",message:"inclusion could not be verified"});return{type:"transparency-log",logID:i.logId.keyId,timestamp:new Date(Number(i.integratedTime)*1e3)}}v(t,"verifyTLogTimestamp");function r(i){return i.inclusionPromise!==void 0}v(r,"isTLogEntryWithInclusionPromise");function s(i){return i.inclusionProof!==void 0}v(s,"isTLogEntryWithInclusionProof")}),oy=J(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.verifyDSSETLogBody=h;var u=xe();function h(o,l){switch(o.apiVersion){case"0.0.1":return p(o,l);default:throw new u.VerificationError({code:"TLOG_BODY_ERROR",message:`unsupported dsse version: ${o.apiVersion}`})}}v(h,"verifyDSSETLogBody");function p(o,l){if(o.spec.signatures?.length!==1)throw new u.VerificationError({code:"TLOG_BODY_ERROR",message:"signature count mismatch"});let n=o.spec.signatures[0].signature;if(!l.compareSignature(Buffer.from(n,"base64")))throw new u.VerificationError({code:"TLOG_BODY_ERROR",message:"tlog entry signature mismatch"});let t=o.spec.payloadHash?.value||"";if(!l.compareDigest(Buffer.from(t,"hex")))throw new u.VerificationError({code:"TLOG_BODY_ERROR",message:"DSSE payload hash mismatch"})}v(p,"verifyDSSE001TLogBody")}),ay=J(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.verifyHashedRekordTLogBody=h;var u=xe();function h(o,l){switch(o.apiVersion){case"0.0.1":return p(o,l);default:throw new u.VerificationError({code:"TLOG_BODY_ERROR",message:`unsupported hashedrekord version: ${o.apiVersion}`})}}v(h,"verifyHashedRekordTLogBody");function p(o,l){let n=o.spec.signature.content||"";if(!l.compareSignature(Buffer.from(n,"base64")))throw new u.VerificationError({code:"TLOG_BODY_ERROR",message:"signature mismatch"});let t=o.spec.data.hash?.value||"";if(!l.compareDigest(Buffer.from(t,"hex")))throw new u.VerificationError({code:"TLOG_BODY_ERROR",message:"digest mismatch"})}v(p,"verifyHashedrekord001TLogBody")}),ly=J(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.verifyIntotoTLogBody=h;var u=xe();function h(l,n){switch(l.apiVersion){case"0.0.2":return p(l,n);default:throw new u.VerificationError({code:"TLOG_BODY_ERROR",message:`unsupported intoto version: ${l.apiVersion}`})}}v(h,"verifyIntotoTLogBody");function p(l,n){if(l.spec.content.envelope.signatures?.length!==1)throw new u.VerificationError({code:"TLOG_BODY_ERROR",message:"signature count mismatch"});let t=o(l.spec.content.envelope.signatures[0].sig);if(!n.compareSignature(Buffer.from(t,"base64")))throw new u.VerificationError({code:"TLOG_BODY_ERROR",message:"tlog entry signature mismatch"});let r=l.spec.content.payloadHash?.value||"";if(!n.compareDigest(Buffer.from(r,"hex")))throw new u.VerificationError({code:"TLOG_BODY_ERROR",message:"DSSE payload hash mismatch"})}v(p,"verifyIntoto002TLogBody");function o(l){return Buffer.from(l,"base64").toString("utf-8")}v(o,"base64Decode")}),cy=J(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.verifyTLogBody=l;var u=xe(),h=oy(),p=ay(),o=ly();function l(n,t){let{kind:r,version:s}=n.kindVersion,i=JSON.parse(n.canonicalizedBody.toString("utf8"));if(r!==i.kind||s!==i.apiVersion)throw new u.VerificationError({code:"TLOG_BODY_ERROR",message:`kind/version mismatch - expected: ${r}/${s}, received: ${i.kind}/${i.apiVersion}`});switch(i.kind){case"dsse":return(0,h.verifyDSSETLogBody)(i,t);case"intoto":return(0,o.verifyIntotoTLogBody)(i,t);case"hashedrekord":return(0,p.verifyHashedRekordTLogBody)(i,t);default:throw new u.VerificationError({code:"TLOG_BODY_ERROR",message:`unsupported kind: ${r}`})}}v(l,"verifyTLogBody")}),uy=J(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Verifier=void 0;var u=require("util"),h=xe(),p=Qm(),o=ey(),l=ny(),n=cy(),t=class{static{v(this,"Verifier")}constructor(s,i={}){this.trustMaterial=s,this.options={ctlogThreshold:i.ctlogThreshold??1,tlogThreshold:i.tlogThreshold??1,tsaThreshold:i.tsaThreshold??0}}verify(s,i){let c=this.verifyTimestamps(s),a=this.verifySigningKey(s,c);return this.verifyTLogs(s),this.verifySignature(s,a),i&&this.verifyPolicy(i,a.identity||{}),a}verifyTimestamps(s){let i=0,c=0,a=s.timestamps.map(d=>{switch(d.$case){case"timestamp-authority":return c++,(0,l.verifyTSATimestamp)(d.timestamp,s.signature.signature,this.trustMaterial.timestampAuthorities);case"transparency-log":return i++,(0,l.verifyTLogTimestamp)(d.tlogEntry,this.trustMaterial.tlogs)}});if(r(a))throw new h.VerificationError({code:"TIMESTAMP_ERROR",message:"duplicate timestamp"});if(i<this.options.tlogThreshold)throw new h.VerificationError({code:"TIMESTAMP_ERROR",message:`expected ${this.options.tlogThreshold} tlog timestamps, got ${i}`});if(c<this.options.tsaThreshold)throw new h.VerificationError({code:"TIMESTAMP_ERROR",message:`expected ${this.options.tsaThreshold} tsa timestamps, got ${c}`});return a.map(d=>d.timestamp)}verifySigningKey({key:s},i){switch(s.$case){case"public-key":return(0,p.verifyPublicKey)(s.hint,i,this.trustMaterial);case"certificate":{let c=(0,p.verifyCertificate)(s.certificate,i,this.trustMaterial);if(r(c.scts))throw new h.VerificationError({code:"CERTIFICATE_ERROR",message:"duplicate SCT"});if(c.scts.length<this.options.ctlogThreshold)throw new h.VerificationError({code:"CERTIFICATE_ERROR",message:`expected ${this.options.ctlogThreshold} SCTs, got ${c.scts.length}`});return c.signer}}}verifyTLogs({signature:s,tlogEntries:i}){i.forEach(c=>(0,n.verifyTLogBody)(c,s))}verifySignature(s,i){if(!s.signature.verifySignature(i.key))throw new h.VerificationError({code:"SIGNATURE_ERROR",message:"signature verification failed"})}verifyPolicy(s,i){s.subjectAlternativeName&&(0,o.verifySubjectAlternativeName)(s.subjectAlternativeName,i.subjectAlternativeName),s.extensions&&(0,o.verifyExtensions)(s.extensions,i.extensions)}};e.Verifier=t;function r(s){for(let i=0;i<s.length;i++)for(let c=i+1;c<s.length;c++)if((0,u.isDeepStrictEqual)(s[i],s[c]))return!0;return!1}v(r,"containsDupes")}),Hi=J(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Verifier=e.toTrustMaterial=e.VerificationError=e.PolicyError=e.toSignedEntity=void 0;var u=Zm();Object.defineProperty(e,"toSignedEntity",{enumerable:!0,get:v(function(){return u.toSignedEntity},"get")});var h=xe();Object.defineProperty(e,"PolicyError",{enumerable:!0,get:v(function(){return h.PolicyError},"get")}),Object.defineProperty(e,"VerificationError",{enumerable:!0,get:v(function(){return h.VerificationError},"get")});var p=Ct();Object.defineProperty(e,"toTrustMaterial",{enumerable:!0,get:v(function(){return p.toTrustMaterial},"get")});var o=uy();Object.defineProperty(e,"Verifier",{enumerable:!0,get:v(function(){return o.Verifier},"get")})}),hy=J(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DEFAULT_TIMEOUT=e.DEFAULT_RETRY=void 0,e.createBundleBuilder=o,e.createKeyFinder=l,e.createVerificationPolicy=n;var u=je(),h=jl(),p=Hi();e.DEFAULT_RETRY={retries:2},e.DEFAULT_TIMEOUT=5e3;function o(a,d){let g={signer:t(d),witnesses:s(d)};switch(a){case"messageSignature":return new h.MessageSignatureBundleBuilder(g);case"dsseEnvelope":return new h.DSSEBundleBuilder({...g,certificateChain:d.legacyCompatibility})}}v(o,"createBundleBuilder");function l(a){return d=>{let g=a(d);if(!g)throw new p.VerificationError({code:"PUBLIC_KEY_ERROR",message:`key not found: ${d}`});return{publicKey:u.crypto.createPublicKey(g),validFor:v(()=>!0,"validFor")}}}v(l,"createKeyFinder");function n(a){let d={},g=a.certificateIdentityEmail||a.certificateIdentityURI;return g&&(d.subjectAlternativeName=g),a.certificateIssuer&&(d.extensions={issuer:a.certificateIssuer}),d}v(n,"createVerificationPolicy");function t(a){return new h.FulcioSigner({fulcioBaseURL:a.fulcioURL,identityProvider:a.identityProvider||r(a),retry:a.retry??e.DEFAULT_RETRY,timeout:a.timeout??e.DEFAULT_TIMEOUT})}v(t,"initSigner");function r(a){let d=a.identityToken;return d?{getToken:v(()=>Promise.resolve(d),"getToken")}:new h.CIContextProvider("sigstore")}v(r,"initIdentityProvider");function s(a){let d=[];return i(a)&&d.push(new h.RekorWitness({rekorBaseURL:a.rekorURL,entryType:a.legacyCompatibility?"intoto":"dsse",fetchOnConflict:!1,retry:a.retry??e.DEFAULT_RETRY,timeout:a.timeout??e.DEFAULT_TIMEOUT})),c(a)&&d.push(new h.TSAWitness({tsaBaseURL:a.tsaServerURL,retry:a.retry??e.DEFAULT_RETRY,timeout:a.timeout??e.DEFAULT_TIMEOUT})),d}v(s,"initWitnesses");function i(a){return a.tlogUpload!==!1}v(i,"isRekorEnabled");function c(a){return a.tsaServerURL!==void 0}v(c,"isTSAEnabled")}),py=J(e=>{"use strict";var u=e&&e.__createBinding||(Object.create?function(a,d,g,m){m===void 0&&(m=g);var f=Object.getOwnPropertyDescriptor(d,g);(!f||("get"in f?!d.__esModule:f.writable||f.configurable))&&(f={enumerable:!0,get:v(function(){return d[g]},"get")}),Object.defineProperty(a,m,f)}:function(a,d,g,m){m===void 0&&(m=g),a[m]=d[g]}),h=e&&e.__setModuleDefault||(Object.create?function(a,d){Object.defineProperty(a,"default",{enumerable:!0,value:d})}:function(a,d){a.default=d}),p=e&&e.__importStar||function(){var a=v(function(d){return a=Object.getOwnPropertyNames||function(g){var m=[];for(var f in g)Object.prototype.hasOwnProperty.call(g,f)&&(m[m.length]=f);return m},a(d)},"ownKeys");return function(d){if(d&&d.__esModule)return d;var g={};if(d!=null)for(var m=a(d),f=0;f<m.length;f++)m[f]!=="default"&&u(g,d,m[f]);return h(g,d),g}}();Object.defineProperty(e,"__esModule",{value:!0}),e.sign=r,e.attest=s,e.verify=i,e.createVerifier=c;var o=Nr(),l=p(Fi()),n=Hi(),t=p(hy());async function r(a,d={}){let g=await t.createBundleBuilder("messageSignature",d).create({data:a});return(0,o.bundleToJSON)(g)}v(r,"sign");async function s(a,d,g={}){let m=await t.createBundleBuilder("dsseEnvelope",g).create({data:a,type:d});return(0,o.bundleToJSON)(m)}v(s,"attest");async function i(a,d,g){let m;return Buffer.isBuffer(d)?m=d:g=d,c(g).then(f=>f.verify(a,m))}v(i,"verify");async function c(a={}){let d=await l.getTrustedRoot({mirrorURL:a.tufMirrorURL,rootPath:a.tufRootPath,cachePath:a.tufCachePath,forceCache:a.tufForceCache,retry:a.retry??t.DEFAULT_RETRY,timeout:a.timeout??t.DEFAULT_TIMEOUT}),g=a.keySelector?t.createKeyFinder(a.keySelector):void 0,m=(0,n.toTrustMaterial)(d,g),f={ctlogThreshold:a.ctLogThreshold,tlogThreshold:a.tlogThreshold},y=new n.Verifier(m,f),S=t.createVerificationPolicy(a);return{verify:v((b,E)=>{let _=(0,o.bundleFromJSON)(b),w=(0,n.toSignedEntity)(_,E);y.verify(w,S)},"verify")}}v(c,"createVerifier")}),dy=J(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.verify=e.sign=e.createVerifier=e.attest=e.VerificationError=e.PolicyError=e.TUFError=e.InternalError=e.DEFAULT_REKOR_URL=e.DEFAULT_FULCIO_URL=e.ValidationError=void 0;var u=Nr();Object.defineProperty(e,"ValidationError",{enumerable:!0,get:v(function(){return u.ValidationError},"get")});var h=jl();Object.defineProperty(e,"DEFAULT_FULCIO_URL",{enumerable:!0,get:v(function(){return h.DEFAULT_FULCIO_URL},"get")}),Object.defineProperty(e,"DEFAULT_REKOR_URL",{enumerable:!0,get:v(function(){return h.DEFAULT_REKOR_URL},"get")}),Object.defineProperty(e,"InternalError",{enumerable:!0,get:v(function(){return h.InternalError},"get")});var p=Fi();Object.defineProperty(e,"TUFError",{enumerable:!0,get:v(function(){return p.TUFError},"get")});var o=Hi();Object.defineProperty(e,"PolicyError",{enumerable:!0,get:v(function(){return o.PolicyError},"get")}),Object.defineProperty(e,"VerificationError",{enumerable:!0,get:v(function(){return o.VerificationError},"get")});var l=py();Object.defineProperty(e,"attest",{enumerable:!0,get:v(function(){return l.attest},"get")}),Object.defineProperty(e,"createVerifier",{enumerable:!0,get:v(function(){return l.createVerifier},"get")}),Object.defineProperty(e,"sign",{enumerable:!0,get:v(function(){return l.sign},"get")}),Object.defineProperty(e,"verify",{enumerable:!0,get:v(function(){return l.verify},"get")})}),Xl=J((e,u)=>{var h=require("crypto"),p=mi(),o=gi(),l=et(),n=qt(),t=dy(),r=El(),s=It(),i=xr(),c=_l().version,a=Ja(),d=Ot(),g="application/vnd.npm.install-v1+json; q=1.0, application/json; q=0.8, */*",m="application/json",f="2015-01-01T00:00:00.000Z",y=class extends s{static{v(this,"RegistryFetcher")}#e;constructor(S,b){super(S,b),this.packumentCache=this.opts.packumentCache||null,this.registry=r.pickRegistry(S,b),this.packumentUrl=`${a(this.registry)}/${this.spec.escapedName}`,this.#e=`${this.fullMetadata?"full":"corgi"}:${this.packumentUrl}`;let E=new URL(this.registry),_=`//${E.host}${E.pathname}`;this.opts[`${_}:_keys`]&&(this.registryKeys=this.opts[`${_}:_keys`])}async resolve(){if(await this.manifest(),!this.resolved)throw Object.assign(new Error("Invalid package manifest: no `dist.tarball` field"),{package:this.spec.toString()});return this.resolved}#t(){return{"user-agent":this.opts.userAgent||`pacote/${c} node/${process.version}`,...this.opts.headers||{},"pacote-version":c,"pacote-req-type":"packument","pacote-pkg-id":`registry:${this.spec.name}`,accept:this.fullMetadata?m:g}}async packument(){if(this.packumentCache?.has(this.#e))return this.packumentCache.get(this.#e);try{let S=await r(this.packumentUrl,{...this.opts,headers:this.#t(),spec:this.spec,integrity:null}),b=await S.json(),E=S.headers.get("content-length");return E&&(b._contentLength=Number(E)),this.packumentCache?.set(this.#e,b),b}catch(S){if(this.packumentCache?.delete(this.#e),S.code!=="E404"||this.fullMetadata)throw S;return this.fullMetadata=!0,this.packument()}}async manifest(){if(this.package)return this.package;this.opts.verifySignatures&&(this.fullMetadata=!0);let S=await this.packument(),b=p.normalizeSteps.filter(O=>O!=="_attributes"),E=await new p().fromContent(o(S,this.spec.fetchSpec,{...this.opts,defaultTag:this.defaultTag,before:this.before})).normalize({steps:b}).then(O=>O.content),_=S.time?.[E.version];_&&(E._time=_);let{dist:w}=E;if(w){this.resolved=E._resolved=w.tarball,E._from=this.from;let O=w.integrity?l.parse(w.integrity):w.shasum?l.fromHex(w.shasum,"sha1",{...this.opts}):null;if(O){if(this.integrity&&!this.integrity.match(O)){for(let R of Object.keys(this.integrity))if(O[R])throw Object.assign(new Error(`Integrity checksum failed when using ${R}: wanted ${this.integrity} but got ${O}.`),{code:"EINTEGRITY"})}this.integrity=O}}if(this.integrity){if(E._integrity=String(this.integrity),w.signatures)if(this.opts.verifySignatures){let O=`${E._id}:${E._integrity}`;for(let R of w.signatures){let I=this.registryKeys&&this.registryKeys.filter(M=>M.keyid===R.keyid)[0];if(!I)throw Object.assign(new Error(`${E._id} has a registry signature with keyid: ${R.keyid} but no corresponding public key can be found`),{code:"EMISSINGSIGNATUREKEY"});let P=Date.parse(E._time||f);if(!(!I.expires||P<Date.parse(I.expires)))throw Object.assign(new Error(`${E._id} has a registry signature with keyid: ${R.keyid} but the corresponding public key has expired ${I.expires}`),{code:"EEXPIREDSIGNATUREKEY"});let L=h.createVerify("SHA256");if(L.write(O),L.end(),!L.verify(I.pemkey,R.sig,"base64"))throw Object.assign(new Error(`${E._id} has an invalid registry signature with keyid: ${I.keyid} and signature: ${R.sig}`),{code:"EINTEGRITYSIGNATURE",keyid:I.keyid,signature:R.sig,resolved:E._resolved,integrity:E._integrity})}E._signatures=w.signatures}else E._signatures=w.signatures;if(w.attestations)if(this.opts.verifyAttestations){let O=new URL(w.attestations.url).pathname,R=a(this.registry)+O,I=await r(R,{...this.opts,integrity:null}),{attestations:P}=await I.json(),L=P.map(({predicateType:j,bundle:U})=>{let V=JSON.parse(Buffer.from(U.dsseEnvelope.payload,"base64").toString("utf8")),B=U.dsseEnvelope.signatures[0].keyid,G=U.dsseEnvelope.signatures[0].sig;return{predicateType:j,bundle:U,statement:V,keyid:B,signature:G}}),M=L.map(j=>j.keyid).filter(j=>!!j),x=(this.registryKeys||[]).filter(j=>M.includes(j.keyid));if(!x.length)throw Object.assign(new Error(`${E._id} has attestations but no corresponding public key(s) can be found`),{code:"EMISSINGSIGNATUREKEY"});for(let{predicateType:j,bundle:U,keyid:V,signature:B,statement:G}of L){let W=x.find(C=>C.keyid===V);if(V){if(!W)throw Object.assign(new Error(`${E._id} has attestations with keyid: ${V} but no corresponding public key can be found`),{code:"EMISSINGSIGNATUREKEY"});let C=new Date(Number(U.verificationMaterial.tlogEntries[0].integratedTime)*1e3);if(!(!W.expires||C<Date.parse(W.expires)))throw Object.assign(new Error(`${E._id} has attestations with keyid: ${V} but the corresponding public key has expired ${W.expires}`),{code:"EEXPIREDSIGNATUREKEY"})}let k={name:G.subject[0].name,sha512:G.subject[0].digest.sha512},D=this.spec.type==="version"?n.toPurl(this.spec):this.spec;if(k.name!==D)throw Object.assign(new Error(`${E._id} package name and version (PURL): ${D} doesn't match what was signed: ${k.name}`),{code:"EATTESTATIONSUBJECT"});let T=l.parse(this.integrity).hexDigest();if(k.sha512!==T)throw Object.assign(new Error(`${E._id} package integrity (hex digest): ${T} doesn't match what was signed: ${k.sha512}`),{code:"EATTESTATIONSUBJECT"});try{let C={tufCachePath:this.tufCache,tufForceCache:!0,keySelector:W?()=>W.pemkey:void 0};await t.verify(U,C)}catch(C){throw Object.assign(new Error(`${E._id} failed to verify attestation: ${C.message}`),{code:"EATTESTATIONVERIFY",predicateType:j,keyid:V,signature:B,resolved:E._resolved,integrity:E._integrity})}}E._attestations=w.attestations}else E._attestations=w.attestations}return this.package=E,this.package}[d.tarballFromResolved](){return new i(this.resolved,{...this.opts,resolved:this.resolved,pkgid:`registry:${this.spec.name}@${this.resolved}`})[d.tarballFromResolved]()}get types(){return["tag","version","range"]}};u.exports=y}),It=J((e,u)=>{var{basename:h,dirname:p}=require("path"),{rm:o,mkdir:l}=require("internal/fs/promises"),n=mi(),t=Cr(),r=Jt(),s=Af(),i=qt(),c=_r(),a=et(),d=za(),{Minipass:g}=Ae(),{log:m}=We(),f=Ot(),y=Mf(),S=Ka(),b=Ja(),E=v(M=>n.prepare(M).then(x=>x.content),"packageJsonPrepare"),_=v(M=>n.normalize(M).then(x=>x.content),"packageJsonNormalize"),w=class{static{v(this,"FetcherBase")}constructor(M,x){if(!x||typeof x!="object")throw new TypeError("options object is required");this.spec=i(M,x.where),this.allowGitIgnore=!!x.allowGitIgnore,this.from=this.spec.registry?`${this.spec.name}@${this.spec.rawSpec}`:this.spec.saveSpec,this.#r(),this.opts={...x},this.cache=x.cache||y().cacache,this.tufCache=x.tufCache||y().tufcache,this.resolved=x.resolved||null,this.defaultIntegrityAlgorithm=x.defaultIntegrityAlgorithm||"sha512",typeof x.integrity=="string"&&(this.opts.integrity=a.parse(x.integrity)),this.package=null,this.type=this.constructor.name,this.fmode=x.fmode||438,this.dmode=x.dmode||511,this.umask=x.umask||0,this.preferOnline=!!x.preferOnline,this.preferOffline=!!x.preferOffline,this.offline=!!x.offline,this.before=x.before,this.fullMetadata=this.before?!0:!!x.fullMetadata,this.fullReadJson=!!x.fullReadJson,this[f.readPackageJson]=this.fullReadJson?E:_,this.replaceRegistryHost=!x.replaceRegistryHost||x.replaceRegistryHost==="npmjs"?"registry.npmjs.org":x.replaceRegistryHost,this.defaultTag=x.defaultTag||"latest",this.registry=b(x.registry||"https://registry.npmjs.org"),this.npmBin=x.npmBin||"npm",this.npmInstallCmd=x.npmInstallCmd||["install","--force"],this.npmCliConfig=x.npmCliConfig||[`--cache=${p(this.cache)}`,`--prefer-offline=${!!this.preferOffline}`,`--prefer-online=${!!this.preferOnline}`,`--offline=${!!this.offline}`,...this.before?[`--before=${this.before.toISOString()}`]:[],"--no-progress","--no-save","--no-audit","--include=dev","--include=peer","--include=optional","--no-package-lock-only","--no-dry-run"]}get integrity(){return this.opts.integrity||null}set integrity(M){if(!M)return;M=a.parse(M);let x=this.opts.integrity;x?x.merge(M):this.opts.integrity=M}get notImplementedError(){return new Error("not implemented in this fetcher type: "+this.type)}resolve(){return this.resolved?Promise.resolve(this.resolved):Promise.reject(this.notImplementedError)}packument(){return Promise.reject(this.notImplementedError)}manifest(){return Promise.reject(this.notImplementedError)}[f.tarballFromResolved](){throw this.notImplementedError}tarball(){return this.tarballStream(M=>M.concat().then(x=>(x.integrity=this.integrity&&String(this.integrity),x.resolved=this.resolved,x.from=this.from,x)))}#e(){let M=Date.now(),x=t.get.stream.byDigest(this.cache,this.integrity,this.opts),j=Date.now()-M;return m.http("cache",`${this.spec} ${j}ms (cache hit)`),x}get[f.cacheFetches](){return!0}#t(M){if(!this.opts.cache||!this[f.cacheFetches]){if(M.hasIntegrityEmitter)return M.on("integrity",V=>this.integrity=V),M;let U=a.integrityStream(this.opts);return U.on("integrity",V=>this.integrity=V),M.on("error",V=>U.emit("error",V)),M.pipe(U)}let x=new g;M.on("error",U=>x.emit("error",U)),M.pipe(x,{end:!1});let j=t.put.stream(this.opts.cache,`pacote:tarball:${this.from}`,this.opts);return j.on("integrity",U=>this.integrity=U),j.on("error",U=>M.emit("error",U)),M.pipe(j),j.promise().catch(()=>{}).then(()=>x.end()),x}pickIntegrityAlgorithm(){return this.integrity?this.integrity.pickAlgorithm(this.opts):this.defaultIntegrityAlgorithm}isDataCorruptionError(M){return M.code==="EINTEGRITY"||M.code==="Z_DATA_ERROR"}get types(){return!1}#r(){if(this.types&&!this.types.includes(this.spec.type))throw new TypeError(`Wrong spec type (${this.spec.type}) for ${this.constructor.name}. Supported types: ${this.types.join(", ")}`)}isRetriableError(M){return this.isDataCorruptionError(M)||M.code==="ENOENT"||M.code==="EISDIR"}tarballStream(M){let x=!this.preferOnline&&this.integrity&&this.resolved?M(this.#e()).catch(U=>{if(this.isDataCorruptionError(U))return m.warn("tarball",`cached data for ${this.spec} (${this.integrity}) seems to be corrupted. Refreshing cache.`),this.cleanupCached().then(()=>{throw U});throw U}):null,j=v(U=>{if(U){if(!this.isRetriableError(U))throw U;m.silly("tarball",`no local data for ${this.spec}. Extracting by manifest.`)}return this.resolve().then(()=>c(V=>M(this.#t(this[f.tarballFromResolved]())).catch(B=>{if(this.isRetriableError(B))return m.warn("tarball",`tarball data for ${this.spec} (${this.integrity}) seems to be corrupted. Trying again.`),this.cleanupCached().then(()=>V(B));throw B}),{retries:1,minTimeout:0,maxTimeout:0}))},"fromResolved");return x?x.catch(j):j()}cleanupCached(){return t.rm.content(this.cache,this.integrity,this.opts)}#s(M){return s({path:M,depth:1}).then(x=>Promise.all(x.map(j=>o(j,{recursive:!0,force:!0}))))}async#i(M){return await this.#s(M),await l(M,{recursive:!0})}async extract(M){return await this.#i(M),this.tarballStream(x=>this.#l(M,x))}#c(M){return this.tarballStream(x=>new Promise((j,U)=>{let V=new r.WriteStream(M);x.on("error",B=>V.emit("error",B)),V.on("error",B=>U(B)),V.on("close",()=>j({integrity:this.integrity&&String(this.integrity),resolved:this.resolved,from:this.from})),x.pipe(V)}))}async tarballFile(M){let x=p(M);return await l(x,{recursive:!0}),this.#c(M)}#l(M,x){let j=d.x(this.#n({cwd:M})),U=new Promise((V,B)=>{j.on("end",()=>{V({resolved:this.resolved,integrity:this.integrity&&String(this.integrity),from:this.from})}),j.on("error",G=>{m.warn("tar",G.message),m.silly("tar",G),B(G)}),x.on("error",G=>B(G))});return x.pipe(j),U}#p(M,x,j){let U=/Directory|GNUDumpDir/.test(j)?this.dmode:/File$/.test(j)?this.fmode:0,V=S(this.package,M)?73:0;return(x|U)&~this.umask|V|384}#n({cwd:M}){let x=new Set;return{cwd:M,noChmod:!0,noMtime:!0,filter:v((j,U)=>{if(/Link$/.test(U.type))return!1;if(U.mode=this.#p(U.path,U.mode,U.type),/File$/.test(U.type)){let V=h(U.path);if(V===".npmignore")x.add(U.path);else if(V===".gitignore"&&!this.allowGitIgnore){let B=U.path.replace(/\.gitignore$/,".npmignore");if(x.has(B))return!1;U.path=B}return!0}},"filter"),strip:1,onwarn:v((j,U,V)=>{m.warn("tar",j,U),m.silly("tar",j,U,V)},"onwarn"),umask:this.umask,preserveOwner:!1}}};u.exports=w;var O=wl(),R=Xl(),I=er(),P=Ci(),L=xr();w.get=(M,x={})=>{let j=i(M,x.where);switch(j.type){case"git":return new O(j,x);case"remote":return new L(j,x);case"version":case"range":case"tag":case"alias":return new R(j.subSpec||j,x);case"file":return new I(j,x);case"directory":return new P(j,x);default:throw new TypeError("Unknown spec type: "+j.type)}}}),{get:ut}=It(),fy=wl(),gy=Xl(),my=er(),yy=Ci(),vy=xr(),Gi=v((e,u)=>ut(e,u).tarball(),"tarball");Gi.stream=(e,u,h)=>ut(e,h).tarballStream(u);Gi.file=(e,u,h)=>ut(e,h).tarballFile(u);Ql.exports={GitFetcher:fy,RegistryFetcher:gy,FileFetcher:my,DirFetcher:yy,RemoteFetcher:vy,resolve:v((e,u)=>ut(e,u).resolve(),"resolve"),extract:v((e,u,h)=>ut(e,h).extract(u),"extract"),manifest:v((e,u)=>ut(e,u).manifest(),"manifest"),packument:v((e,u)=>ut(e,u).packument(),"packument"),tarball:Gi};});var zi=_e((Sx,rc)=>{var Wi=Object.defineProperty,Sy=Object.getOwnPropertyDescriptor,by=Object.getOwnPropertyNames,Ey=Object.prototype.hasOwnProperty,_y=(e,u)=>{for(var h in u)Wi(e,h,{get:u[h],enumerable:!0})},wy=(e,u,h,p)=>{if(u&&typeof u=="object"||typeof u=="function")for(let o of by(u))!Ey.call(e,o)&&o!==h&&Wi(e,o,{get:()=>u[o],enumerable:!(p=Sy(u,o))||p.enumerable});return e},Oy=e=>wy(Wi({},"__esModule",{value:!0}),e),ec={};_y(ec,{DARWIN:()=>Ry,S_IXGRP:()=>Ty,S_IXOTH:()=>Py,S_IXUSR:()=>Iy,WIN32:()=>Cy});rc.exports=Oy(ec);var Ay=require("os"),tc=(0,Ay.platform)(),Ry=tc==="darwin",Cy=tc==="win32",Iy=64,Ty=8,Py=1});var nr=_e((bx,ic)=>{var Ki=Object.defineProperty,xy=Object.getOwnPropertyDescriptor,ky=Object.getOwnPropertyNames,Ny=Object.prototype.hasOwnProperty,Ly=(e,u)=>{for(var h in u)Ki(e,h,{get:u[h],enumerable:!0})},Dy=(e,u,h,p)=>{if(u&&typeof u=="object"||typeof u=="function")for(let o of ky(u))!Ny.call(e,o)&&o!==h&&Ki(e,o,{get:()=>u[o],enumerable:!(p=xy(u,o))||p.enumerable});return e},My=e=>Dy(Ki({},"__esModule",{value:!0}),e),sc={};Ly(sc,{clearEnv:()=>Uy,getEnvValue:()=>$y,hasOverride:()=>Hy,resetEnv:()=>Fy,setEnv:()=>By,withEnv:()=>Gy,withEnvSync:()=>Vy});ic.exports=My(sc);var jy=require("async_hooks"),Mr=new jy.AsyncLocalStorage,Tt=new Map;function $y(e){let u=Mr.getStore();return u?.has(e)?u.get(e):Tt.has(e)?Tt.get(e):process.env[e]}function By(e,u){Tt.set(e,u)}function Uy(e){Tt.delete(e)}function Fy(){Tt.clear()}function Hy(e){return Mr.getStore()?.has(e)||Tt.has(e)}async function Gy(e,u){let h=new Map(Object.entries(e));return await Mr.run(h,u)}function Vy(e,u){let h=new Map(Object.entries(e));return Mr.run(h,u)}});var ac=_e((Ex,oc)=>{var Ji=Object.defineProperty,Wy=Object.getOwnPropertyDescriptor,zy=Object.getOwnPropertyNames,Ky=Object.prototype.hasOwnProperty,Jy=(e,u)=>{for(var h in u)Ji(e,h,{get:u[h],enumerable:!0})},qy=(e,u,h,p)=>{if(u&&typeof u=="object"||typeof u=="function")for(let o of zy(u))!Ky.call(e,o)&&o!==h&&Ji(e,o,{get:()=>u[o],enumerable:!(p=Wy(u,o))||p.enumerable});return e},Zy=e=>qy(Ji({},"__esModule",{value:!0}),e),nc={};Jy(nc,{getNpmConfigRegistry:()=>Yy,getNpmConfigUserAgent:()=>Xy,getNpmLifecycleEvent:()=>Qy,getNpmRegistry:()=>e0,getNpmToken:()=>t0});oc.exports=Zy(nc);var or=nr();function Yy(){return(0,or.getEnvValue)("npm_config_registry")}function Xy(){return(0,or.getEnvValue)("npm_config_user_agent")}function Qy(){return(0,or.getEnvValue)("npm_lifecycle_event")}function e0(){return(0,or.getEnvValue)("NPM_REGISTRY")}function t0(){return(0,or.getEnvValue)("NPM_TOKEN")}});var uc=_e((_x,cc)=>{var Zi=Object.defineProperty,r0=Object.getOwnPropertyDescriptor,s0=Object.getOwnPropertyNames,i0=Object.prototype.hasOwnProperty,n0=(e,u)=>{for(var h in u)Zi(e,h,{get:u[h],enumerable:!0})},o0=(e,u,h,p)=>{if(u&&typeof u=="object"||typeof u=="function")for(let o of s0(u))!i0.call(e,o)&&o!==h&&Zi(e,o,{get:()=>u[o],enumerable:!(p=r0(u,o))||p.enumerable});return e},a0=e=>o0(Zi({},"__esModule",{value:!0}),e),lc={};n0(lc,{AT_LATEST:()=>u0,LATEST:()=>h0,PACKAGE:()=>c0,PACKAGE_DEFAULT_VERSION:()=>p0,getLifecycleScriptNames:()=>y0,getNpmLifecycleEvent:()=>m0,getPackageDefaultNodeRange:()=>d0,getPackageDefaultSocketCategories:()=>f0,getPackageExtensions:()=>g0,getPackumentCache:()=>v0,getPacoteCachePath:()=>S0});cc.exports=a0(lc);var l0=ac(),jr,$r,Br,Ur,Fr,qi,c0="package",u0="@latest",h0="latest",p0="1.0.0";function d0(){if($r===void 0)try{$r=require("../lib/package-default-node-range")}catch{$r=">=18"}return $r}function f0(){if(Br===void 0)try{Br=require("../lib/package-default-socket-categories")}catch{Br=[]}return Br}function g0(){if(Ur===void 0)try{let e=require("../lib/package-extensions");Ur=Object.entries(e)}catch{Ur=[]}return Ur}function m0(){return(0,l0.getNpmLifecycleEvent)()}function y0(){if(jr===void 0)try{jr=require("../lib/lifecycle-script-names")}catch{jr=[]}return jr}function v0(){return qi===void 0&&(qi=new Map),qi}function S0(){if(Fr===void 0)try{let e=Vi(),{normalizePath:u}=require("../lib/path"),h=Reflect.getPrototypeOf(e.RegistryFetcher.prototype)?.constructor,p=h?new h("x",{}).cache:"";Fr=u(p)}catch{Fr=""}return Fr}});var Qi=_e((wx,dc)=>{var Xi=Object.defineProperty,b0=Object.getOwnPropertyDescriptor,E0=Object.getOwnPropertyNames,_0=Object.prototype.hasOwnProperty,w0=(e,u)=>{for(var h in u)Xi(e,h,{get:u[h],enumerable:!0})},O0=(e,u,h,p)=>{if(u&&typeof u=="object"||typeof u=="function")for(let o of E0(u))!_0.call(e,o)&&o!==h&&Xi(e,o,{get:()=>u[o],enumerable:!(p=b0(u,o))||p.enumerable});return e},A0=e=>O0(Xi({},"__esModule",{value:!0}),e),hc={};w0(hc,{getAbortController:()=>pc,getAbortSignal:()=>R0,getSpinner:()=>C0});dc.exports=A0(hc);var Yi;function pc(){return Yi===void 0&&(Yi=new AbortController),Yi}function R0(){return pc().signal}var Hr;function C0(){if(Hr===void 0)try{let{Spinner:e}=require("../lib/spinner");Hr=e()??null}catch{Hr=null}return Hr??null}});var Gr=_e((Ox,gc)=>{var rn=Object.defineProperty,I0=Object.getOwnPropertyDescriptor,T0=Object.getOwnPropertyNames,P0=Object.prototype.hasOwnProperty,x0=(e,u)=>{for(var h in u)rn(e,h,{get:u[h],enumerable:!0})},k0=(e,u,h,p)=>{if(u&&typeof u=="object"||typeof u=="function")for(let o of T0(u))!P0.call(e,o)&&o!==h&&rn(e,o,{get:()=>u[o],enumerable:!(p=I0(u,o))||p.enumerable});return e},N0=e=>k0(rn({},"__esModule",{value:!0}),e),fc={};x0(fc,{arrayChunk:()=>M0,arrayUnique:()=>j0,isArray:()=>$0,joinAnd:()=>B0,joinOr:()=>U0});gc.exports=N0(fc);var en;function L0(){return en===void 0&&(en=new Intl.ListFormat("en",{style:"long",type:"conjunction"})),en}var tn;function D0(){return tn===void 0&&(tn=new Intl.ListFormat("en",{style:"long",type:"disjunction"})),tn}function M0(e,u){let h=u??2;if(h<=0)throw new Error("Chunk size must be greater than 0");let{length:p}=e,o=Math.min(p,h),l=[];for(let n=0;n<p;n+=o)l.push(e.slice(n,n+o));return l}function j0(e){return[...new Set(e)]}var $0=Array.isArray;function B0(e){return L0().format(e)}function U0(e){return D0().format(e)}});var vc=_e((Ax,yc)=>{var sn=Object.defineProperty,F0=Object.getOwnPropertyDescriptor,H0=Object.getOwnPropertyNames,G0=Object.prototype.hasOwnProperty,V0=(e,u)=>{for(var h in u)sn(e,h,{get:u[h],enumerable:!0})},W0=(e,u,h,p)=>{if(u&&typeof u=="object"||typeof u=="function")for(let o of H0(u))!G0.call(e,o)&&o!==h&&sn(e,o,{get:()=>u[o],enumerable:!(p=F0(u,o))||p.enumerable});return e},z0=e=>W0(sn({},"__esModule",{value:!0}),e),mc={};V0(mc,{COLUMN_LIMIT:()=>tv,EMPTY_FILE:()=>Y0,EMPTY_VALUE:()=>X0,LOOP_SENTINEL:()=>J0,NODE_AUTH_TOKEN:()=>rv,NODE_ENV:()=>sv,UNDEFINED_TOKEN:()=>Q0,UNKNOWN_ERROR:()=>q0,UNKNOWN_VALUE:()=>Z0,V:()=>ev,kInternalsSymbol:()=>K0});yc.exports=z0(mc);var K0=Symbol("@socketregistry.constants.internals"),J0=1e6,q0="Unknown error",Z0="<unknown>",Y0=`/* empty */
`,X0="<value>",Q0=void 0,ev="v",tv=80,rv="NODE_AUTH_TOKEN",sv="NODE_ENV"});var Ec=_e(Pt=>{"use strict";var iv=Object.defineProperty,Be=(e,u)=>iv(e,"name",{value:u,configurable:!0});Object.defineProperty(Pt,"__esModule",{value:!0});var Sc=Be(function(e){return function(u,h,p){return e(u,h,p)*p}},"castComparer"),on=Be(function(e,u){if(e)throw Error("Invalid sort config: "+u)},"throwInvalidConfigErrorIfTrue"),bc=Be(function(e){var u=e||{},h=u.asc,p=u.desc,o=h?1:-1,l=h||p;on(!l,"Expected `asc` or `desc` property"),on(h&&p,"Ambiguous object with `asc` and `desc` config properties");var n=e.comparer&&Sc(e.comparer);return{order:o,sortBy:l,comparer:n}},"unpackObjectSorter"),nv=Be(function(e){return Be(function u(h,p,o,l,n,t,r){var s,i;if(typeof h=="string")s=t[h],i=r[h];else if(typeof h=="function")s=h(t),i=h(r);else{var c=bc(h);return u(c.sortBy,p,o,c.order,c.comparer||e,t,r)}var a=n(s,i,l);return(a===0||s==null&&i==null)&&p.length>o?u(p[o],p,o+1,l,n,t,r):a},"multiPropertySorter")},"multiPropertySorterProvider");function an(e,u,h){if(e===void 0||e===!0)return function(l,n){return u(l,n,h)};if(typeof e=="string")return on(e.includes("."),"String syntax not allowed for nested properties."),function(l,n){return u(l[e],n[e],h)};if(typeof e=="function")return function(l,n){return u(e(l),e(n),h)};if(Array.isArray(e)){var p=nv(u);return function(l,n){return p(e[0],e,1,h,u,l,n)}}var o=bc(e);return an(o.sortBy,o.comparer||u,o.order)}Be(an,"getSortStrategy");var nn=Be(function(e,u,h,p){var o;return Array.isArray(u)?(Array.isArray(h)&&h.length<2&&(o=h,h=o[0]),u.sort(an(h,p,e))):u},"sortArray");function Vr(e){var u=Sc(e.comparer);return function(h){var p=Array.isArray(h)&&!e.inPlaceSorting?h.slice():h;return{asc:Be(function(o){return nn(1,p,o,u)},"asc"),desc:Be(function(o){return nn(-1,p,o,u)},"desc"),by:Be(function(o){return nn(1,p,o,u)},"by")}}}Be(Vr,"createNewSortInstance");var ln=Be(function(e,u,h){return e==null?h:u==null?-h:typeof e!=typeof u?typeof e<typeof u?-1:1:e<u?-1:e>u?1:0},"defaultComparer"),ov=Vr({comparer:ln}),av=Vr({comparer:ln,inPlaceSorting:!0});Pt.createNewSortInstance=Vr;Pt.defaultComparer=ln;Pt.inPlaceSort=av;Pt.sort=ov});var Tc=_e((Cx,Ic)=>{"use strict";var lv=Object.defineProperty,be=(e,u)=>lv(e,"name",{value:u,configurable:!0}),Ee=(e,u)=>()=>(u||e((u={exports:{}}).exports,u),u.exports),zr=Ee((e,u)=>{"use strict";var h="2.0.0",p=Number.MAX_SAFE_INTEGER||9007199254740991,o=16,l=250,n=["major","premajor","minor","preminor","patch","prepatch","prerelease"];u.exports={MAX_LENGTH:256,MAX_SAFE_COMPONENT_LENGTH:o,MAX_SAFE_BUILD_LENGTH:l,MAX_SAFE_INTEGER:p,RELEASE_TYPES:n,SEMVER_SPEC_VERSION:h,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2}}),Kr=Ee((e,u)=>{"use strict";var h=typeof process=="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...p)=>{}:()=>{};u.exports=h}),ar=Ee((e,u)=>{"use strict";var{MAX_SAFE_COMPONENT_LENGTH:h,MAX_SAFE_BUILD_LENGTH:p,MAX_LENGTH:o}=zr(),l=Kr();e=u.exports={};var n=e.re=[],t=e.safeRe=[],r=e.src=[],s=e.safeSrc=[],i=e.t={},c=0,a="[a-zA-Z0-9-]",d=[["\\s",1],["\\d",o],[a,p]],g=be(f=>{for(let[y,S]of d)f=f.split(`${y}*`).join(`${y}{0,${S}}`).split(`${y}+`).join(`${y}{1,${S}}`);return f},"makeSafeRegex"),m=be((f,y,S)=>{let b=g(y),E=c++;l(f,E,y),i[f]=E,r[E]=y,s[E]=b,n[E]=new RegExp(y,S?"g":void 0),t[E]=new RegExp(b,S?"g":void 0)},"createToken");m("NUMERICIDENTIFIER","0|[1-9]\\d*"),m("NUMERICIDENTIFIERLOOSE","\\d+"),m("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${a}*`),m("MAINVERSION",`(${r[i.NUMERICIDENTIFIER]})\\.(${r[i.NUMERICIDENTIFIER]})\\.(${r[i.NUMERICIDENTIFIER]})`),m("MAINVERSIONLOOSE",`(${r[i.NUMERICIDENTIFIERLOOSE]})\\.(${r[i.NUMERICIDENTIFIERLOOSE]})\\.(${r[i.NUMERICIDENTIFIERLOOSE]})`),m("PRERELEASEIDENTIFIER",`(?:${r[i.NONNUMERICIDENTIFIER]}|${r[i.NUMERICIDENTIFIER]})`),m("PRERELEASEIDENTIFIERLOOSE",`(?:${r[i.NONNUMERICIDENTIFIER]}|${r[i.NUMERICIDENTIFIERLOOSE]})`),m("PRERELEASE",`(?:-(${r[i.PRERELEASEIDENTIFIER]}(?:\\.${r[i.PRERELEASEIDENTIFIER]})*))`),m("PRERELEASELOOSE",`(?:-?(${r[i.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${r[i.PRERELEASEIDENTIFIERLOOSE]})*))`),m("BUILDIDENTIFIER",`${a}+`),m("BUILD",`(?:\\+(${r[i.BUILDIDENTIFIER]}(?:\\.${r[i.BUILDIDENTIFIER]})*))`),m("FULLPLAIN",`v?${r[i.MAINVERSION]}${r[i.PRERELEASE]}?${r[i.BUILD]}?`),m("FULL",`^${r[i.FULLPLAIN]}$`),m("LOOSEPLAIN",`[v=\\s]*${r[i.MAINVERSIONLOOSE]}${r[i.PRERELEASELOOSE]}?${r[i.BUILD]}?`),m("LOOSE",`^${r[i.LOOSEPLAIN]}$`),m("GTLT","((?:<|>)?=?)"),m("XRANGEIDENTIFIERLOOSE",`${r[i.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),m("XRANGEIDENTIFIER",`${r[i.NUMERICIDENTIFIER]}|x|X|\\*`),m("XRANGEPLAIN",`[v=\\s]*(${r[i.XRANGEIDENTIFIER]})(?:\\.(${r[i.XRANGEIDENTIFIER]})(?:\\.(${r[i.XRANGEIDENTIFIER]})(?:${r[i.PRERELEASE]})?${r[i.BUILD]}?)?)?`),m("XRANGEPLAINLOOSE",`[v=\\s]*(${r[i.XRANGEIDENTIFIERLOOSE]})(?:\\.(${r[i.XRANGEIDENTIFIERLOOSE]})(?:\\.(${r[i.XRANGEIDENTIFIERLOOSE]})(?:${r[i.PRERELEASELOOSE]})?${r[i.BUILD]}?)?)?`),m("XRANGE",`^${r[i.GTLT]}\\s*${r[i.XRANGEPLAIN]}$`),m("XRANGELOOSE",`^${r[i.GTLT]}\\s*${r[i.XRANGEPLAINLOOSE]}$`),m("COERCEPLAIN",`(^|[^\\d])(\\d{1,${h}})(?:\\.(\\d{1,${h}}))?(?:\\.(\\d{1,${h}}))?`),m("COERCE",`${r[i.COERCEPLAIN]}(?:$|[^\\d])`),m("COERCEFULL",r[i.COERCEPLAIN]+`(?:${r[i.PRERELEASE]})?(?:${r[i.BUILD]})?(?:$|[^\\d])`),m("COERCERTL",r[i.COERCE],!0),m("COERCERTLFULL",r[i.COERCEFULL],!0),m("LONETILDE","(?:~>?)"),m("TILDETRIM",`(\\s*)${r[i.LONETILDE]}\\s+`,!0),e.tildeTrimReplace="$1~",m("TILDE",`^${r[i.LONETILDE]}${r[i.XRANGEPLAIN]}$`),m("TILDELOOSE",`^${r[i.LONETILDE]}${r[i.XRANGEPLAINLOOSE]}$`),m("LONECARET","(?:\\^)"),m("CARETTRIM",`(\\s*)${r[i.LONECARET]}\\s+`,!0),e.caretTrimReplace="$1^",m("CARET",`^${r[i.LONECARET]}${r[i.XRANGEPLAIN]}$`),m("CARETLOOSE",`^${r[i.LONECARET]}${r[i.XRANGEPLAINLOOSE]}$`),m("COMPARATORLOOSE",`^${r[i.GTLT]}\\s*(${r[i.LOOSEPLAIN]})$|^$`),m("COMPARATOR",`^${r[i.GTLT]}\\s*(${r[i.FULLPLAIN]})$|^$`),m("COMPARATORTRIM",`(\\s*)${r[i.GTLT]}\\s*(${r[i.LOOSEPLAIN]}|${r[i.XRANGEPLAIN]})`,!0),e.comparatorTrimReplace="$1$2$3",m("HYPHENRANGE",`^\\s*(${r[i.XRANGEPLAIN]})\\s+-\\s+(${r[i.XRANGEPLAIN]})\\s*$`),m("HYPHENRANGELOOSE",`^\\s*(${r[i.XRANGEPLAINLOOSE]})\\s+-\\s+(${r[i.XRANGEPLAINLOOSE]})\\s*$`),m("STAR","(<|>)?=?\\s*\\*"),m("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),m("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")}),hn=Ee((e,u)=>{"use strict";var h=Object.freeze({loose:!0}),p=Object.freeze({}),o=be(l=>l?typeof l!="object"?h:l:p,"parseOptions");u.exports=o}),Oc=Ee((e,u)=>{"use strict";var h=/^[0-9]+$/,p=be((l,n)=>{let t=h.test(l),r=h.test(n);return t&&r&&(l=+l,n=+n),l===n?0:t&&!r?-1:r&&!t?1:l<n?-1:1},"compareIdentifiers"),o=be((l,n)=>p(n,l),"rcompareIdentifiers");u.exports={compareIdentifiers:p,rcompareIdentifiers:o}}),Ne=Ee((e,u)=>{"use strict";var h=Kr(),{MAX_LENGTH:p,MAX_SAFE_INTEGER:o}=zr(),{safeRe:l,t:n}=ar(),t=hn(),{compareIdentifiers:r}=Oc(),s=class Qe{static{be(this,"SemVer")}constructor(c,a){if(a=t(a),c instanceof Qe){if(c.loose===!!a.loose&&c.includePrerelease===!!a.includePrerelease)return c;c=c.version}else if(typeof c!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof c}".`);if(c.length>p)throw new TypeError(`version is longer than ${p} characters`);h("SemVer",c,a),this.options=a,this.loose=!!a.loose,this.includePrerelease=!!a.includePrerelease;let d=c.trim().match(a.loose?l[n.LOOSE]:l[n.FULL]);if(!d)throw new TypeError(`Invalid Version: ${c}`);if(this.raw=c,this.major=+d[1],this.minor=+d[2],this.patch=+d[3],this.major>o||this.major<0)throw new TypeError("Invalid major version");if(this.minor>o||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>o||this.patch<0)throw new TypeError("Invalid patch version");d[4]?this.prerelease=d[4].split(".").map(g=>{if(/^[0-9]+$/.test(g)){let m=+g;if(m>=0&&m<o)return m}return g}):this.prerelease=[],this.build=d[5]?d[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(c){if(h("SemVer.compare",this.version,this.options,c),!(c instanceof Qe)){if(typeof c=="string"&&c===this.version)return 0;c=new Qe(c,this.options)}return c.version===this.version?0:this.compareMain(c)||this.comparePre(c)}compareMain(c){return c instanceof Qe||(c=new Qe(c,this.options)),r(this.major,c.major)||r(this.minor,c.minor)||r(this.patch,c.patch)}comparePre(c){if(c instanceof Qe||(c=new Qe(c,this.options)),this.prerelease.length&&!c.prerelease.length)return-1;if(!this.prerelease.length&&c.prerelease.length)return 1;if(!this.prerelease.length&&!c.prerelease.length)return 0;let a=0;do{let d=this.prerelease[a],g=c.prerelease[a];if(h("prerelease compare",a,d,g),d===void 0&&g===void 0)return 0;if(g===void 0)return 1;if(d===void 0)return-1;if(d!==g)return r(d,g)}while(++a)}compareBuild(c){c instanceof Qe||(c=new Qe(c,this.options));let a=0;do{let d=this.build[a],g=c.build[a];if(h("build compare",a,d,g),d===void 0&&g===void 0)return 0;if(g===void 0)return 1;if(d===void 0)return-1;if(d!==g)return r(d,g)}while(++a)}inc(c,a,d){if(c.startsWith("pre")){if(!a&&d===!1)throw new Error("invalid increment argument: identifier is empty");if(a){let g=`-${a}`.match(this.options.loose?l[n.PRERELEASELOOSE]:l[n.PRERELEASE]);if(!g||g[1]!==a)throw new Error(`invalid identifier: ${a}`)}}switch(c){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",a,d);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",a,d);break;case"prepatch":this.prerelease.length=0,this.inc("patch",a,d),this.inc("pre",a,d);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",a,d),this.inc("pre",a,d);break;case"release":if(this.prerelease.length===0)throw new Error(`version ${this.raw} is not a prerelease`);this.prerelease.length=0;break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{let g=Number(d)?1:0;if(this.prerelease.length===0)this.prerelease=[g];else{let m=this.prerelease.length;for(;--m>=0;)typeof this.prerelease[m]=="number"&&(this.prerelease[m]++,m=-2);if(m===-1){if(a===this.prerelease.join(".")&&d===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(g)}}if(a){let m=[a,g];d===!1&&(m=[a]),r(this.prerelease[0],a)===0?isNaN(this.prerelease[1])&&(this.prerelease=m):this.prerelease=m}break}default:throw new Error(`invalid increment argument: ${c}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}};u.exports=s}),xt=Ee((e,u)=>{"use strict";var h=Ne(),p=be((o,l,n=!1)=>{if(o instanceof h)return o;try{return new h(o,l)}catch(t){if(!n)return null;throw t}},"parse");u.exports=p}),cv=Ee((e,u)=>{"use strict";var h=xt(),p=be((o,l)=>{let n=h(o,l);return n?n.version:null},"valid");u.exports=p}),uv=Ee((e,u)=>{"use strict";var h=xt(),p=be((o,l)=>{let n=h(o.trim().replace(/^[=v]+/,""),l);return n?n.version:null},"clean");u.exports=p}),hv=Ee((e,u)=>{"use strict";var h=Ne(),p=be((o,l,n,t,r)=>{typeof n=="string"&&(r=t,t=n,n=void 0);try{return new h(o instanceof h?o.version:o,n).inc(l,t,r).version}catch{return null}},"inc");u.exports=p}),pv=Ee((e,u)=>{"use strict";var h=xt(),p=be((o,l)=>{let n=h(o,null,!0),t=h(l,null,!0),r=n.compare(t);if(r===0)return null;let s=r>0,i=s?n:t,c=s?t:n,a=!!i.prerelease.length;if(c.prerelease.length&&!a){if(!c.patch&&!c.minor)return"major";if(c.compareMain(i)===0)return c.minor&&!c.patch?"minor":"patch"}let d=a?"pre":"";return n.major!==t.major?d+"major":n.minor!==t.minor?d+"minor":n.patch!==t.patch?d+"patch":"prerelease"},"diff");u.exports=p}),dv=Ee((e,u)=>{"use strict";var h=Ne(),p=be((o,l)=>new h(o,l).major,"major");u.exports=p}),fv=Ee((e,u)=>{"use strict";var h=Ne(),p=be((o,l)=>new h(o,l).minor,"minor");u.exports=p}),gv=Ee((e,u)=>{"use strict";var h=Ne(),p=be((o,l)=>new h(o,l).patch,"patch");u.exports=p}),mv=Ee((e,u)=>{"use strict";var h=xt(),p=be((o,l)=>{let n=h(o,l);return n&&n.prerelease.length?n.prerelease:null},"prerelease");u.exports=p}),Je=Ee((e,u)=>{"use strict";var h=Ne(),p=be((o,l,n)=>new h(o,n).compare(new h(l,n)),"compare");u.exports=p}),yv=Ee((e,u)=>{"use strict";var h=Je(),p=be((o,l,n)=>h(l,o,n),"rcompare");u.exports=p}),vv=Ee((e,u)=>{"use strict";var h=Je(),p=be((o,l)=>h(o,l,!0),"compareLoose");u.exports=p}),pn=Ee((e,u)=>{"use strict";var h=Ne(),p=be((o,l,n)=>{let t=new h(o,n),r=new h(l,n);return t.compare(r)||t.compareBuild(r)},"compareBuild");u.exports=p}),Sv=Ee((e,u)=>{"use strict";var h=pn(),p=be((o,l)=>o.sort((n,t)=>h(n,t,l)),"sort");u.exports=p}),bv=Ee((e,u)=>{"use strict";var h=pn(),p=be((o,l)=>o.sort((n,t)=>h(t,n,l)),"rsort");u.exports=p}),Jr=Ee((e,u)=>{"use strict";var h=Je(),p=be((o,l,n)=>h(o,l,n)>0,"gt");u.exports=p}),dn=Ee((e,u)=>{"use strict";var h=Je(),p=be((o,l,n)=>h(o,l,n)<0,"lt");u.exports=p}),Ac=Ee((e,u)=>{"use strict";var h=Je(),p=be((o,l,n)=>h(o,l,n)===0,"eq");u.exports=p}),Rc=Ee((e,u)=>{"use strict";var h=Je(),p=be((o,l,n)=>h(o,l,n)!==0,"neq");u.exports=p}),fn=Ee((e,u)=>{"use strict";var h=Je(),p=be((o,l,n)=>h(o,l,n)>=0,"gte");u.exports=p}),gn=Ee((e,u)=>{"use strict";var h=Je(),p=be((o,l,n)=>h(o,l,n)<=0,"lte");u.exports=p}),Cc=Ee((e,u)=>{"use strict";var h=Ac(),p=Rc(),o=Jr(),l=fn(),n=dn(),t=gn(),r=be((s,i,c,a)=>{switch(i){case"===":return typeof s=="object"&&(s=s.version),typeof c=="object"&&(c=c.version),s===c;case"!==":return typeof s=="object"&&(s=s.version),typeof c=="object"&&(c=c.version),s!==c;case"":case"=":case"==":return h(s,c,a);case"!=":return p(s,c,a);case">":return o(s,c,a);case">=":return l(s,c,a);case"<":return n(s,c,a);case"<=":return t(s,c,a);default:throw new TypeError(`Invalid operator: ${i}`)}},"cmp");u.exports=r}),Ev=Ee((e,u)=>{"use strict";var h=Ne(),p=xt(),{safeRe:o,t:l}=ar(),n=be((t,r)=>{if(t instanceof h)return t;if(typeof t=="number"&&(t=String(t)),typeof t!="string")return null;r=r||{};let s=null;if(!r.rtl)s=t.match(r.includePrerelease?o[l.COERCEFULL]:o[l.COERCE]);else{let m=r.includePrerelease?o[l.COERCERTLFULL]:o[l.COERCERTL],f;for(;(f=m.exec(t))&&(!s||s.index+s[0].length!==t.length);)(!s||f.index+f[0].length!==s.index+s[0].length)&&(s=f),m.lastIndex=f.index+f[1].length+f[2].length;m.lastIndex=-1}if(s===null)return null;let i=s[2],c=s[3]||"0",a=s[4]||"0",d=r.includePrerelease&&s[5]?`-${s[5]}`:"",g=r.includePrerelease&&s[6]?`+${s[6]}`:"";return p(`${i}.${c}.${a}${d}${g}`,r)},"coerce");u.exports=n}),_v=Ee((e,u)=>{"use strict";var h=class{static{be(this,"LRUCache")}constructor(){this.max=1e3,this.map=new Map}get(p){let o=this.map.get(p);if(o!==void 0)return this.map.delete(p),this.map.set(p,o),o}delete(p){return this.map.delete(p)}set(p,o){if(!this.delete(p)&&o!==void 0){if(this.map.size>=this.max){let l=this.map.keys().next().value;this.delete(l)}this.map.set(p,o)}return this}};u.exports=h}),qe=Ee((e,u)=>{"use strict";var h=/\s+/g,p=class Wr{static{be(this,"Range")}constructor(B,G){if(G=n(G),B instanceof Wr)return B.loose===!!G.loose&&B.includePrerelease===!!G.includePrerelease?B:new Wr(B.raw,G);if(B instanceof t)return this.raw=B.value,this.set=[[B]],this.formatted=void 0,this;if(this.options=G,this.loose=!!G.loose,this.includePrerelease=!!G.includePrerelease,this.raw=B.trim().replace(h," "),this.set=this.raw.split("||").map(W=>this.parseRange(W.trim())).filter(W=>W.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){let W=this.set[0];if(this.set=this.set.filter(k=>!y(k[0])),this.set.length===0)this.set=[W];else if(this.set.length>1){for(let k of this.set)if(k.length===1&&S(k[0])){this.set=[k];break}}}this.formatted=void 0}get range(){if(this.formatted===void 0){this.formatted="";for(let B=0;B<this.set.length;B++){B>0&&(this.formatted+="||");let G=this.set[B];for(let W=0;W<G.length;W++)W>0&&(this.formatted+=" "),this.formatted+=G[W].toString().trim()}}return this.formatted}format(){return this.range}toString(){return this.range}parseRange(B){let G=((this.options.includePrerelease&&m)|(this.options.loose&&f))+":"+B,W=l.get(G);if(W)return W;let k=this.options.loose,D=k?i[c.HYPHENRANGELOOSE]:i[c.HYPHENRANGE];B=B.replace(D,j(this.options.includePrerelease)),r("hyphen replace",B),B=B.replace(i[c.COMPARATORTRIM],a),r("comparator trim",B),B=B.replace(i[c.TILDETRIM],d),r("tilde trim",B),B=B.replace(i[c.CARETTRIM],g),r("caret trim",B);let T=B.split(" ").map(Q=>E(Q,this.options)).join(" ").split(/\s+/).map(Q=>x(Q,this.options));k&&(T=T.filter(Q=>(r("loose invalid filter",Q,this.options),!!Q.match(i[c.COMPARATORLOOSE])))),r("range list",T);let C=new Map,Z=T.map(Q=>new t(Q,this.options));for(let Q of Z){if(y(Q))return[Q];C.set(Q.value,Q)}C.size>1&&C.has("")&&C.delete("");let Y=[...C.values()];return l.set(G,Y),Y}intersects(B,G){if(!(B instanceof Wr))throw new TypeError("a Range is required");return this.set.some(W=>b(W,G)&&B.set.some(k=>b(k,G)&&W.every(D=>k.every(T=>D.intersects(T,G)))))}test(B){if(!B)return!1;if(typeof B=="string")try{B=new s(B,this.options)}catch{return!1}for(let G=0;G<this.set.length;G++)if(U(this.set[G],B,this.options))return!0;return!1}};u.exports=p;var o=_v(),l=new o,n=hn(),t=qr(),r=Kr(),s=Ne(),{safeRe:i,t:c,comparatorTrimReplace:a,tildeTrimReplace:d,caretTrimReplace:g}=ar(),{FLAG_INCLUDE_PRERELEASE:m,FLAG_LOOSE:f}=zr(),y=be(V=>V.value==="<0.0.0-0","isNullSet"),S=be(V=>V.value==="","isAny"),b=be((V,B)=>{let G=!0,W=V.slice(),k=W.pop();for(;G&&W.length;)G=W.every(D=>k.intersects(D,B)),k=W.pop();return G},"isSatisfiable"),E=be((V,B)=>(r("comp",V,B),V=R(V,B),r("caret",V),V=w(V,B),r("tildes",V),V=P(V,B),r("xrange",V),V=M(V,B),r("stars",V),V),"parseComparator"),_=be(V=>!V||V.toLowerCase()==="x"||V==="*","isX"),w=be((V,B)=>V.trim().split(/\s+/).map(G=>O(G,B)).join(" "),"replaceTildes"),O=be((V,B)=>{let G=B.loose?i[c.TILDELOOSE]:i[c.TILDE];return V.replace(G,(W,k,D,T,C)=>{r("tilde",V,W,k,D,T,C);let Z;return _(k)?Z="":_(D)?Z=`>=${k}.0.0 <${+k+1}.0.0-0`:_(T)?Z=`>=${k}.${D}.0 <${k}.${+D+1}.0-0`:C?(r("replaceTilde pr",C),Z=`>=${k}.${D}.${T}-${C} <${k}.${+D+1}.0-0`):Z=`>=${k}.${D}.${T} <${k}.${+D+1}.0-0`,r("tilde return",Z),Z})},"replaceTilde"),R=be((V,B)=>V.trim().split(/\s+/).map(G=>I(G,B)).join(" "),"replaceCarets"),I=be((V,B)=>{r("caret",V,B);let G=B.loose?i[c.CARETLOOSE]:i[c.CARET],W=B.includePrerelease?"-0":"";return V.replace(G,(k,D,T,C,Z)=>{r("caret",V,k,D,T,C,Z);let Y;return _(D)?Y="":_(T)?Y=`>=${D}.0.0${W} <${+D+1}.0.0-0`:_(C)?D==="0"?Y=`>=${D}.${T}.0${W} <${D}.${+T+1}.0-0`:Y=`>=${D}.${T}.0${W} <${+D+1}.0.0-0`:Z?(r("replaceCaret pr",Z),D==="0"?T==="0"?Y=`>=${D}.${T}.${C}-${Z} <${D}.${T}.${+C+1}-0`:Y=`>=${D}.${T}.${C}-${Z} <${D}.${+T+1}.0-0`:Y=`>=${D}.${T}.${C}-${Z} <${+D+1}.0.0-0`):(r("no pr"),D==="0"?T==="0"?Y=`>=${D}.${T}.${C}${W} <${D}.${T}.${+C+1}-0`:Y=`>=${D}.${T}.${C}${W} <${D}.${+T+1}.0-0`:Y=`>=${D}.${T}.${C} <${+D+1}.0.0-0`),r("caret return",Y),Y})},"replaceCaret"),P=be((V,B)=>(r("replaceXRanges",V,B),V.split(/\s+/).map(G=>L(G,B)).join(" ")),"replaceXRanges"),L=be((V,B)=>{V=V.trim();let G=B.loose?i[c.XRANGELOOSE]:i[c.XRANGE];return V.replace(G,(W,k,D,T,C,Z)=>{r("xRange",V,W,k,D,T,C,Z);let Y=_(D),Q=Y||_(T),N=Q||_(C),F=N;return k==="="&&F&&(k=""),Z=B.includePrerelease?"-0":"",Y?k===">"||k==="<"?W="<0.0.0-0":W="*":k&&F?(Q&&(T=0),C=0,k===">"?(k=">=",Q?(D=+D+1,T=0,C=0):(T=+T+1,C=0)):k==="<="&&(k="<",Q?D=+D+1:T=+T+1),k==="<"&&(Z="-0"),W=`${k+D}.${T}.${C}${Z}`):Q?W=`>=${D}.0.0${Z} <${+D+1}.0.0-0`:N&&(W=`>=${D}.${T}.0${Z} <${D}.${+T+1}.0-0`),r("xRange return",W),W})},"replaceXRange"),M=be((V,B)=>(r("replaceStars",V,B),V.trim().replace(i[c.STAR],"")),"replaceStars"),x=be((V,B)=>(r("replaceGTE0",V,B),V.trim().replace(i[B.includePrerelease?c.GTE0PRE:c.GTE0],"")),"replaceGTE0"),j=be(V=>(B,G,W,k,D,T,C,Z,Y,Q,N,F)=>(_(W)?G="":_(k)?G=`>=${W}.0.0${V?"-0":""}`:_(D)?G=`>=${W}.${k}.0${V?"-0":""}`:T?G=`>=${G}`:G=`>=${G}${V?"-0":""}`,_(Y)?Z="":_(Q)?Z=`<${+Y+1}.0.0-0`:_(N)?Z=`<${Y}.${+Q+1}.0-0`:F?Z=`<=${Y}.${Q}.${N}-${F}`:V?Z=`<${Y}.${Q}.${+N+1}-0`:Z=`<=${Z}`,`${G} ${Z}`.trim()),"hyphenReplace"),U=be((V,B,G)=>{for(let W=0;W<V.length;W++)if(!V[W].test(B))return!1;if(B.prerelease.length&&!G.includePrerelease){for(let W=0;W<V.length;W++)if(r(V[W].semver),V[W].semver!==t.ANY&&V[W].semver.prerelease.length>0){let k=V[W].semver;if(k.major===B.major&&k.minor===B.minor&&k.patch===B.patch)return!0}return!1}return!0},"testSet")}),qr=Ee((e,u)=>{"use strict";var h=Symbol("SemVer ANY"),p=class un{static{be(this,"Comparator")}static get ANY(){return h}constructor(a,d){if(d=o(d),a instanceof un){if(a.loose===!!d.loose)return a;a=a.value}a=a.trim().split(/\s+/).join(" "),r("comparator",a,d),this.options=d,this.loose=!!d.loose,this.parse(a),this.semver===h?this.value="":this.value=this.operator+this.semver.version,r("comp",this)}parse(a){let d=this.options.loose?l[n.COMPARATORLOOSE]:l[n.COMPARATOR],g=a.match(d);if(!g)throw new TypeError(`Invalid comparator: ${a}`);this.operator=g[1]!==void 0?g[1]:"",this.operator==="="&&(this.operator=""),g[2]?this.semver=new s(g[2],this.options.loose):this.semver=h}toString(){return this.value}test(a){if(r("Comparator.test",a,this.options.loose),this.semver===h||a===h)return!0;if(typeof a=="string")try{a=new s(a,this.options)}catch{return!1}return t(a,this.operator,this.semver,this.options)}intersects(a,d){if(!(a instanceof un))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new i(a.value,d).test(this.value):a.operator===""?a.value===""?!0:new i(this.value,d).test(a.semver):(d=o(d),d.includePrerelease&&(this.value==="<0.0.0-0"||a.value==="<0.0.0-0")||!d.includePrerelease&&(this.value.startsWith("<0.0.0")||a.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&a.operator.startsWith(">")||this.operator.startsWith("<")&&a.operator.startsWith("<")||this.semver.version===a.semver.version&&this.operator.includes("=")&&a.operator.includes("=")||t(this.semver,"<",a.semver,d)&&this.operator.startsWith(">")&&a.operator.startsWith("<")||t(this.semver,">",a.semver,d)&&this.operator.startsWith("<")&&a.operator.startsWith(">")))}};u.exports=p;var o=hn(),{safeRe:l,t:n}=ar(),t=Cc(),r=Kr(),s=Ne(),i=qe()}),Zr=Ee((e,u)=>{"use strict";var h=qe(),p=be((o,l,n)=>{try{l=new h(l,n)}catch{return!1}return l.test(o)},"satisfies");u.exports=p}),wv=Ee((e,u)=>{"use strict";var h=qe(),p=be((o,l)=>new h(o,l).set.map(n=>n.map(t=>t.value).join(" ").trim().split(" ")),"toComparators");u.exports=p}),Ov=Ee((e,u)=>{"use strict";var h=Ne(),p=qe(),o=be((l,n,t)=>{let r=null,s=null,i=null;try{i=new p(n,t)}catch{return null}return l.forEach(c=>{i.test(c)&&(!r||s.compare(c)===-1)&&(r=c,s=new h(r,t))}),r},"maxSatisfying");u.exports=o}),Av=Ee((e,u)=>{"use strict";var h=Ne(),p=qe(),o=be((l,n,t)=>{let r=null,s=null,i=null;try{i=new p(n,t)}catch{return null}return l.forEach(c=>{i.test(c)&&(!r||s.compare(c)===1)&&(r=c,s=new h(r,t))}),r},"minSatisfying");u.exports=o}),Rv=Ee((e,u)=>{"use strict";var h=Ne(),p=qe(),o=Jr(),l=be((n,t)=>{n=new p(n,t);let r=new h("0.0.0");if(n.test(r)||(r=new h("0.0.0-0"),n.test(r)))return r;r=null;for(let s=0;s<n.set.length;++s){let i=n.set[s],c=null;i.forEach(a=>{let d=new h(a.semver.version);switch(a.operator){case">":d.prerelease.length===0?d.patch++:d.prerelease.push(0),d.raw=d.format();case"":case">=":(!c||o(d,c))&&(c=d);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${a.operator}`)}}),c&&(!r||o(r,c))&&(r=c)}return r&&n.test(r)?r:null},"minVersion");u.exports=l}),Cv=Ee((e,u)=>{"use strict";var h=qe(),p=be((o,l)=>{try{return new h(o,l).range||"*"}catch{return null}},"validRange");u.exports=p}),mn=Ee((e,u)=>{"use strict";var h=Ne(),p=qr(),{ANY:o}=p,l=qe(),n=Zr(),t=Jr(),r=dn(),s=gn(),i=fn(),c=be((a,d,g,m)=>{a=new h(a,m),d=new l(d,m);let f,y,S,b,E;switch(g){case">":f=t,y=s,S=r,b=">",E=">=";break;case"<":f=r,y=i,S=t,b="<",E="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(n(a,d,m))return!1;for(let _=0;_<d.set.length;++_){let w=d.set[_],O=null,R=null;if(w.forEach(I=>{I.semver===o&&(I=new p(">=0.0.0")),O=O||I,R=R||I,f(I.semver,O.semver,m)?O=I:S(I.semver,R.semver,m)&&(R=I)}),O.operator===b||O.operator===E||(!R.operator||R.operator===b)&&y(a,R.semver)||R.operator===E&&S(a,R.semver))return!1}return!0},"outside");u.exports=c}),Iv=Ee((e,u)=>{"use strict";var h=mn(),p=be((o,l,n)=>h(o,l,">",n),"gtr");u.exports=p}),Tv=Ee((e,u)=>{"use strict";var h=mn(),p=be((o,l,n)=>h(o,l,"<",n),"ltr");u.exports=p}),Pv=Ee((e,u)=>{"use strict";var h=qe(),p=be((o,l,n)=>(o=new h(o,n),l=new h(l,n),o.intersects(l,n)),"intersects");u.exports=p}),xv=Ee((e,u)=>{"use strict";var h=Zr(),p=Je();u.exports=(o,l,n)=>{let t=[],r=null,s=null,i=o.sort((g,m)=>p(g,m,n));for(let g of i)h(g,l,n)?(s=g,r||(r=g)):(s&&t.push([r,s]),s=null,r=null);r&&t.push([r,null]);let c=[];for(let[g,m]of t)g===m?c.push(g):!m&&g===i[0]?c.push("*"):m?g===i[0]?c.push(`<=${m}`):c.push(`${g} - ${m}`):c.push(`>=${g}`);let a=c.join(" || "),d=typeof l.raw=="string"?l.raw:String(l);return a.length<d.length?a:l}}),kv=Ee((e,u)=>{"use strict";var h=qe(),p=qr(),{ANY:o}=p,l=Zr(),n=Je(),t=be((d,g,m={})=>{if(d===g)return!0;d=new h(d,m),g=new h(g,m);let f=!1;e:for(let y of d.set){for(let S of g.set){let b=i(y,S,m);if(f=f||b!==null,b)continue e}if(f)return!1}return!0},"subset"),r=[new p(">=0.0.0-0")],s=[new p(">=0.0.0")],i=be((d,g,m)=>{if(d===g)return!0;if(d.length===1&&d[0].semver===o){if(g.length===1&&g[0].semver===o)return!0;m.includePrerelease?d=r:d=s}if(g.length===1&&g[0].semver===o){if(m.includePrerelease)return!0;g=s}let f=new Set,y,S;for(let P of d)P.operator===">"||P.operator===">="?y=c(y,P,m):P.operator==="<"||P.operator==="<="?S=a(S,P,m):f.add(P.semver);if(f.size>1)return null;let b;if(y&&S&&(b=n(y.semver,S.semver,m),b>0||b===0&&(y.operator!==">="||S.operator!=="<=")))return null;for(let P of f){if(y&&!l(P,String(y),m)||S&&!l(P,String(S),m))return null;for(let L of g)if(!l(P,String(L),m))return!1;return!0}let E,_,w,O,R=S&&!m.includePrerelease&&S.semver.prerelease.length?S.semver:!1,I=y&&!m.includePrerelease&&y.semver.prerelease.length?y.semver:!1;R&&R.prerelease.length===1&&S.operator==="<"&&R.prerelease[0]===0&&(R=!1);for(let P of g){if(O=O||P.operator===">"||P.operator===">=",w=w||P.operator==="<"||P.operator==="<=",y){if(I&&P.semver.prerelease&&P.semver.prerelease.length&&P.semver.major===I.major&&P.semver.minor===I.minor&&P.semver.patch===I.patch&&(I=!1),P.operator===">"||P.operator===">="){if(E=c(y,P,m),E===P&&E!==y)return!1}else if(y.operator===">="&&!l(y.semver,String(P),m))return!1}if(S){if(R&&P.semver.prerelease&&P.semver.prerelease.length&&P.semver.major===R.major&&P.semver.minor===R.minor&&P.semver.patch===R.patch&&(R=!1),P.operator==="<"||P.operator==="<="){if(_=a(S,P,m),_===P&&_!==S)return!1}else if(S.operator==="<="&&!l(S.semver,String(P),m))return!1}if(!P.operator&&(S||y)&&b!==0)return!1}return!(y&&w&&!S&&b!==0||S&&O&&!y&&b!==0||I||R)},"simpleSubset"),c=be((d,g,m)=>{if(!d)return g;let f=n(d.semver,g.semver,m);return f>0?d:f<0||g.operator===">"&&d.operator===">="?g:d},"higherGT"),a=be((d,g,m)=>{if(!d)return g;let f=n(d.semver,g.semver,m);return f<0?d:f>0||g.operator==="<"&&d.operator==="<="?g:d},"lowerLT");u.exports=t}),cn=ar(),_c=zr(),Nv=Ne(),wc=Oc(),Lv=xt(),Dv=cv(),Mv=uv(),jv=hv(),$v=pv(),Bv=dv(),Uv=fv(),Fv=gv(),Hv=mv(),Gv=Je(),Vv=yv(),Wv=vv(),zv=pn(),Kv=Sv(),Jv=bv(),qv=Jr(),Zv=dn(),Yv=Ac(),Xv=Rc(),Qv=fn(),eS=gn(),tS=Cc(),rS=Ev(),sS=qr(),iS=qe(),nS=Zr(),oS=wv(),aS=Ov(),lS=Av(),cS=Rv(),uS=Cv(),hS=mn(),pS=Iv(),dS=Tv(),fS=Pv(),gS=xv(),mS=kv();Ic.exports={parse:Lv,valid:Dv,clean:Mv,inc:jv,diff:$v,major:Bv,minor:Uv,patch:Fv,prerelease:Hv,compare:Gv,rcompare:Vv,compareLoose:Wv,compareBuild:zv,sort:Kv,rsort:Jv,gt:qv,lt:Zv,eq:Yv,neq:Xv,gte:Qv,lte:eS,cmp:tS,coerce:rS,Comparator:sS,Range:iS,satisfies:nS,toComparators:oS,maxSatisfying:aS,minSatisfying:lS,minVersion:cS,validRange:uS,outside:hS,gtr:pS,ltr:dS,intersects:fS,simplifyRange:gS,subset:mS,SemVer:Nv,re:cn.re,src:cn.src,tokens:cn.t,SEMVER_SPEC_VERSION:_c.SEMVER_SPEC_VERSION,RELEASE_TYPES:_c.RELEASE_TYPES,compareIdentifiers:wc.compareIdentifiers,rcompareIdentifiers:wc.rcompareIdentifiers}});var En=_e((Tx,kc)=>{var bn=Object.defineProperty,yS=Object.getOwnPropertyDescriptor,vS=Object.getOwnPropertyNames,SS=Object.prototype.hasOwnProperty,bS=(e,u)=>{for(var h in u)bn(e,h,{get:u[h],enumerable:!0})},ES=(e,u,h,p)=>{if(u&&typeof u=="object"||typeof u=="function")for(let o of vS(u))!SS.call(e,o)&&o!==h&&bn(e,o,{get:()=>u[o],enumerable:!(p=yS(u,o))||p.enumerable});return e},_S=e=>ES(bn({},"__esModule",{value:!0}),e),Pc={};bS(Pc,{compareSemver:()=>RS,compareStr:()=>AS,localeCompare:()=>wS,naturalCompare:()=>xc,naturalSorter:()=>OS});kc.exports=_S(Pc);var yn;function wS(e,u){return yn===void 0&&(yn=new Intl.Collator().compare),yn(e,u)}var vn;function xc(e,u){return vn===void 0&&(vn=new Intl.Collator(void 0,{numeric:!0,sensitivity:"base"}).compare),vn(e,u)}var Sn;function OS(e){return Sn===void 0&&(Sn=Ec().createNewSortInstance({comparer:xc})),Sn?.(e)}function AS(e,u){return e<u?-1:e>u?1:0}function RS(e,u){let h=Tc(),p=h.valid(e),o=h.valid(u);return!p&&!o?0:p?o?h.compare(e,u):1:-1}});var Qr=_e((Px,Uc)=>{var On=Object.defineProperty,CS=Object.getOwnPropertyDescriptor,IS=Object.getOwnPropertyNames,TS=Object.prototype.hasOwnProperty,PS=(e,u)=>{for(var h in u)On(e,h,{get:u[h],enumerable:!0})},xS=(e,u,h,p)=>{if(u&&typeof u=="object"||typeof u=="function")for(let o of IS(u))!TS.call(e,o)&&o!==h&&On(e,o,{get:()=>u[o],enumerable:!(p=CS(u,o))||p.enumerable});return e},kS=e=>xS(On({},"__esModule",{value:!0}),e),Dc={};PS(Dc,{createConstantsObject:()=>US,createLazyGetter:()=>Mc,defineGetter:()=>jc,defineLazyGetter:()=>$c,defineLazyGetters:()=>Bc,entryKeyComparator:()=>wn,getKeys:()=>FS,getOwn:()=>HS,getOwnPropertyValues:()=>GS,hasKeys:()=>VS,hasOwn:()=>WS,isObject:()=>kt,isObjectObject:()=>zS,merge:()=>qS,objectAssign:()=>KS,objectEntries:()=>Rn,objectFreeze:()=>JS,toSortedObject:()=>Yr,toSortedObjectFromEntries:()=>Cn});Uc.exports=kS(Dc);var cr=vc(),lr=Gr(),NS=En(),Nc=Object.defineProperties,LS=Object.defineProperty,it=Object.freeze,DS=Object.fromEntries,Lc=Object.getOwnPropertyDescriptors,MS=Object.getOwnPropertyNames,jS=Object.getPrototypeOf,Xr=Object.hasOwn,$S=Object.keys,BS=Object.prototype,_n=Object.setPrototypeOf,An=Reflect.ownKeys;function Mc(e,u,h){let p=cr.UNDEFINED_TOKEN,{[e]:o}={[e](){return p===cr.UNDEFINED_TOKEN&&(h?.initialized?.add(e),p=u()),p}};return o}function US(e,u){let h={__proto__:null,...u},p=it({__proto__:null,getters:h.getters?it(_n(Yr(h.getters),null)):void 0,internals:h.internals?it(_n(Yr(h.internals),null)):void 0,mixin:h.mixin?it(Nc({__proto__:null},Lc(h.mixin))):void 0,props:e?it(_n(Yr(e),null)):void 0}),o=it({__proto__:null,initialized:new Set}),l=Bc({__proto__:null,[cr.kInternalsSymbol]:it({__proto__:null,get attributes(){return p},get lazyGetterStats(){return o},...p.internals}),kInternalsSymbol:cr.kInternalsSymbol,...p.props},p.getters,o);return p.mixin&&Nc(l,Cn(Rn(Lc(p.mixin)).filter(n=>!Xr(l,n[0])))),it(l)}function jc(e,u,h){return LS(e,u,{get:h,enumerable:!1,configurable:!0}),e}function $c(e,u,h,p){return jc(e,u,Mc(u,h,p))}function Bc(e,u,h){if(u!==null&&typeof u=="object"){let p=An(u);for(let o=0,{length:l}=p;o<l;o+=1){let n=p[o];$c(e,n,u[n],h)}}return e}function wn(e,u){let h=e[0],p=u[0],o=typeof h=="string"?h:String(h),l=typeof p=="string"?p:String(p);return(0,NS.localeCompare)(o,l)}function FS(e){return kt(e)?$S(e):[]}function HS(e,u){if(e!=null)return Xr(e,u)?e[u]:void 0}function GS(e){if(e==null)return[];let u=MS(e),{length:h}=u,p=Array(h);for(let o=0;o<h;o+=1)p[o]=e[u[o]];return p}function VS(e){if(e==null)return!1;for(let u in e)if(Xr(e,u))return!0;return!1}function WS(e,u){return e==null?!1:Xr(e,u)}function kt(e){return e!==null&&typeof e=="object"}function zS(e){if(e===null||typeof e!="object"||(0,lr.isArray)(e))return!1;let u=jS(e);return u===null||u===BS}var KS=Object.assign;function Rn(e){if(e==null)return[];let u=An(e),{length:h}=u,p=Array(h),o=e;for(let l=0;l<h;l+=1){let n=u[l];p[l]=[n,o[n]]}return p}var JS=Object.freeze;function qS(e,u){if(!kt(e)||!kt(u))return e;let h=[[e,u]],p=0,{length:o}=h;for(;p<o;){if(p===cr.LOOP_SENTINEL)throw new Error("Detected infinite loop in object crawl of merge");let{0:l,1:n}=h[p++];if(!n||!l)continue;let t=(0,lr.isArray)(n),r=(0,lr.isArray)(l);if(t||r)continue;let s=An(n);for(let i=0,{length:c}=s;i<c;i+=1){let a=s[i],d=n[a],g=l[a];(0,lr.isArray)(d)?l[a]=d:kt(d)&&kt(g)&&!(0,lr.isArray)(g)?h[o++]=[g,d]:l[a]=d}}return e}function Yr(e){return Cn(Rn(e))}function Cn(e){let u=[],h=[];for(let p of e)typeof p[0]=="symbol"?h.push(p):u.push(p);return!u.length&&!h.length?{}:DS([...h.sort(wn),...u.sort(wn)])}});var Hc=_e((xx,Fc)=>{"use strict";var ZS=Object.defineProperty,Oe=(e,u)=>ZS(e,"name",{value:u,configurable:!0}),ur=(e,u)=>()=>(u||e((u={exports:{}}).exports,u),u.exports),es=ur((e,u)=>{"use strict";var h=require("path"),p="\\\\/",o=`[^${p}]`,l="\\.",n="\\+",t="\\?",r="\\/",s="(?=.)",i="[^/]",c=`(?:${r}|$)`,a=`(?:^|${r})`,d=`${l}{1,2}${c}`,g=`(?!${l})`,m=`(?!${a}${d})`,f=`(?!${l}{0,1}${c})`,y=`(?!${d})`,S=`[^.${r}]`,b=`${i}*?`,E={DOT_LITERAL:l,PLUS_LITERAL:n,QMARK_LITERAL:t,SLASH_LITERAL:r,ONE_CHAR:s,QMARK:i,END_ANCHOR:c,DOTS_SLASH:d,NO_DOT:g,NO_DOTS:m,NO_DOT_SLASH:f,NO_DOTS_SLASH:y,QMARK_NO_DOT:S,STAR:b,START_ANCHOR:a},_={...E,SLASH_LITERAL:`[${p}]`,QMARK:o,STAR:`${o}*?`,DOTS_SLASH:`${l}{1,2}(?:[${p}]|$)`,NO_DOT:`(?!${l})`,NO_DOTS:`(?!(?:^|[${p}])${l}{1,2}(?:[${p}]|$))`,NO_DOT_SLASH:`(?!${l}{0,1}(?:[${p}]|$))`,NO_DOTS_SLASH:`(?!${l}{1,2}(?:[${p}]|$))`,QMARK_NO_DOT:`[^.${p}]`,START_ANCHOR:`(?:^|[${p}])`,END_ANCHOR:`(?:[${p}]|$)`},w={alnum:"a-zA-Z0-9",alpha:"a-zA-Z",ascii:"\\x00-\\x7F",blank:" \\t",cntrl:"\\x00-\\x1F\\x7F",digit:"0-9",graph:"\\x21-\\x7E",lower:"a-z",print:"\\x20-\\x7E ",punct:"\\-!\"#$%&'()\\*+,./:;<=>?@[\\]^_`{|}~",space:" \\t\\r\\n\\v\\f",upper:"A-Z",word:"A-Za-z0-9_",xdigit:"A-Fa-f0-9"};u.exports={MAX_LENGTH:1024*64,POSIX_REGEX_SOURCE:w,REGEX_BACKSLASH:/\\(?![*+?^${}(|)[\]])/g,REGEX_NON_SPECIAL_CHARS:/^[^@![\].,$*+?^{}()|\\/]+/,REGEX_SPECIAL_CHARS:/[-*+?.^${}(|)[\]]/,REGEX_SPECIAL_CHARS_BACKREF:/(\\?)((\W)(\3*))/g,REGEX_SPECIAL_CHARS_GLOBAL:/([-*+?.^${}(|)[\]])/g,REGEX_REMOVE_BACKSLASH:/(?:\[.*?[^\\]\]|\\(?=.))/g,REPLACEMENTS:{"***":"*","**/**":"**","**/**/**":"**"},CHAR_0:48,CHAR_9:57,CHAR_UPPERCASE_A:65,CHAR_LOWERCASE_A:97,CHAR_UPPERCASE_Z:90,CHAR_LOWERCASE_Z:122,CHAR_LEFT_PARENTHESES:40,CHAR_RIGHT_PARENTHESES:41,CHAR_ASTERISK:42,CHAR_AMPERSAND:38,CHAR_AT:64,CHAR_BACKWARD_SLASH:92,CHAR_CARRIAGE_RETURN:13,CHAR_CIRCUMFLEX_ACCENT:94,CHAR_COLON:58,CHAR_COMMA:44,CHAR_DOT:46,CHAR_DOUBLE_QUOTE:34,CHAR_EQUAL:61,CHAR_EXCLAMATION_MARK:33,CHAR_FORM_FEED:12,CHAR_FORWARD_SLASH:47,CHAR_GRAVE_ACCENT:96,CHAR_HASH:35,CHAR_HYPHEN_MINUS:45,CHAR_LEFT_ANGLE_BRACKET:60,CHAR_LEFT_CURLY_BRACE:123,CHAR_LEFT_SQUARE_BRACKET:91,CHAR_LINE_FEED:10,CHAR_NO_BREAK_SPACE:160,CHAR_PERCENT:37,CHAR_PLUS:43,CHAR_QUESTION_MARK:63,CHAR_RIGHT_ANGLE_BRACKET:62,CHAR_RIGHT_CURLY_BRACE:125,CHAR_RIGHT_SQUARE_BRACKET:93,CHAR_SEMICOLON:59,CHAR_SINGLE_QUOTE:39,CHAR_SPACE:32,CHAR_TAB:9,CHAR_UNDERSCORE:95,CHAR_VERTICAL_LINE:124,CHAR_ZERO_WIDTH_NOBREAK_SPACE:65279,SEP:h.sep,extglobChars(O){return{"!":{type:"negate",open:"(?:(?!(?:",close:`))${O.STAR})`},"?":{type:"qmark",open:"(?:",close:")?"},"+":{type:"plus",open:"(?:",close:")+"},"*":{type:"star",open:"(?:",close:")*"},"@":{type:"at",open:"(?:",close:")"}}},globChars(O){return O===!0?_:E}}}),In=ur(e=>{"use strict";var u=require("path"),h=process.platform==="win32",{REGEX_BACKSLASH:p,REGEX_REMOVE_BACKSLASH:o,REGEX_SPECIAL_CHARS:l,REGEX_SPECIAL_CHARS_GLOBAL:n}=es();e.isObject=t=>t!==null&&typeof t=="object"&&!Array.isArray(t),e.hasRegexChars=t=>l.test(t),e.isRegexChar=t=>t.length===1&&e.hasRegexChars(t),e.escapeRegex=t=>t.replace(n,"\\$1"),e.toPosixSlashes=t=>t.replace(p,"/"),e.removeBackslashes=t=>t.replace(o,r=>r==="\\"?"":r),e.supportsLookbehinds=()=>{let t=process.version.slice(1).split(".").map(Number);return t.length===3&&t[0]>=9||t[0]===8&&t[1]>=10},e.isWindows=t=>t&&typeof t.windows=="boolean"?t.windows:h===!0||u.sep==="\\",e.escapeLast=(t,r,s)=>{let i=t.lastIndexOf(r,s);return i===-1?t:t[i-1]==="\\"?e.escapeLast(t,r,i-1):`${t.slice(0,i)}\\${t.slice(i)}`},e.removePrefix=(t,r={})=>{let s=t;return s.startsWith("./")&&(s=s.slice(2),r.prefix="./"),s},e.wrapOutput=(t,r={},s={})=>{let i=s.contains?"":"^",c=s.contains?"":"$",a=`${i}(?:${t})${c}`;return r.negated===!0&&(a=`(?:^(?!${a}).*$)`),a}}),YS=ur((e,u)=>{"use strict";var h=In(),{CHAR_ASTERISK:p,CHAR_AT:o,CHAR_BACKWARD_SLASH:l,CHAR_COMMA:n,CHAR_DOT:t,CHAR_EXCLAMATION_MARK:r,CHAR_FORWARD_SLASH:s,CHAR_LEFT_CURLY_BRACE:i,CHAR_LEFT_PARENTHESES:c,CHAR_LEFT_SQUARE_BRACKET:a,CHAR_PLUS:d,CHAR_QUESTION_MARK:g,CHAR_RIGHT_CURLY_BRACE:m,CHAR_RIGHT_PARENTHESES:f,CHAR_RIGHT_SQUARE_BRACKET:y}=es(),S=Oe(_=>_===s||_===l,"isPathSeparator"),b=Oe(_=>{_.isPrefix!==!0&&(_.depth=_.isGlobstar?1/0:1)},"depth"),E=Oe((_,w)=>{let O=w||{},R=_.length-1,I=O.parts===!0||O.scanToEnd===!0,P=[],L=[],M=[],x=_,j=-1,U=0,V=0,B=!1,G=!1,W=!1,k=!1,D=!1,T=!1,C=!1,Z=!1,Y=!1,Q=!1,N=0,F,z,$={value:"",depth:0,isGlob:!1},K=Oe(()=>j>=R,"eos"),q=Oe(()=>x.charCodeAt(j+1),"peek"),X=Oe(()=>(F=z,x.charCodeAt(++j)),"advance");for(;j<R;){z=X();let te;if(z===l){C=$.backslashes=!0,z=X(),z===i&&(T=!0);continue}if(T===!0||z===i){for(N++;K()!==!0&&(z=X());){if(z===l){C=$.backslashes=!0,X();continue}if(z===i){N++;continue}if(T!==!0&&z===t&&(z=X())===t){if(B=$.isBrace=!0,W=$.isGlob=!0,Q=!0,I===!0)continue;break}if(T!==!0&&z===n){if(B=$.isBrace=!0,W=$.isGlob=!0,Q=!0,I===!0)continue;break}if(z===m&&(N--,N===0)){T=!1,B=$.isBrace=!0,Q=!0;break}}if(I===!0)continue;break}if(z===s){if(P.push(j),L.push($),$={value:"",depth:0,isGlob:!1},Q===!0)continue;if(F===t&&j===U+1){U+=2;continue}V=j+1;continue}if(O.noext!==!0&&(z===d||z===o||z===p||z===g||z===r)&&q()===c){if(W=$.isGlob=!0,k=$.isExtglob=!0,Q=!0,z===r&&j===U&&(Y=!0),I===!0){for(;K()!==!0&&(z=X());){if(z===l){C=$.backslashes=!0,z=X();continue}if(z===f){W=$.isGlob=!0,Q=!0;break}}continue}break}if(z===p){if(F===p&&(D=$.isGlobstar=!0),W=$.isGlob=!0,Q=!0,I===!0)continue;break}if(z===g){if(W=$.isGlob=!0,Q=!0,I===!0)continue;break}if(z===a){for(;K()!==!0&&(te=X());){if(te===l){C=$.backslashes=!0,X();continue}if(te===y){G=$.isBracket=!0,W=$.isGlob=!0,Q=!0;break}}if(I===!0)continue;break}if(O.nonegate!==!0&&z===r&&j===U){Z=$.negated=!0,U++;continue}if(O.noparen!==!0&&z===c){if(W=$.isGlob=!0,I===!0){for(;K()!==!0&&(z=X());){if(z===c){C=$.backslashes=!0,z=X();continue}if(z===f){Q=!0;break}}continue}break}if(W===!0){if(Q=!0,I===!0)continue;break}}O.noext===!0&&(k=!1,W=!1);let A=x,H="",ee="";U>0&&(H=x.slice(0,U),x=x.slice(U),V-=U),A&&W===!0&&V>0?(A=x.slice(0,V),ee=x.slice(V)):W===!0?(A="",ee=x):A=x,A&&A!==""&&A!=="/"&&A!==x&&S(A.charCodeAt(A.length-1))&&(A=A.slice(0,-1)),O.unescape===!0&&(ee&&(ee=h.removeBackslashes(ee)),A&&C===!0&&(A=h.removeBackslashes(A)));let ne={prefix:H,input:_,start:U,base:A,glob:ee,isBrace:B,isBracket:G,isGlob:W,isExtglob:k,isGlobstar:D,negated:Z,negatedExtglob:Y};if(O.tokens===!0&&(ne.maxDepth=0,S(z)||L.push($),ne.tokens=L),O.parts===!0||O.tokens===!0){let te;for(let ae=0;ae<P.length;ae++){let he=te?te+1:U,re=P[ae],ue=_.slice(he,re);O.tokens&&(ae===0&&U!==0?(L[ae].isPrefix=!0,L[ae].value=H):L[ae].value=ue,b(L[ae]),ne.maxDepth+=L[ae].depth),(ae!==0||ue!=="")&&M.push(ue),te=re}if(te&&te+1<_.length){let ae=_.slice(te+1);M.push(ae),O.tokens&&(L[L.length-1].value=ae,b(L[L.length-1]),ne.maxDepth+=L[L.length-1].depth)}ne.slashes=P,ne.parts=M}return ne},"scan");u.exports=E}),XS=ur((e,u)=>{"use strict";var h=es(),p=In(),{MAX_LENGTH:o,POSIX_REGEX_SOURCE:l,REGEX_NON_SPECIAL_CHARS:n,REGEX_SPECIAL_CHARS_BACKREF:t,REPLACEMENTS:r}=h,s=Oe((a,d)=>{if(typeof d.expandRange=="function")return d.expandRange(...a,d);a.sort();let g=`[${a.join("-")}]`;try{new RegExp(g)}catch{return a.map(m=>p.escapeRegex(m)).join("..")}return g},"expandRange"),i=Oe((a,d)=>`Missing ${a}: "${d}" - use "\\\\${d}" to match literal characters`,"syntaxError"),c=Oe((a,d)=>{if(typeof a!="string")throw new TypeError("Expected a string");a=r[a]||a;let g={...d},m=typeof g.maxLength=="number"?Math.min(o,g.maxLength):o,f=a.length;if(f>m)throw new SyntaxError(`Input length: ${f}, exceeds maximum allowed length: ${m}`);let y={type:"bos",value:"",output:g.prepend||""},S=[y],b=g.capture?"":"?:",E=p.isWindows(d),_=h.globChars(E),w=h.extglobChars(_),{DOT_LITERAL:O,PLUS_LITERAL:R,SLASH_LITERAL:I,ONE_CHAR:P,DOTS_SLASH:L,NO_DOT:M,NO_DOT_SLASH:x,NO_DOTS_SLASH:j,QMARK:U,QMARK_NO_DOT:V,STAR:B,START_ANCHOR:G}=_,W=Oe(re=>`(${b}(?:(?!${G}${re.dot?L:O}).)*?)`,"globstar"),k=g.dot?"":M,D=g.dot?U:V,T=g.bash===!0?W(g):B;g.capture&&(T=`(${T})`),typeof g.noext=="boolean"&&(g.noextglob=g.noext);let C={input:a,index:-1,start:0,dot:g.dot===!0,consumed:"",output:"",prefix:"",backtrack:!1,negated:!1,brackets:0,braces:0,parens:0,quotes:0,globstar:!1,tokens:S};a=p.removePrefix(a,C),f=a.length;let Z=[],Y=[],Q=[],N=y,F,z=Oe(()=>C.index===f-1,"eos"),$=C.peek=(re=1)=>a[C.index+re],K=C.advance=()=>a[++C.index]||"",q=Oe(()=>a.slice(C.index+1),"remaining"),X=Oe((re="",ue=0)=>{C.consumed+=re,C.index+=ue},"consume"),A=Oe(re=>{C.output+=re.output!=null?re.output:re.value,X(re.value)},"append"),H=Oe(()=>{let re=1;for(;$()==="!"&&($(2)!=="("||$(3)==="?");)K(),C.start++,re++;return re%2===0?!1:(C.negated=!0,C.start++,!0)},"negate"),ee=Oe(re=>{C[re]++,Q.push(re)},"increment"),ne=Oe(re=>{C[re]--,Q.pop()},"decrement"),te=Oe(re=>{if(N.type==="globstar"){let ue=C.braces>0&&(re.type==="comma"||re.type==="brace"),ie=re.extglob===!0||Z.length&&(re.type==="pipe"||re.type==="paren");re.type!=="slash"&&re.type!=="paren"&&!ue&&!ie&&(C.output=C.output.slice(0,-N.output.length),N.type="star",N.value="*",N.output=T,C.output+=N.output)}if(Z.length&&re.type!=="paren"&&(Z[Z.length-1].inner+=re.value),(re.value||re.output)&&A(re),N&&N.type==="text"&&re.type==="text"){N.value+=re.value,N.output=(N.output||"")+re.value;return}re.prev=N,S.push(re),N=re},"push"),ae=Oe((re,ue)=>{let ie={...w[ue],conditions:1,inner:""};ie.prev=N,ie.parens=C.parens,ie.output=C.output;let le=(g.capture?"(":"")+ie.open;ee("parens"),te({type:re,value:ue,output:C.output?"":P}),te({type:"paren",extglob:!0,value:K(),output:le}),Z.push(ie)},"extglobOpen"),he=Oe(re=>{let ue=re.close+(g.capture?")":""),ie;if(re.type==="negate"){let le=T;if(re.inner&&re.inner.length>1&&re.inner.includes("/")&&(le=W(g)),(le!==T||z()||/^\)+$/.test(q()))&&(ue=re.close=`)$))${le}`),re.inner.includes("*")&&(ie=q())&&/^\.[^\\/.]+$/.test(ie)){let fe=c(ie,{...d,fastpaths:!1}).output;ue=re.close=`)${fe})${le})`}re.prev.type==="bos"&&(C.negatedExtglob=!0)}te({type:"paren",extglob:!0,value:F,output:ue}),ne("parens")},"extglobClose");if(g.fastpaths!==!1&&!/(^[*!]|[/()[\]{}"])/.test(a)){let re=!1,ue=a.replace(t,(ie,le,fe,ge,ce,pe)=>ge==="\\"?(re=!0,ie):ge==="?"?le?le+ge+(ce?U.repeat(ce.length):""):pe===0?D+(ce?U.repeat(ce.length):""):U.repeat(fe.length):ge==="."?O.repeat(fe.length):ge==="*"?le?le+ge+(ce?T:""):T:le?ie:`\\${ie}`);return re===!0&&(g.unescape===!0?ue=ue.replace(/\\/g,""):ue=ue.replace(/\\+/g,ie=>ie.length%2===0?"\\\\":ie?"\\":"")),ue===a&&g.contains===!0?(C.output=a,C):(C.output=p.wrapOutput(ue,C,d),C)}for(;!z();){if(F=K(),F==="\0")continue;if(F==="\\"){let ie=$();if(ie==="/"&&g.bash!==!0||ie==="."||ie===";")continue;if(!ie){F+="\\",te({type:"text",value:F});continue}let le=/^\\+/.exec(q()),fe=0;if(le&&le[0].length>2&&(fe=le[0].length,C.index+=fe,fe%2!==0&&(F+="\\")),g.unescape===!0?F=K():F+=K(),C.brackets===0){te({type:"text",value:F});continue}}if(C.brackets>0&&(F!=="]"||N.value==="["||N.value==="[^")){if(g.posix!==!1&&F===":"){let ie=N.value.slice(1);if(ie.includes("[")&&(N.posix=!0,ie.includes(":"))){let le=N.value.lastIndexOf("["),fe=N.value.slice(0,le),ge=N.value.slice(le+2),ce=l[ge];if(ce){N.value=fe+ce,C.backtrack=!0,K(),!y.output&&S.indexOf(N)===1&&(y.output=P);continue}}}(F==="["&&$()!==":"||F==="-"&&$()==="]")&&(F=`\\${F}`),F==="]"&&(N.value==="["||N.value==="[^")&&(F=`\\${F}`),g.posix===!0&&F==="!"&&N.value==="["&&(F="^"),N.value+=F,A({value:F});continue}if(C.quotes===1&&F!=='"'){F=p.escapeRegex(F),N.value+=F,A({value:F});continue}if(F==='"'){C.quotes=C.quotes===1?0:1,g.keepQuotes===!0&&te({type:"text",value:F});continue}if(F==="("){ee("parens"),te({type:"paren",value:F});continue}if(F===")"){if(C.parens===0&&g.strictBrackets===!0)throw new SyntaxError(i("opening","("));let ie=Z[Z.length-1];if(ie&&C.parens===ie.parens+1){he(Z.pop());continue}te({type:"paren",value:F,output:C.parens?")":"\\)"}),ne("parens");continue}if(F==="["){if(g.nobracket===!0||!q().includes("]")){if(g.nobracket!==!0&&g.strictBrackets===!0)throw new SyntaxError(i("closing","]"));F=`\\${F}`}else ee("brackets");te({type:"bracket",value:F});continue}if(F==="]"){if(g.nobracket===!0||N&&N.type==="bracket"&&N.value.length===1){te({type:"text",value:F,output:`\\${F}`});continue}if(C.brackets===0){if(g.strictBrackets===!0)throw new SyntaxError(i("opening","["));te({type:"text",value:F,output:`\\${F}`});continue}ne("brackets");let ie=N.value.slice(1);if(N.posix!==!0&&ie[0]==="^"&&!ie.includes("/")&&(F=`/${F}`),N.value+=F,A({value:F}),g.literalBrackets===!1||p.hasRegexChars(ie))continue;let le=p.escapeRegex(N.value);if(C.output=C.output.slice(0,-N.value.length),g.literalBrackets===!0){C.output+=le,N.value=le;continue}N.value=`(${b}${le}|${N.value})`,C.output+=N.value;continue}if(F==="{"&&g.nobrace!==!0){ee("braces");let ie={type:"brace",value:F,output:"(",outputIndex:C.output.length,tokensIndex:C.tokens.length};Y.push(ie),te(ie);continue}if(F==="}"){let ie=Y[Y.length-1];if(g.nobrace===!0||!ie){te({type:"text",value:F,output:F});continue}let le=")";if(ie.dots===!0){let fe=S.slice(),ge=[];for(let ce=fe.length-1;ce>=0&&(S.pop(),fe[ce].type!=="brace");ce--)fe[ce].type!=="dots"&&ge.unshift(fe[ce].value);le=s(ge,g),C.backtrack=!0}if(ie.comma!==!0&&ie.dots!==!0){let fe=C.output.slice(0,ie.outputIndex),ge=C.tokens.slice(ie.tokensIndex);ie.value=ie.output="\\{",F=le="\\}",C.output=fe;for(let ce of ge)C.output+=ce.output||ce.value}te({type:"brace",value:F,output:le}),ne("braces"),Y.pop();continue}if(F==="|"){Z.length>0&&Z[Z.length-1].conditions++,te({type:"text",value:F});continue}if(F===","){let ie=F,le=Y[Y.length-1];le&&Q[Q.length-1]==="braces"&&(le.comma=!0,ie="|"),te({type:"comma",value:F,output:ie});continue}if(F==="/"){if(N.type==="dot"&&C.index===C.start+1){C.start=C.index+1,C.consumed="",C.output="",S.pop(),N=y;continue}te({type:"slash",value:F,output:I});continue}if(F==="."){if(C.braces>0&&N.type==="dot"){N.value==="."&&(N.output=O);let ie=Y[Y.length-1];N.type="dots",N.output+=F,N.value+=F,ie.dots=!0;continue}if(C.braces+C.parens===0&&N.type!=="bos"&&N.type!=="slash"){te({type:"text",value:F,output:O});continue}te({type:"dot",value:F,output:O});continue}if(F==="?"){if(!(N&&N.value==="(")&&g.noextglob!==!0&&$()==="("&&$(2)!=="?"){ae("qmark",F);continue}if(N&&N.type==="paren"){let ie=$(),le=F;if(ie==="<"&&!p.supportsLookbehinds())throw new Error("Node.js v10 or higher is required for regex lookbehinds");(N.value==="("&&!/[!=<:]/.test(ie)||ie==="<"&&!/<([!=]|\w+>)/.test(q()))&&(le=`\\${F}`),te({type:"text",value:F,output:le});continue}if(g.dot!==!0&&(N.type==="slash"||N.type==="bos")){te({type:"qmark",value:F,output:V});continue}te({type:"qmark",value:F,output:U});continue}if(F==="!"){if(g.noextglob!==!0&&$()==="("&&($(2)!=="?"||!/[!=<:]/.test($(3)))){ae("negate",F);continue}if(g.nonegate!==!0&&C.index===0){H();continue}}if(F==="+"){if(g.noextglob!==!0&&$()==="("&&$(2)!=="?"){ae("plus",F);continue}if(N&&N.value==="("||g.regex===!1){te({type:"plus",value:F,output:R});continue}if(N&&(N.type==="bracket"||N.type==="paren"||N.type==="brace")||C.parens>0){te({type:"plus",value:F});continue}te({type:"plus",value:R});continue}if(F==="@"){if(g.noextglob!==!0&&$()==="("&&$(2)!=="?"){te({type:"at",extglob:!0,value:F,output:""});continue}te({type:"text",value:F});continue}if(F!=="*"){(F==="$"||F==="^")&&(F=`\\${F}`);let ie=n.exec(q());ie&&(F+=ie[0],C.index+=ie[0].length),te({type:"text",value:F});continue}if(N&&(N.type==="globstar"||N.star===!0)){N.type="star",N.star=!0,N.value+=F,N.output=T,C.backtrack=!0,C.globstar=!0,X(F);continue}let re=q();if(g.noextglob!==!0&&/^\([^?]/.test(re)){ae("star",F);continue}if(N.type==="star"){if(g.noglobstar===!0){X(F);continue}let ie=N.prev,le=ie.prev,fe=ie.type==="slash"||ie.type==="bos",ge=le&&(le.type==="star"||le.type==="globstar");if(g.bash===!0&&(!fe||re[0]&&re[0]!=="/")){te({type:"star",value:F,output:""});continue}let ce=C.braces>0&&(ie.type==="comma"||ie.type==="brace"),pe=Z.length&&(ie.type==="pipe"||ie.type==="paren");if(!fe&&ie.type!=="paren"&&!ce&&!pe){te({type:"star",value:F,output:""});continue}for(;re.slice(0,3)==="/**";){let de=a[C.index+4];if(de&&de!=="/")break;re=re.slice(3),X("/**",3)}if(ie.type==="bos"&&z()){N.type="globstar",N.value+=F,N.output=W(g),C.output=N.output,C.globstar=!0,X(F);continue}if(ie.type==="slash"&&ie.prev.type!=="bos"&&!ge&&z()){C.output=C.output.slice(0,-(ie.output+N.output).length),ie.output=`(?:${ie.output}`,N.type="globstar",N.output=W(g)+(g.strictSlashes?")":"|$)"),N.value+=F,C.globstar=!0,C.output+=ie.output+N.output,X(F);continue}if(ie.type==="slash"&&ie.prev.type!=="bos"&&re[0]==="/"){let de=re[1]!==void 0?"|$":"";C.output=C.output.slice(0,-(ie.output+N.output).length),ie.output=`(?:${ie.output}`,N.type="globstar",N.output=`${W(g)}${I}|${I}${de})`,N.value+=F,C.output+=ie.output+N.output,C.globstar=!0,X(F+K()),te({type:"slash",value:"/",output:""});continue}if(ie.type==="bos"&&re[0]==="/"){N.type="globstar",N.value+=F,N.output=`(?:^|${I}|${W(g)}${I})`,C.output=N.output,C.globstar=!0,X(F+K()),te({type:"slash",value:"/",output:""});continue}C.output=C.output.slice(0,-N.output.length),N.type="globstar",N.output=W(g),N.value+=F,C.output+=N.output,C.globstar=!0,X(F);continue}let ue={type:"star",value:F,output:T};if(g.bash===!0){ue.output=".*?",(N.type==="bos"||N.type==="slash")&&(ue.output=k+ue.output),te(ue);continue}if(N&&(N.type==="bracket"||N.type==="paren")&&g.regex===!0){ue.output=F,te(ue);continue}(C.index===C.start||N.type==="slash"||N.type==="dot")&&(N.type==="dot"?(C.output+=x,N.output+=x):g.dot===!0?(C.output+=j,N.output+=j):(C.output+=k,N.output+=k),$()!=="*"&&(C.output+=P,N.output+=P)),te(ue)}for(;C.brackets>0;){if(g.strictBrackets===!0)throw new SyntaxError(i("closing","]"));C.output=p.escapeLast(C.output,"["),ne("brackets")}for(;C.parens>0;){if(g.strictBrackets===!0)throw new SyntaxError(i("closing",")"));C.output=p.escapeLast(C.output,"("),ne("parens")}for(;C.braces>0;){if(g.strictBrackets===!0)throw new SyntaxError(i("closing","}"));C.output=p.escapeLast(C.output,"{"),ne("braces")}if(g.strictSlashes!==!0&&(N.type==="star"||N.type==="bracket")&&te({type:"maybe_slash",value:"",output:`${I}?`}),C.backtrack===!0){C.output="";for(let re of C.tokens)C.output+=re.output!=null?re.output:re.value,re.suffix&&(C.output+=re.suffix)}return C},"parse");c.fastpaths=(a,d)=>{let g={...d},m=typeof g.maxLength=="number"?Math.min(o,g.maxLength):o,f=a.length;if(f>m)throw new SyntaxError(`Input length: ${f}, exceeds maximum allowed length: ${m}`);a=r[a]||a;let y=p.isWindows(d),{DOT_LITERAL:S,SLASH_LITERAL:b,ONE_CHAR:E,DOTS_SLASH:_,NO_DOT:w,NO_DOTS:O,NO_DOTS_SLASH:R,STAR:I,START_ANCHOR:P}=h.globChars(y),L=g.dot?O:w,M=g.dot?R:w,x=g.capture?"":"?:",j={negated:!1,prefix:""},U=g.bash===!0?".*?":I;g.capture&&(U=`(${U})`);let V=Oe(k=>k.noglobstar===!0?U:`(${x}(?:(?!${P}${k.dot?_:S}).)*?)`,"globstar"),B=Oe(k=>{switch(k){case"*":return`${L}${E}${U}`;case".*":return`${S}${E}${U}`;case"*.*":return`${L}${U}${S}${E}${U}`;case"*/*":return`${L}${U}${b}${E}${M}${U}`;case"**":return L+V(g);case"**/*":return`(?:${L}${V(g)}${b})?${M}${E}${U}`;case"**/*.*":return`(?:${L}${V(g)}${b})?${M}${U}${S}${E}${U}`;case"**/.*":return`(?:${L}${V(g)}${b})?${S}${E}${U}`;default:{let D=/^(.*?)\.(\w+)$/.exec(k);if(!D)return;let T=B(D[1]);return T?T+S+D[2]:void 0}}},"create"),G=p.removePrefix(a,j),W=B(G);return W&&g.strictSlashes!==!0&&(W+=`${b}?`),W},u.exports=c}),QS=ur((e,u)=>{"use strict";var h=require("path"),p=YS(),o=XS(),l=In(),n=es(),t=Oe(s=>s&&typeof s=="object"&&!Array.isArray(s),"isObject"),r=Oe((s,i,c=!1)=>{if(Array.isArray(s)){let b=s.map(E=>r(E,i,c));return Oe(E=>{for(let _ of b){let w=_(E);if(w)return w}return!1},"arrayMatcher")}let a=t(s)&&s.tokens&&s.input;if(s===""||typeof s!="string"&&!a)throw new TypeError("Expected pattern to be a non-empty string");let d=i||{},g=l.isWindows(i),m=a?r.compileRe(s,i):r.makeRe(s,i,!1,!0),f=m.state;delete m.state;let y=Oe(()=>!1,"isIgnored");if(d.ignore){let b={...i,ignore:null,onMatch:null,onResult:null};y=r(d.ignore,b,c)}let S=Oe((b,E=!1)=>{let{isMatch:_,match:w,output:O}=r.test(b,m,i,{glob:s,posix:g}),R={glob:s,state:f,regex:m,posix:g,input:b,output:O,match:w,isMatch:_};return typeof d.onResult=="function"&&d.onResult(R),_===!1?(R.isMatch=!1,E?R:!1):y(b)?(typeof d.onIgnore=="function"&&d.onIgnore(R),R.isMatch=!1,E?R:!1):(typeof d.onMatch=="function"&&d.onMatch(R),E?R:!0)},"matcher");return c&&(S.state=f),S},"picomatch");r.test=(s,i,c,{glob:a,posix:d}={})=>{if(typeof s!="string")throw new TypeError("Expected input to be a string");if(s==="")return{isMatch:!1,output:""};let g=c||{},m=g.format||(d?l.toPosixSlashes:null),f=s===a,y=f&&m?m(s):s;return f===!1&&(y=m?m(s):s,f=y===a),(f===!1||g.capture===!0)&&(g.matchBase===!0||g.basename===!0?f=r.matchBase(s,i,c,d):f=i.exec(y)),{isMatch:!!f,match:f,output:y}},r.matchBase=(s,i,c,a=l.isWindows(c))=>(i instanceof RegExp?i:r.makeRe(i,c)).test(h.basename(s)),r.isMatch=(s,i,c)=>r(i,c)(s),r.parse=(s,i)=>Array.isArray(s)?s.map(c=>r.parse(c,i)):o(s,{...i,fastpaths:!1}),r.scan=(s,i)=>p(s,i),r.compileRe=(s,i,c=!1,a=!1)=>{if(c===!0)return s.output;let d=i||{},g=d.contains?"":"^",m=d.contains?"":"$",f=`${g}(?:${s.output})${m}`;s&&s.negated===!0&&(f=`^(?!${f}).*$`);let y=r.toRegex(f,i);return a===!0&&(y.state=s),y},r.makeRe=(s,i={},c=!1,a=!1)=>{if(!s||typeof s!="string")throw new TypeError("Expected a non-empty string");let d={negated:!1,fastpaths:!0};return i.fastpaths!==!1&&(s[0]==="."||s[0]==="*")&&(d.output=o.fastpaths(s,i)),d.output||(d=o(s,i)),r.compileRe(d,i,c,a)},r.toRegex=(s,i)=>{try{let c=i||{};return new RegExp(s,c.flags||(c.nocase?"i":""))}catch(c){if(i&&i.debug===!0)throw c;return/$^/}},r.constants=n,u.exports=r});Fc.exports=QS()});var Xc=_e((kx,Yc)=>{"use strict";var eb=Object.defineProperty,oe=(e,u)=>eb(e,"name",{value:u,configurable:!0}),ve=(e,u)=>()=>(u||e((u={exports:{}}).exports,u),u.exports),tb=ve(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.splitWhen=e.flatten=void 0;function u(p){return p.reduce((o,l)=>[].concat(o,l),[])}oe(u,"flatten"),e.flatten=u;function h(p,o){let l=[[]],n=0;for(let t of p)o(t)?(n++,l[n]=[]):l[n].push(t);return l}oe(h,"splitWhen"),e.splitWhen=h}),rb=ve(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isEnoentCodeError=void 0;function u(h){return h.code==="ENOENT"}oe(u,"isEnoentCodeError"),e.isEnoentCodeError=u}),sb=ve(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createDirentFromStats=void 0;var u=class{static{oe(this,"DirentFromStats")}constructor(p,o){this.name=p,this.isBlockDevice=o.isBlockDevice.bind(o),this.isCharacterDevice=o.isCharacterDevice.bind(o),this.isDirectory=o.isDirectory.bind(o),this.isFIFO=o.isFIFO.bind(o),this.isFile=o.isFile.bind(o),this.isSocket=o.isSocket.bind(o),this.isSymbolicLink=o.isSymbolicLink.bind(o)}};function h(p,o){return new u(p,o)}oe(h,"createDirentFromStats"),e.createDirentFromStats=h}),ib=ve(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.convertPosixPathToPattern=e.convertWindowsPathToPattern=e.convertPathToPattern=e.escapePosixPath=e.escapeWindowsPath=e.escape=e.removeLeadingDotSegment=e.makeAbsolute=e.unixify=void 0;var u=require("os"),h=require("path"),p=u.platform()==="win32",o=2,l=/(\\?)([()*?[\]{|}]|^!|[!+@](?=\()|\\(?![!()*+?@[\]{|}]))/g,n=/(\\?)([()[\]{}]|^!|[!+@](?=\())/g,t=/^\\\\([.?])/,r=/\\(?![!()+@[\]{}])/g;function s(f){return f.replace(/\\/g,"/")}oe(s,"unixify"),e.unixify=s;function i(f,y){return h.resolve(f,y)}oe(i,"makeAbsolute"),e.makeAbsolute=i;function c(f){if(f.charAt(0)==="."){let y=f.charAt(1);if(y==="/"||y==="\\")return f.slice(o)}return f}oe(c,"removeLeadingDotSegment"),e.removeLeadingDotSegment=c,e.escape=p?a:d;function a(f){return f.replace(n,"\\$2")}oe(a,"escapeWindowsPath"),e.escapeWindowsPath=a;function d(f){return f.replace(l,"\\$2")}oe(d,"escapePosixPath"),e.escapePosixPath=d,e.convertPathToPattern=p?g:m;function g(f){return a(f).replace(t,"//$1").replace(r,"/")}oe(g,"convertWindowsPathToPattern"),e.convertWindowsPathToPattern=g;function m(f){return d(f)}oe(m,"convertPosixPathToPattern"),e.convertPosixPathToPattern=m}),nb=ve((e,u)=>{u.exports=oe(function(h){if(typeof h!="string"||h==="")return!1;for(var p;p=/(\\).|([@?!+*]\(.*\))/g.exec(h);){if(p[2])return!0;h=h.slice(p.index+p[0].length)}return!1},"isExtglob")}),ob=ve((e,u)=>{var h=nb(),p={"{":"}","(":")","[":"]"},o=oe(function(n){if(n[0]==="!")return!0;for(var t=0,r=-2,s=-2,i=-2,c=-2,a=-2;t<n.length;){if(n[t]==="*"||n[t+1]==="?"&&/[\].+)]/.test(n[t])||s!==-1&&n[t]==="["&&n[t+1]!=="]"&&(s<t&&(s=n.indexOf("]",t)),s>t&&(a===-1||a>s||(a=n.indexOf("\\",t),a===-1||a>s)))||i!==-1&&n[t]==="{"&&n[t+1]!=="}"&&(i=n.indexOf("}",t),i>t&&(a=n.indexOf("\\",t),a===-1||a>i))||c!==-1&&n[t]==="("&&n[t+1]==="?"&&/[:!=]/.test(n[t+2])&&n[t+3]!==")"&&(c=n.indexOf(")",t),c>t&&(a=n.indexOf("\\",t),a===-1||a>c))||r!==-1&&n[t]==="("&&n[t+1]!=="|"&&(r<t&&(r=n.indexOf("|",t)),r!==-1&&n[r+1]!==")"&&(c=n.indexOf(")",r),c>r&&(a=n.indexOf("\\",r),a===-1||a>c))))return!0;if(n[t]==="\\"){var d=n[t+1];t+=2;var g=p[d];if(g){var m=n.indexOf(g,t);m!==-1&&(t=m+1)}if(n[t]==="!")return!0}else t++}return!1},"strictCheck"),l=oe(function(n){if(n[0]==="!")return!0;for(var t=0;t<n.length;){if(/[*?{}()[\]]/.test(n[t]))return!0;if(n[t]==="\\"){var r=n[t+1];t+=2;var s=p[r];if(s){var i=n.indexOf(s,t);i!==-1&&(t=i+1)}if(n[t]==="!")return!0}else t++}return!1},"relaxedCheck");u.exports=oe(function(n,t){if(typeof n!="string"||n==="")return!1;if(h(n))return!0;var r=o;return t&&t.strict===!1&&(r=l),r(n)},"isGlob")}),ab=ve((e,u)=>{"use strict";var h=ob(),p=require("path").posix.dirname,o=require("os").platform()==="win32",l="/",n=/\\/g,t=/[\{\[].*[\}\]]$/,r=/(^|[^\\])([\{\[]|\([^\)]+$)/,s=/\\([\!\*\?\|\[\]\(\)\{\}])/g;u.exports=oe(function(i,c){var a=Object.assign({flipBackslashes:!0},c);a.flipBackslashes&&o&&i.indexOf(l)<0&&(i=i.replace(n,l)),t.test(i)&&(i+=l),i+="a";do i=p(i);while(h(i)||r.test(i));return i.replace(s,"$1")},"globParent")}),Pn=ve(e=>{"use strict";e.isInteger=u=>typeof u=="number"?Number.isInteger(u):typeof u=="string"&&u.trim()!==""?Number.isInteger(Number(u)):!1,e.find=(u,h)=>u.nodes.find(p=>p.type===h),e.exceedsLimit=(u,h,p=1,o)=>o===!1||!e.isInteger(u)||!e.isInteger(h)?!1:(Number(h)-Number(u))/Number(p)>=o,e.escapeNode=(u,h=0,p)=>{let o=u.nodes[h];o&&(p&&o.type===p||o.type==="open"||o.type==="close")&&o.escaped!==!0&&(o.value="\\"+o.value,o.escaped=!0)},e.encloseBrace=u=>u.type!=="brace"||u.commas>>0+u.ranges>>0?!1:(u.invalid=!0,!0),e.isInvalidBrace=u=>u.type!=="brace"?!1:u.invalid===!0||u.dollar?!0:!(u.commas>>0+u.ranges>>0)||u.open!==!0||u.close!==!0?(u.invalid=!0,!0):!1,e.isOpenOrClose=u=>u.type==="open"||u.type==="close"?!0:u.open===!0||u.close===!0,e.reduce=u=>u.reduce((h,p)=>(p.type==="text"&&h.push(p.value),p.type==="range"&&(p.type="text"),h),[]),e.flatten=(...u)=>{let h=[],p=oe(o=>{for(let l=0;l<o.length;l++){let n=o[l];if(Array.isArray(n)){p(n);continue}n!==void 0&&h.push(n)}return h},"flat");return p(u),h}}),xn=ve((e,u)=>{"use strict";var h=Pn();u.exports=(p,o={})=>{let l=oe((n,t={})=>{let r=o.escapeInvalid&&h.isInvalidBrace(t),s=n.invalid===!0&&o.escapeInvalid===!0,i="";if(n.value)return(r||s)&&h.isOpenOrClose(n)?"\\"+n.value:n.value;if(n.value)return n.value;if(n.nodes)for(let c of n.nodes)i+=l(c);return i},"stringify");return l(p)}}),lb=ve((e,u)=>{"use strict";u.exports=function(h){return typeof h=="number"?h-h===0:typeof h=="string"&&h.trim()!==""?Number.isFinite?Number.isFinite(+h):isFinite(+h):!1}}),cb=ve((e,u)=>{"use strict";var h=lb(),p=oe((S,b,E)=>{if(h(S)===!1)throw new TypeError("toRegexRange: expected the first argument to be a number");if(b===void 0||S===b)return String(S);if(h(b)===!1)throw new TypeError("toRegexRange: expected the second argument to be a number.");let _={relaxZeros:!0,...E};typeof _.strictZeros=="boolean"&&(_.relaxZeros=_.strictZeros===!1);let w=String(_.relaxZeros),O=String(_.shorthand),R=String(_.capture),I=String(_.wrap),P=S+":"+b+"="+w+O+R+I;if(p.cache.hasOwnProperty(P))return p.cache[P].result;let L=Math.min(S,b),M=Math.max(S,b);if(Math.abs(L-M)===1){let B=S+"|"+b;return _.capture?`(${B})`:_.wrap===!1?B:`(?:${B})`}let x=f(S)||f(b),j={min:S,max:b,a:L,b:M},U=[],V=[];if(x&&(j.isPadded=x,j.maxLen=String(j.max).length),L<0){let B=M<0?Math.abs(M):1;V=t(B,Math.abs(L),j,_),L=j.a=0}return M>=0&&(U=t(L,M,j,_)),j.negatives=V,j.positives=U,j.result=o(V,U,_),_.capture===!0?j.result=`(${j.result})`:_.wrap!==!1&&U.length+V.length>1&&(j.result=`(?:${j.result})`),p.cache[P]=j,j.result},"toRegexRange");function o(S,b,E){let _=r(S,b,"-",!1,E)||[],w=r(b,S,"",!1,E)||[],O=r(S,b,"-?",!0,E)||[];return _.concat(O).concat(w).join("|")}oe(o,"collatePatterns");function l(S,b){let E=1,_=1,w=a(S,E),O=new Set([b]);for(;S<=w&&w<=b;)O.add(w),E+=1,w=a(S,E);for(w=d(b+1,_)-1;S<w&&w<=b;)O.add(w),_+=1,w=d(b+1,_)-1;return O=[...O],O.sort(i),O}oe(l,"splitToRanges");function n(S,b,E){if(S===b)return{pattern:S,count:[],digits:0};let _=s(S,b),w=_.length,O="",R=0;for(let I=0;I<w;I++){let[P,L]=_[I];P===L?O+=P:P!=="0"||L!=="9"?O+=m(P,L,E):R++}return R&&(O+=E.shorthand===!0?"\\d":"[0-9]"),{pattern:O,count:[R],digits:w}}oe(n,"rangeToPattern");function t(S,b,E,_){let w=l(S,b),O=[],R=S,I;for(let P=0;P<w.length;P++){let L=w[P],M=n(String(R),String(L),_),x="";if(!E.isPadded&&I&&I.pattern===M.pattern){I.count.length>1&&I.count.pop(),I.count.push(M.count[0]),I.string=I.pattern+g(I.count),R=L+1;continue}E.isPadded&&(x=y(L,E,_)),M.string=x+M.pattern+g(M.count),O.push(M),R=L+1,I=M}return O}oe(t,"splitToPatterns");function r(S,b,E,_,w){let O=[];for(let R of S){let{string:I}=R;!_&&!c(b,"string",I)&&O.push(E+I),_&&c(b,"string",I)&&O.push(E+I)}return O}oe(r,"filterPatterns");function s(S,b){let E=[];for(let _=0;_<S.length;_++)E.push([S[_],b[_]]);return E}oe(s,"zip");function i(S,b){return S>b?1:b>S?-1:0}oe(i,"compare");function c(S,b,E){return S.some(_=>_[b]===E)}oe(c,"contains");function a(S,b){return Number(String(S).slice(0,-b)+"9".repeat(b))}oe(a,"countNines");function d(S,b){return S-S%Math.pow(10,b)}oe(d,"countZeros");function g(S){let[b=0,E=""]=S;return E||b>1?`{${b+(E?","+E:"")}}`:""}oe(g,"toQuantifier");function m(S,b,E){return`[${S}${b-S===1?"":"-"}${b}]`}oe(m,"toCharacterClass");function f(S){return/^-?(0+)\d/.test(S)}oe(f,"hasPadding");function y(S,b,E){if(!b.isPadded)return S;let _=Math.abs(b.maxLen-String(S).length),w=E.relaxZeros!==!1;switch(_){case 0:return"";case 1:return w?"0?":"0";case 2:return w?"0{0,2}":"00";default:return w?`0{0,${_}}`:`0{${_}}`}}oe(y,"padZeros"),p.cache={},p.clearCache=()=>p.cache={},u.exports=p}),Gc=ve((e,u)=>{"use strict";var h=require("util"),p=cb(),o=oe(_=>_!==null&&typeof _=="object"&&!Array.isArray(_),"isObject"),l=oe(_=>w=>_===!0?Number(w):String(w),"transform"),n=oe(_=>typeof _=="number"||typeof _=="string"&&_!=="","isValidValue"),t=oe(_=>Number.isInteger(+_),"isNumber"),r=oe(_=>{let w=`${_}`,O=-1;if(w[0]==="-"&&(w=w.slice(1)),w==="0")return!1;for(;w[++O]==="0";);return O>0},"zeros"),s=oe((_,w,O)=>typeof _=="string"||typeof w=="string"?!0:O.stringify===!0,"stringify"),i=oe((_,w,O)=>{if(w>0){let R=_[0]==="-"?"-":"";R&&(_=_.slice(1)),_=R+_.padStart(R?w-1:w,"0")}return O===!1?String(_):_},"pad"),c=oe((_,w)=>{let O=_[0]==="-"?"-":"";for(O&&(_=_.slice(1),w--);_.length<w;)_="0"+_;return O?"-"+_:_},"toMaxLen"),a=oe((_,w,O)=>{_.negatives.sort((M,x)=>M<x?-1:M>x?1:0),_.positives.sort((M,x)=>M<x?-1:M>x?1:0);let R=w.capture?"":"?:",I="",P="",L;return _.positives.length&&(I=_.positives.map(M=>c(String(M),O)).join("|")),_.negatives.length&&(P=`-(${R}${_.negatives.map(M=>c(String(M),O)).join("|")})`),I&&P?L=`${I}|${P}`:L=I||P,w.wrap?`(${R}${L})`:L},"toSequence"),d=oe((_,w,O,R)=>{if(O)return p(_,w,{wrap:!1,...R});let I=String.fromCharCode(_);if(_===w)return I;let P=String.fromCharCode(w);return`[${I}-${P}]`},"toRange"),g=oe((_,w,O)=>{if(Array.isArray(_)){let R=O.wrap===!0,I=O.capture?"":"?:";return R?`(${I}${_.join("|")})`:_.join("|")}return p(_,w,O)},"toRegex"),m=oe((..._)=>new RangeError("Invalid range arguments: "+h.inspect(..._)),"rangeError"),f=oe((_,w,O)=>{if(O.strictRanges===!0)throw m([_,w]);return[]},"invalidRange"),y=oe((_,w)=>{if(w.strictRanges===!0)throw new TypeError(`Expected step "${_}" to be a number`);return[]},"invalidStep"),S=oe((_,w,O=1,R={})=>{let I=Number(_),P=Number(w);if(!Number.isInteger(I)||!Number.isInteger(P)){if(R.strictRanges===!0)throw m([_,w]);return[]}I===0&&(I=0),P===0&&(P=0);let L=I>P,M=String(_),x=String(w),j=String(O);O=Math.max(Math.abs(O),1);let U=r(M)||r(x)||r(j),V=U?Math.max(M.length,x.length,j.length):0,B=U===!1&&s(_,w,R)===!1,G=R.transform||l(B);if(R.toRegex&&O===1)return d(c(_,V),c(w,V),!0,R);let W={negatives:[],positives:[]},k=oe(C=>W[C<0?"negatives":"positives"].push(Math.abs(C)),"push"),D=[],T=0;for(;L?I>=P:I<=P;)R.toRegex===!0&&O>1?k(I):D.push(i(G(I,T),V,B)),I=L?I-O:I+O,T++;return R.toRegex===!0?O>1?a(W,R,V):g(D,null,{wrap:!1,...R}):D},"fillNumbers"),b=oe((_,w,O=1,R={})=>{if(!t(_)&&_.length>1||!t(w)&&w.length>1)return f(_,w,R);let I=R.transform||(B=>String.fromCharCode(B)),P=`${_}`.charCodeAt(0),L=`${w}`.charCodeAt(0),M=P>L,x=Math.min(P,L),j=Math.max(P,L);if(R.toRegex&&O===1)return d(x,j,!1,R);let U=[],V=0;for(;M?P>=L:P<=L;)U.push(I(P,V)),P=M?P-O:P+O,V++;return R.toRegex===!0?g(U,null,{wrap:!1,options:R}):U},"fillLetters"),E=oe((_,w,O,R={})=>{if(w==null&&n(_))return[_];if(!n(_)||!n(w))return f(_,w,R);if(typeof O=="function")return E(_,w,1,{transform:O});if(o(O))return E(_,w,0,O);let I={...R};return I.capture===!0&&(I.wrap=!0),O=O||I.step||1,t(O)?t(_)&&t(w)?S(_,w,O,I):b(_,w,Math.max(Math.abs(O),1),I):O!=null&&!o(O)?y(O,I):E(_,w,1,O)},"fill");u.exports=E}),ub=ve((e,u)=>{"use strict";var h=Gc(),p=Pn(),o=oe((l,n={})=>{let t=oe((r,s={})=>{let i=p.isInvalidBrace(s),c=r.invalid===!0&&n.escapeInvalid===!0,a=i===!0||c===!0,d=n.escapeInvalid===!0?"\\":"",g="";if(r.isOpen===!0||r.isClose===!0)return d+r.value;if(r.type==="open")return a?d+r.value:"(";if(r.type==="close")return a?d+r.value:")";if(r.type==="comma")return r.prev.type==="comma"?"":a?r.value:"|";if(r.value)return r.value;if(r.nodes&&r.ranges>0){let m=p.reduce(r.nodes),f=h(...m,{...n,wrap:!1,toRegex:!0,strictZeros:!0});if(f.length!==0)return m.length>1&&f.length>1?`(${f})`:f}if(r.nodes)for(let m of r.nodes)g+=t(m,r);return g},"walk");return t(l)},"compile");u.exports=o}),hb=ve((e,u)=>{"use strict";var h=Gc(),p=xn(),o=Pn(),l=oe((t="",r="",s=!1)=>{let i=[];if(t=[].concat(t),r=[].concat(r),!r.length)return t;if(!t.length)return s?o.flatten(r).map(c=>`{${c}}`):r;for(let c of t)if(Array.isArray(c))for(let a of c)i.push(l(a,r,s));else for(let a of r)s===!0&&typeof a=="string"&&(a=`{${a}}`),i.push(Array.isArray(a)?l(c,a,s):c+a);return o.flatten(i)},"append"),n=oe((t,r={})=>{let s=r.rangeLimit===void 0?1e3:r.rangeLimit,i=oe((c,a={})=>{c.queue=[];let d=a,g=a.queue;for(;d.type!=="brace"&&d.type!=="root"&&d.parent;)d=d.parent,g=d.queue;if(c.invalid||c.dollar){g.push(l(g.pop(),p(c,r)));return}if(c.type==="brace"&&c.invalid!==!0&&c.nodes.length===2){g.push(l(g.pop(),["{}"]));return}if(c.nodes&&c.ranges>0){let S=o.reduce(c.nodes);if(o.exceedsLimit(...S,r.step,s))throw new RangeError("expanded array length exceeds range limit. Use options.rangeLimit to increase or disable the limit.");let b=h(...S,r);b.length===0&&(b=p(c,r)),g.push(l(g.pop(),b)),c.nodes=[];return}let m=o.encloseBrace(c),f=c.queue,y=c;for(;y.type!=="brace"&&y.type!=="root"&&y.parent;)y=y.parent,f=y.queue;for(let S=0;S<c.nodes.length;S++){let b=c.nodes[S];if(b.type==="comma"&&c.type==="brace"){S===1&&f.push(""),f.push("");continue}if(b.type==="close"){g.push(l(g.pop(),f,m));continue}if(b.value&&b.type!=="open"){f.push(l(f.pop(),b.value));continue}b.nodes&&i(b,c)}return f},"walk");return o.flatten(i(t))},"expand");u.exports=n}),pb=ve((e,u)=>{"use strict";u.exports={MAX_LENGTH:1e4,CHAR_0:"0",CHAR_9:"9",CHAR_UPPERCASE_A:"A",CHAR_LOWERCASE_A:"a",CHAR_UPPERCASE_Z:"Z",CHAR_LOWERCASE_Z:"z",CHAR_LEFT_PARENTHESES:"(",CHAR_RIGHT_PARENTHESES:")",CHAR_ASTERISK:"*",CHAR_AMPERSAND:"&",CHAR_AT:"@",CHAR_BACKSLASH:"\\",CHAR_BACKTICK:"`",CHAR_CARRIAGE_RETURN:"\r",CHAR_CIRCUMFLEX_ACCENT:"^",CHAR_COLON:":",CHAR_COMMA:",",CHAR_DOLLAR:"$",CHAR_DOT:".",CHAR_DOUBLE_QUOTE:'"',CHAR_EQUAL:"=",CHAR_EXCLAMATION_MARK:"!",CHAR_FORM_FEED:"\f",CHAR_FORWARD_SLASH:"/",CHAR_HASH:"#",CHAR_HYPHEN_MINUS:"-",CHAR_LEFT_ANGLE_BRACKET:"<",CHAR_LEFT_CURLY_BRACE:"{",CHAR_LEFT_SQUARE_BRACKET:"[",CHAR_LINE_FEED:`
`,CHAR_NO_BREAK_SPACE:"\xA0",CHAR_PERCENT:"%",CHAR_PLUS:"+",CHAR_QUESTION_MARK:"?",CHAR_RIGHT_ANGLE_BRACKET:">",CHAR_RIGHT_CURLY_BRACE:"}",CHAR_RIGHT_SQUARE_BRACKET:"]",CHAR_SEMICOLON:";",CHAR_SINGLE_QUOTE:"'",CHAR_SPACE:" ",CHAR_TAB:"	",CHAR_UNDERSCORE:"_",CHAR_VERTICAL_LINE:"|",CHAR_ZERO_WIDTH_NOBREAK_SPACE:"\uFEFF"}}),db=ve((e,u)=>{"use strict";var h=xn(),{MAX_LENGTH:p,CHAR_BACKSLASH:o,CHAR_BACKTICK:l,CHAR_COMMA:n,CHAR_DOT:t,CHAR_LEFT_PARENTHESES:r,CHAR_RIGHT_PARENTHESES:s,CHAR_LEFT_CURLY_BRACE:i,CHAR_RIGHT_CURLY_BRACE:c,CHAR_LEFT_SQUARE_BRACKET:a,CHAR_RIGHT_SQUARE_BRACKET:d,CHAR_DOUBLE_QUOTE:g,CHAR_SINGLE_QUOTE:m,CHAR_NO_BREAK_SPACE:f,CHAR_ZERO_WIDTH_NOBREAK_SPACE:y}=pb(),S=oe((b,E={})=>{if(typeof b!="string")throw new TypeError("Expected a string");let _=E||{},w=typeof _.maxLength=="number"?Math.min(p,_.maxLength):p;if(b.length>w)throw new SyntaxError(`Input length (${b.length}), exceeds max characters (${w})`);let O={type:"root",input:b,nodes:[]},R=[O],I=O,P=O,L=0,M=b.length,x=0,j=0,U,V=oe(()=>b[x++],"advance"),B=oe(G=>{if(G.type==="text"&&P.type==="dot"&&(P.type="text"),P&&P.type==="text"&&G.type==="text"){P.value+=G.value;return}return I.nodes.push(G),G.parent=I,G.prev=P,P=G,G},"push");for(B({type:"bos"});x<M;)if(I=R[R.length-1],U=V(),!(U===y||U===f)){if(U===o){B({type:"text",value:(E.keepEscaping?U:"")+V()});continue}if(U===d){B({type:"text",value:"\\"+U});continue}if(U===a){L++;let G;for(;x<M&&(G=V());){if(U+=G,G===a){L++;continue}if(G===o){U+=V();continue}if(G===d&&(L--,L===0))break}B({type:"text",value:U});continue}if(U===r){I=B({type:"paren",nodes:[]}),R.push(I),B({type:"text",value:U});continue}if(U===s){if(I.type!=="paren"){B({type:"text",value:U});continue}I=R.pop(),B({type:"text",value:U}),I=R[R.length-1];continue}if(U===g||U===m||U===l){let G=U,W;for(E.keepQuotes!==!0&&(U="");x<M&&(W=V());){if(W===o){U+=W+V();continue}if(W===G){E.keepQuotes===!0&&(U+=W);break}U+=W}B({type:"text",value:U});continue}if(U===i){j++;let G={type:"brace",open:!0,close:!1,dollar:P.value&&P.value.slice(-1)==="$"||I.dollar===!0,depth:j,commas:0,ranges:0,nodes:[]};I=B(G),R.push(I),B({type:"open",value:U});continue}if(U===c){if(I.type!=="brace"){B({type:"text",value:U});continue}let G="close";I=R.pop(),I.close=!0,B({type:G,value:U}),j--,I=R[R.length-1];continue}if(U===n&&j>0){if(I.ranges>0){I.ranges=0;let G=I.nodes.shift();I.nodes=[G,{type:"text",value:h(I)}]}B({type:"comma",value:U}),I.commas++;continue}if(U===t&&j>0&&I.commas===0){let G=I.nodes;if(j===0||G.length===0){B({type:"text",value:U});continue}if(P.type==="dot"){if(I.range=[],P.value+=U,P.type="range",I.nodes.length!==3&&I.nodes.length!==5){I.invalid=!0,I.ranges=0,P.type="text";continue}I.ranges++,I.args=[];continue}if(P.type==="range"){G.pop();let W=G[G.length-1];W.value+=P.value+U,P=W,I.ranges--;continue}B({type:"dot",value:U});continue}B({type:"text",value:U})}do if(I=R.pop(),I.type!=="root"){I.nodes.forEach(k=>{k.nodes||(k.type==="open"&&(k.isOpen=!0),k.type==="close"&&(k.isClose=!0),k.nodes||(k.type="text"),k.invalid=!0)});let G=R[R.length-1],W=G.nodes.indexOf(I);G.nodes.splice(W,1,...I.nodes)}while(R.length>0);return B({type:"eos"}),O},"parse");u.exports=S}),fb=ve((e,u)=>{"use strict";var h=xn(),p=ub(),o=hb(),l=db(),n=oe((t,r={})=>{let s=[];if(Array.isArray(t))for(let i of t){let c=n.create(i,r);Array.isArray(c)?s.push(...c):s.push(c)}else s=[].concat(n.create(t,r));return r&&r.expand===!0&&r.nodupes===!0&&(s=[...new Set(s)]),s},"braces");n.parse=(t,r={})=>l(t,r),n.stringify=(t,r={})=>h(typeof t=="string"?n.parse(t,r):t,r),n.compile=(t,r={})=>(typeof t=="string"&&(t=n.parse(t,r)),p(t,r)),n.expand=(t,r={})=>{typeof t=="string"&&(t=n.parse(t,r));let s=o(t,r);return r.noempty===!0&&(s=s.filter(Boolean)),r.nodupes===!0&&(s=[...new Set(s)]),s},n.create=(t,r={})=>t===""||t.length<3?[t]:r.expand!==!0?n.compile(t,r):n.expand(t,r),u.exports=n}),ss=ve((e,u)=>{"use strict";var h=require("path"),p="\\\\/",o=`[^${p}]`,l="\\.",n="\\+",t="\\?",r="\\/",s="(?=.)",i="[^/]",c=`(?:${r}|$)`,a=`(?:^|${r})`,d=`${l}{1,2}${c}`,g=`(?!${l})`,m=`(?!${a}${d})`,f=`(?!${l}{0,1}${c})`,y=`(?!${d})`,S=`[^.${r}]`,b=`${i}*?`,E={DOT_LITERAL:l,PLUS_LITERAL:n,QMARK_LITERAL:t,SLASH_LITERAL:r,ONE_CHAR:s,QMARK:i,END_ANCHOR:c,DOTS_SLASH:d,NO_DOT:g,NO_DOTS:m,NO_DOT_SLASH:f,NO_DOTS_SLASH:y,QMARK_NO_DOT:S,STAR:b,START_ANCHOR:a},_={...E,SLASH_LITERAL:`[${p}]`,QMARK:o,STAR:`${o}*?`,DOTS_SLASH:`${l}{1,2}(?:[${p}]|$)`,NO_DOT:`(?!${l})`,NO_DOTS:`(?!(?:^|[${p}])${l}{1,2}(?:[${p}]|$))`,NO_DOT_SLASH:`(?!${l}{0,1}(?:[${p}]|$))`,NO_DOTS_SLASH:`(?!${l}{1,2}(?:[${p}]|$))`,QMARK_NO_DOT:`[^.${p}]`,START_ANCHOR:`(?:^|[${p}])`,END_ANCHOR:`(?:[${p}]|$)`},w={alnum:"a-zA-Z0-9",alpha:"a-zA-Z",ascii:"\\x00-\\x7F",blank:" \\t",cntrl:"\\x00-\\x1F\\x7F",digit:"0-9",graph:"\\x21-\\x7E",lower:"a-z",print:"\\x20-\\x7E ",punct:"\\-!\"#$%&'()\\*+,./:;<=>?@[\\]^_`{|}~",space:" \\t\\r\\n\\v\\f",upper:"A-Z",word:"A-Za-z0-9_",xdigit:"A-Fa-f0-9"};u.exports={MAX_LENGTH:1024*64,POSIX_REGEX_SOURCE:w,REGEX_BACKSLASH:/\\(?![*+?^${}(|)[\]])/g,REGEX_NON_SPECIAL_CHARS:/^[^@![\].,$*+?^{}()|\\/]+/,REGEX_SPECIAL_CHARS:/[-*+?.^${}(|)[\]]/,REGEX_SPECIAL_CHARS_BACKREF:/(\\?)((\W)(\3*))/g,REGEX_SPECIAL_CHARS_GLOBAL:/([-*+?.^${}(|)[\]])/g,REGEX_REMOVE_BACKSLASH:/(?:\[.*?[^\\]\]|\\(?=.))/g,REPLACEMENTS:{"***":"*","**/**":"**","**/**/**":"**"},CHAR_0:48,CHAR_9:57,CHAR_UPPERCASE_A:65,CHAR_LOWERCASE_A:97,CHAR_UPPERCASE_Z:90,CHAR_LOWERCASE_Z:122,CHAR_LEFT_PARENTHESES:40,CHAR_RIGHT_PARENTHESES:41,CHAR_ASTERISK:42,CHAR_AMPERSAND:38,CHAR_AT:64,CHAR_BACKWARD_SLASH:92,CHAR_CARRIAGE_RETURN:13,CHAR_CIRCUMFLEX_ACCENT:94,CHAR_COLON:58,CHAR_COMMA:44,CHAR_DOT:46,CHAR_DOUBLE_QUOTE:34,CHAR_EQUAL:61,CHAR_EXCLAMATION_MARK:33,CHAR_FORM_FEED:12,CHAR_FORWARD_SLASH:47,CHAR_GRAVE_ACCENT:96,CHAR_HASH:35,CHAR_HYPHEN_MINUS:45,CHAR_LEFT_ANGLE_BRACKET:60,CHAR_LEFT_CURLY_BRACE:123,CHAR_LEFT_SQUARE_BRACKET:91,CHAR_LINE_FEED:10,CHAR_NO_BREAK_SPACE:160,CHAR_PERCENT:37,CHAR_PLUS:43,CHAR_QUESTION_MARK:63,CHAR_RIGHT_ANGLE_BRACKET:62,CHAR_RIGHT_CURLY_BRACE:125,CHAR_RIGHT_SQUARE_BRACKET:93,CHAR_SEMICOLON:59,CHAR_SINGLE_QUOTE:39,CHAR_SPACE:32,CHAR_TAB:9,CHAR_UNDERSCORE:95,CHAR_VERTICAL_LINE:124,CHAR_ZERO_WIDTH_NOBREAK_SPACE:65279,SEP:h.sep,extglobChars(O){return{"!":{type:"negate",open:"(?:(?!(?:",close:`))${O.STAR})`},"?":{type:"qmark",open:"(?:",close:")?"},"+":{type:"plus",open:"(?:",close:")+"},"*":{type:"star",open:"(?:",close:")*"},"@":{type:"at",open:"(?:",close:")"}}},globChars(O){return O===!0?_:E}}}),is=ve(e=>{"use strict";var u=require("path"),h=process.platform==="win32",{REGEX_BACKSLASH:p,REGEX_REMOVE_BACKSLASH:o,REGEX_SPECIAL_CHARS:l,REGEX_SPECIAL_CHARS_GLOBAL:n}=ss();e.isObject=t=>t!==null&&typeof t=="object"&&!Array.isArray(t),e.hasRegexChars=t=>l.test(t),e.isRegexChar=t=>t.length===1&&e.hasRegexChars(t),e.escapeRegex=t=>t.replace(n,"\\$1"),e.toPosixSlashes=t=>t.replace(p,"/"),e.removeBackslashes=t=>t.replace(o,r=>r==="\\"?"":r),e.supportsLookbehinds=()=>{let t=process.version.slice(1).split(".").map(Number);return t.length===3&&t[0]>=9||t[0]===8&&t[1]>=10},e.isWindows=t=>t&&typeof t.windows=="boolean"?t.windows:h===!0||u.sep==="\\",e.escapeLast=(t,r,s)=>{let i=t.lastIndexOf(r,s);return i===-1?t:t[i-1]==="\\"?e.escapeLast(t,r,i-1):`${t.slice(0,i)}\\${t.slice(i)}`},e.removePrefix=(t,r={})=>{let s=t;return s.startsWith("./")&&(s=s.slice(2),r.prefix="./"),s},e.wrapOutput=(t,r={},s={})=>{let i=s.contains?"":"^",c=s.contains?"":"$",a=`${i}(?:${t})${c}`;return r.negated===!0&&(a=`(?:^(?!${a}).*$)`),a}}),gb=ve((e,u)=>{"use strict";var h=is(),{CHAR_ASTERISK:p,CHAR_AT:o,CHAR_BACKWARD_SLASH:l,CHAR_COMMA:n,CHAR_DOT:t,CHAR_EXCLAMATION_MARK:r,CHAR_FORWARD_SLASH:s,CHAR_LEFT_CURLY_BRACE:i,CHAR_LEFT_PARENTHESES:c,CHAR_LEFT_SQUARE_BRACKET:a,CHAR_PLUS:d,CHAR_QUESTION_MARK:g,CHAR_RIGHT_CURLY_BRACE:m,CHAR_RIGHT_PARENTHESES:f,CHAR_RIGHT_SQUARE_BRACKET:y}=ss(),S=oe(_=>_===s||_===l,"isPathSeparator"),b=oe(_=>{_.isPrefix!==!0&&(_.depth=_.isGlobstar?1/0:1)},"depth"),E=oe((_,w)=>{let O=w||{},R=_.length-1,I=O.parts===!0||O.scanToEnd===!0,P=[],L=[],M=[],x=_,j=-1,U=0,V=0,B=!1,G=!1,W=!1,k=!1,D=!1,T=!1,C=!1,Z=!1,Y=!1,Q=!1,N=0,F,z,$={value:"",depth:0,isGlob:!1},K=oe(()=>j>=R,"eos"),q=oe(()=>x.charCodeAt(j+1),"peek"),X=oe(()=>(F=z,x.charCodeAt(++j)),"advance");for(;j<R;){z=X();let te;if(z===l){C=$.backslashes=!0,z=X(),z===i&&(T=!0);continue}if(T===!0||z===i){for(N++;K()!==!0&&(z=X());){if(z===l){C=$.backslashes=!0,X();continue}if(z===i){N++;continue}if(T!==!0&&z===t&&(z=X())===t){if(B=$.isBrace=!0,W=$.isGlob=!0,Q=!0,I===!0)continue;break}if(T!==!0&&z===n){if(B=$.isBrace=!0,W=$.isGlob=!0,Q=!0,I===!0)continue;break}if(z===m&&(N--,N===0)){T=!1,B=$.isBrace=!0,Q=!0;break}}if(I===!0)continue;break}if(z===s){if(P.push(j),L.push($),$={value:"",depth:0,isGlob:!1},Q===!0)continue;if(F===t&&j===U+1){U+=2;continue}V=j+1;continue}if(O.noext!==!0&&(z===d||z===o||z===p||z===g||z===r)&&q()===c){if(W=$.isGlob=!0,k=$.isExtglob=!0,Q=!0,z===r&&j===U&&(Y=!0),I===!0){for(;K()!==!0&&(z=X());){if(z===l){C=$.backslashes=!0,z=X();continue}if(z===f){W=$.isGlob=!0,Q=!0;break}}continue}break}if(z===p){if(F===p&&(D=$.isGlobstar=!0),W=$.isGlob=!0,Q=!0,I===!0)continue;break}if(z===g){if(W=$.isGlob=!0,Q=!0,I===!0)continue;break}if(z===a){for(;K()!==!0&&(te=X());){if(te===l){C=$.backslashes=!0,X();continue}if(te===y){G=$.isBracket=!0,W=$.isGlob=!0,Q=!0;break}}if(I===!0)continue;break}if(O.nonegate!==!0&&z===r&&j===U){Z=$.negated=!0,U++;continue}if(O.noparen!==!0&&z===c){if(W=$.isGlob=!0,I===!0){for(;K()!==!0&&(z=X());){if(z===c){C=$.backslashes=!0,z=X();continue}if(z===f){Q=!0;break}}continue}break}if(W===!0){if(Q=!0,I===!0)continue;break}}O.noext===!0&&(k=!1,W=!1);let A=x,H="",ee="";U>0&&(H=x.slice(0,U),x=x.slice(U),V-=U),A&&W===!0&&V>0?(A=x.slice(0,V),ee=x.slice(V)):W===!0?(A="",ee=x):A=x,A&&A!==""&&A!=="/"&&A!==x&&S(A.charCodeAt(A.length-1))&&(A=A.slice(0,-1)),O.unescape===!0&&(ee&&(ee=h.removeBackslashes(ee)),A&&C===!0&&(A=h.removeBackslashes(A)));let ne={prefix:H,input:_,start:U,base:A,glob:ee,isBrace:B,isBracket:G,isGlob:W,isExtglob:k,isGlobstar:D,negated:Z,negatedExtglob:Y};if(O.tokens===!0&&(ne.maxDepth=0,S(z)||L.push($),ne.tokens=L),O.parts===!0||O.tokens===!0){let te;for(let ae=0;ae<P.length;ae++){let he=te?te+1:U,re=P[ae],ue=_.slice(he,re);O.tokens&&(ae===0&&U!==0?(L[ae].isPrefix=!0,L[ae].value=H):L[ae].value=ue,b(L[ae]),ne.maxDepth+=L[ae].depth),(ae!==0||ue!=="")&&M.push(ue),te=re}if(te&&te+1<_.length){let ae=_.slice(te+1);M.push(ae),O.tokens&&(L[L.length-1].value=ae,b(L[L.length-1]),ne.maxDepth+=L[L.length-1].depth)}ne.slashes=P,ne.parts=M}return ne},"scan");u.exports=E}),mb=ve((e,u)=>{"use strict";var h=ss(),p=is(),{MAX_LENGTH:o,POSIX_REGEX_SOURCE:l,REGEX_NON_SPECIAL_CHARS:n,REGEX_SPECIAL_CHARS_BACKREF:t,REPLACEMENTS:r}=h,s=oe((a,d)=>{if(typeof d.expandRange=="function")return d.expandRange(...a,d);a.sort();let g=`[${a.join("-")}]`;try{new RegExp(g)}catch{return a.map(m=>p.escapeRegex(m)).join("..")}return g},"expandRange"),i=oe((a,d)=>`Missing ${a}: "${d}" - use "\\\\${d}" to match literal characters`,"syntaxError"),c=oe((a,d)=>{if(typeof a!="string")throw new TypeError("Expected a string");a=r[a]||a;let g={...d},m=typeof g.maxLength=="number"?Math.min(o,g.maxLength):o,f=a.length;if(f>m)throw new SyntaxError(`Input length: ${f}, exceeds maximum allowed length: ${m}`);let y={type:"bos",value:"",output:g.prepend||""},S=[y],b=g.capture?"":"?:",E=p.isWindows(d),_=h.globChars(E),w=h.extglobChars(_),{DOT_LITERAL:O,PLUS_LITERAL:R,SLASH_LITERAL:I,ONE_CHAR:P,DOTS_SLASH:L,NO_DOT:M,NO_DOT_SLASH:x,NO_DOTS_SLASH:j,QMARK:U,QMARK_NO_DOT:V,STAR:B,START_ANCHOR:G}=_,W=oe(re=>`(${b}(?:(?!${G}${re.dot?L:O}).)*?)`,"globstar"),k=g.dot?"":M,D=g.dot?U:V,T=g.bash===!0?W(g):B;g.capture&&(T=`(${T})`),typeof g.noext=="boolean"&&(g.noextglob=g.noext);let C={input:a,index:-1,start:0,dot:g.dot===!0,consumed:"",output:"",prefix:"",backtrack:!1,negated:!1,brackets:0,braces:0,parens:0,quotes:0,globstar:!1,tokens:S};a=p.removePrefix(a,C),f=a.length;let Z=[],Y=[],Q=[],N=y,F,z=oe(()=>C.index===f-1,"eos"),$=C.peek=(re=1)=>a[C.index+re],K=C.advance=()=>a[++C.index]||"",q=oe(()=>a.slice(C.index+1),"remaining"),X=oe((re="",ue=0)=>{C.consumed+=re,C.index+=ue},"consume"),A=oe(re=>{C.output+=re.output!=null?re.output:re.value,X(re.value)},"append"),H=oe(()=>{let re=1;for(;$()==="!"&&($(2)!=="("||$(3)==="?");)K(),C.start++,re++;return re%2===0?!1:(C.negated=!0,C.start++,!0)},"negate"),ee=oe(re=>{C[re]++,Q.push(re)},"increment"),ne=oe(re=>{C[re]--,Q.pop()},"decrement"),te=oe(re=>{if(N.type==="globstar"){let ue=C.braces>0&&(re.type==="comma"||re.type==="brace"),ie=re.extglob===!0||Z.length&&(re.type==="pipe"||re.type==="paren");re.type!=="slash"&&re.type!=="paren"&&!ue&&!ie&&(C.output=C.output.slice(0,-N.output.length),N.type="star",N.value="*",N.output=T,C.output+=N.output)}if(Z.length&&re.type!=="paren"&&(Z[Z.length-1].inner+=re.value),(re.value||re.output)&&A(re),N&&N.type==="text"&&re.type==="text"){N.value+=re.value,N.output=(N.output||"")+re.value;return}re.prev=N,S.push(re),N=re},"push"),ae=oe((re,ue)=>{let ie={...w[ue],conditions:1,inner:""};ie.prev=N,ie.parens=C.parens,ie.output=C.output;let le=(g.capture?"(":"")+ie.open;ee("parens"),te({type:re,value:ue,output:C.output?"":P}),te({type:"paren",extglob:!0,value:K(),output:le}),Z.push(ie)},"extglobOpen"),he=oe(re=>{let ue=re.close+(g.capture?")":""),ie;if(re.type==="negate"){let le=T;if(re.inner&&re.inner.length>1&&re.inner.includes("/")&&(le=W(g)),(le!==T||z()||/^\)+$/.test(q()))&&(ue=re.close=`)$))${le}`),re.inner.includes("*")&&(ie=q())&&/^\.[^\\/.]+$/.test(ie)){let fe=c(ie,{...d,fastpaths:!1}).output;ue=re.close=`)${fe})${le})`}re.prev.type==="bos"&&(C.negatedExtglob=!0)}te({type:"paren",extglob:!0,value:F,output:ue}),ne("parens")},"extglobClose");if(g.fastpaths!==!1&&!/(^[*!]|[/()[\]{}"])/.test(a)){let re=!1,ue=a.replace(t,(ie,le,fe,ge,ce,pe)=>ge==="\\"?(re=!0,ie):ge==="?"?le?le+ge+(ce?U.repeat(ce.length):""):pe===0?D+(ce?U.repeat(ce.length):""):U.repeat(fe.length):ge==="."?O.repeat(fe.length):ge==="*"?le?le+ge+(ce?T:""):T:le?ie:`\\${ie}`);return re===!0&&(g.unescape===!0?ue=ue.replace(/\\/g,""):ue=ue.replace(/\\+/g,ie=>ie.length%2===0?"\\\\":ie?"\\":"")),ue===a&&g.contains===!0?(C.output=a,C):(C.output=p.wrapOutput(ue,C,d),C)}for(;!z();){if(F=K(),F==="\0")continue;if(F==="\\"){let ie=$();if(ie==="/"&&g.bash!==!0||ie==="."||ie===";")continue;if(!ie){F+="\\",te({type:"text",value:F});continue}let le=/^\\+/.exec(q()),fe=0;if(le&&le[0].length>2&&(fe=le[0].length,C.index+=fe,fe%2!==0&&(F+="\\")),g.unescape===!0?F=K():F+=K(),C.brackets===0){te({type:"text",value:F});continue}}if(C.brackets>0&&(F!=="]"||N.value==="["||N.value==="[^")){if(g.posix!==!1&&F===":"){let ie=N.value.slice(1);if(ie.includes("[")&&(N.posix=!0,ie.includes(":"))){let le=N.value.lastIndexOf("["),fe=N.value.slice(0,le),ge=N.value.slice(le+2),ce=l[ge];if(ce){N.value=fe+ce,C.backtrack=!0,K(),!y.output&&S.indexOf(N)===1&&(y.output=P);continue}}}(F==="["&&$()!==":"||F==="-"&&$()==="]")&&(F=`\\${F}`),F==="]"&&(N.value==="["||N.value==="[^")&&(F=`\\${F}`),g.posix===!0&&F==="!"&&N.value==="["&&(F="^"),N.value+=F,A({value:F});continue}if(C.quotes===1&&F!=='"'){F=p.escapeRegex(F),N.value+=F,A({value:F});continue}if(F==='"'){C.quotes=C.quotes===1?0:1,g.keepQuotes===!0&&te({type:"text",value:F});continue}if(F==="("){ee("parens"),te({type:"paren",value:F});continue}if(F===")"){if(C.parens===0&&g.strictBrackets===!0)throw new SyntaxError(i("opening","("));let ie=Z[Z.length-1];if(ie&&C.parens===ie.parens+1){he(Z.pop());continue}te({type:"paren",value:F,output:C.parens?")":"\\)"}),ne("parens");continue}if(F==="["){if(g.nobracket===!0||!q().includes("]")){if(g.nobracket!==!0&&g.strictBrackets===!0)throw new SyntaxError(i("closing","]"));F=`\\${F}`}else ee("brackets");te({type:"bracket",value:F});continue}if(F==="]"){if(g.nobracket===!0||N&&N.type==="bracket"&&N.value.length===1){te({type:"text",value:F,output:`\\${F}`});continue}if(C.brackets===0){if(g.strictBrackets===!0)throw new SyntaxError(i("opening","["));te({type:"text",value:F,output:`\\${F}`});continue}ne("brackets");let ie=N.value.slice(1);if(N.posix!==!0&&ie[0]==="^"&&!ie.includes("/")&&(F=`/${F}`),N.value+=F,A({value:F}),g.literalBrackets===!1||p.hasRegexChars(ie))continue;let le=p.escapeRegex(N.value);if(C.output=C.output.slice(0,-N.value.length),g.literalBrackets===!0){C.output+=le,N.value=le;continue}N.value=`(${b}${le}|${N.value})`,C.output+=N.value;continue}if(F==="{"&&g.nobrace!==!0){ee("braces");let ie={type:"brace",value:F,output:"(",outputIndex:C.output.length,tokensIndex:C.tokens.length};Y.push(ie),te(ie);continue}if(F==="}"){let ie=Y[Y.length-1];if(g.nobrace===!0||!ie){te({type:"text",value:F,output:F});continue}let le=")";if(ie.dots===!0){let fe=S.slice(),ge=[];for(let ce=fe.length-1;ce>=0&&(S.pop(),fe[ce].type!=="brace");ce--)fe[ce].type!=="dots"&&ge.unshift(fe[ce].value);le=s(ge,g),C.backtrack=!0}if(ie.comma!==!0&&ie.dots!==!0){let fe=C.output.slice(0,ie.outputIndex),ge=C.tokens.slice(ie.tokensIndex);ie.value=ie.output="\\{",F=le="\\}",C.output=fe;for(let ce of ge)C.output+=ce.output||ce.value}te({type:"brace",value:F,output:le}),ne("braces"),Y.pop();continue}if(F==="|"){Z.length>0&&Z[Z.length-1].conditions++,te({type:"text",value:F});continue}if(F===","){let ie=F,le=Y[Y.length-1];le&&Q[Q.length-1]==="braces"&&(le.comma=!0,ie="|"),te({type:"comma",value:F,output:ie});continue}if(F==="/"){if(N.type==="dot"&&C.index===C.start+1){C.start=C.index+1,C.consumed="",C.output="",S.pop(),N=y;continue}te({type:"slash",value:F,output:I});continue}if(F==="."){if(C.braces>0&&N.type==="dot"){N.value==="."&&(N.output=O);let ie=Y[Y.length-1];N.type="dots",N.output+=F,N.value+=F,ie.dots=!0;continue}if(C.braces+C.parens===0&&N.type!=="bos"&&N.type!=="slash"){te({type:"text",value:F,output:O});continue}te({type:"dot",value:F,output:O});continue}if(F==="?"){if(!(N&&N.value==="(")&&g.noextglob!==!0&&$()==="("&&$(2)!=="?"){ae("qmark",F);continue}if(N&&N.type==="paren"){let ie=$(),le=F;if(ie==="<"&&!p.supportsLookbehinds())throw new Error("Node.js v10 or higher is required for regex lookbehinds");(N.value==="("&&!/[!=<:]/.test(ie)||ie==="<"&&!/<([!=]|\w+>)/.test(q()))&&(le=`\\${F}`),te({type:"text",value:F,output:le});continue}if(g.dot!==!0&&(N.type==="slash"||N.type==="bos")){te({type:"qmark",value:F,output:V});continue}te({type:"qmark",value:F,output:U});continue}if(F==="!"){if(g.noextglob!==!0&&$()==="("&&($(2)!=="?"||!/[!=<:]/.test($(3)))){ae("negate",F);continue}if(g.nonegate!==!0&&C.index===0){H();continue}}if(F==="+"){if(g.noextglob!==!0&&$()==="("&&$(2)!=="?"){ae("plus",F);continue}if(N&&N.value==="("||g.regex===!1){te({type:"plus",value:F,output:R});continue}if(N&&(N.type==="bracket"||N.type==="paren"||N.type==="brace")||C.parens>0){te({type:"plus",value:F});continue}te({type:"plus",value:R});continue}if(F==="@"){if(g.noextglob!==!0&&$()==="("&&$(2)!=="?"){te({type:"at",extglob:!0,value:F,output:""});continue}te({type:"text",value:F});continue}if(F!=="*"){(F==="$"||F==="^")&&(F=`\\${F}`);let ie=n.exec(q());ie&&(F+=ie[0],C.index+=ie[0].length),te({type:"text",value:F});continue}if(N&&(N.type==="globstar"||N.star===!0)){N.type="star",N.star=!0,N.value+=F,N.output=T,C.backtrack=!0,C.globstar=!0,X(F);continue}let re=q();if(g.noextglob!==!0&&/^\([^?]/.test(re)){ae("star",F);continue}if(N.type==="star"){if(g.noglobstar===!0){X(F);continue}let ie=N.prev,le=ie.prev,fe=ie.type==="slash"||ie.type==="bos",ge=le&&(le.type==="star"||le.type==="globstar");if(g.bash===!0&&(!fe||re[0]&&re[0]!=="/")){te({type:"star",value:F,output:""});continue}let ce=C.braces>0&&(ie.type==="comma"||ie.type==="brace"),pe=Z.length&&(ie.type==="pipe"||ie.type==="paren");if(!fe&&ie.type!=="paren"&&!ce&&!pe){te({type:"star",value:F,output:""});continue}for(;re.slice(0,3)==="/**";){let de=a[C.index+4];if(de&&de!=="/")break;re=re.slice(3),X("/**",3)}if(ie.type==="bos"&&z()){N.type="globstar",N.value+=F,N.output=W(g),C.output=N.output,C.globstar=!0,X(F);continue}if(ie.type==="slash"&&ie.prev.type!=="bos"&&!ge&&z()){C.output=C.output.slice(0,-(ie.output+N.output).length),ie.output=`(?:${ie.output}`,N.type="globstar",N.output=W(g)+(g.strictSlashes?")":"|$)"),N.value+=F,C.globstar=!0,C.output+=ie.output+N.output,X(F);continue}if(ie.type==="slash"&&ie.prev.type!=="bos"&&re[0]==="/"){let de=re[1]!==void 0?"|$":"";C.output=C.output.slice(0,-(ie.output+N.output).length),ie.output=`(?:${ie.output}`,N.type="globstar",N.output=`${W(g)}${I}|${I}${de})`,N.value+=F,C.output+=ie.output+N.output,C.globstar=!0,X(F+K()),te({type:"slash",value:"/",output:""});continue}if(ie.type==="bos"&&re[0]==="/"){N.type="globstar",N.value+=F,N.output=`(?:^|${I}|${W(g)}${I})`,C.output=N.output,C.globstar=!0,X(F+K()),te({type:"slash",value:"/",output:""});continue}C.output=C.output.slice(0,-N.output.length),N.type="globstar",N.output=W(g),N.value+=F,C.output+=N.output,C.globstar=!0,X(F);continue}let ue={type:"star",value:F,output:T};if(g.bash===!0){ue.output=".*?",(N.type==="bos"||N.type==="slash")&&(ue.output=k+ue.output),te(ue);continue}if(N&&(N.type==="bracket"||N.type==="paren")&&g.regex===!0){ue.output=F,te(ue);continue}(C.index===C.start||N.type==="slash"||N.type==="dot")&&(N.type==="dot"?(C.output+=x,N.output+=x):g.dot===!0?(C.output+=j,N.output+=j):(C.output+=k,N.output+=k),$()!=="*"&&(C.output+=P,N.output+=P)),te(ue)}for(;C.brackets>0;){if(g.strictBrackets===!0)throw new SyntaxError(i("closing","]"));C.output=p.escapeLast(C.output,"["),ne("brackets")}for(;C.parens>0;){if(g.strictBrackets===!0)throw new SyntaxError(i("closing",")"));C.output=p.escapeLast(C.output,"("),ne("parens")}for(;C.braces>0;){if(g.strictBrackets===!0)throw new SyntaxError(i("closing","}"));C.output=p.escapeLast(C.output,"{"),ne("braces")}if(g.strictSlashes!==!0&&(N.type==="star"||N.type==="bracket")&&te({type:"maybe_slash",value:"",output:`${I}?`}),C.backtrack===!0){C.output="";for(let re of C.tokens)C.output+=re.output!=null?re.output:re.value,re.suffix&&(C.output+=re.suffix)}return C},"parse");c.fastpaths=(a,d)=>{let g={...d},m=typeof g.maxLength=="number"?Math.min(o,g.maxLength):o,f=a.length;if(f>m)throw new SyntaxError(`Input length: ${f}, exceeds maximum allowed length: ${m}`);a=r[a]||a;let y=p.isWindows(d),{DOT_LITERAL:S,SLASH_LITERAL:b,ONE_CHAR:E,DOTS_SLASH:_,NO_DOT:w,NO_DOTS:O,NO_DOTS_SLASH:R,STAR:I,START_ANCHOR:P}=h.globChars(y),L=g.dot?O:w,M=g.dot?R:w,x=g.capture?"":"?:",j={negated:!1,prefix:""},U=g.bash===!0?".*?":I;g.capture&&(U=`(${U})`);let V=oe(k=>k.noglobstar===!0?U:`(${x}(?:(?!${P}${k.dot?_:S}).)*?)`,"globstar"),B=oe(k=>{switch(k){case"*":return`${L}${E}${U}`;case".*":return`${S}${E}${U}`;case"*.*":return`${L}${U}${S}${E}${U}`;case"*/*":return`${L}${U}${b}${E}${M}${U}`;case"**":return L+V(g);case"**/*":return`(?:${L}${V(g)}${b})?${M}${E}${U}`;case"**/*.*":return`(?:${L}${V(g)}${b})?${M}${U}${S}${E}${U}`;case"**/.*":return`(?:${L}${V(g)}${b})?${S}${E}${U}`;default:{let D=/^(.*?)\.(\w+)$/.exec(k);if(!D)return;let T=B(D[1]);return T?T+S+D[2]:void 0}}},"create"),G=p.removePrefix(a,j),W=B(G);return W&&g.strictSlashes!==!0&&(W+=`${b}?`),W},u.exports=c}),yb=ve((e,u)=>{"use strict";var h=require("path"),p=gb(),o=mb(),l=is(),n=ss(),t=oe(s=>s&&typeof s=="object"&&!Array.isArray(s),"isObject"),r=oe((s,i,c=!1)=>{if(Array.isArray(s)){let b=s.map(E=>r(E,i,c));return oe(E=>{for(let _ of b){let w=_(E);if(w)return w}return!1},"arrayMatcher")}let a=t(s)&&s.tokens&&s.input;if(s===""||typeof s!="string"&&!a)throw new TypeError("Expected pattern to be a non-empty string");let d=i||{},g=l.isWindows(i),m=a?r.compileRe(s,i):r.makeRe(s,i,!1,!0),f=m.state;delete m.state;let y=oe(()=>!1,"isIgnored");if(d.ignore){let b={...i,ignore:null,onMatch:null,onResult:null};y=r(d.ignore,b,c)}let S=oe((b,E=!1)=>{let{isMatch:_,match:w,output:O}=r.test(b,m,i,{glob:s,posix:g}),R={glob:s,state:f,regex:m,posix:g,input:b,output:O,match:w,isMatch:_};return typeof d.onResult=="function"&&d.onResult(R),_===!1?(R.isMatch=!1,E?R:!1):y(b)?(typeof d.onIgnore=="function"&&d.onIgnore(R),R.isMatch=!1,E?R:!1):(typeof d.onMatch=="function"&&d.onMatch(R),E?R:!0)},"matcher");return c&&(S.state=f),S},"picomatch");r.test=(s,i,c,{glob:a,posix:d}={})=>{if(typeof s!="string")throw new TypeError("Expected input to be a string");if(s==="")return{isMatch:!1,output:""};let g=c||{},m=g.format||(d?l.toPosixSlashes:null),f=s===a,y=f&&m?m(s):s;return f===!1&&(y=m?m(s):s,f=y===a),(f===!1||g.capture===!0)&&(g.matchBase===!0||g.basename===!0?f=r.matchBase(s,i,c,d):f=i.exec(y)),{isMatch:!!f,match:f,output:y}},r.matchBase=(s,i,c,a=l.isWindows(c))=>(i instanceof RegExp?i:r.makeRe(i,c)).test(h.basename(s)),r.isMatch=(s,i,c)=>r(i,c)(s),r.parse=(s,i)=>Array.isArray(s)?s.map(c=>r.parse(c,i)):o(s,{...i,fastpaths:!1}),r.scan=(s,i)=>p(s,i),r.compileRe=(s,i,c=!1,a=!1)=>{if(c===!0)return s.output;let d=i||{},g=d.contains?"":"^",m=d.contains?"":"$",f=`${g}(?:${s.output})${m}`;s&&s.negated===!0&&(f=`^(?!${f}).*$`);let y=r.toRegex(f,i);return a===!0&&(y.state=s),y},r.makeRe=(s,i={},c=!1,a=!1)=>{if(!s||typeof s!="string")throw new TypeError("Expected a non-empty string");let d={negated:!1,fastpaths:!0};return i.fastpaths!==!1&&(s[0]==="."||s[0]==="*")&&(d.output=o.fastpaths(s,i)),d.output||(d=o(s,i)),r.compileRe(d,i,c,a)},r.toRegex=(s,i)=>{try{let c=i||{};return new RegExp(s,c.flags||(c.nocase?"i":""))}catch(c){if(i&&i.debug===!0)throw c;return/$^/}},r.constants=n,u.exports=r}),vb=ve((e,u)=>{"use strict";u.exports=yb()}),Sb=ve((e,u)=>{"use strict";var h=require("util"),p=fb(),o=vb(),l=is(),n=oe(s=>s===""||s==="./","isEmptyString"),t=oe(s=>{let i=s.indexOf("{");return i>-1&&s.indexOf("}",i)>-1},"hasBraces"),r=oe((s,i,c)=>{i=[].concat(i),s=[].concat(s);let a=new Set,d=new Set,g=new Set,m=0,f=oe(S=>{g.add(S.output),c&&c.onResult&&c.onResult(S)},"onResult");for(let S=0;S<i.length;S++){let b=o(String(i[S]),{...c,onResult:f},!0),E=b.state.negated||b.state.negatedExtglob;E&&m++;for(let _ of s){let w=b(_,!0);(E?!w.isMatch:w.isMatch)&&(E?a.add(w.output):(a.delete(w.output),d.add(w.output)))}}let y=(m===i.length?[...g]:[...d]).filter(S=>!a.has(S));if(c&&y.length===0){if(c.failglob===!0)throw new Error(`No matches found for "${i.join(", ")}"`);if(c.nonull===!0||c.nullglob===!0)return c.unescape?i.map(S=>S.replace(/\\/g,"")):i}return y},"micromatch");r.match=r,r.matcher=(s,i)=>o(s,i),r.isMatch=(s,i,c)=>o(i,c)(s),r.any=r.isMatch,r.not=(s,i,c={})=>{i=[].concat(i).map(String);let a=new Set,d=[],g=oe(f=>{c.onResult&&c.onResult(f),d.push(f.output)},"onResult"),m=new Set(r(s,i,{...c,onResult:g}));for(let f of d)m.has(f)||a.add(f);return[...a]},r.contains=(s,i,c)=>{if(typeof s!="string")throw new TypeError(`Expected a string: "${h.inspect(s)}"`);if(Array.isArray(i))return i.some(a=>r.contains(s,a,c));if(typeof i=="string"){if(n(s)||n(i))return!1;if(s.includes(i)||s.startsWith("./")&&s.slice(2).includes(i))return!0}return r.isMatch(s,i,{...c,contains:!0})},r.matchKeys=(s,i,c)=>{if(!l.isObject(s))throw new TypeError("Expected the first argument to be an object");let a=r(Object.keys(s),i,c),d={};for(let g of a)d[g]=s[g];return d},r.some=(s,i,c)=>{let a=[].concat(s);for(let d of[].concat(i)){let g=o(String(d),c);if(a.some(m=>g(m)))return!0}return!1},r.every=(s,i,c)=>{let a=[].concat(s);for(let d of[].concat(i)){let g=o(String(d),c);if(!a.every(m=>g(m)))return!1}return!0},r.all=(s,i,c)=>{if(typeof s!="string")throw new TypeError(`Expected a string: "${h.inspect(s)}"`);return[].concat(i).every(a=>o(a,c)(s))},r.capture=(s,i,c)=>{let a=l.isWindows(c),d=o.makeRe(String(s),{...c,capture:!0}).exec(a?l.toPosixSlashes(i):i);if(d)return d.slice(1).map(g=>g===void 0?"":g)},r.makeRe=(...s)=>o.makeRe(...s),r.scan=(...s)=>o.scan(...s),r.parse=(s,i)=>{let c=[];for(let a of[].concat(s||[]))for(let d of p(String(a),i))c.push(o.parse(d,i));return c},r.braces=(s,i)=>{if(typeof s!="string")throw new TypeError("Expected a string");return i&&i.nobrace===!0||!t(s)?[s]:p(s,i)},r.braceExpand=(s,i)=>{if(typeof s!="string")throw new TypeError("Expected a string");return r.braces(s,{...i,expand:!0})},r.hasBraces=t,u.exports=r}),bb=ve(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isAbsolute=e.partitionAbsoluteAndRelative=e.removeDuplicateSlashes=e.matchAny=e.convertPatternsToRe=e.makeRe=e.getPatternParts=e.expandBraceExpansion=e.expandPatternsWithBraceExpansion=e.isAffectDepthOfReadingPattern=e.endsWithSlashGlobStar=e.hasGlobStar=e.getBaseDirectory=e.isPatternRelatedToParentDirectory=e.getPatternsOutsideCurrentDirectory=e.getPatternsInsideCurrentDirectory=e.getPositivePatterns=e.getNegativePatterns=e.isPositivePattern=e.isNegativePattern=e.convertToNegativePattern=e.convertToPositivePattern=e.isDynamicPattern=e.isStaticPattern=void 0;var u=require("path"),h=ab(),p=Sb(),o="**",l="\\",n=/[*?]|^!/,t=/\[[^[]*]/,r=/(?:^|[^!*+?@])\([^(]*\|[^|]*\)/,s=/[!*+?@]\([^(]*\)/,i=/,|\.\./,c=/(?!^)\/{2,}/g;function a(D,T={}){return!d(D,T)}oe(a,"isStaticPattern"),e.isStaticPattern=a;function d(D,T={}){return D===""?!1:!!(T.caseSensitiveMatch===!1||D.includes(l)||n.test(D)||t.test(D)||r.test(D)||T.extglob!==!1&&s.test(D)||T.braceExpansion!==!1&&g(D))}oe(d,"isDynamicPattern"),e.isDynamicPattern=d;function g(D){let T=D.indexOf("{");if(T===-1)return!1;let C=D.indexOf("}",T+1);if(C===-1)return!1;let Z=D.slice(T,C);return i.test(Z)}oe(g,"hasBraceExpansion");function m(D){return y(D)?D.slice(1):D}oe(m,"convertToPositivePattern"),e.convertToPositivePattern=m;function f(D){return"!"+D}oe(f,"convertToNegativePattern"),e.convertToNegativePattern=f;function y(D){return D.startsWith("!")&&D[1]!=="("}oe(y,"isNegativePattern"),e.isNegativePattern=y;function S(D){return!y(D)}oe(S,"isPositivePattern"),e.isPositivePattern=S;function b(D){return D.filter(y)}oe(b,"getNegativePatterns"),e.getNegativePatterns=b;function E(D){return D.filter(S)}oe(E,"getPositivePatterns"),e.getPositivePatterns=E;function _(D){return D.filter(T=>!O(T))}oe(_,"getPatternsInsideCurrentDirectory"),e.getPatternsInsideCurrentDirectory=_;function w(D){return D.filter(O)}oe(w,"getPatternsOutsideCurrentDirectory"),e.getPatternsOutsideCurrentDirectory=w;function O(D){return D.startsWith("..")||D.startsWith("./..")}oe(O,"isPatternRelatedToParentDirectory"),e.isPatternRelatedToParentDirectory=O;function R(D){return h(D,{flipBackslashes:!1})}oe(R,"getBaseDirectory"),e.getBaseDirectory=R;function I(D){return D.includes(o)}oe(I,"hasGlobStar"),e.hasGlobStar=I;function P(D){return D.endsWith("/"+o)}oe(P,"endsWithSlashGlobStar"),e.endsWithSlashGlobStar=P;function L(D){let T=u.basename(D);return P(D)||a(T)}oe(L,"isAffectDepthOfReadingPattern"),e.isAffectDepthOfReadingPattern=L;function M(D){return D.reduce((T,C)=>T.concat(x(C)),[])}oe(M,"expandPatternsWithBraceExpansion"),e.expandPatternsWithBraceExpansion=M;function x(D){let T=p.braces(D,{expand:!0,nodupes:!0,keepEscaping:!0});return T.sort((C,Z)=>C.length-Z.length),T.filter(C=>C!=="")}oe(x,"expandBraceExpansion"),e.expandBraceExpansion=x;function j(D,T){let{parts:C}=p.scan(D,Object.assign(Object.assign({},T),{parts:!0}));return C.length===0&&(C=[D]),C[0].startsWith("/")&&(C[0]=C[0].slice(1),C.unshift("")),C}oe(j,"getPatternParts"),e.getPatternParts=j;function U(D,T){return p.makeRe(D,T)}oe(U,"makeRe"),e.makeRe=U;function V(D,T){return D.map(C=>U(C,T))}oe(V,"convertPatternsToRe"),e.convertPatternsToRe=V;function B(D,T){return T.some(C=>C.test(D))}oe(B,"matchAny"),e.matchAny=B;function G(D){return D.replace(c,"/")}oe(G,"removeDuplicateSlashes"),e.removeDuplicateSlashes=G;function W(D){let T=[],C=[];for(let Z of D)k(Z)?T.push(Z):C.push(Z);return[T,C]}oe(W,"partitionAbsoluteAndRelative"),e.partitionAbsoluteAndRelative=W;function k(D){return u.isAbsolute(D)}oe(k,"isAbsolute"),e.isAbsolute=k}),Eb=ve((e,u)=>{"use strict";var h=require("stream"),p=h.PassThrough,o=Array.prototype.slice;u.exports=l;function l(){let t=[],r=o.call(arguments),s=!1,i=r[r.length-1];i&&!Array.isArray(i)&&i.pipe==null?r.pop():i={};let c=i.end!==!1,a=i.pipeError===!0;i.objectMode==null&&(i.objectMode=!0),i.highWaterMark==null&&(i.highWaterMark=64*1024);let d=p(i);function g(){for(let y=0,S=arguments.length;y<S;y++)t.push(n(arguments[y],i));return m(),this}oe(g,"addStream");function m(){if(s)return;s=!0;let y=t.shift();if(!y){process.nextTick(f);return}Array.isArray(y)||(y=[y]);let S=y.length+1;function b(){--S>0||(s=!1,m())}oe(b,"next");function E(_){function w(){_.removeListener("merge2UnpipeEnd",w),_.removeListener("end",w),a&&_.removeListener("error",O),b()}oe(w,"onend");function O(R){d.emit("error",R)}if(oe(O,"onerror"),_._readableState.endEmitted)return b();_.on("merge2UnpipeEnd",w),_.on("end",w),a&&_.on("error",O),_.pipe(d,{end:!1}),_.resume()}oe(E,"pipe");for(let _=0;_<y.length;_++)E(y[_]);b()}oe(m,"mergeStream");function f(){s=!1,d.emit("queueDrain"),c&&d.end()}return oe(f,"endStream"),d.setMaxListeners(0),d.add=g,d.on("unpipe",function(y){y.emit("merge2UnpipeEnd")}),r.length&&g.apply(null,r),d}oe(l,"merge2");function n(t,r){if(Array.isArray(t))for(let s=0,i=t.length;s<i;s++)t[s]=n(t[s],r);else{if(!t._readableState&&t.pipe&&(t=t.pipe(p(r))),!t._readableState||!t.pause||!t.pipe)throw new Error("Only readable stream can be merged.");t.pause()}return t}oe(n,"pauseStreams")}),_b=ve(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.merge=void 0;var u=Eb();function h(o){let l=u(o);return o.forEach(n=>{n.once("error",t=>l.emit("error",t))}),l.once("close",()=>p(o)),l.once("end",()=>p(o)),l}oe(h,"merge"),e.merge=h;function p(o){o.forEach(l=>l.emit("close"))}oe(p,"propagateCloseEventToSources")}),wb=ve(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isEmpty=e.isString=void 0;function u(p){return typeof p=="string"}oe(u,"isString"),e.isString=u;function h(p){return p===""}oe(h,"isEmpty"),e.isEmpty=h}),nt=ve(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.string=e.stream=e.pattern=e.path=e.fs=e.errno=e.array=void 0;var u=tb();e.array=u;var h=rb();e.errno=h;var p=sb();e.fs=p;var o=ib();e.path=o;var l=bb();e.pattern=l;var n=_b();e.stream=n;var t=wb();e.string=t}),Ob=ve(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.convertPatternGroupToTask=e.convertPatternGroupsToTasks=e.groupPatternsByBaseDirectory=e.getNegativePatternsAsPositive=e.getPositivePatterns=e.convertPatternsToTasks=e.generate=void 0;var u=nt();function h(i,c){let a=p(i,c),d=p(c.ignore,c),g=l(a),m=n(a,d),f=g.filter(E=>u.pattern.isStaticPattern(E,c)),y=g.filter(E=>u.pattern.isDynamicPattern(E,c)),S=o(f,m,!1),b=o(y,m,!0);return S.concat(b)}oe(h,"generate"),e.generate=h;function p(i,c){let a=i;return c.braceExpansion&&(a=u.pattern.expandPatternsWithBraceExpansion(a)),c.baseNameMatch&&(a=a.map(d=>d.includes("/")?d:`**/${d}`)),a.map(d=>u.pattern.removeDuplicateSlashes(d))}oe(p,"processPatterns");function o(i,c,a){let d=[],g=u.pattern.getPatternsOutsideCurrentDirectory(i),m=u.pattern.getPatternsInsideCurrentDirectory(i),f=t(g),y=t(m);return d.push(...r(f,c,a)),"."in y?d.push(s(".",m,c,a)):d.push(...r(y,c,a)),d}oe(o,"convertPatternsToTasks"),e.convertPatternsToTasks=o;function l(i){return u.pattern.getPositivePatterns(i)}oe(l,"getPositivePatterns"),e.getPositivePatterns=l;function n(i,c){return u.pattern.getNegativePatterns(i).concat(c).map(u.pattern.convertToPositivePattern)}oe(n,"getNegativePatternsAsPositive"),e.getNegativePatternsAsPositive=n;function t(i){let c={};return i.reduce((a,d)=>{let g=u.pattern.getBaseDirectory(d);return g in a?a[g].push(d):a[g]=[d],a},c)}oe(t,"groupPatternsByBaseDirectory"),e.groupPatternsByBaseDirectory=t;function r(i,c,a){return Object.keys(i).map(d=>s(d,i[d],c,a))}oe(r,"convertPatternGroupsToTasks"),e.convertPatternGroupsToTasks=r;function s(i,c,a,d){return{dynamic:d,positive:c,negative:a,base:i,patterns:[].concat(c,a.map(u.pattern.convertToNegativePattern))}}oe(s,"convertPatternGroupToTask"),e.convertPatternGroupToTask=s}),Ab=ve(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.read=void 0;function u(o,l,n){l.fs.lstat(o,(t,r)=>{if(t!==null){h(n,t);return}if(!r.isSymbolicLink()||!l.followSymbolicLink){p(n,r);return}l.fs.stat(o,(s,i)=>{if(s!==null){if(l.throwErrorOnBrokenSymbolicLink){h(n,s);return}p(n,r);return}l.markSymbolicLink&&(i.isSymbolicLink=()=>!0),p(n,i)})})}oe(u,"read"),e.read=u;function h(o,l){o(l)}oe(h,"callFailureCallback");function p(o,l){o(null,l)}oe(p,"callSuccessCallback")}),Rb=ve(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.read=void 0;function u(h,p){let o=p.fs.lstatSync(h);if(!o.isSymbolicLink()||!p.followSymbolicLink)return o;try{let l=p.fs.statSync(h);return p.markSymbolicLink&&(l.isSymbolicLink=()=>!0),l}catch(l){if(!p.throwErrorOnBrokenSymbolicLink)return o;throw l}}oe(u,"read"),e.read=u}),Cb=ve(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createFileSystemAdapter=e.FILE_SYSTEM_ADAPTER=void 0;var u=require("fs");e.FILE_SYSTEM_ADAPTER={lstat:u.lstat,stat:u.stat,lstatSync:u.lstatSync,statSync:u.statSync};function h(p){return p===void 0?e.FILE_SYSTEM_ADAPTER:Object.assign(Object.assign({},e.FILE_SYSTEM_ADAPTER),p)}oe(h,"createFileSystemAdapter"),e.createFileSystemAdapter=h}),Ib=ve(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var u=Cb(),h=class{static{oe(this,"Settings")}constructor(p={}){this._options=p,this.followSymbolicLink=this._getValue(this._options.followSymbolicLink,!0),this.fs=u.createFileSystemAdapter(this._options.fs),this.markSymbolicLink=this._getValue(this._options.markSymbolicLink,!1),this.throwErrorOnBrokenSymbolicLink=this._getValue(this._options.throwErrorOnBrokenSymbolicLink,!0)}_getValue(p,o){return p??o}};e.default=h}),Nt=ve(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.statSync=e.stat=e.Settings=void 0;var u=Ab(),h=Rb(),p=Ib();e.Settings=p.default;function o(t,r,s){if(typeof r=="function"){u.read(t,n(),r);return}u.read(t,n(r),s)}oe(o,"stat"),e.stat=o;function l(t,r){let s=n(r);return h.read(t,s)}oe(l,"statSync"),e.statSync=l;function n(t={}){return t instanceof p.default?t:new p.default(t)}oe(n,"getSettings")}),Tb=ve((e,u)=>{var h;u.exports=typeof queueMicrotask=="function"?queueMicrotask.bind(global):p=>(h||(h=Promise.resolve())).then(p).catch(o=>setTimeout(()=>{throw o},0))}),Pb=ve((e,u)=>{u.exports=p;var h=Tb();function p(o,l){let n,t,r,s=!0;Array.isArray(o)?(n=[],t=o.length):(r=Object.keys(o),n={},t=r.length);function i(a){function d(){l&&l(a,n),l=null}oe(d,"end"),s?h(d):d()}oe(i,"done");function c(a,d,g){n[a]=g,(--t===0||d)&&i(d)}oe(c,"each"),t?r?r.forEach(function(a){o[a](function(d,g){c(a,d,g)})}):o.forEach(function(a,d){a(function(g,m){c(d,g,m)})}):i(null),s=!1}oe(p,"runParallel")}),Vc=ve(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IS_SUPPORT_READDIR_WITH_FILE_TYPES=void 0;var u=process.versions.node.split(".");if(u[0]===void 0||u[1]===void 0)throw new Error(`Unexpected behavior. The 'process.versions.node' variable has invalid value: ${process.versions.node}`);var h=Number.parseInt(u[0],10),p=Number.parseInt(u[1],10),o=10,l=10,n=h>o,t=h===o&&p>=l;e.IS_SUPPORT_READDIR_WITH_FILE_TYPES=n||t}),xb=ve(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createDirentFromStats=void 0;var u=class{static{oe(this,"DirentFromStats")}constructor(p,o){this.name=p,this.isBlockDevice=o.isBlockDevice.bind(o),this.isCharacterDevice=o.isCharacterDevice.bind(o),this.isDirectory=o.isDirectory.bind(o),this.isFIFO=o.isFIFO.bind(o),this.isFile=o.isFile.bind(o),this.isSocket=o.isSocket.bind(o),this.isSymbolicLink=o.isSymbolicLink.bind(o)}};function h(p,o){return new u(p,o)}oe(h,"createDirentFromStats"),e.createDirentFromStats=h}),Wc=ve(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.fs=void 0;var u=xb();e.fs=u}),zc=ve(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.joinPathSegments=void 0;function u(h,p,o){return h.endsWith(o)?h+p:h+o+p}oe(u,"joinPathSegments"),e.joinPathSegments=u}),kb=ve(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.readdir=e.readdirWithFileTypes=e.read=void 0;var u=Nt(),h=Pb(),p=Vc(),o=Wc(),l=zc();function n(a,d,g){if(!d.stats&&p.IS_SUPPORT_READDIR_WITH_FILE_TYPES){t(a,d,g);return}s(a,d,g)}oe(n,"read"),e.read=n;function t(a,d,g){d.fs.readdir(a,{withFileTypes:!0},(m,f)=>{if(m!==null){i(g,m);return}let y=f.map(b=>({dirent:b,name:b.name,path:l.joinPathSegments(a,b.name,d.pathSegmentSeparator)}));if(!d.followSymbolicLinks){c(g,y);return}let S=y.map(b=>r(b,d));h(S,(b,E)=>{if(b!==null){i(g,b);return}c(g,E)})})}oe(t,"readdirWithFileTypes"),e.readdirWithFileTypes=t;function r(a,d){return g=>{if(!a.dirent.isSymbolicLink()){g(null,a);return}d.fs.stat(a.path,(m,f)=>{if(m!==null){if(d.throwErrorOnBrokenSymbolicLink){g(m);return}g(null,a);return}a.dirent=o.fs.createDirentFromStats(a.name,f),g(null,a)})}}oe(r,"makeRplTaskEntry");function s(a,d,g){d.fs.readdir(a,(m,f)=>{if(m!==null){i(g,m);return}let y=f.map(S=>{let b=l.joinPathSegments(a,S,d.pathSegmentSeparator);return E=>{u.stat(b,d.fsStatSettings,(_,w)=>{if(_!==null){E(_);return}let O={name:S,path:b,dirent:o.fs.createDirentFromStats(S,w)};d.stats&&(O.stats=w),E(null,O)})}});h(y,(S,b)=>{if(S!==null){i(g,S);return}c(g,b)})})}oe(s,"readdir"),e.readdir=s;function i(a,d){a(d)}oe(i,"callFailureCallback");function c(a,d){a(null,d)}oe(c,"callSuccessCallback")}),Nb=ve(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.readdir=e.readdirWithFileTypes=e.read=void 0;var u=Nt(),h=Vc(),p=Wc(),o=zc();function l(r,s){return!s.stats&&h.IS_SUPPORT_READDIR_WITH_FILE_TYPES?n(r,s):t(r,s)}oe(l,"read"),e.read=l;function n(r,s){return s.fs.readdirSync(r,{withFileTypes:!0}).map(i=>{let c={dirent:i,name:i.name,path:o.joinPathSegments(r,i.name,s.pathSegmentSeparator)};if(c.dirent.isSymbolicLink()&&s.followSymbolicLinks)try{let a=s.fs.statSync(c.path);c.dirent=p.fs.createDirentFromStats(c.name,a)}catch(a){if(s.throwErrorOnBrokenSymbolicLink)throw a}return c})}oe(n,"readdirWithFileTypes"),e.readdirWithFileTypes=n;function t(r,s){return s.fs.readdirSync(r).map(i=>{let c=o.joinPathSegments(r,i,s.pathSegmentSeparator),a=u.statSync(c,s.fsStatSettings),d={name:i,path:c,dirent:p.fs.createDirentFromStats(i,a)};return s.stats&&(d.stats=a),d})}oe(t,"readdir"),e.readdir=t}),Lb=ve(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createFileSystemAdapter=e.FILE_SYSTEM_ADAPTER=void 0;var u=require("fs");e.FILE_SYSTEM_ADAPTER={lstat:u.lstat,stat:u.stat,lstatSync:u.lstatSync,statSync:u.statSync,readdir:u.readdir,readdirSync:u.readdirSync};function h(p){return p===void 0?e.FILE_SYSTEM_ADAPTER:Object.assign(Object.assign({},e.FILE_SYSTEM_ADAPTER),p)}oe(h,"createFileSystemAdapter"),e.createFileSystemAdapter=h}),Db=ve(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var u=require("path"),h=Nt(),p=Lb(),o=class{static{oe(this,"Settings")}constructor(l={}){this._options=l,this.followSymbolicLinks=this._getValue(this._options.followSymbolicLinks,!1),this.fs=p.createFileSystemAdapter(this._options.fs),this.pathSegmentSeparator=this._getValue(this._options.pathSegmentSeparator,u.sep),this.stats=this._getValue(this._options.stats,!1),this.throwErrorOnBrokenSymbolicLink=this._getValue(this._options.throwErrorOnBrokenSymbolicLink,!0),this.fsStatSettings=new h.Settings({followSymbolicLink:this.followSymbolicLinks,fs:this.fs,throwErrorOnBrokenSymbolicLink:this.throwErrorOnBrokenSymbolicLink})}_getValue(l,n){return l??n}};e.default=o}),kn=ve(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Settings=e.scandirSync=e.scandir=void 0;var u=kb(),h=Nb(),p=Db();e.Settings=p.default;function o(t,r,s){if(typeof r=="function"){u.read(t,n(),r);return}u.read(t,n(r),s)}oe(o,"scandir"),e.scandir=o;function l(t,r){let s=n(r);return h.read(t,s)}oe(l,"scandirSync"),e.scandirSync=l;function n(t={}){return t instanceof p.default?t:new p.default(t)}oe(n,"getSettings")}),Mb=ve((e,u)=>{"use strict";function h(p){var o=new p,l=o;function n(){var r=o;return r.next?o=r.next:(o=new p,l=o),r.next=null,r}oe(n,"get");function t(r){l.next=r,l=r}return oe(t,"release"),{get:n,release:t}}oe(h,"reusify"),u.exports=h}),jb=ve((e,u)=>{"use strict";var h=Mb();function p(t,r,s){if(typeof t=="function"&&(s=r,r=t,t=null),!(s>=1))throw new Error("fastqueue concurrency must be equal to or greater than 1");var i=h(l),c=null,a=null,d=0,g=null,m={push:w,drain:o,saturated:o,pause:y,paused:!1,get concurrency(){return s},set concurrency(M){if(!(M>=1))throw new Error("fastqueue concurrency must be equal to or greater than 1");if(s=M,!m.paused)for(;c&&d<s;)d++,R()},running:f,resume:E,idle:_,length:S,getQueue:b,unshift:O,empty:o,kill:I,killAndDrain:P,error:L};return m;function f(){return d}function y(){m.paused=!0}function S(){for(var M=c,x=0;M;)M=M.next,x++;return x}function b(){for(var M=c,x=[];M;)x.push(M.value),M=M.next;return x}function E(){if(m.paused){if(m.paused=!1,c===null){d++,R();return}for(;c&&d<s;)d++,R()}}function _(){return d===0&&m.length()===0}function w(M,x){var j=i.get();j.context=t,j.release=R,j.value=M,j.callback=x||o,j.errorHandler=g,d>=s||m.paused?a?(a.next=j,a=j):(c=j,a=j,m.saturated()):(d++,r.call(t,j.value,j.worked))}function O(M,x){var j=i.get();j.context=t,j.release=R,j.value=M,j.callback=x||o,j.errorHandler=g,d>=s||m.paused?c?(j.next=c,c=j):(c=j,a=j,m.saturated()):(d++,r.call(t,j.value,j.worked))}function R(M){M&&i.release(M);var x=c;x&&d<=s?m.paused?d--:(a===c&&(a=null),c=x.next,x.next=null,r.call(t,x.value,x.worked),a===null&&m.empty()):--d===0&&m.drain()}function I(){c=null,a=null,m.drain=o}function P(){c=null,a=null,m.drain(),m.drain=o}function L(M){g=M}}oe(p,"fastqueue");function o(){}oe(o,"noop");function l(){this.value=null,this.callback=o,this.next=null,this.release=o,this.context=null,this.errorHandler=null;var t=this;this.worked=oe(function(r,s){var i=t.callback,c=t.errorHandler,a=t.value;t.value=null,t.callback=o,t.errorHandler&&c(r,a),i.call(t.context,r,s),t.release(t)},"worked")}oe(l,"Task");function n(t,r,s){typeof t=="function"&&(s=r,r=t,t=null);function i(y,S){r.call(this,y).then(function(b){S(null,b)},S)}oe(i,"asyncWrapper");var c=p(t,i,s),a=c.push,d=c.unshift;return c.push=g,c.unshift=m,c.drained=f,c;function g(y){var S=new Promise(function(b,E){a(y,function(_,w){if(_){E(_);return}b(w)})});return S.catch(o),S}function m(y){var S=new Promise(function(b,E){d(y,function(_,w){if(_){E(_);return}b(w)})});return S.catch(o),S}function f(){var y=new Promise(function(S){process.nextTick(function(){if(c.idle())S();else{var b=c.drain;c.drain=function(){typeof b=="function"&&b(),S(),c.drain=b}}})});return y}}oe(n,"queueAsPromised"),u.exports=p,u.exports.promise=n}),Nn=ve(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.joinPathSegments=e.replacePathSegmentSeparator=e.isAppliedFilter=e.isFatalError=void 0;function u(l,n){return l.errorFilter===null?!0:!l.errorFilter(n)}oe(u,"isFatalError"),e.isFatalError=u;function h(l,n){return l===null||l(n)}oe(h,"isAppliedFilter"),e.isAppliedFilter=h;function p(l,n){return l.split(/[/\\]/).join(n)}oe(p,"replacePathSegmentSeparator"),e.replacePathSegmentSeparator=p;function o(l,n,t){return l===""?n:l.endsWith(t)?l+n:l+t+n}oe(o,"joinPathSegments"),e.joinPathSegments=o}),Kc=ve(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var u=Nn(),h=class{static{oe(this,"Reader")}constructor(p,o){this._root=p,this._settings=o,this._root=u.replacePathSegmentSeparator(p,o.pathSegmentSeparator)}};e.default=h}),Jc=ve(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var u=require("events"),h=kn(),p=jb(),o=Nn(),l=Kc(),n=class extends l.default{static{oe(this,"AsyncReader")}constructor(t,r){super(t,r),this._settings=r,this._scandir=h.scandir,this._emitter=new u.EventEmitter,this._queue=p(this._worker.bind(this),this._settings.concurrency),this._isFatalError=!1,this._isDestroyed=!1,this._queue.drain=()=>{this._isFatalError||this._emitter.emit("end")}}read(){return this._isFatalError=!1,this._isDestroyed=!1,setImmediate(()=>{this._pushToQueue(this._root,this._settings.basePath)}),this._emitter}get isDestroyed(){return this._isDestroyed}destroy(){if(this._isDestroyed)throw new Error("The reader is already destroyed");this._isDestroyed=!0,this._queue.killAndDrain()}onEntry(t){this._emitter.on("entry",t)}onError(t){this._emitter.once("error",t)}onEnd(t){this._emitter.once("end",t)}_pushToQueue(t,r){let s={directory:t,base:r};this._queue.push(s,i=>{i!==null&&this._handleError(i)})}_worker(t,r){this._scandir(t.directory,this._settings.fsScandirSettings,(s,i)=>{if(s!==null){r(s,void 0);return}for(let c of i)this._handleEntry(c,t.base);r(null,void 0)})}_handleError(t){this._isDestroyed||!o.isFatalError(this._settings,t)||(this._isFatalError=!0,this._isDestroyed=!0,this._emitter.emit("error",t))}_handleEntry(t,r){if(this._isDestroyed||this._isFatalError)return;let s=t.path;r!==void 0&&(t.path=o.joinPathSegments(r,t.name,this._settings.pathSegmentSeparator)),o.isAppliedFilter(this._settings.entryFilter,t)&&this._emitEntry(t),t.dirent.isDirectory()&&o.isAppliedFilter(this._settings.deepFilter,t)&&this._pushToQueue(s,r===void 0?void 0:t.path)}_emitEntry(t){this._emitter.emit("entry",t)}};e.default=n}),$b=ve(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var u=Jc(),h=class{static{oe(this,"AsyncProvider")}constructor(l,n){this._root=l,this._settings=n,this._reader=new u.default(this._root,this._settings),this._storage=[]}read(l){this._reader.onError(n=>{p(l,n)}),this._reader.onEntry(n=>{this._storage.push(n)}),this._reader.onEnd(()=>{o(l,this._storage)}),this._reader.read()}};e.default=h;function p(l,n){l(n)}oe(p,"callFailureCallback");function o(l,n){l(null,n)}oe(o,"callSuccessCallback")}),Bb=ve(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var u=require("stream"),h=Jc(),p=class{static{oe(this,"StreamProvider")}constructor(o,l){this._root=o,this._settings=l,this._reader=new h.default(this._root,this._settings),this._stream=new u.Readable({objectMode:!0,read:oe(()=>{},"read"),destroy:oe(()=>{this._reader.isDestroyed||this._reader.destroy()},"destroy")})}read(){return this._reader.onError(o=>{this._stream.emit("error",o)}),this._reader.onEntry(o=>{this._stream.push(o)}),this._reader.onEnd(()=>{this._stream.push(null)}),this._reader.read(),this._stream}};e.default=p}),Ub=ve(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var u=kn(),h=Nn(),p=Kc(),o=class extends p.default{static{oe(this,"SyncReader")}constructor(){super(...arguments),this._scandir=u.scandirSync,this._storage=[],this._queue=new Set}read(){return this._pushToQueue(this._root,this._settings.basePath),this._handleQueue(),this._storage}_pushToQueue(l,n){this._queue.add({directory:l,base:n})}_handleQueue(){for(let l of this._queue.values())this._handleDirectory(l.directory,l.base)}_handleDirectory(l,n){try{let t=this._scandir(l,this._settings.fsScandirSettings);for(let r of t)this._handleEntry(r,n)}catch(t){this._handleError(t)}}_handleError(l){if(h.isFatalError(this._settings,l))throw l}_handleEntry(l,n){let t=l.path;n!==void 0&&(l.path=h.joinPathSegments(n,l.name,this._settings.pathSegmentSeparator)),h.isAppliedFilter(this._settings.entryFilter,l)&&this._pushToStorage(l),l.dirent.isDirectory()&&h.isAppliedFilter(this._settings.deepFilter,l)&&this._pushToQueue(t,n===void 0?void 0:l.path)}_pushToStorage(l){this._storage.push(l)}};e.default=o}),Fb=ve(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var u=Ub(),h=class{static{oe(this,"SyncProvider")}constructor(p,o){this._root=p,this._settings=o,this._reader=new u.default(this._root,this._settings)}read(){return this._reader.read()}};e.default=h}),Hb=ve(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var u=require("path"),h=kn(),p=class{static{oe(this,"Settings")}constructor(o={}){this._options=o,this.basePath=this._getValue(this._options.basePath,void 0),this.concurrency=this._getValue(this._options.concurrency,Number.POSITIVE_INFINITY),this.deepFilter=this._getValue(this._options.deepFilter,null),this.entryFilter=this._getValue(this._options.entryFilter,null),this.errorFilter=this._getValue(this._options.errorFilter,null),this.pathSegmentSeparator=this._getValue(this._options.pathSegmentSeparator,u.sep),this.fsScandirSettings=new h.Settings({followSymbolicLinks:this._options.followSymbolicLinks,fs:this._options.fs,pathSegmentSeparator:this._options.pathSegmentSeparator,stats:this._options.stats,throwErrorOnBrokenSymbolicLink:this._options.throwErrorOnBrokenSymbolicLink})}_getValue(o,l){return o??l}};e.default=p}),Ln=ve(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Settings=e.walkStream=e.walkSync=e.walk=void 0;var u=$b(),h=Bb(),p=Fb(),o=Hb();e.Settings=o.default;function l(s,i,c){if(typeof i=="function"){new u.default(s,r()).read(i);return}new u.default(s,r(i)).read(c)}oe(l,"walk"),e.walk=l;function n(s,i){let c=r(i);return new p.default(s,c).read()}oe(n,"walkSync"),e.walkSync=n;function t(s,i){let c=r(i);return new h.default(s,c).read()}oe(t,"walkStream"),e.walkStream=t;function r(s={}){return s instanceof o.default?s:new o.default(s)}oe(r,"getSettings")}),Dn=ve(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var u=require("path"),h=Nt(),p=nt(),o=class{static{oe(this,"Reader")}constructor(l){this._settings=l,this._fsStatSettings=new h.Settings({followSymbolicLink:this._settings.followSymbolicLinks,fs:this._settings.fs,throwErrorOnBrokenSymbolicLink:this._settings.followSymbolicLinks})}_getFullEntryPath(l){return u.resolve(this._settings.cwd,l)}_makeEntry(l,n){let t={name:n,path:n,dirent:p.fs.createDirentFromStats(n,l)};return this._settings.stats&&(t.stats=l),t}_isFatalError(l){return!p.errno.isEnoentCodeError(l)&&!this._settings.suppressErrors}};e.default=o}),qc=ve(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var u=require("stream"),h=Nt(),p=Ln(),o=Dn(),l=class extends o.default{static{oe(this,"ReaderStream")}constructor(){super(...arguments),this._walkStream=p.walkStream,this._stat=h.stat}dynamic(n,t){return this._walkStream(n,t)}static(n,t){let r=n.map(this._getFullEntryPath,this),s=new u.PassThrough({objectMode:!0});s._write=(i,c,a)=>this._getEntry(r[i],n[i],t).then(d=>{d!==null&&t.entryFilter(d)&&s.push(d),i===r.length-1&&s.end(),a()}).catch(a);for(let i=0;i<r.length;i++)s.write(i);return s}_getEntry(n,t,r){return this._getStat(n).then(s=>this._makeEntry(s,t)).catch(s=>{if(r.errorFilter(s))return null;throw s})}_getStat(n){return new Promise((t,r)=>{this._stat(n,this._fsStatSettings,(s,i)=>s===null?t(i):r(s))})}};e.default=l}),Gb=ve(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var u=Ln(),h=Dn(),p=qc(),o=class extends h.default{static{oe(this,"ReaderAsync")}constructor(){super(...arguments),this._walkAsync=u.walk,this._readerStream=new p.default(this._settings)}dynamic(l,n){return new Promise((t,r)=>{this._walkAsync(l,n,(s,i)=>{s===null?t(i):r(s)})})}async static(l,n){let t=[],r=this._readerStream.static(l,n);return new Promise((s,i)=>{r.once("error",i),r.on("data",c=>t.push(c)),r.once("end",()=>s(t))})}};e.default=o}),Vb=ve(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var u=nt(),h=class{static{oe(this,"Matcher")}constructor(p,o,l){this._patterns=p,this._settings=o,this._micromatchOptions=l,this._storage=[],this._fillStorage()}_fillStorage(){for(let p of this._patterns){let o=this._getPatternSegments(p),l=this._splitSegmentsIntoSections(o);this._storage.push({complete:l.length<=1,pattern:p,segments:o,sections:l})}}_getPatternSegments(p){return u.pattern.getPatternParts(p,this._micromatchOptions).map(o=>u.pattern.isDynamicPattern(o,this._settings)?{dynamic:!0,pattern:o,patternRe:u.pattern.makeRe(o,this._micromatchOptions)}:{dynamic:!1,pattern:o})}_splitSegmentsIntoSections(p){return u.array.splitWhen(p,o=>o.dynamic&&u.pattern.hasGlobStar(o.pattern))}};e.default=h}),Wb=ve(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var u=Vb(),h=class extends u.default{static{oe(this,"PartialMatcher")}match(p){let o=p.split("/"),l=o.length,n=this._storage.filter(t=>!t.complete||t.segments.length>l);for(let t of n){let r=t.sections[0];if(!t.complete&&l>r.length||o.every((s,i)=>{let c=t.segments[i];return!!(c.dynamic&&c.patternRe.test(s)||!c.dynamic&&c.pattern===s)}))return!0}return!1}};e.default=h}),zb=ve(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var u=nt(),h=Wb(),p=class{static{oe(this,"DeepFilter")}constructor(o,l){this._settings=o,this._micromatchOptions=l}getFilter(o,l,n){let t=this._getMatcher(l),r=this._getNegativePatternsRe(n);return s=>this._filter(o,s,t,r)}_getMatcher(o){return new h.default(o,this._settings,this._micromatchOptions)}_getNegativePatternsRe(o){let l=o.filter(u.pattern.isAffectDepthOfReadingPattern);return u.pattern.convertPatternsToRe(l,this._micromatchOptions)}_filter(o,l,n,t){if(this._isSkippedByDeep(o,l.path)||this._isSkippedSymbolicLink(l))return!1;let r=u.path.removeLeadingDotSegment(l.path);return this._isSkippedByPositivePatterns(r,n)?!1:this._isSkippedByNegativePatterns(r,t)}_isSkippedByDeep(o,l){return this._settings.deep===1/0?!1:this._getEntryLevel(o,l)>=this._settings.deep}_getEntryLevel(o,l){let n=l.split("/").length;if(o==="")return n;let t=o.split("/").length;return n-t}_isSkippedSymbolicLink(o){return!this._settings.followSymbolicLinks&&o.dirent.isSymbolicLink()}_isSkippedByPositivePatterns(o,l){return!this._settings.baseNameMatch&&!l.match(o)}_isSkippedByNegativePatterns(o,l){return!u.pattern.matchAny(o,l)}};e.default=p}),Kb=ve(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var u=nt(),h=class{static{oe(this,"EntryFilter")}constructor(p,o){this._settings=p,this._micromatchOptions=o,this.index=new Map}getFilter(p,o){let[l,n]=u.pattern.partitionAbsoluteAndRelative(o),t={positive:{all:u.pattern.convertPatternsToRe(p,this._micromatchOptions)},negative:{absolute:u.pattern.convertPatternsToRe(l,Object.assign(Object.assign({},this._micromatchOptions),{dot:!0})),relative:u.pattern.convertPatternsToRe(n,Object.assign(Object.assign({},this._micromatchOptions),{dot:!0}))}};return r=>this._filter(r,t)}_filter(p,o){let l=u.path.removeLeadingDotSegment(p.path);if(this._settings.unique&&this._isDuplicateEntry(l)||this._onlyFileFilter(p)||this._onlyDirectoryFilter(p))return!1;let n=this._isMatchToPatternsSet(l,o,p.dirent.isDirectory());return this._settings.unique&&n&&this._createIndexRecord(l),n}_isDuplicateEntry(p){return this.index.has(p)}_createIndexRecord(p){this.index.set(p,void 0)}_onlyFileFilter(p){return this._settings.onlyFiles&&!p.dirent.isFile()}_onlyDirectoryFilter(p){return this._settings.onlyDirectories&&!p.dirent.isDirectory()}_isMatchToPatternsSet(p,o,l){return!(!this._isMatchToPatterns(p,o.positive.all,l)||this._isMatchToPatterns(p,o.negative.relative,l)||this._isMatchToAbsoluteNegative(p,o.negative.absolute,l))}_isMatchToAbsoluteNegative(p,o,l){if(o.length===0)return!1;let n=u.path.makeAbsolute(this._settings.cwd,p);return this._isMatchToPatterns(n,o,l)}_isMatchToPatterns(p,o,l){if(o.length===0)return!1;let n=u.pattern.matchAny(p,o);return!n&&l?u.pattern.matchAny(p+"/",o):n}};e.default=h}),Jb=ve(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var u=nt(),h=class{static{oe(this,"ErrorFilter")}constructor(p){this._settings=p}getFilter(){return p=>this._isNonFatalError(p)}_isNonFatalError(p){return u.errno.isEnoentCodeError(p)||this._settings.suppressErrors}};e.default=h}),qb=ve(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var u=nt(),h=class{static{oe(this,"EntryTransformer")}constructor(p){this._settings=p}getTransformer(){return p=>this._transform(p)}_transform(p){let o=p.path;return this._settings.absolute&&(o=u.path.makeAbsolute(this._settings.cwd,o),o=u.path.unixify(o)),this._settings.markDirectories&&p.dirent.isDirectory()&&(o+="/"),this._settings.objectMode?Object.assign(Object.assign({},p),{path:o}):o}};e.default=h}),Mn=ve(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var u=require("path"),h=zb(),p=Kb(),o=Jb(),l=qb(),n=class{static{oe(this,"Provider")}constructor(t){this._settings=t,this.errorFilter=new o.default(this._settings),this.entryFilter=new p.default(this._settings,this._getMicromatchOptions()),this.deepFilter=new h.default(this._settings,this._getMicromatchOptions()),this.entryTransformer=new l.default(this._settings)}_getRootDirectory(t){return u.resolve(this._settings.cwd,t.base)}_getReaderOptions(t){let r=t.base==="."?"":t.base;return{basePath:r,pathSegmentSeparator:"/",concurrency:this._settings.concurrency,deepFilter:this.deepFilter.getFilter(r,t.positive,t.negative),entryFilter:this.entryFilter.getFilter(t.positive,t.negative),errorFilter:this.errorFilter.getFilter(),followSymbolicLinks:this._settings.followSymbolicLinks,fs:this._settings.fs,stats:this._settings.stats,throwErrorOnBrokenSymbolicLink:this._settings.throwErrorOnBrokenSymbolicLink,transform:this.entryTransformer.getTransformer()}}_getMicromatchOptions(){return{dot:this._settings.dot,matchBase:this._settings.baseNameMatch,nobrace:!this._settings.braceExpansion,nocase:!this._settings.caseSensitiveMatch,noext:!this._settings.extglob,noglobstar:!this._settings.globstar,posix:!0,strictSlashes:!1}}};e.default=n}),Zb=ve(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var u=Gb(),h=Mn(),p=class extends h.default{static{oe(this,"ProviderAsync")}constructor(){super(...arguments),this._reader=new u.default(this._settings)}async read(o){let l=this._getRootDirectory(o),n=this._getReaderOptions(o);return(await this.api(l,o,n)).map(t=>n.transform(t))}api(o,l,n){return l.dynamic?this._reader.dynamic(o,n):this._reader.static(l.patterns,n)}};e.default=p}),Yb=ve(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var u=require("stream"),h=qc(),p=Mn(),o=class extends p.default{static{oe(this,"ProviderStream")}constructor(){super(...arguments),this._reader=new h.default(this._settings)}read(l){let n=this._getRootDirectory(l),t=this._getReaderOptions(l),r=this.api(n,l,t),s=new u.Readable({objectMode:!0,read:oe(()=>{},"read")});return r.once("error",i=>s.emit("error",i)).on("data",i=>s.emit("data",t.transform(i))).once("end",()=>s.emit("end")),s.once("close",()=>r.destroy()),s}api(l,n,t){return n.dynamic?this._reader.dynamic(l,t):this._reader.static(n.patterns,t)}};e.default=o}),Xb=ve(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var u=Nt(),h=Ln(),p=Dn(),o=class extends p.default{static{oe(this,"ReaderSync")}constructor(){super(...arguments),this._walkSync=h.walkSync,this._statSync=u.statSync}dynamic(l,n){return this._walkSync(l,n)}static(l,n){let t=[];for(let r of l){let s=this._getFullEntryPath(r),i=this._getEntry(s,r,n);i===null||!n.entryFilter(i)||t.push(i)}return t}_getEntry(l,n,t){try{let r=this._getStat(l);return this._makeEntry(r,n)}catch(r){if(t.errorFilter(r))return null;throw r}}_getStat(l){return this._statSync(l,this._fsStatSettings)}};e.default=o}),Qb=ve(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var u=Xb(),h=Mn(),p=class extends h.default{static{oe(this,"ProviderSync")}constructor(){super(...arguments),this._reader=new u.default(this._settings)}read(o){let l=this._getRootDirectory(o),n=this._getReaderOptions(o);return this.api(l,o,n).map(n.transform)}api(o,l,n){return l.dynamic?this._reader.dynamic(o,n):this._reader.static(l.patterns,n)}};e.default=p}),eE=ve(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DEFAULT_FILE_SYSTEM_ADAPTER=void 0;var u=require("fs"),h=require("os"),p=Math.max(h.cpus().length,1);e.DEFAULT_FILE_SYSTEM_ADAPTER={lstat:u.lstat,lstatSync:u.lstatSync,stat:u.stat,statSync:u.statSync,readdir:u.readdir,readdirSync:u.readdirSync};var o=class{static{oe(this,"Settings")}constructor(l={}){this._options=l,this.absolute=this._getValue(this._options.absolute,!1),this.baseNameMatch=this._getValue(this._options.baseNameMatch,!1),this.braceExpansion=this._getValue(this._options.braceExpansion,!0),this.caseSensitiveMatch=this._getValue(this._options.caseSensitiveMatch,!0),this.concurrency=this._getValue(this._options.concurrency,p),this.cwd=this._getValue(this._options.cwd,process.cwd()),this.deep=this._getValue(this._options.deep,1/0),this.dot=this._getValue(this._options.dot,!1),this.extglob=this._getValue(this._options.extglob,!0),this.followSymbolicLinks=this._getValue(this._options.followSymbolicLinks,!0),this.fs=this._getFileSystemMethods(this._options.fs),this.globstar=this._getValue(this._options.globstar,!0),this.ignore=this._getValue(this._options.ignore,[]),this.markDirectories=this._getValue(this._options.markDirectories,!1),this.objectMode=this._getValue(this._options.objectMode,!1),this.onlyDirectories=this._getValue(this._options.onlyDirectories,!1),this.onlyFiles=this._getValue(this._options.onlyFiles,!0),this.stats=this._getValue(this._options.stats,!1),this.suppressErrors=this._getValue(this._options.suppressErrors,!1),this.throwErrorOnBrokenSymbolicLink=this._getValue(this._options.throwErrorOnBrokenSymbolicLink,!1),this.unique=this._getValue(this._options.unique,!0),this.onlyDirectories&&(this.onlyFiles=!1),this.stats&&(this.objectMode=!0),this.ignore=[].concat(this.ignore)}_getValue(l,n){return l===void 0?n:l}_getFileSystemMethods(l={}){return Object.assign(Object.assign({},e.DEFAULT_FILE_SYSTEM_ADAPTER),l)}};e.default=o}),Zc=Ob(),tE=Zb(),rE=Yb(),sE=Qb(),Tn=eE(),Fe=nt();async function ts(e,u){Ue(e);let h=rs(e,tE.default,u),p=await Promise.all(h);return Fe.array.flatten(p)}oe(ts,"FastGlob");(function(e){e.glob=e,e.globSync=u,e.globStream=h,e.async=e;function u(s,i){Ue(s);let c=rs(s,sE.default,i);return Fe.array.flatten(c)}oe(u,"sync"),e.sync=u;function h(s,i){Ue(s);let c=rs(s,rE.default,i);return Fe.stream.merge(c)}oe(h,"stream"),e.stream=h;function p(s,i){Ue(s);let c=[].concat(s),a=new Tn.default(i);return Zc.generate(c,a)}oe(p,"generateTasks"),e.generateTasks=p;function o(s,i){Ue(s);let c=new Tn.default(i);return Fe.pattern.isDynamicPattern(s,c)}oe(o,"isDynamicPattern"),e.isDynamicPattern=o;function l(s){return Ue(s),Fe.path.escape(s)}oe(l,"escapePath"),e.escapePath=l;function n(s){return Ue(s),Fe.path.convertPathToPattern(s)}oe(n,"convertPathToPattern"),e.convertPathToPattern=n;let t;(function(s){function i(a){return Ue(a),Fe.path.escapePosixPath(a)}oe(i,"escapePath"),s.escapePath=i;function c(a){return Ue(a),Fe.path.convertPosixPathToPattern(a)}oe(c,"convertPathToPattern"),s.convertPathToPattern=c})(t=e.posix||(e.posix={}));let r;(function(s){function i(a){return Ue(a),Fe.path.escapeWindowsPath(a)}oe(i,"escapePath"),s.escapePath=i;function c(a){return Ue(a),Fe.path.convertWindowsPathToPattern(a)}oe(c,"convertPathToPattern"),s.convertPathToPattern=c})(r=e.win32||(e.win32={}))})(ts||(ts={}));function rs(e,u,h){let p=[].concat(e),o=new Tn.default(h),l=Zc.generate(p,o),n=new u(o);return l.map(n.read,n)}oe(rs,"getWorks");function Ue(e){if(![].concat(e).every(u=>Fe.string.isString(u)&&!Fe.string.isEmpty(u)))throw new TypeError("Patterns must be a string (non empty) or an array of strings")}oe(Ue,"assertPatternsInput");Yc.exports=ts;});var pt=_e((nk,eu)=>{var jn=Object.defineProperty,iE=Object.getOwnPropertyDescriptor,nE=Object.getOwnPropertyNames,oE=Object.prototype.hasOwnProperty,aE=(e,u)=>{for(var h in u)jn(e,h,{get:u[h],enumerable:!0})},lE=(e,u,h,p)=>{if(u&&typeof u=="object"||typeof u=="function")for(let o of nE(u))!oE.call(e,o)&&o!==h&&jn(e,o,{get:()=>u[o],enumerable:!(p=iE(u,o))||p.enumerable});return e},cE=e=>lE(jn({},"__esModule",{value:!0}),e),Qc={};aE(Qc,{CACHE_DIR:()=>RE,CACHE_TTL_DIR:()=>CE,CHANGELOG_MD:()=>mE,DOT_GITHUB:()=>OE,DOT_GIT_DIR:()=>wE,DOT_PACKAGE_LOCK_JSON:()=>EE,DOT_SOCKET_DIR:()=>AE,ESLINT_CONFIG_JS:()=>SE,EXTENSIONS:()=>ZE,EXTENSIONS_JSON:()=>vE,EXT_CJS:()=>PE,EXT_CMD:()=>xE,EXT_CTS:()=>kE,EXT_DTS:()=>NE,EXT_JS:()=>LE,EXT_JSON:()=>DE,EXT_LOCK:()=>ME,EXT_LOCKB:()=>jE,EXT_MD:()=>$E,EXT_MJS:()=>BE,EXT_MTS:()=>UE,EXT_PS1:()=>FE,EXT_YAML:()=>HE,EXT_YML:()=>GE,GITIGNORE:()=>bE,LICENSE:()=>pE,LICENSE_GLOB:()=>VE,LICENSE_GLOB_RECURSIVE:()=>WE,LICENSE_MD:()=>dE,LICENSE_ORIGINAL:()=>fE,LICENSE_ORIGINAL_GLOB:()=>zE,LICENSE_ORIGINAL_GLOB_RECURSIVE:()=>KE,MANIFEST_JSON:()=>yE,NODE_MODULES:()=>_E,NODE_MODULES_GLOB_RECURSIVE:()=>IE,PACKAGE_JSON:()=>uE,README_GLOB:()=>JE,README_GLOB_RECURSIVE:()=>qE,README_MD:()=>gE,ROLLUP_EXTERNAL_SUFFIX:()=>YE,SLASH_NODE_MODULES_SLASH:()=>TE,TSCONFIG_JSON:()=>hE});eu.exports=cE(Qc);var uE="package.json",hE="tsconfig.json",pE="LICENSE",dE="LICENSE.md",fE="LICENSE.original",gE="README.md",mE="CHANGELOG.md",yE="manifest.json",vE="extensions.json",SE="eslint.config.js",bE=".gitignore",EE=".package-lock.json",_E="node_modules",wE=".git",OE=".github",AE=".socket",RE="cache",CE="ttl",IE="**/node_modules",TE="/node_modules/",PE=".cjs",xE=".cmd",kE=".cts",NE=".d.ts",LE=".js",DE=".json",ME=".lock",jE=".lockb",$E=".md",BE=".mjs",UE=".mts",FE=".ps1",HE=".yaml",GE=".yml",VE="LICEN[CS]E{[.-]*,}",WE="**/LICEN[CS]E{[.-]*,}",zE="*.original{.*,}",KE="**/*.original{.*,}",JE="README{.*,}",qE="**/README{.*,}",ZE="extensions",YE="__rollup_external"});var nu=_e((ok,iu)=>{var Un=Object.defineProperty,XE=Object.getOwnPropertyDescriptor,QE=Object.getOwnPropertyNames,e_=Object.prototype.hasOwnProperty,t_=(e,u)=>{for(var h in u)Un(e,h,{get:u[h],enumerable:!0})},r_=(e,u,h,p)=>{if(u&&typeof u=="object"||typeof u=="function")for(let o of QE(u))!e_.call(e,o)&&o!==h&&Un(e,o,{get:()=>u[o],enumerable:!(p=XE(u,o))||p.enumerable});return e},s_=e=>r_(Un({},"__esModule",{value:!0}),e),ru={};t_(ru,{defaultIgnore:()=>su,getGlobMatcher:()=>l_,globStreamLicenses:()=>a_});iu.exports=s_(ru);var i_=Qr(),su=(0,i_.objectFreeze)(["**/.git","**/.npmrc","**/node_modules","**/.DS_Store","**/.gitignore","**/.hg","**/.lock-wscript","**/.npmignore","**/.svn","**/.wafpickle-*","**/.*.swp","**/._*/**","**/archived-packages/**","**/build/config.gypi","**/CVS","**/npm-debug.log","**/*.orig","**/.env","**/.eslintcache","**/.nvm","**/.tap","**/.vscode","**/*.tsbuildinfo","**/Thumbs.db","**/bower_components"]),$n;function n_(){return $n===void 0&&($n=Hc()),$n}var Bn;function o_(){if(Bn===void 0){let e=Xc();Bn=e.default||e}return Bn}function a_(e,u){let{ignore:h,ignoreOriginals:p,recursive:o,...l}={__proto__:null,...u},n=[...Array.isArray(h)?h:su,"**/*.{cjs,cts,js,json,mjs,mts,ts}"];return p&&n.push(pt().LICENSE_ORIGINAL_GLOB_RECURSIVE),o_().globStream([o?pt().LICENSE_GLOB_RECURSIVE:pt().LICENSE_GLOB],{__proto__:null,absolute:!0,caseSensitiveMatch:!1,cwd:e,...l,...n?{ignore:n}:{}})}var tu=new Map;function l_(e,u){let h=Array.isArray(e)?e:[e],p=JSON.stringify({patterns:h,options:u}),o=tu.get(p);if(o)return o;let l=h.filter(s=>!s.startsWith("!")),n=h.filter(s=>s.startsWith("!")).map(s=>s.slice(1)),t=n_(),r={dot:!0,nocase:!0,...u,...n.length>0?{ignore:n}:{}};return o=t(l.length>0?l:h,r),tu.set(p,o),o}});var lu=_e((ak,au)=>{var Fn=Object.defineProperty,c_=Object.getOwnPropertyDescriptor,u_=Object.getOwnPropertyNames,h_=Object.prototype.hasOwnProperty,p_=(e,u)=>{for(var h in u)Fn(e,h,{get:u[h],enumerable:!0})},d_=(e,u,h,p)=>{if(u&&typeof u=="object"||typeof u=="function")for(let o of u_(u))!h_.call(e,o)&&o!==h&&Fn(e,o,{get:()=>u[o],enumerable:!(p=c_(u,o))||p.enumerable});return e},f_=e=>d_(Fn({},"__esModule",{value:!0}),e),ou={};p_(ou,{ANSI_BOLD:()=>m_,ANSI_DIM:()=>y_,ANSI_ITALIC:()=>v_,ANSI_RESET:()=>g_,ANSI_STRIKETHROUGH:()=>b_,ANSI_UNDERLINE:()=>S_,ansiRegex:()=>__,stripAnsi:()=>w_});au.exports=f_(ou);var g_="\x1B[0m",m_="\x1B[1m",y_="\x1B[2m",v_="\x1B[3m",S_="\x1B[4m",b_="\x1B[9m",E_=/\x1b\[[0-9;]*m/g;function __(e){let{onlyFirst:u}=e??{},h="(?:\\u001B\\][\\s\\S]*?(?:\\u0007\\u001B\\u005C|\\u009C))|[\\u001B\\u009B][[\\]()#;?]*(?:\\d{1,4}(?:[;:]\\d{0,4})*)?[\\dA-PR-TZcf-nq-uy=><~]";return new RegExp(h,u?void 0:"g")}function w_(e){return e.replace(E_,"")}});var fu=_e((lk,du)=>{var ns=Object.defineProperty,O_=Object.getOwnPropertyDescriptor,A_=Object.getOwnPropertyNames,R_=Object.prototype.hasOwnProperty,ot=(e,u)=>ns(e,"name",{value:u,configurable:!0}),C_=(e,u)=>{for(var h in u)ns(e,h,{get:u[h],enumerable:!0})},I_=(e,u,h,p)=>{if(u&&typeof u=="object"||typeof u=="function")for(let o of A_(u))!R_.call(e,o)&&o!==h&&ns(e,o,{get:()=>u[o],enumerable:!(p=O_(u,o))||p.enumerable});return e},T_=e=>I_(ns({},"__esModule",{value:!0}),e),cu={};C_(cu,{_isNarrowWidth:()=>P_,eastAsianWidth:()=>pu,eastAsianWidthType:()=>hu});du.exports=T_(cu);function Hn(e){return e===161||e===164||e===167||e===168||e===170||e===173||e===174||e>=176&&e<=180||e>=182&&e<=186||e>=188&&e<=191||e===198||e===208||e===215||e===216||e>=222&&e<=225||e===230||e>=232&&e<=234||e===236||e===237||e===240||e===242||e===243||e>=247&&e<=250||e===252||e===254||e===257||e===273||e===275||e===283||e===294||e===295||e===299||e>=305&&e<=307||e===312||e>=319&&e<=322||e===324||e>=328&&e<=331||e===333||e===338||e===339||e===358||e===359||e===363||e===462||e===464||e===466||e===468||e===470||e===472||e===474||e===476||e===593||e===609||e===708||e===711||e>=713&&e<=715||e===717||e===720||e>=728&&e<=731||e===733||e===735||e>=768&&e<=879||e>=913&&e<=929||e>=931&&e<=937||e>=945&&e<=961||e>=963&&e<=969||e===1025||e>=1040&&e<=1103||e===1105||e===8208||e>=8211&&e<=8214||e===8216||e===8217||e===8220||e===8221||e>=8224&&e<=8226||e>=8228&&e<=8231||e===8240||e===8242||e===8243||e===8245||e===8251||e===8254||e===8308||e===8319||e>=8321&&e<=8324||e===8364||e===8451||e===8453||e===8457||e===8467||e===8470||e===8481||e===8482||e===8486||e===8491||e===8531||e===8532||e>=8539&&e<=8542||e>=8544&&e<=8555||e>=8560&&e<=8569||e===8585||e>=8592&&e<=8601||e===8632||e===8633||e===8658||e===8660||e===8679||e===8704||e===8706||e===8707||e===8711||e===8712||e===8715||e===8719||e===8721||e===8725||e===8730||e>=8733&&e<=8736||e===8739||e===8741||e>=8743&&e<=8748||e===8750||e>=8756&&e<=8759||e===8764||e===8765||e===8776||e===8780||e===8786||e===8800||e===8801||e>=8804&&e<=8807||e===8810||e===8811||e===8814||e===8815||e===8834||e===8835||e===8838||e===8839||e===8853||e===8857||e===8869||e===8895||e===8978||e>=9312&&e<=9449||e>=9451&&e<=9547||e>=9552&&e<=9587||e>=9600&&e<=9615||e>=9618&&e<=9621||e===9632||e===9633||e>=9635&&e<=9641||e===9650||e===9651||e===9654||e===9655||e===9660||e===9661||e===9664||e===9665||e>=9670&&e<=9672||e===9675||e>=9678&&e<=9681||e>=9698&&e<=9701||e===9711||e===9733||e===9734||e===9737||e===9742||e===9743||e===9756||e===9758||e===9792||e===9794||e===9824||e===9825||e>=9827&&e<=9829||e>=9831&&e<=9834||e===9836||e===9837||e===9839||e===9886||e===9887||e===9919||e>=9926&&e<=9933||e>=9935&&e<=9939||e>=9941&&e<=9953||e===9955||e===9960||e===9961||e>=9963&&e<=9969||e===9972||e>=9974&&e<=9977||e===9979||e===9980||e===9982||e===9983||e===10045||e>=10102&&e<=10111||e>=11094&&e<=11097||e>=12872&&e<=12879||e>=57344&&e<=63743||e>=65024&&e<=65039||e===65533||e>=127232&&e<=127242||e>=127248&&e<=127277||e>=127280&&e<=127337||e>=127344&&e<=127373||e===127375||e===127376||e>=127387&&e<=127404||e>=917760&&e<=917999||e>=983040&&e<=1048573||e>=1048576&&e<=1114109}ot(Hn,"isAmbiguous");function os(e){return e===12288||e>=65281&&e<=65376||e>=65504&&e<=65510}ot(os,"isFullWidth");function as(e){return e>=4352&&e<=4447||e===8986||e===8987||e===9001||e===9002||e>=9193&&e<=9196||e===9200||e===9203||e===9725||e===9726||e===9748||e===9749||e>=9776&&e<=9783||e>=9800&&e<=9811||e===9855||e>=9866&&e<=9871||e===9875||e===9889||e===9898||e===9899||e===9917||e===9918||e===9924||e===9925||e===9934||e===9940||e===9962||e===9970||e===9971||e===9973||e===9978||e===9981||e===9989||e===9994||e===9995||e===10024||e===10060||e===10062||e>=10067&&e<=10069||e===10071||e>=10133&&e<=10135||e===10160||e===10175||e===11035||e===11036||e===11088||e===11093||e>=11904&&e<=11929||e>=11931&&e<=12019||e>=12032&&e<=12245||e>=12272&&e<=12287||e>=12289&&e<=12350||e>=12353&&e<=12438||e>=12441&&e<=12543||e>=12549&&e<=12591||e>=12593&&e<=12686||e>=12688&&e<=12773||e>=12783&&e<=12830||e>=12832&&e<=12871||e>=12880&&e<=42124||e>=42128&&e<=42182||e>=43360&&e<=43388||e>=44032&&e<=55203||e>=63744&&e<=64255||e>=65040&&e<=65049||e>=65072&&e<=65106||e>=65108&&e<=65126||e>=65128&&e<=65131||e>=94176&&e<=94180||e===94192||e===94193||e>=94208&&e<=100343||e>=100352&&e<=101589||e>=101631&&e<=101640||e>=110576&&e<=110579||e>=110581&&e<=110587||e===110589||e===110590||e>=110592&&e<=110882||e===110898||e>=110928&&e<=110930||e===110933||e>=110948&&e<=110951||e>=110960&&e<=111355||e>=119552&&e<=119638||e>=119648&&e<=119670||e===126980||e===127183||e===127374||e>=127377&&e<=127386||e>=127488&&e<=127490||e>=127504&&e<=127547||e>=127552&&e<=127560||e===127568||e===127569||e>=127584&&e<=127589||e>=127744&&e<=127776||e>=127789&&e<=127797||e>=127799&&e<=127868||e>=127870&&e<=127891||e>=127904&&e<=127946||e>=127951&&e<=127955||e>=127968&&e<=127984||e===127988||e>=127992&&e<=128062||e===128064||e>=128066&&e<=128252||e>=128255&&e<=128317||e>=128331&&e<=128334||e>=128336&&e<=128359||e===128378||e===128405||e===128406||e===128420||e>=128507&&e<=128591||e>=128640&&e<=128709||e===128716||e>=128720&&e<=128722||e>=128725&&e<=128727||e>=128732&&e<=128735||e===128747||e===128748||e>=128756&&e<=128764||e>=128992&&e<=129003||e===129008||e>=129292&&e<=129338||e>=129340&&e<=129349||e>=129351&&e<=129535||e>=129648&&e<=129660||e>=129664&&e<=129673||e>=129679&&e<=129734||e>=129742&&e<=129756||e>=129759&&e<=129769||e>=129776&&e<=129784||e>=131072&&e<=196605||e>=196608&&e<=262141}ot(as,"isWide");function uu(e){return Hn(e)?"ambiguous":os(e)?"fullwidth":e===8361||e>=65377&&e<=65470||e>=65474&&e<=65479||e>=65482&&e<=65487||e>=65490&&e<=65495||e>=65498&&e<=65500||e>=65512&&e<=65518?"halfwidth":e>=32&&e<=126||e===162||e===163||e===165||e===166||e===172||e===175||e>=10214&&e<=10221||e===10629||e===10630?"narrow":as(e)?"wide":"neutral"}ot(uu,"getCategory");function Gn(e){if(!Number.isSafeInteger(e))throw new TypeError(`Expected a code point, got \`${typeof e}\`.`)}ot(Gn,"validate");function hu(e){return Gn(e),uu(e)}ot(hu,"eastAsianWidthType");function pu(e,{ambiguousAsWide:u=!1}={}){return Gn(e),os(e)||as(e)||u&&Hn(e)?2:1}ot(pu,"eastAsianWidth");var P_=ot(e=>!(os(e)||as(e)),"_isNarrowWidth")});var cs=_e((ck,vu)=>{var Kn=Object.defineProperty,x_=Object.getOwnPropertyDescriptor,k_=Object.getOwnPropertyNames,N_=Object.prototype.hasOwnProperty,L_=(e,u)=>{for(var h in u)Kn(e,h,{get:u[h],enumerable:!0})},D_=(e,u,h,p)=>{if(u&&typeof u=="object"||typeof u=="function")for(let o of k_(u))!N_.call(e,o)&&o!==h&&Kn(e,o,{get:()=>u[o],enumerable:!(p=x_(u,o))||p.enumerable});return e},M_=e=>D_(Kn({},"__esModule",{value:!0}),e),mu={};L_(mu,{ansiRegex:()=>ls.ansiRegex,applyLinePrefix:()=>j_,camelToKebab:()=>$_,centerText:()=>q_,fromCharCode:()=>yu,indentString:()=>B_,isBlankString:()=>U_,isNonEmptyString:()=>F_,repeatString:()=>J_,search:()=>H_,stringWidth:()=>W_,stripAnsi:()=>ls.stripAnsi,stripBom:()=>G_,toKebabCase:()=>z_,trimNewlines:()=>K_});vu.exports=M_(mu);var ls=lu(),gu=fu(),yu=String.fromCharCode;function j_(e,u){let{prefix:h=""}={__proto__:null,...u};return h.length?`${h}${e.includes(`
`)?e.replace(/\n/g,`
${h}`):e}`:e}function $_(e){let{length:u}=e;if(!u)return"";let h="",p=0;for(;p<u;){let o=e[p];if(!o)break;let l=o.charCodeAt(0);if(l>=65&&l<=90)for(h.length>0&&(h+="-");p<u;){let n=e[p];if(!n)break;let t=n.charCodeAt(0);if(t>=65&&t<=90)h+=yu(t+32),p+=1;else break}else h+=o,p+=1}return h}function B_(e,u){let{count:h=1}={__proto__:null,...u};return e.replace(/^(?!\s*$)/gm," ".repeat(h))}function U_(e){return typeof e=="string"&&(!e.length||/^\s+$/.test(e))}function F_(e){return typeof e=="string"&&e.length>0}function H_(e,u,h){let{fromIndex:p=0}={__proto__:null,...h},{length:o}=e;if(p>=o)return-1;if(p===0)return e.search(u);let l=p<0?Math.max(o+p,0):p,n=e.slice(l).search(u);return n===-1?-1:n+l}function G_(e){return e.length>0&&e.charCodeAt(0)===65279?e.slice(1):e}var V_=new Intl.Segmenter,Vn,Wn,zn;try{Vn=new RegExp("^(?:\\p{Default_Ignorable_Code_Point}|\\p{Control}|\\p{Mark}|\\p{Surrogate})+$","v"),Wn=new RegExp("^[\\p{Default_Ignorable_Code_Point}\\p{Control}\\p{Format}\\p{Mark}\\p{Surrogate}]+","v"),zn=new RegExp("^\\p{RGI_Emoji}$","v")}catch{Vn=new RegExp("^(?:\\p{Default_Ignorable_Code_Point}|\\p{Control}|\\p{Mark})+$","u"),Wn=/^[\p{Default_Ignorable_Code_Point}\p{Control}\p{Format}\p{Mark}]+/u,zn=new RegExp("^\\p{Extended_Pictographic}$","u")}function W_(e){if(typeof e!="string"||!e.length)return 0;let u=(0,ls.stripAnsi)(e);if(!u.length)return 0;let h=0,p={ambiguousAsWide:!1};for(let{segment:o}of V_.segment(u)){if(Vn.test(o))continue;if(zn.test(o)){h+=2;continue}let l=o.replace(Wn,"").codePointAt(0);if(l!==void 0&&(h+=(0,gu.eastAsianWidth)(l,p),o.length>1))for(let n of o.slice(1)){let t=n.charCodeAt(0);if(t>=65280&&t<=65519){let r=n.codePointAt(0);r!==void 0&&(h+=(0,gu.eastAsianWidth)(r,p))}}}return h}function z_(e){return e.length?e.replace(/([a-z]+[0-9]*)([A-Z])/g,"$1-$2").replace(/_/g,"-").toLowerCase():e}function K_(e){let{length:u}=e;if(u===0)return e;let h=e.charCodeAt(0),p=h!==13&&h!==10;if(u===1)return p?e:"";let o=e.charCodeAt(u-1);if(p&&o!==13&&o!==10)return e;let l=0,n=u;for(;l<n;){let t=e.charCodeAt(l);if(t!==13&&t!==10)break;l+=1}for(;n>l;){let t=e.charCodeAt(n-1);if(t!==13&&t!==10)break;n-=1}return l===0&&n===u?e:e.slice(l,n)}function J_(e,u){return u<=0?"":e.repeat(u)}function q_(e,u){let h=(0,ls.stripAnsi)(e).length;if(h>=u)return e;let p=u-h,o=Math.floor(p/2),l=p-o;return" ".repeat(o)+e+" ".repeat(l)}});var Eu=_e((uk,bu)=>{var Jn=Object.defineProperty,Z_=Object.getOwnPropertyDescriptor,Y_=Object.getOwnPropertyNames,X_=Object.prototype.hasOwnProperty,Q_=(e,u)=>{for(var h in u)Jn(e,h,{get:u[h],enumerable:!0})},ew=(e,u,h,p)=>{if(u&&typeof u=="object"||typeof u=="function")for(let o of Y_(u))!X_.call(e,o)&&o!==h&&Jn(e,o,{get:()=>u[o],enumerable:!(p=Z_(u,o))||p.enumerable});return e},tw=e=>ew(Jn({},"__esModule",{value:!0}),e),Su={};Q_(Su,{isJsonPrimitive:()=>nw,jsonParse:()=>ow});bu.exports=tw(Su);var rw=cs(),sw=JSON.parse;function iw(e){if(!e||typeof e!="object")return!1;let u=e;if(typeof u.length!="number"||typeof u.copy!="function"||typeof u.slice!="function"||typeof u.length=="number"&&u.length>0&&typeof u[0]!="number")return!1;let h=e.constructor;return!!(typeof h?.isBuffer=="function"&&h.isBuffer(e))}function nw(e){return e===null||typeof e=="boolean"||typeof e=="number"||typeof e=="string"}function ow(e,u){let{filepath:h,reviver:p,throws:o}={__proto__:null,...u},l=o===void 0||!!o,n=iw(e)?e.toString("utf8"):e;try{return sw((0,rw.stripBom)(n),p)}catch(t){if(l){let r=t;throw r&&typeof h=="string"&&(r.message=`${h}: ${r.message}`),r}}}});var ps=_e((hk,Cu)=>{var eo=Object.defineProperty,aw=Object.getOwnPropertyDescriptor,lw=Object.getOwnPropertyNames,cw=Object.prototype.hasOwnProperty,uw=(e,u)=>{for(var h in u)eo(e,h,{get:u[h],enumerable:!0})},hw=(e,u,h,p)=>{if(u&&typeof u=="object"||typeof u=="function")for(let o of lw(u))!cw.call(e,o)&&o!==h&&eo(e,o,{get:()=>u[o],enumerable:!(p=aw(u,o))||p.enumerable});return e},pw=e=>hw(eo({},"__esModule",{value:!0}),e),Ou={};uw(Ou,{isAbsolute:()=>hs,isNodeModules:()=>bw,isPath:()=>Ew,isRelative:()=>_w,normalizePath:()=>to,pathLikeToString:()=>at,relativeResolve:()=>Rw,splitPath:()=>ww,trimLeadingDotSlash:()=>Ow});Cu.exports=pw(Ou);var us=zi(),_u=cs(),Au=92,dw=58,Ru=47,fw=97,gw=122,Yn=65,Xn=90,Qn=/[/\\]/,mw=/(?:^|[/\\])node_modules(?:[/\\]|$)/;function hr(e){return e===Ru||e===Au}function yw(e){return e>=Yn&&e<=Xn||e>=fw&&e<=gw}var qn;function vw(){return qn===void 0&&(qn=require("buffer")),qn}var Zn;function Sw(){return Zn===void 0&&(Zn=require("url")),Zn}function bw(e){let u=at(e);return mw.test(u)}function hs(e){let u=at(e),{length:h}=u;if(h===0)return!1;let p=u.charCodeAt(0);return!!(p===Ru||p===Au||us.WIN32&&h>2&&yw(p)&&u.charCodeAt(1)===dw&&hr(u.charCodeAt(2)))}function Ew(e){let u=at(e);if(typeof u!="string"||u.length===0||/^[a-z][a-z0-9+.-]+:/i.test(u))return!1;if(u==="."||u===".."||hs(u))return!0;if(u.includes("/")||u.includes("\\")){if(u.startsWith("@")&&!u.startsWith("@/")){let h=u.split("/");if(h.length<=2&&!h[1]?.includes("\\"))return!1}return!0}return!1}function _w(e){let u=at(e);return typeof u!="string"?!1:u.length===0?!0:!hs(u)}function to(e){let u=at(e),{length:h}=u;if(h===0)return".";if(h<2)return h===1&&u.charCodeAt(0)===92?"/":u;let p=0,o=0,l="";if(h>4&&u.charCodeAt(3)===92){let c=u.charCodeAt(2);(c===63||c===46)&&u.charCodeAt(0)===92&&u.charCodeAt(1)===92&&(o=2,l="//")}if(o===0)if(h>2&&(u.charCodeAt(0)===92&&u.charCodeAt(1)===92&&u.charCodeAt(2)!==92||u.charCodeAt(0)===47&&u.charCodeAt(1)===47&&u.charCodeAt(2)!==47)){let c=-1,a=!1,d=2;for(;d<h&&(u.charCodeAt(d)===47||u.charCodeAt(d)===92);)d++;for(;d<h;){let g=u.charCodeAt(d);if(g===47||g===92){c=d;break}d++}if(c>2){for(d=c;d<h&&(u.charCodeAt(d)===47||u.charCodeAt(d)===92);)d++;d<h&&(a=!0)}if(c>2&&a)o=2,l="//";else{for(p=u.charCodeAt(o);p===47||p===92;)o+=1,p=u.charCodeAt(o);o&&(l="/")}}else{for(p=u.charCodeAt(o);p===47||p===92;)o+=1,p=u.charCodeAt(o);o&&(l="/")}let n=(0,_u.search)(u,Qn,{fromIndex:o});if(n===-1){let c=u.slice(o);return c==="."||c.length===0?l||".":c===".."?l?l.slice(0,-1)||"/":"..":l+c}let t="",r=0,s=0;for(;n!==-1;){let c=u.slice(o,n);if(c.length>0&&c!==".")if(c==="..")if(r>0){let a=t.lastIndexOf("/");if(a===-1)t="",r=0,s>0&&!l&&(t="..",s=1);else{let d=a+1;t.slice(d)===".."?(t=`${t}/${c}`,s+=1):(t=t.slice(0,a),r-=1)}}else l||(t=t+(t.length===0?"":"/")+c,s+=1);else t=t+(t.length===0?"":"/")+c,r+=1;for(o=n+1,p=u.charCodeAt(o);p===47||p===92;)o+=1,p=u.charCodeAt(o);n=(0,_u.search)(u,Qn,{fromIndex:o})}let i=u.slice(o);if(i.length>0&&i!==".")if(i==="..")if(r>0){let c=t.lastIndexOf("/");if(c===-1)t="",r=0,s>0&&!l&&(t="..",s=1);else{let a=c+1;t.slice(a)===".."?(t=`${t}/${i}`,s+=1):(t=t.slice(0,c),r-=1)}}else l||(t=t+(t.length===0?"":"/")+i,s+=1);else t=t+(t.length===0?"":"/")+i,r+=1;return t.length===0?l||".":l+t}function at(e){if(e==null)return"";if(typeof e=="string")return e;let{Buffer:u}=vw();if(u.isBuffer(e))return e.toString("utf8");let h=Sw();if(e instanceof URL)try{return h.fileURLToPath(e)}catch{let p=e.pathname,o=decodeURIComponent(p);if(us.WIN32&&o.startsWith("/")){let l=o.charCodeAt(1)|32;if(!(o.length>=3&&l>=97&&l<=122&&o.charAt(2)===":"))return o}return o}return String(e)}function ww(e){let u=at(e);return u===""?[]:u.split(Qn)}function Ow(e){let u=at(e);return u.startsWith("./")||u.startsWith(".\\")?u.slice(2):u}function wu(...e){let u="",h=!1;for(let p=e.length-1;p>=0&&!h;p-=1){let o=e[p];typeof o!="string"||o.length===0||(u=o+(u.length===0?"":`/${u}`),h=hs(o))}return h||(u=require("process").cwd()+(u.length===0?"":`/${u}`)),to(u)}function Aw(e,u){if(e===u)return"";let h=wu(e),p=wu(u);if(h===p)return"";if(us.WIN32){let d=h.toLowerCase(),g=p.toLowerCase();if(d===g)return""}let o=1,l=h.length,n=l-o,t=1,r=p.length-t,s=n<r?n:r,i=-1,c=0;for(;c<s;c+=1){let d=h.charCodeAt(o+c),g=p.charCodeAt(t+c);if(us.WIN32&&(d>=Yn&&d<=Xn&&(d+=32),g>=Yn&&g<=Xn&&(g+=32)),d!==g)break;hr(h.charCodeAt(o+c))&&(i=c)}if(c===s){if(r>s){let d=p.charCodeAt(t+c);if(hr(d))return p.slice(t+c+1);if(c===0)return p.slice(t+c)}else if(n>s){let d=h.charCodeAt(o+c);hr(d)?i=c:c===0&&(i=0)}}let a="";for(c=o+i+1;c<=l;c+=1){let d=h.charCodeAt(c);(c===l||hr(d))&&(a+=a.length===0?"..":"/..")}return a+p.slice(t+i)}function Rw(e,u){let h=Aw(e,u);return h===""?"":to(h)}});var so=_e((pk,Pu)=>{var ro=Object.defineProperty,Cw=Object.getOwnPropertyDescriptor,Iw=Object.getOwnPropertyNames,Tw=Object.prototype.hasOwnProperty,Pw=(e,u)=>{for(var h in u)ro(e,h,{get:u[h],enumerable:!0})},xw=(e,u,h,p)=>{if(u&&typeof u=="object"||typeof u=="function")for(let o of Iw(u))!Tw.call(e,o)&&o!==h&&ro(e,o,{get:()=>u[o],enumerable:!(p=Cw(u,o))||p.enumerable});return e},kw=e=>xw(ro({},"__esModule",{value:!0}),e),Iu={};Pw(Iu,{clearPath:()=>Nw,getPathValue:()=>Lw,hasOverride:()=>Dw,invalidateCaches:()=>fs,registerCacheInvalidation:()=>Mw,resetPaths:()=>jw,setPath:()=>$w});Pu.exports=kw(Iu);var Lt=new Map,ds=new Map,Tu=[];function Nw(e){Lt.delete(e),fs()}function Lw(e,u){if(Lt.has(e))return Lt.get(e);if(ds.has(e))return ds.get(e);let h=u();return ds.set(e,h),h}function Dw(e){return Lt.has(e)}function fs(){ds.clear();for(let e of Tu)try{e()}catch{}}function Mw(e){Tu.push(e)}function jw(){Lt.clear(),fs()}function $w(e,u){Lt.set(e,u),fs()}});var Nu=_e((dk,ku)=>{var io=Object.defineProperty,Bw=Object.getOwnPropertyDescriptor,Uw=Object.getOwnPropertyNames,Fw=Object.prototype.hasOwnProperty,Hw=(e,u)=>{for(var h in u)io(e,h,{get:u[h],enumerable:!0})},Gw=(e,u,h,p)=>{if(u&&typeof u=="object"||typeof u=="function")for(let o of Uw(u))!Fw.call(e,o)&&o!==h&&io(e,o,{get:()=>u[o],enumerable:!(p=Bw(u,o))||p.enumerable});return e},Vw=e=>Gw(io({},"__esModule",{value:!0}),e),xu={};Hw(xu,{getHome:()=>zw});ku.exports=Vw(xu);var Ww=nr();function zw(){return(0,Ww.getEnvValue)("HOME")}});var Mu=_e((fk,Du)=>{var no=Object.defineProperty,Kw=Object.getOwnPropertyDescriptor,Jw=Object.getOwnPropertyNames,qw=Object.prototype.hasOwnProperty,Zw=(e,u)=>{for(var h in u)no(e,h,{get:u[h],enumerable:!0})},Yw=(e,u,h,p)=>{if(u&&typeof u=="object"||typeof u=="function")for(let o of Jw(u))!qw.call(e,o)&&o!==h&&no(e,o,{get:()=>u[o],enumerable:!(p=Kw(u,o))||p.enumerable});return e},Xw=e=>Yw(no({},"__esModule",{value:!0}),e),Lu={};Zw(Lu,{envAsBoolean:()=>Qw,envAsNumber:()=>eO,envAsString:()=>tO});Du.exports=Xw(Lu);function Qw(e){if(!e)return!1;let u=e.toLowerCase();return u==="true"||u==="1"||u==="yes"}function eO(e){if(!e)return 0;let u=Number(e);return Number.isNaN(u)?0:u}function tO(e){return e||""}});var Bu=_e((gk,$u)=>{var oo=Object.defineProperty,rO=Object.getOwnPropertyDescriptor,sO=Object.getOwnPropertyNames,iO=Object.prototype.hasOwnProperty,nO=(e,u)=>{for(var h in u)oo(e,h,{get:u[h],enumerable:!0})},oO=(e,u,h,p)=>{if(u&&typeof u=="object"||typeof u=="function")for(let o of sO(u))!iO.call(e,o)&&o!==h&&oo(e,o,{get:()=>u[o],enumerable:!(p=rO(u,o))||p.enumerable});return e},aO=e=>oO(oo({},"__esModule",{value:!0}),e),ju={};nO(ju,{getSocketAcceptRisks:()=>lO,getSocketApiBaseUrl:()=>cO,getSocketApiProxy:()=>uO,getSocketApiTimeout:()=>hO,getSocketApiToken:()=>pO,getSocketCacacheDir:()=>dO,getSocketConfig:()=>fO,getSocketDebug:()=>gO,getSocketDlxDirEnv:()=>mO,getSocketHome:()=>yO,getSocketNoApiToken:()=>vO,getSocketNpmRegistry:()=>SO,getSocketOrgSlug:()=>bO,getSocketRegistryUrl:()=>EO,getSocketViewAllRisks:()=>_O});$u.exports=aO(ju);var gs=Mu(),Le=nr();function lO(){return(0,gs.envAsBoolean)((0,Le.getEnvValue)("SOCKET_ACCEPT_RISKS"))}function cO(){return(0,Le.getEnvValue)("SOCKET_API_BASE_URL")}function uO(){return(0,Le.getEnvValue)("SOCKET_API_PROXY")}function hO(){return(0,gs.envAsNumber)((0,Le.getEnvValue)("SOCKET_API_TIMEOUT"))}function pO(){return(0,Le.getEnvValue)("SOCKET_API_TOKEN")}function dO(){return(0,Le.getEnvValue)("SOCKET_CACACHE_DIR")}function fO(){return(0,Le.getEnvValue)("SOCKET_CONFIG")}function gO(){return(0,Le.getEnvValue)("SOCKET_DEBUG")}function mO(){return(0,Le.getEnvValue)("SOCKET_DLX_DIR")}function yO(){return(0,Le.getEnvValue)("SOCKET_HOME")}function vO(){return(0,gs.envAsBoolean)((0,Le.getEnvValue)("SOCKET_NO_API_TOKEN"))}function SO(){return(0,Le.getEnvValue)("SOCKET_NPM_REGISTRY")}function bO(){return(0,Le.getEnvValue)("SOCKET_ORG_SLUG")}function EO(){return(0,Le.getEnvValue)("SOCKET_REGISTRY_URL")}function _O(){return(0,gs.envAsBoolean)((0,Le.getEnvValue)("SOCKET_VIEW_ALL_RISKS"))}});var Hu=_e((mk,Fu)=>{var ao=Object.defineProperty,wO=Object.getOwnPropertyDescriptor,OO=Object.getOwnPropertyNames,AO=Object.prototype.hasOwnProperty,RO=(e,u)=>{for(var h in u)ao(e,h,{get:u[h],enumerable:!0})},CO=(e,u,h,p)=>{if(u&&typeof u=="object"||typeof u=="function")for(let o of OO(u))!AO.call(e,o)&&o!==h&&ao(e,o,{get:()=>u[o],enumerable:!(p=wO(u,o))||p.enumerable});return e},IO=e=>CO(ao({},"__esModule",{value:!0}),e),Uu={};RO(Uu,{getAppdata:()=>TO,getComspec:()=>kO,getLocalappdata:()=>PO,getUserprofile:()=>xO});Fu.exports=IO(Uu);var ms=nr();function TO(){return(0,ms.getEnvValue)("APPDATA")}function PO(){return(0,ms.getEnvValue)("LOCALAPPDATA")}function xO(){return(0,ms.getEnvValue)("USERPROFILE")}function kO(){return(0,ms.getEnvValue)("COMSPEC")}});var lt=_e((yk,Wu)=>{var lo=Object.defineProperty,NO=Object.getOwnPropertyDescriptor,LO=Object.getOwnPropertyNames,DO=Object.prototype.hasOwnProperty,MO=(e,u)=>{for(var h in u)lo(e,h,{get:u[h],enumerable:!0})},jO=(e,u,h,p)=>{if(u&&typeof u=="object"||typeof u=="function")for(let o of LO(u))!DO.call(e,o)&&o!==h&&lo(e,o,{get:()=>u[o],enumerable:!(p=NO(u,o))||p.enumerable});return e},$O=e=>jO(lo({},"__esModule",{value:!0}),e),Gu={};MO(Gu,{CACHE_SOCKET_API_DIR:()=>eA,REGISTRY:()=>tA,REGISTRY_SCOPE_DELIMITER:()=>rA,SOCKET_API_BASE_URL:()=>BO,SOCKET_APP_PREFIX:()=>XO,SOCKET_CLI_APP_NAME:()=>JO,SOCKET_DLX_APP_NAME:()=>qO,SOCKET_FIREWALL_APP_NAME:()=>ZO,SOCKET_GITHUB_ORG:()=>VO,SOCKET_IPC_HANDSHAKE:()=>QO,SOCKET_OVERRIDE_SCOPE:()=>GO,SOCKET_PUBLIC_API_KEY:()=>Vu,SOCKET_PUBLIC_API_TOKEN:()=>UO,SOCKET_REGISTRY_APP_NAME:()=>YO,SOCKET_REGISTRY_NPM_ORG:()=>KO,SOCKET_REGISTRY_PACKAGE_NAME:()=>zO,SOCKET_REGISTRY_REPO_NAME:()=>WO,SOCKET_REGISTRY_SCOPE:()=>FO,SOCKET_SECURITY_SCOPE:()=>HO});Wu.exports=$O(Gu);var BO="https://api.socket.dev/v0",Vu="sktsec_t_--RAN5U4ivauy4w37-6aoKyYPDt5ZbaT5JBVMqiwKo_api",UO=Vu,FO="@socketregistry",HO="@socketsecurity",GO="@socketoverride",VO="SocketDev",WO="socket-registry",zO="@socketsecurity/registry",KO="socketregistry",JO="socket",qO="dlx",ZO="sfw",YO="registry",XO="_",QO="SOCKET_IPC_HANDSHAKE",eA="socket-api",tA="registry",rA="__"});var Ju=_e((vk,Ku)=>{var co=Object.defineProperty,sA=Object.getOwnPropertyDescriptor,iA=Object.getOwnPropertyNames,nA=Object.prototype.hasOwnProperty,oA=(e,u)=>{for(var h in u)co(e,h,{get:u[h],enumerable:!0})},aA=(e,u,h,p)=>{if(u&&typeof u=="object"||typeof u=="function")for(let o of iA(u))!nA.call(e,o)&&o!==h&&co(e,o,{get:()=>u[o],enumerable:!(p=sA(u,o))||p.enumerable});return e},lA=e=>aA(co({},"__esModule",{value:!0}),e),zu={};oA(zu,{CACHE_GITHUB_DIR:()=>uA,GITHUB_API_BASE_URL:()=>cA});Ku.exports=lA(zu);var cA="https://api.github.com",uA="github"});var ho=_e((Sk,ih)=>{var hA=Object.create,Ss=Object.defineProperty,pA=Object.getOwnPropertyDescriptor,dA=Object.getOwnPropertyNames,fA=Object.getPrototypeOf,gA=Object.prototype.hasOwnProperty,mA=(e,u)=>{for(var h in u)Ss(e,h,{get:u[h],enumerable:!0})},qu=(e,u,h,p)=>{if(u&&typeof u=="object"||typeof u=="function")for(let o of dA(u))!gA.call(e,o)&&o!==h&&Ss(e,o,{get:()=>u[o],enumerable:!(p=pA(u,o))||p.enumerable});return e},Zu=(e,u,h)=>(h=e!=null?hA(fA(e)):{},qu(u||!e||!e.__esModule?Ss(h,"default",{value:e,enumerable:!0}):h,e)),yA=e=>qu(Ss({},"__esModule",{value:!0}),e),Yu={};mA(Yu,{getOsHomeDir:()=>Qu,getOsTmpDir:()=>bA,getSocketAppCacheDir:()=>eh,getSocketAppCacheTtlDir:()=>th,getSocketAppDir:()=>bs,getSocketCacacheDir:()=>_A,getSocketCliDir:()=>OA,getSocketDlxDir:()=>wA,getSocketHomePath:()=>EA,getSocketRegistryDir:()=>AA,getSocketRegistryGithubCacheDir:()=>RA,getSocketUserDir:()=>dr,getUserHomeDir:()=>rh,invalidateCache:()=>sh});ih.exports=yA(Yu);var Xu=Zu(require("os")),dt=Zu(require("path")),vA=Nu(),vs=Bu(),SA=Hu(),rt=ps(),uo=so();function Qu(){return(0,uo.getPathValue)("homedir",()=>Xu.homedir())}function bA(){return(0,uo.getPathValue)("tmpdir",()=>Xu.tmpdir())}function EA(){return dr()}var ys;function dr(){return ys===void 0&&(ys=(0,rt.normalizePath)(dt.join(rh(),pt().DOT_SOCKET_DIR))),ys}function bs(e){return(0,rt.normalizePath)(dt.join(dr(),`${lt().SOCKET_APP_PREFIX}${e}`))}var pr;function _A(){return pr===void 0&&((0,vs.getSocketCacacheDir)()?pr=(0,rt.normalizePath)((0,vs.getSocketCacacheDir)()):pr=(0,rt.normalizePath)(dt.join(dr(),`${lt().SOCKET_APP_PREFIX}cacache`))),pr}function wA(){return(0,vs.getSocketDlxDirEnv)()?(0,rt.normalizePath)((0,vs.getSocketDlxDirEnv)()):(0,rt.normalizePath)(dt.join(dr(),`${lt().SOCKET_APP_PREFIX}${lt().SOCKET_DLX_APP_NAME}`))}function eh(e){return(0,rt.normalizePath)(dt.join(bs(e),pt().CACHE_DIR))}function th(e){return(0,rt.normalizePath)(dt.join(eh(e),pt().CACHE_TTL_DIR))}function OA(){return bs(lt().SOCKET_CLI_APP_NAME)}function AA(){return bs(lt().SOCKET_REGISTRY_APP_NAME)}function RA(){return(0,rt.normalizePath)(dt.join(th(lt().SOCKET_REGISTRY_APP_NAME),Ju().CACHE_GITHUB_DIR))}function rh(){let e=(0,vA.getHome)();return e||(0,SA.getUserprofile)()||Qu()}function sh(){ys=void 0,pr=void 0}(0,uo.registerCacheInvalidation)(sh)});var To=_e((Nk,Qh)=>{var CA=Object.create,fr=Object.defineProperty,IA=Object.getOwnPropertyDescriptor,TA=Object.getOwnPropertyNames,PA=Object.getPrototypeOf,xA=Object.prototype.hasOwnProperty,se=(e,u)=>fr(e,"name",{value:u,configurable:!0}),ye=(e,u)=>()=>(u||e((u={exports:{}}).exports,u),u.exports),kA=(e,u)=>{for(var h in u)fr(e,h,{get:u[h],enumerable:!0})},ph=(e,u,h,p)=>{if(u&&typeof u=="object"||typeof u=="function")for(let o of TA(u))!xA.call(e,o)&&o!==h&&fr(e,o,{get:()=>u[o],enumerable:!(p=IA(u,o))||p.enumerable});return e},Ce=(e,u,h)=>(h=e!=null?CA(PA(e)):{},ph(u||!e||!e.__esModule?fr(h,"default",{value:e,enumerable:!0}):h,e)),NA=e=>ph(fr({},"__esModule",{value:!0}),e),LA=ye(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.splitWhen=e.flatten=void 0;function u(p){return p.reduce((o,l)=>[].concat(o,l),[])}se(u,"flatten"),e.flatten=u;function h(p,o){let l=[[]],n=0;for(let t of p)o(t)?(n++,l[n]=[]):l[n].push(t);return l}se(h,"splitWhen"),e.splitWhen=h}),DA=ye(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isEnoentCodeError=void 0;function u(h){return h.code==="ENOENT"}se(u,"isEnoentCodeError"),e.isEnoentCodeError=u}),MA=ye(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createDirentFromStats=void 0;var u=class{static{se(this,"DirentFromStats")}constructor(p,o){this.name=p,this.isBlockDevice=o.isBlockDevice.bind(o),this.isCharacterDevice=o.isCharacterDevice.bind(o),this.isDirectory=o.isDirectory.bind(o),this.isFIFO=o.isFIFO.bind(o),this.isFile=o.isFile.bind(o),this.isSocket=o.isSocket.bind(o),this.isSymbolicLink=o.isSymbolicLink.bind(o)}};function h(p,o){return new u(p,o)}se(h,"createDirentFromStats"),e.createDirentFromStats=h}),jA=ye(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.convertPosixPathToPattern=e.convertWindowsPathToPattern=e.convertPathToPattern=e.escapePosixPath=e.escapeWindowsPath=e.escape=e.removeLeadingDotSegment=e.makeAbsolute=e.unixify=void 0;var u=require("os"),h=require("path"),p=u.platform()==="win32",o=2,l=/(\\?)([()*?[\]{|}]|^!|[!+@](?=\()|\\(?![!()*+?@[\]{|}]))/g,n=/(\\?)([()[\]{}]|^!|[!+@](?=\())/g,t=/^\\\\([.?])/,r=/\\(?![!()+@[\]{}])/g;function s(f){return f.replace(/\\/g,"/")}se(s,"unixify"),e.unixify=s;function i(f,y){return h.resolve(f,y)}se(i,"makeAbsolute"),e.makeAbsolute=i;function c(f){if(f.charAt(0)==="."){let y=f.charAt(1);if(y==="/"||y==="\\")return f.slice(o)}return f}se(c,"removeLeadingDotSegment"),e.removeLeadingDotSegment=c,e.escape=p?a:d;function a(f){return f.replace(n,"\\$2")}se(a,"escapeWindowsPath"),e.escapeWindowsPath=a;function d(f){return f.replace(l,"\\$2")}se(d,"escapePosixPath"),e.escapePosixPath=d,e.convertPathToPattern=p?g:m;function g(f){return a(f).replace(t,"//$1").replace(r,"/")}se(g,"convertWindowsPathToPattern"),e.convertWindowsPathToPattern=g;function m(f){return d(f)}se(m,"convertPosixPathToPattern"),e.convertPosixPathToPattern=m}),$A=ye((e,u)=>{u.exports=se(function(h){if(typeof h!="string"||h==="")return!1;for(var p;p=/(\\).|([@?!+*]\(.*\))/g.exec(h);){if(p[2])return!0;h=h.slice(p.index+p[0].length)}return!1},"isExtglob")}),dh=ye((e,u)=>{var h=$A(),p={"{":"}","(":")","[":"]"},o=se(function(n){if(n[0]==="!")return!0;for(var t=0,r=-2,s=-2,i=-2,c=-2,a=-2;t<n.length;){if(n[t]==="*"||n[t+1]==="?"&&/[\].+)]/.test(n[t])||s!==-1&&n[t]==="["&&n[t+1]!=="]"&&(s<t&&(s=n.indexOf("]",t)),s>t&&(a===-1||a>s||(a=n.indexOf("\\",t),a===-1||a>s)))||i!==-1&&n[t]==="{"&&n[t+1]!=="}"&&(i=n.indexOf("}",t),i>t&&(a=n.indexOf("\\",t),a===-1||a>i))||c!==-1&&n[t]==="("&&n[t+1]==="?"&&/[:!=]/.test(n[t+2])&&n[t+3]!==")"&&(c=n.indexOf(")",t),c>t&&(a=n.indexOf("\\",t),a===-1||a>c))||r!==-1&&n[t]==="("&&n[t+1]!=="|"&&(r<t&&(r=n.indexOf("|",t)),r!==-1&&n[r+1]!==")"&&(c=n.indexOf(")",r),c>r&&(a=n.indexOf("\\",r),a===-1||a>c))))return!0;if(n[t]==="\\"){var d=n[t+1];t+=2;var g=p[d];if(g){var m=n.indexOf(g,t);m!==-1&&(t=m+1)}if(n[t]==="!")return!0}else t++}return!1},"strictCheck"),l=se(function(n){if(n[0]==="!")return!0;for(var t=0;t<n.length;){if(/[*?{}()[\]]/.test(n[t]))return!0;if(n[t]==="\\"){var r=n[t+1];t+=2;var s=p[r];if(s){var i=n.indexOf(s,t);i!==-1&&(t=i+1)}if(n[t]==="!")return!0}else t++}return!1},"relaxedCheck");u.exports=se(function(n,t){if(typeof n!="string"||n==="")return!1;if(h(n))return!0;var r=o;return t&&t.strict===!1&&(r=l),r(n)},"isGlob")}),BA=ye((e,u)=>{"use strict";var h=dh(),p=require("path").posix.dirname,o=require("os").platform()==="win32",l="/",n=/\\/g,t=/[\{\[].*[\}\]]$/,r=/(^|[^\\])([\{\[]|\([^\)]+$)/,s=/\\([\!\*\?\|\[\]\(\)\{\}])/g;u.exports=se(function(i,c){var a=Object.assign({flipBackslashes:!0},c);a.flipBackslashes&&o&&i.indexOf(l)<0&&(i=i.replace(n,l)),t.test(i)&&(i+=l),i+="a";do i=p(i);while(h(i)||r.test(i));return i.replace(s,"$1")},"globParent")}),mo=ye(e=>{"use strict";e.isInteger=u=>typeof u=="number"?Number.isInteger(u):typeof u=="string"&&u.trim()!==""?Number.isInteger(Number(u)):!1,e.find=(u,h)=>u.nodes.find(p=>p.type===h),e.exceedsLimit=(u,h,p=1,o)=>o===!1||!e.isInteger(u)||!e.isInteger(h)?!1:(Number(h)-Number(u))/Number(p)>=o,e.escapeNode=(u,h=0,p)=>{let o=u.nodes[h];o&&(p&&o.type===p||o.type==="open"||o.type==="close")&&o.escaped!==!0&&(o.value="\\"+o.value,o.escaped=!0)},e.encloseBrace=u=>u.type!=="brace"||u.commas>>0+u.ranges>>0?!1:(u.invalid=!0,!0),e.isInvalidBrace=u=>u.type!=="brace"?!1:u.invalid===!0||u.dollar?!0:!(u.commas>>0+u.ranges>>0)||u.open!==!0||u.close!==!0?(u.invalid=!0,!0):!1,e.isOpenOrClose=u=>u.type==="open"||u.type==="close"?!0:u.open===!0||u.close===!0,e.reduce=u=>u.reduce((h,p)=>(p.type==="text"&&h.push(p.value),p.type==="range"&&(p.type="text"),h),[]),e.flatten=(...u)=>{let h=[],p=se(o=>{for(let l=0;l<o.length;l++){let n=o[l];if(Array.isArray(n)){p(n);continue}n!==void 0&&h.push(n)}return h},"flat");return p(u),h}}),yo=ye((e,u)=>{"use strict";var h=mo();u.exports=(p,o={})=>{let l=se((n,t={})=>{let r=o.escapeInvalid&&h.isInvalidBrace(t),s=n.invalid===!0&&o.escapeInvalid===!0,i="";if(n.value)return(r||s)&&h.isOpenOrClose(n)?"\\"+n.value:n.value;if(n.value)return n.value;if(n.nodes)for(let c of n.nodes)i+=l(c);return i},"stringify");return l(p)}}),UA=ye((e,u)=>{"use strict";u.exports=function(h){return typeof h=="number"?h-h===0:typeof h=="string"&&h.trim()!==""?Number.isFinite?Number.isFinite(+h):isFinite(+h):!1}}),FA=ye((e,u)=>{"use strict";var h=UA(),p=se((S,b,E)=>{if(h(S)===!1)throw new TypeError("toRegexRange: expected the first argument to be a number");if(b===void 0||S===b)return String(S);if(h(b)===!1)throw new TypeError("toRegexRange: expected the second argument to be a number.");let _={relaxZeros:!0,...E};typeof _.strictZeros=="boolean"&&(_.relaxZeros=_.strictZeros===!1);let w=String(_.relaxZeros),O=String(_.shorthand),R=String(_.capture),I=String(_.wrap),P=S+":"+b+"="+w+O+R+I;if(p.cache.hasOwnProperty(P))return p.cache[P].result;let L=Math.min(S,b),M=Math.max(S,b);if(Math.abs(L-M)===1){let B=S+"|"+b;return _.capture?`(${B})`:_.wrap===!1?B:`(?:${B})`}let x=f(S)||f(b),j={min:S,max:b,a:L,b:M},U=[],V=[];if(x&&(j.isPadded=x,j.maxLen=String(j.max).length),L<0){let B=M<0?Math.abs(M):1;V=t(B,Math.abs(L),j,_),L=j.a=0}return M>=0&&(U=t(L,M,j,_)),j.negatives=V,j.positives=U,j.result=o(V,U,_),_.capture===!0?j.result=`(${j.result})`:_.wrap!==!1&&U.length+V.length>1&&(j.result=`(?:${j.result})`),p.cache[P]=j,j.result},"toRegexRange");function o(S,b,E){let _=r(S,b,"-",!1,E)||[],w=r(b,S,"",!1,E)||[],O=r(S,b,"-?",!0,E)||[];return _.concat(O).concat(w).join("|")}se(o,"collatePatterns");function l(S,b){let E=1,_=1,w=a(S,E),O=new Set([b]);for(;S<=w&&w<=b;)O.add(w),E+=1,w=a(S,E);for(w=d(b+1,_)-1;S<w&&w<=b;)O.add(w),_+=1,w=d(b+1,_)-1;return O=[...O],O.sort(i),O}se(l,"splitToRanges");function n(S,b,E){if(S===b)return{pattern:S,count:[],digits:0};let _=s(S,b),w=_.length,O="",R=0;for(let I=0;I<w;I++){let[P,L]=_[I];P===L?O+=P:P!=="0"||L!=="9"?O+=m(P,L,E):R++}return R&&(O+=E.shorthand===!0?"\\d":"[0-9]"),{pattern:O,count:[R],digits:w}}se(n,"rangeToPattern");function t(S,b,E,_){let w=l(S,b),O=[],R=S,I;for(let P=0;P<w.length;P++){let L=w[P],M=n(String(R),String(L),_),x="";if(!E.isPadded&&I&&I.pattern===M.pattern){I.count.length>1&&I.count.pop(),I.count.push(M.count[0]),I.string=I.pattern+g(I.count),R=L+1;continue}E.isPadded&&(x=y(L,E,_)),M.string=x+M.pattern+g(M.count),O.push(M),R=L+1,I=M}return O}se(t,"splitToPatterns");function r(S,b,E,_,w){let O=[];for(let R of S){let{string:I}=R;!_&&!c(b,"string",I)&&O.push(E+I),_&&c(b,"string",I)&&O.push(E+I)}return O}se(r,"filterPatterns");function s(S,b){let E=[];for(let _=0;_<S.length;_++)E.push([S[_],b[_]]);return E}se(s,"zip");function i(S,b){return S>b?1:b>S?-1:0}se(i,"compare");function c(S,b,E){return S.some(_=>_[b]===E)}se(c,"contains");function a(S,b){return Number(String(S).slice(0,-b)+"9".repeat(b))}se(a,"countNines");function d(S,b){return S-S%Math.pow(10,b)}se(d,"countZeros");function g(S){let[b=0,E=""]=S;return E||b>1?`{${b+(E?","+E:"")}}`:""}se(g,"toQuantifier");function m(S,b,E){return`[${S}${b-S===1?"":"-"}${b}]`}se(m,"toCharacterClass");function f(S){return/^-?(0+)\d/.test(S)}se(f,"hasPadding");function y(S,b,E){if(!b.isPadded)return S;let _=Math.abs(b.maxLen-String(S).length),w=E.relaxZeros!==!1;switch(_){case 0:return"";case 1:return w?"0?":"0";case 2:return w?"0{0,2}":"00";default:return w?`0{0,${_}}`:`0{${_}}`}}se(y,"padZeros"),p.cache={},p.clearCache=()=>p.cache={},u.exports=p}),fh=ye((e,u)=>{"use strict";var h=require("util"),p=FA(),o=se(_=>_!==null&&typeof _=="object"&&!Array.isArray(_),"isObject"),l=se(_=>w=>_===!0?Number(w):String(w),"transform"),n=se(_=>typeof _=="number"||typeof _=="string"&&_!=="","isValidValue"),t=se(_=>Number.isInteger(+_),"isNumber"),r=se(_=>{let w=`${_}`,O=-1;if(w[0]==="-"&&(w=w.slice(1)),w==="0")return!1;for(;w[++O]==="0";);return O>0},"zeros"),s=se((_,w,O)=>typeof _=="string"||typeof w=="string"?!0:O.stringify===!0,"stringify"),i=se((_,w,O)=>{if(w>0){let R=_[0]==="-"?"-":"";R&&(_=_.slice(1)),_=R+_.padStart(R?w-1:w,"0")}return O===!1?String(_):_},"pad"),c=se((_,w)=>{let O=_[0]==="-"?"-":"";for(O&&(_=_.slice(1),w--);_.length<w;)_="0"+_;return O?"-"+_:_},"toMaxLen"),a=se((_,w,O)=>{_.negatives.sort((M,x)=>M<x?-1:M>x?1:0),_.positives.sort((M,x)=>M<x?-1:M>x?1:0);let R=w.capture?"":"?:",I="",P="",L;return _.positives.length&&(I=_.positives.map(M=>c(String(M),O)).join("|")),_.negatives.length&&(P=`-(${R}${_.negatives.map(M=>c(String(M),O)).join("|")})`),I&&P?L=`${I}|${P}`:L=I||P,w.wrap?`(${R}${L})`:L},"toSequence"),d=se((_,w,O,R)=>{if(O)return p(_,w,{wrap:!1,...R});let I=String.fromCharCode(_);if(_===w)return I;let P=String.fromCharCode(w);return`[${I}-${P}]`},"toRange"),g=se((_,w,O)=>{if(Array.isArray(_)){let R=O.wrap===!0,I=O.capture?"":"?:";return R?`(${I}${_.join("|")})`:_.join("|")}return p(_,w,O)},"toRegex"),m=se((..._)=>new RangeError("Invalid range arguments: "+h.inspect(..._)),"rangeError"),f=se((_,w,O)=>{if(O.strictRanges===!0)throw m([_,w]);return[]},"invalidRange"),y=se((_,w)=>{if(w.strictRanges===!0)throw new TypeError(`Expected step "${_}" to be a number`);return[]},"invalidStep"),S=se((_,w,O=1,R={})=>{let I=Number(_),P=Number(w);if(!Number.isInteger(I)||!Number.isInteger(P)){if(R.strictRanges===!0)throw m([_,w]);return[]}I===0&&(I=0),P===0&&(P=0);let L=I>P,M=String(_),x=String(w),j=String(O);O=Math.max(Math.abs(O),1);let U=r(M)||r(x)||r(j),V=U?Math.max(M.length,x.length,j.length):0,B=U===!1&&s(_,w,R)===!1,G=R.transform||l(B);if(R.toRegex&&O===1)return d(c(_,V),c(w,V),!0,R);let W={negatives:[],positives:[]},k=se(C=>W[C<0?"negatives":"positives"].push(Math.abs(C)),"push"),D=[],T=0;for(;L?I>=P:I<=P;)R.toRegex===!0&&O>1?k(I):D.push(i(G(I,T),V,B)),I=L?I-O:I+O,T++;return R.toRegex===!0?O>1?a(W,R,V):g(D,null,{wrap:!1,...R}):D},"fillNumbers"),b=se((_,w,O=1,R={})=>{if(!t(_)&&_.length>1||!t(w)&&w.length>1)return f(_,w,R);let I=R.transform||(B=>String.fromCharCode(B)),P=`${_}`.charCodeAt(0),L=`${w}`.charCodeAt(0),M=P>L,x=Math.min(P,L),j=Math.max(P,L);if(R.toRegex&&O===1)return d(x,j,!1,R);let U=[],V=0;for(;M?P>=L:P<=L;)U.push(I(P,V)),P=M?P-O:P+O,V++;return R.toRegex===!0?g(U,null,{wrap:!1,options:R}):U},"fillLetters"),E=se((_,w,O,R={})=>{if(w==null&&n(_))return[_];if(!n(_)||!n(w))return f(_,w,R);if(typeof O=="function")return E(_,w,1,{transform:O});if(o(O))return E(_,w,0,O);let I={...R};return I.capture===!0&&(I.wrap=!0),O=O||I.step||1,t(O)?t(_)&&t(w)?S(_,w,O,I):b(_,w,Math.max(Math.abs(O),1),I):O!=null&&!o(O)?y(O,I):E(_,w,1,O)},"fill");u.exports=E}),HA=ye((e,u)=>{"use strict";var h=fh(),p=mo(),o=se((l,n={})=>{let t=se((r,s={})=>{let i=p.isInvalidBrace(s),c=r.invalid===!0&&n.escapeInvalid===!0,a=i===!0||c===!0,d=n.escapeInvalid===!0?"\\":"",g="";if(r.isOpen===!0||r.isClose===!0)return d+r.value;if(r.type==="open")return a?d+r.value:"(";if(r.type==="close")return a?d+r.value:")";if(r.type==="comma")return r.prev.type==="comma"?"":a?r.value:"|";if(r.value)return r.value;if(r.nodes&&r.ranges>0){let m=p.reduce(r.nodes),f=h(...m,{...n,wrap:!1,toRegex:!0,strictZeros:!0});if(f.length!==0)return m.length>1&&f.length>1?`(${f})`:f}if(r.nodes)for(let m of r.nodes)g+=t(m,r);return g},"walk");return t(l)},"compile");u.exports=o}),GA=ye((e,u)=>{"use strict";var h=fh(),p=yo(),o=mo(),l=se((t="",r="",s=!1)=>{let i=[];if(t=[].concat(t),r=[].concat(r),!r.length)return t;if(!t.length)return s?o.flatten(r).map(c=>`{${c}}`):r;for(let c of t)if(Array.isArray(c))for(let a of c)i.push(l(a,r,s));else for(let a of r)s===!0&&typeof a=="string"&&(a=`{${a}}`),i.push(Array.isArray(a)?l(c,a,s):c+a);return o.flatten(i)},"append"),n=se((t,r={})=>{let s=r.rangeLimit===void 0?1e3:r.rangeLimit,i=se((c,a={})=>{c.queue=[];let d=a,g=a.queue;for(;d.type!=="brace"&&d.type!=="root"&&d.parent;)d=d.parent,g=d.queue;if(c.invalid||c.dollar){g.push(l(g.pop(),p(c,r)));return}if(c.type==="brace"&&c.invalid!==!0&&c.nodes.length===2){g.push(l(g.pop(),["{}"]));return}if(c.nodes&&c.ranges>0){let S=o.reduce(c.nodes);if(o.exceedsLimit(...S,r.step,s))throw new RangeError("expanded array length exceeds range limit. Use options.rangeLimit to increase or disable the limit.");let b=h(...S,r);b.length===0&&(b=p(c,r)),g.push(l(g.pop(),b)),c.nodes=[];return}let m=o.encloseBrace(c),f=c.queue,y=c;for(;y.type!=="brace"&&y.type!=="root"&&y.parent;)y=y.parent,f=y.queue;for(let S=0;S<c.nodes.length;S++){let b=c.nodes[S];if(b.type==="comma"&&c.type==="brace"){S===1&&f.push(""),f.push("");continue}if(b.type==="close"){g.push(l(g.pop(),f,m));continue}if(b.value&&b.type!=="open"){f.push(l(f.pop(),b.value));continue}b.nodes&&i(b,c)}return f},"walk");return o.flatten(i(t))},"expand");u.exports=n}),VA=ye((e,u)=>{"use strict";u.exports={MAX_LENGTH:1e4,CHAR_0:"0",CHAR_9:"9",CHAR_UPPERCASE_A:"A",CHAR_LOWERCASE_A:"a",CHAR_UPPERCASE_Z:"Z",CHAR_LOWERCASE_Z:"z",CHAR_LEFT_PARENTHESES:"(",CHAR_RIGHT_PARENTHESES:")",CHAR_ASTERISK:"*",CHAR_AMPERSAND:"&",CHAR_AT:"@",CHAR_BACKSLASH:"\\",CHAR_BACKTICK:"`",CHAR_CARRIAGE_RETURN:"\r",CHAR_CIRCUMFLEX_ACCENT:"^",CHAR_COLON:":",CHAR_COMMA:",",CHAR_DOLLAR:"$",CHAR_DOT:".",CHAR_DOUBLE_QUOTE:'"',CHAR_EQUAL:"=",CHAR_EXCLAMATION_MARK:"!",CHAR_FORM_FEED:"\f",CHAR_FORWARD_SLASH:"/",CHAR_HASH:"#",CHAR_HYPHEN_MINUS:"-",CHAR_LEFT_ANGLE_BRACKET:"<",CHAR_LEFT_CURLY_BRACE:"{",CHAR_LEFT_SQUARE_BRACKET:"[",CHAR_LINE_FEED:`
`,CHAR_NO_BREAK_SPACE:"\xA0",CHAR_PERCENT:"%",CHAR_PLUS:"+",CHAR_QUESTION_MARK:"?",CHAR_RIGHT_ANGLE_BRACKET:">",CHAR_RIGHT_CURLY_BRACE:"}",CHAR_RIGHT_SQUARE_BRACKET:"]",CHAR_SEMICOLON:";",CHAR_SINGLE_QUOTE:"'",CHAR_SPACE:" ",CHAR_TAB:"	",CHAR_UNDERSCORE:"_",CHAR_VERTICAL_LINE:"|",CHAR_ZERO_WIDTH_NOBREAK_SPACE:"\uFEFF"}}),WA=ye((e,u)=>{"use strict";var h=yo(),{MAX_LENGTH:p,CHAR_BACKSLASH:o,CHAR_BACKTICK:l,CHAR_COMMA:n,CHAR_DOT:t,CHAR_LEFT_PARENTHESES:r,CHAR_RIGHT_PARENTHESES:s,CHAR_LEFT_CURLY_BRACE:i,CHAR_RIGHT_CURLY_BRACE:c,CHAR_LEFT_SQUARE_BRACKET:a,CHAR_RIGHT_SQUARE_BRACKET:d,CHAR_DOUBLE_QUOTE:g,CHAR_SINGLE_QUOTE:m,CHAR_NO_BREAK_SPACE:f,CHAR_ZERO_WIDTH_NOBREAK_SPACE:y}=VA(),S=se((b,E={})=>{if(typeof b!="string")throw new TypeError("Expected a string");let _=E||{},w=typeof _.maxLength=="number"?Math.min(p,_.maxLength):p;if(b.length>w)throw new SyntaxError(`Input length (${b.length}), exceeds max characters (${w})`);let O={type:"root",input:b,nodes:[]},R=[O],I=O,P=O,L=0,M=b.length,x=0,j=0,U,V=se(()=>b[x++],"advance"),B=se(G=>{if(G.type==="text"&&P.type==="dot"&&(P.type="text"),P&&P.type==="text"&&G.type==="text"){P.value+=G.value;return}return I.nodes.push(G),G.parent=I,G.prev=P,P=G,G},"push");for(B({type:"bos"});x<M;)if(I=R[R.length-1],U=V(),!(U===y||U===f)){if(U===o){B({type:"text",value:(E.keepEscaping?U:"")+V()});continue}if(U===d){B({type:"text",value:"\\"+U});continue}if(U===a){L++;let G;for(;x<M&&(G=V());){if(U+=G,G===a){L++;continue}if(G===o){U+=V();continue}if(G===d&&(L--,L===0))break}B({type:"text",value:U});continue}if(U===r){I=B({type:"paren",nodes:[]}),R.push(I),B({type:"text",value:U});continue}if(U===s){if(I.type!=="paren"){B({type:"text",value:U});continue}I=R.pop(),B({type:"text",value:U}),I=R[R.length-1];continue}if(U===g||U===m||U===l){let G=U,W;for(E.keepQuotes!==!0&&(U="");x<M&&(W=V());){if(W===o){U+=W+V();continue}if(W===G){E.keepQuotes===!0&&(U+=W);break}U+=W}B({type:"text",value:U});continue}if(U===i){j++;let G={type:"brace",open:!0,close:!1,dollar:P.value&&P.value.slice(-1)==="$"||I.dollar===!0,depth:j,commas:0,ranges:0,nodes:[]};I=B(G),R.push(I),B({type:"open",value:U});continue}if(U===c){if(I.type!=="brace"){B({type:"text",value:U});continue}let G="close";I=R.pop(),I.close=!0,B({type:G,value:U}),j--,I=R[R.length-1];continue}if(U===n&&j>0){if(I.ranges>0){I.ranges=0;let G=I.nodes.shift();I.nodes=[G,{type:"text",value:h(I)}]}B({type:"comma",value:U}),I.commas++;continue}if(U===t&&j>0&&I.commas===0){let G=I.nodes;if(j===0||G.length===0){B({type:"text",value:U});continue}if(P.type==="dot"){if(I.range=[],P.value+=U,P.type="range",I.nodes.length!==3&&I.nodes.length!==5){I.invalid=!0,I.ranges=0,P.type="text";continue}I.ranges++,I.args=[];continue}if(P.type==="range"){G.pop();let W=G[G.length-1];W.value+=P.value+U,P=W,I.ranges--;continue}B({type:"dot",value:U});continue}B({type:"text",value:U})}do if(I=R.pop(),I.type!=="root"){I.nodes.forEach(k=>{k.nodes||(k.type==="open"&&(k.isOpen=!0),k.type==="close"&&(k.isClose=!0),k.nodes||(k.type="text"),k.invalid=!0)});let G=R[R.length-1],W=G.nodes.indexOf(I);G.nodes.splice(W,1,...I.nodes)}while(R.length>0);return B({type:"eos"}),O},"parse");u.exports=S}),zA=ye((e,u)=>{"use strict";var h=yo(),p=HA(),o=GA(),l=WA(),n=se((t,r={})=>{let s=[];if(Array.isArray(t))for(let i of t){let c=n.create(i,r);Array.isArray(c)?s.push(...c):s.push(c)}else s=[].concat(n.create(t,r));return r&&r.expand===!0&&r.nodupes===!0&&(s=[...new Set(s)]),s},"braces");n.parse=(t,r={})=>l(t,r),n.stringify=(t,r={})=>h(typeof t=="string"?n.parse(t,r):t,r),n.compile=(t,r={})=>(typeof t=="string"&&(t=n.parse(t,r)),p(t,r)),n.expand=(t,r={})=>{typeof t=="string"&&(t=n.parse(t,r));let s=o(t,r);return r.noempty===!0&&(s=s.filter(Boolean)),r.nodupes===!0&&(s=[...new Set(s)]),s},n.create=(t,r={})=>t===""||t.length<3?[t]:r.expand!==!0?n.compile(t,r):n.expand(t,r),u.exports=n}),_s=ye((e,u)=>{"use strict";var h=require("path"),p="\\\\/",o=`[^${p}]`,l="\\.",n="\\+",t="\\?",r="\\/",s="(?=.)",i="[^/]",c=`(?:${r}|$)`,a=`(?:^|${r})`,d=`${l}{1,2}${c}`,g=`(?!${l})`,m=`(?!${a}${d})`,f=`(?!${l}{0,1}${c})`,y=`(?!${d})`,S=`[^.${r}]`,b=`${i}*?`,E={DOT_LITERAL:l,PLUS_LITERAL:n,QMARK_LITERAL:t,SLASH_LITERAL:r,ONE_CHAR:s,QMARK:i,END_ANCHOR:c,DOTS_SLASH:d,NO_DOT:g,NO_DOTS:m,NO_DOT_SLASH:f,NO_DOTS_SLASH:y,QMARK_NO_DOT:S,STAR:b,START_ANCHOR:a},_={...E,SLASH_LITERAL:`[${p}]`,QMARK:o,STAR:`${o}*?`,DOTS_SLASH:`${l}{1,2}(?:[${p}]|$)`,NO_DOT:`(?!${l})`,NO_DOTS:`(?!(?:^|[${p}])${l}{1,2}(?:[${p}]|$))`,NO_DOT_SLASH:`(?!${l}{0,1}(?:[${p}]|$))`,NO_DOTS_SLASH:`(?!${l}{1,2}(?:[${p}]|$))`,QMARK_NO_DOT:`[^.${p}]`,START_ANCHOR:`(?:^|[${p}])`,END_ANCHOR:`(?:[${p}]|$)`},w={alnum:"a-zA-Z0-9",alpha:"a-zA-Z",ascii:"\\x00-\\x7F",blank:" \\t",cntrl:"\\x00-\\x1F\\x7F",digit:"0-9",graph:"\\x21-\\x7E",lower:"a-z",print:"\\x20-\\x7E ",punct:"\\-!\"#$%&'()\\*+,./:;<=>?@[\\]^_`{|}~",space:" \\t\\r\\n\\v\\f",upper:"A-Z",word:"A-Za-z0-9_",xdigit:"A-Fa-f0-9"};u.exports={MAX_LENGTH:1024*64,POSIX_REGEX_SOURCE:w,REGEX_BACKSLASH:/\\(?![*+?^${}(|)[\]])/g,REGEX_NON_SPECIAL_CHARS:/^[^@![\].,$*+?^{}()|\\/]+/,REGEX_SPECIAL_CHARS:/[-*+?.^${}(|)[\]]/,REGEX_SPECIAL_CHARS_BACKREF:/(\\?)((\W)(\3*))/g,REGEX_SPECIAL_CHARS_GLOBAL:/([-*+?.^${}(|)[\]])/g,REGEX_REMOVE_BACKSLASH:/(?:\[.*?[^\\]\]|\\(?=.))/g,REPLACEMENTS:{"***":"*","**/**":"**","**/**/**":"**"},CHAR_0:48,CHAR_9:57,CHAR_UPPERCASE_A:65,CHAR_LOWERCASE_A:97,CHAR_UPPERCASE_Z:90,CHAR_LOWERCASE_Z:122,CHAR_LEFT_PARENTHESES:40,CHAR_RIGHT_PARENTHESES:41,CHAR_ASTERISK:42,CHAR_AMPERSAND:38,CHAR_AT:64,CHAR_BACKWARD_SLASH:92,CHAR_CARRIAGE_RETURN:13,CHAR_CIRCUMFLEX_ACCENT:94,CHAR_COLON:58,CHAR_COMMA:44,CHAR_DOT:46,CHAR_DOUBLE_QUOTE:34,CHAR_EQUAL:61,CHAR_EXCLAMATION_MARK:33,CHAR_FORM_FEED:12,CHAR_FORWARD_SLASH:47,CHAR_GRAVE_ACCENT:96,CHAR_HASH:35,CHAR_HYPHEN_MINUS:45,CHAR_LEFT_ANGLE_BRACKET:60,CHAR_LEFT_CURLY_BRACE:123,CHAR_LEFT_SQUARE_BRACKET:91,CHAR_LINE_FEED:10,CHAR_NO_BREAK_SPACE:160,CHAR_PERCENT:37,CHAR_PLUS:43,CHAR_QUESTION_MARK:63,CHAR_RIGHT_ANGLE_BRACKET:62,CHAR_RIGHT_CURLY_BRACE:125,CHAR_RIGHT_SQUARE_BRACKET:93,CHAR_SEMICOLON:59,CHAR_SINGLE_QUOTE:39,CHAR_SPACE:32,CHAR_TAB:9,CHAR_UNDERSCORE:95,CHAR_VERTICAL_LINE:124,CHAR_ZERO_WIDTH_NOBREAK_SPACE:65279,SEP:h.sep,extglobChars(O){return{"!":{type:"negate",open:"(?:(?!(?:",close:`))${O.STAR})`},"?":{type:"qmark",open:"(?:",close:")?"},"+":{type:"plus",open:"(?:",close:")+"},"*":{type:"star",open:"(?:",close:")*"},"@":{type:"at",open:"(?:",close:")"}}},globChars(O){return O===!0?_:E}}}),ws=ye(e=>{"use strict";var u=require("path"),h=process.platform==="win32",{REGEX_BACKSLASH:p,REGEX_REMOVE_BACKSLASH:o,REGEX_SPECIAL_CHARS:l,REGEX_SPECIAL_CHARS_GLOBAL:n}=_s();e.isObject=t=>t!==null&&typeof t=="object"&&!Array.isArray(t),e.hasRegexChars=t=>l.test(t),e.isRegexChar=t=>t.length===1&&e.hasRegexChars(t),e.escapeRegex=t=>t.replace(n,"\\$1"),e.toPosixSlashes=t=>t.replace(p,"/"),e.removeBackslashes=t=>t.replace(o,r=>r==="\\"?"":r),e.supportsLookbehinds=()=>{let t=process.version.slice(1).split(".").map(Number);return t.length===3&&t[0]>=9||t[0]===8&&t[1]>=10},e.isWindows=t=>t&&typeof t.windows=="boolean"?t.windows:h===!0||u.sep==="\\",e.escapeLast=(t,r,s)=>{let i=t.lastIndexOf(r,s);return i===-1?t:t[i-1]==="\\"?e.escapeLast(t,r,i-1):`${t.slice(0,i)}\\${t.slice(i)}`},e.removePrefix=(t,r={})=>{let s=t;return s.startsWith("./")&&(s=s.slice(2),r.prefix="./"),s},e.wrapOutput=(t,r={},s={})=>{let i=s.contains?"":"^",c=s.contains?"":"$",a=`${i}(?:${t})${c}`;return r.negated===!0&&(a=`(?:^(?!${a}).*$)`),a}}),KA=ye((e,u)=>{"use strict";var h=ws(),{CHAR_ASTERISK:p,CHAR_AT:o,CHAR_BACKWARD_SLASH:l,CHAR_COMMA:n,CHAR_DOT:t,CHAR_EXCLAMATION_MARK:r,CHAR_FORWARD_SLASH:s,CHAR_LEFT_CURLY_BRACE:i,CHAR_LEFT_PARENTHESES:c,CHAR_LEFT_SQUARE_BRACKET:a,CHAR_PLUS:d,CHAR_QUESTION_MARK:g,CHAR_RIGHT_CURLY_BRACE:m,CHAR_RIGHT_PARENTHESES:f,CHAR_RIGHT_SQUARE_BRACKET:y}=_s(),S=se(_=>_===s||_===l,"isPathSeparator"),b=se(_=>{_.isPrefix!==!0&&(_.depth=_.isGlobstar?1/0:1)},"depth"),E=se((_,w)=>{let O=w||{},R=_.length-1,I=O.parts===!0||O.scanToEnd===!0,P=[],L=[],M=[],x=_,j=-1,U=0,V=0,B=!1,G=!1,W=!1,k=!1,D=!1,T=!1,C=!1,Z=!1,Y=!1,Q=!1,N=0,F,z,$={value:"",depth:0,isGlob:!1},K=se(()=>j>=R,"eos"),q=se(()=>x.charCodeAt(j+1),"peek"),X=se(()=>(F=z,x.charCodeAt(++j)),"advance");for(;j<R;){z=X();let te;if(z===l){C=$.backslashes=!0,z=X(),z===i&&(T=!0);continue}if(T===!0||z===i){for(N++;K()!==!0&&(z=X());){if(z===l){C=$.backslashes=!0,X();continue}if(z===i){N++;continue}if(T!==!0&&z===t&&(z=X())===t){if(B=$.isBrace=!0,W=$.isGlob=!0,Q=!0,I===!0)continue;break}if(T!==!0&&z===n){if(B=$.isBrace=!0,W=$.isGlob=!0,Q=!0,I===!0)continue;break}if(z===m&&(N--,N===0)){T=!1,B=$.isBrace=!0,Q=!0;break}}if(I===!0)continue;break}if(z===s){if(P.push(j),L.push($),$={value:"",depth:0,isGlob:!1},Q===!0)continue;if(F===t&&j===U+1){U+=2;continue}V=j+1;continue}if(O.noext!==!0&&(z===d||z===o||z===p||z===g||z===r)&&q()===c){if(W=$.isGlob=!0,k=$.isExtglob=!0,Q=!0,z===r&&j===U&&(Y=!0),I===!0){for(;K()!==!0&&(z=X());){if(z===l){C=$.backslashes=!0,z=X();continue}if(z===f){W=$.isGlob=!0,Q=!0;break}}continue}break}if(z===p){if(F===p&&(D=$.isGlobstar=!0),W=$.isGlob=!0,Q=!0,I===!0)continue;break}if(z===g){if(W=$.isGlob=!0,Q=!0,I===!0)continue;break}if(z===a){for(;K()!==!0&&(te=X());){if(te===l){C=$.backslashes=!0,X();continue}if(te===y){G=$.isBracket=!0,W=$.isGlob=!0,Q=!0;break}}if(I===!0)continue;break}if(O.nonegate!==!0&&z===r&&j===U){Z=$.negated=!0,U++;continue}if(O.noparen!==!0&&z===c){if(W=$.isGlob=!0,I===!0){for(;K()!==!0&&(z=X());){if(z===c){C=$.backslashes=!0,z=X();continue}if(z===f){Q=!0;break}}continue}break}if(W===!0){if(Q=!0,I===!0)continue;break}}O.noext===!0&&(k=!1,W=!1);let A=x,H="",ee="";U>0&&(H=x.slice(0,U),x=x.slice(U),V-=U),A&&W===!0&&V>0?(A=x.slice(0,V),ee=x.slice(V)):W===!0?(A="",ee=x):A=x,A&&A!==""&&A!=="/"&&A!==x&&S(A.charCodeAt(A.length-1))&&(A=A.slice(0,-1)),O.unescape===!0&&(ee&&(ee=h.removeBackslashes(ee)),A&&C===!0&&(A=h.removeBackslashes(A)));let ne={prefix:H,input:_,start:U,base:A,glob:ee,isBrace:B,isBracket:G,isGlob:W,isExtglob:k,isGlobstar:D,negated:Z,negatedExtglob:Y};if(O.tokens===!0&&(ne.maxDepth=0,S(z)||L.push($),ne.tokens=L),O.parts===!0||O.tokens===!0){let te;for(let ae=0;ae<P.length;ae++){let he=te?te+1:U,re=P[ae],ue=_.slice(he,re);O.tokens&&(ae===0&&U!==0?(L[ae].isPrefix=!0,L[ae].value=H):L[ae].value=ue,b(L[ae]),ne.maxDepth+=L[ae].depth),(ae!==0||ue!=="")&&M.push(ue),te=re}if(te&&te+1<_.length){let ae=_.slice(te+1);M.push(ae),O.tokens&&(L[L.length-1].value=ae,b(L[L.length-1]),ne.maxDepth+=L[L.length-1].depth)}ne.slashes=P,ne.parts=M}return ne},"scan");u.exports=E}),JA=ye((e,u)=>{"use strict";var h=_s(),p=ws(),{MAX_LENGTH:o,POSIX_REGEX_SOURCE:l,REGEX_NON_SPECIAL_CHARS:n,REGEX_SPECIAL_CHARS_BACKREF:t,REPLACEMENTS:r}=h,s=se((a,d)=>{if(typeof d.expandRange=="function")return d.expandRange(...a,d);a.sort();let g=`[${a.join("-")}]`;try{new RegExp(g)}catch{return a.map(m=>p.escapeRegex(m)).join("..")}return g},"expandRange"),i=se((a,d)=>`Missing ${a}: "${d}" - use "\\\\${d}" to match literal characters`,"syntaxError"),c=se((a,d)=>{if(typeof a!="string")throw new TypeError("Expected a string");a=r[a]||a;let g={...d},m=typeof g.maxLength=="number"?Math.min(o,g.maxLength):o,f=a.length;if(f>m)throw new SyntaxError(`Input length: ${f}, exceeds maximum allowed length: ${m}`);let y={type:"bos",value:"",output:g.prepend||""},S=[y],b=g.capture?"":"?:",E=p.isWindows(d),_=h.globChars(E),w=h.extglobChars(_),{DOT_LITERAL:O,PLUS_LITERAL:R,SLASH_LITERAL:I,ONE_CHAR:P,DOTS_SLASH:L,NO_DOT:M,NO_DOT_SLASH:x,NO_DOTS_SLASH:j,QMARK:U,QMARK_NO_DOT:V,STAR:B,START_ANCHOR:G}=_,W=se(re=>`(${b}(?:(?!${G}${re.dot?L:O}).)*?)`,"globstar"),k=g.dot?"":M,D=g.dot?U:V,T=g.bash===!0?W(g):B;g.capture&&(T=`(${T})`),typeof g.noext=="boolean"&&(g.noextglob=g.noext);let C={input:a,index:-1,start:0,dot:g.dot===!0,consumed:"",output:"",prefix:"",backtrack:!1,negated:!1,brackets:0,braces:0,parens:0,quotes:0,globstar:!1,tokens:S};a=p.removePrefix(a,C),f=a.length;let Z=[],Y=[],Q=[],N=y,F,z=se(()=>C.index===f-1,"eos"),$=C.peek=(re=1)=>a[C.index+re],K=C.advance=()=>a[++C.index]||"",q=se(()=>a.slice(C.index+1),"remaining"),X=se((re="",ue=0)=>{C.consumed+=re,C.index+=ue},"consume"),A=se(re=>{C.output+=re.output!=null?re.output:re.value,X(re.value)},"append"),H=se(()=>{let re=1;for(;$()==="!"&&($(2)!=="("||$(3)==="?");)K(),C.start++,re++;return re%2===0?!1:(C.negated=!0,C.start++,!0)},"negate"),ee=se(re=>{C[re]++,Q.push(re)},"increment"),ne=se(re=>{C[re]--,Q.pop()},"decrement"),te=se(re=>{if(N.type==="globstar"){let ue=C.braces>0&&(re.type==="comma"||re.type==="brace"),ie=re.extglob===!0||Z.length&&(re.type==="pipe"||re.type==="paren");re.type!=="slash"&&re.type!=="paren"&&!ue&&!ie&&(C.output=C.output.slice(0,-N.output.length),N.type="star",N.value="*",N.output=T,C.output+=N.output)}if(Z.length&&re.type!=="paren"&&(Z[Z.length-1].inner+=re.value),(re.value||re.output)&&A(re),N&&N.type==="text"&&re.type==="text"){N.value+=re.value,N.output=(N.output||"")+re.value;return}re.prev=N,S.push(re),N=re},"push"),ae=se((re,ue)=>{let ie={...w[ue],conditions:1,inner:""};ie.prev=N,ie.parens=C.parens,ie.output=C.output;let le=(g.capture?"(":"")+ie.open;ee("parens"),te({type:re,value:ue,output:C.output?"":P}),te({type:"paren",extglob:!0,value:K(),output:le}),Z.push(ie)},"extglobOpen"),he=se(re=>{let ue=re.close+(g.capture?")":""),ie;if(re.type==="negate"){let le=T;if(re.inner&&re.inner.length>1&&re.inner.includes("/")&&(le=W(g)),(le!==T||z()||/^\)+$/.test(q()))&&(ue=re.close=`)$))${le}`),re.inner.includes("*")&&(ie=q())&&/^\.[^\\/.]+$/.test(ie)){let fe=c(ie,{...d,fastpaths:!1}).output;ue=re.close=`)${fe})${le})`}re.prev.type==="bos"&&(C.negatedExtglob=!0)}te({type:"paren",extglob:!0,value:F,output:ue}),ne("parens")},"extglobClose");if(g.fastpaths!==!1&&!/(^[*!]|[/()[\]{}"])/.test(a)){let re=!1,ue=a.replace(t,(ie,le,fe,ge,ce,pe)=>ge==="\\"?(re=!0,ie):ge==="?"?le?le+ge+(ce?U.repeat(ce.length):""):pe===0?D+(ce?U.repeat(ce.length):""):U.repeat(fe.length):ge==="."?O.repeat(fe.length):ge==="*"?le?le+ge+(ce?T:""):T:le?ie:`\\${ie}`);return re===!0&&(g.unescape===!0?ue=ue.replace(/\\/g,""):ue=ue.replace(/\\+/g,ie=>ie.length%2===0?"\\\\":ie?"\\":"")),ue===a&&g.contains===!0?(C.output=a,C):(C.output=p.wrapOutput(ue,C,d),C)}for(;!z();){if(F=K(),F==="\0")continue;if(F==="\\"){let ie=$();if(ie==="/"&&g.bash!==!0||ie==="."||ie===";")continue;if(!ie){F+="\\",te({type:"text",value:F});continue}let le=/^\\+/.exec(q()),fe=0;if(le&&le[0].length>2&&(fe=le[0].length,C.index+=fe,fe%2!==0&&(F+="\\")),g.unescape===!0?F=K():F+=K(),C.brackets===0){te({type:"text",value:F});continue}}if(C.brackets>0&&(F!=="]"||N.value==="["||N.value==="[^")){if(g.posix!==!1&&F===":"){let ie=N.value.slice(1);if(ie.includes("[")&&(N.posix=!0,ie.includes(":"))){let le=N.value.lastIndexOf("["),fe=N.value.slice(0,le),ge=N.value.slice(le+2),ce=l[ge];if(ce){N.value=fe+ce,C.backtrack=!0,K(),!y.output&&S.indexOf(N)===1&&(y.output=P);continue}}}(F==="["&&$()!==":"||F==="-"&&$()==="]")&&(F=`\\${F}`),F==="]"&&(N.value==="["||N.value==="[^")&&(F=`\\${F}`),g.posix===!0&&F==="!"&&N.value==="["&&(F="^"),N.value+=F,A({value:F});continue}if(C.quotes===1&&F!=='"'){F=p.escapeRegex(F),N.value+=F,A({value:F});continue}if(F==='"'){C.quotes=C.quotes===1?0:1,g.keepQuotes===!0&&te({type:"text",value:F});continue}if(F==="("){ee("parens"),te({type:"paren",value:F});continue}if(F===")"){if(C.parens===0&&g.strictBrackets===!0)throw new SyntaxError(i("opening","("));let ie=Z[Z.length-1];if(ie&&C.parens===ie.parens+1){he(Z.pop());continue}te({type:"paren",value:F,output:C.parens?")":"\\)"}),ne("parens");continue}if(F==="["){if(g.nobracket===!0||!q().includes("]")){if(g.nobracket!==!0&&g.strictBrackets===!0)throw new SyntaxError(i("closing","]"));F=`\\${F}`}else ee("brackets");te({type:"bracket",value:F});continue}if(F==="]"){if(g.nobracket===!0||N&&N.type==="bracket"&&N.value.length===1){te({type:"text",value:F,output:`\\${F}`});continue}if(C.brackets===0){if(g.strictBrackets===!0)throw new SyntaxError(i("opening","["));te({type:"text",value:F,output:`\\${F}`});continue}ne("brackets");let ie=N.value.slice(1);if(N.posix!==!0&&ie[0]==="^"&&!ie.includes("/")&&(F=`/${F}`),N.value+=F,A({value:F}),g.literalBrackets===!1||p.hasRegexChars(ie))continue;let le=p.escapeRegex(N.value);if(C.output=C.output.slice(0,-N.value.length),g.literalBrackets===!0){C.output+=le,N.value=le;continue}N.value=`(${b}${le}|${N.value})`,C.output+=N.value;continue}if(F==="{"&&g.nobrace!==!0){ee("braces");let ie={type:"brace",value:F,output:"(",outputIndex:C.output.length,tokensIndex:C.tokens.length};Y.push(ie),te(ie);continue}if(F==="}"){let ie=Y[Y.length-1];if(g.nobrace===!0||!ie){te({type:"text",value:F,output:F});continue}let le=")";if(ie.dots===!0){let fe=S.slice(),ge=[];for(let ce=fe.length-1;ce>=0&&(S.pop(),fe[ce].type!=="brace");ce--)fe[ce].type!=="dots"&&ge.unshift(fe[ce].value);le=s(ge,g),C.backtrack=!0}if(ie.comma!==!0&&ie.dots!==!0){let fe=C.output.slice(0,ie.outputIndex),ge=C.tokens.slice(ie.tokensIndex);ie.value=ie.output="\\{",F=le="\\}",C.output=fe;for(let ce of ge)C.output+=ce.output||ce.value}te({type:"brace",value:F,output:le}),ne("braces"),Y.pop();continue}if(F==="|"){Z.length>0&&Z[Z.length-1].conditions++,te({type:"text",value:F});continue}if(F===","){let ie=F,le=Y[Y.length-1];le&&Q[Q.length-1]==="braces"&&(le.comma=!0,ie="|"),te({type:"comma",value:F,output:ie});continue}if(F==="/"){if(N.type==="dot"&&C.index===C.start+1){C.start=C.index+1,C.consumed="",C.output="",S.pop(),N=y;continue}te({type:"slash",value:F,output:I});continue}if(F==="."){if(C.braces>0&&N.type==="dot"){N.value==="."&&(N.output=O);let ie=Y[Y.length-1];N.type="dots",N.output+=F,N.value+=F,ie.dots=!0;continue}if(C.braces+C.parens===0&&N.type!=="bos"&&N.type!=="slash"){te({type:"text",value:F,output:O});continue}te({type:"dot",value:F,output:O});continue}if(F==="?"){if(!(N&&N.value==="(")&&g.noextglob!==!0&&$()==="("&&$(2)!=="?"){ae("qmark",F);continue}if(N&&N.type==="paren"){let ie=$(),le=F;if(ie==="<"&&!p.supportsLookbehinds())throw new Error("Node.js v10 or higher is required for regex lookbehinds");(N.value==="("&&!/[!=<:]/.test(ie)||ie==="<"&&!/<([!=]|\w+>)/.test(q()))&&(le=`\\${F}`),te({type:"text",value:F,output:le});continue}if(g.dot!==!0&&(N.type==="slash"||N.type==="bos")){te({type:"qmark",value:F,output:V});continue}te({type:"qmark",value:F,output:U});continue}if(F==="!"){if(g.noextglob!==!0&&$()==="("&&($(2)!=="?"||!/[!=<:]/.test($(3)))){ae("negate",F);continue}if(g.nonegate!==!0&&C.index===0){H();continue}}if(F==="+"){if(g.noextglob!==!0&&$()==="("&&$(2)!=="?"){ae("plus",F);continue}if(N&&N.value==="("||g.regex===!1){te({type:"plus",value:F,output:R});continue}if(N&&(N.type==="bracket"||N.type==="paren"||N.type==="brace")||C.parens>0){te({type:"plus",value:F});continue}te({type:"plus",value:R});continue}if(F==="@"){if(g.noextglob!==!0&&$()==="("&&$(2)!=="?"){te({type:"at",extglob:!0,value:F,output:""});continue}te({type:"text",value:F});continue}if(F!=="*"){(F==="$"||F==="^")&&(F=`\\${F}`);let ie=n.exec(q());ie&&(F+=ie[0],C.index+=ie[0].length),te({type:"text",value:F});continue}if(N&&(N.type==="globstar"||N.star===!0)){N.type="star",N.star=!0,N.value+=F,N.output=T,C.backtrack=!0,C.globstar=!0,X(F);continue}let re=q();if(g.noextglob!==!0&&/^\([^?]/.test(re)){ae("star",F);continue}if(N.type==="star"){if(g.noglobstar===!0){X(F);continue}let ie=N.prev,le=ie.prev,fe=ie.type==="slash"||ie.type==="bos",ge=le&&(le.type==="star"||le.type==="globstar");if(g.bash===!0&&(!fe||re[0]&&re[0]!=="/")){te({type:"star",value:F,output:""});continue}let ce=C.braces>0&&(ie.type==="comma"||ie.type==="brace"),pe=Z.length&&(ie.type==="pipe"||ie.type==="paren");if(!fe&&ie.type!=="paren"&&!ce&&!pe){te({type:"star",value:F,output:""});continue}for(;re.slice(0,3)==="/**";){let de=a[C.index+4];if(de&&de!=="/")break;re=re.slice(3),X("/**",3)}if(ie.type==="bos"&&z()){N.type="globstar",N.value+=F,N.output=W(g),C.output=N.output,C.globstar=!0,X(F);continue}if(ie.type==="slash"&&ie.prev.type!=="bos"&&!ge&&z()){C.output=C.output.slice(0,-(ie.output+N.output).length),ie.output=`(?:${ie.output}`,N.type="globstar",N.output=W(g)+(g.strictSlashes?")":"|$)"),N.value+=F,C.globstar=!0,C.output+=ie.output+N.output,X(F);continue}if(ie.type==="slash"&&ie.prev.type!=="bos"&&re[0]==="/"){let de=re[1]!==void 0?"|$":"";C.output=C.output.slice(0,-(ie.output+N.output).length),ie.output=`(?:${ie.output}`,N.type="globstar",N.output=`${W(g)}${I}|${I}${de})`,N.value+=F,C.output+=ie.output+N.output,C.globstar=!0,X(F+K()),te({type:"slash",value:"/",output:""});continue}if(ie.type==="bos"&&re[0]==="/"){N.type="globstar",N.value+=F,N.output=`(?:^|${I}|${W(g)}${I})`,C.output=N.output,C.globstar=!0,X(F+K()),te({type:"slash",value:"/",output:""});continue}C.output=C.output.slice(0,-N.output.length),N.type="globstar",N.output=W(g),N.value+=F,C.output+=N.output,C.globstar=!0,X(F);continue}let ue={type:"star",value:F,output:T};if(g.bash===!0){ue.output=".*?",(N.type==="bos"||N.type==="slash")&&(ue.output=k+ue.output),te(ue);continue}if(N&&(N.type==="bracket"||N.type==="paren")&&g.regex===!0){ue.output=F,te(ue);continue}(C.index===C.start||N.type==="slash"||N.type==="dot")&&(N.type==="dot"?(C.output+=x,N.output+=x):g.dot===!0?(C.output+=j,N.output+=j):(C.output+=k,N.output+=k),$()!=="*"&&(C.output+=P,N.output+=P)),te(ue)}for(;C.brackets>0;){if(g.strictBrackets===!0)throw new SyntaxError(i("closing","]"));C.output=p.escapeLast(C.output,"["),ne("brackets")}for(;C.parens>0;){if(g.strictBrackets===!0)throw new SyntaxError(i("closing",")"));C.output=p.escapeLast(C.output,"("),ne("parens")}for(;C.braces>0;){if(g.strictBrackets===!0)throw new SyntaxError(i("closing","}"));C.output=p.escapeLast(C.output,"{"),ne("braces")}if(g.strictSlashes!==!0&&(N.type==="star"||N.type==="bracket")&&te({type:"maybe_slash",value:"",output:`${I}?`}),C.backtrack===!0){C.output="";for(let re of C.tokens)C.output+=re.output!=null?re.output:re.value,re.suffix&&(C.output+=re.suffix)}return C},"parse");c.fastpaths=(a,d)=>{let g={...d},m=typeof g.maxLength=="number"?Math.min(o,g.maxLength):o,f=a.length;if(f>m)throw new SyntaxError(`Input length: ${f}, exceeds maximum allowed length: ${m}`);a=r[a]||a;let y=p.isWindows(d),{DOT_LITERAL:S,SLASH_LITERAL:b,ONE_CHAR:E,DOTS_SLASH:_,NO_DOT:w,NO_DOTS:O,NO_DOTS_SLASH:R,STAR:I,START_ANCHOR:P}=h.globChars(y),L=g.dot?O:w,M=g.dot?R:w,x=g.capture?"":"?:",j={negated:!1,prefix:""},U=g.bash===!0?".*?":I;g.capture&&(U=`(${U})`);let V=se(k=>k.noglobstar===!0?U:`(${x}(?:(?!${P}${k.dot?_:S}).)*?)`,"globstar"),B=se(k=>{switch(k){case"*":return`${L}${E}${U}`;case".*":return`${S}${E}${U}`;case"*.*":return`${L}${U}${S}${E}${U}`;case"*/*":return`${L}${U}${b}${E}${M}${U}`;case"**":return L+V(g);case"**/*":return`(?:${L}${V(g)}${b})?${M}${E}${U}`;case"**/*.*":return`(?:${L}${V(g)}${b})?${M}${U}${S}${E}${U}`;case"**/.*":return`(?:${L}${V(g)}${b})?${S}${E}${U}`;default:{let D=/^(.*?)\.(\w+)$/.exec(k);if(!D)return;let T=B(D[1]);return T?T+S+D[2]:void 0}}},"create"),G=p.removePrefix(a,j),W=B(G);return W&&g.strictSlashes!==!0&&(W+=`${b}?`),W},u.exports=c}),qA=ye((e,u)=>{"use strict";var h=require("path"),p=KA(),o=JA(),l=ws(),n=_s(),t=se(s=>s&&typeof s=="object"&&!Array.isArray(s),"isObject"),r=se((s,i,c=!1)=>{if(Array.isArray(s)){let b=s.map(E=>r(E,i,c));return se(E=>{for(let _ of b){let w=_(E);if(w)return w}return!1},"arrayMatcher")}let a=t(s)&&s.tokens&&s.input;if(s===""||typeof s!="string"&&!a)throw new TypeError("Expected pattern to be a non-empty string");let d=i||{},g=l.isWindows(i),m=a?r.compileRe(s,i):r.makeRe(s,i,!1,!0),f=m.state;delete m.state;let y=se(()=>!1,"isIgnored");if(d.ignore){let b={...i,ignore:null,onMatch:null,onResult:null};y=r(d.ignore,b,c)}let S=se((b,E=!1)=>{let{isMatch:_,match:w,output:O}=r.test(b,m,i,{glob:s,posix:g}),R={glob:s,state:f,regex:m,posix:g,input:b,output:O,match:w,isMatch:_};return typeof d.onResult=="function"&&d.onResult(R),_===!1?(R.isMatch=!1,E?R:!1):y(b)?(typeof d.onIgnore=="function"&&d.onIgnore(R),R.isMatch=!1,E?R:!1):(typeof d.onMatch=="function"&&d.onMatch(R),E?R:!0)},"matcher");return c&&(S.state=f),S},"picomatch");r.test=(s,i,c,{glob:a,posix:d}={})=>{if(typeof s!="string")throw new TypeError("Expected input to be a string");if(s==="")return{isMatch:!1,output:""};let g=c||{},m=g.format||(d?l.toPosixSlashes:null),f=s===a,y=f&&m?m(s):s;return f===!1&&(y=m?m(s):s,f=y===a),(f===!1||g.capture===!0)&&(g.matchBase===!0||g.basename===!0?f=r.matchBase(s,i,c,d):f=i.exec(y)),{isMatch:!!f,match:f,output:y}},r.matchBase=(s,i,c,a=l.isWindows(c))=>(i instanceof RegExp?i:r.makeRe(i,c)).test(h.basename(s)),r.isMatch=(s,i,c)=>r(i,c)(s),r.parse=(s,i)=>Array.isArray(s)?s.map(c=>r.parse(c,i)):o(s,{...i,fastpaths:!1}),r.scan=(s,i)=>p(s,i),r.compileRe=(s,i,c=!1,a=!1)=>{if(c===!0)return s.output;let d=i||{},g=d.contains?"":"^",m=d.contains?"":"$",f=`${g}(?:${s.output})${m}`;s&&s.negated===!0&&(f=`^(?!${f}).*$`);let y=r.toRegex(f,i);return a===!0&&(y.state=s),y},r.makeRe=(s,i={},c=!1,a=!1)=>{if(!s||typeof s!="string")throw new TypeError("Expected a non-empty string");let d={negated:!1,fastpaths:!0};return i.fastpaths!==!1&&(s[0]==="."||s[0]==="*")&&(d.output=o.fastpaths(s,i)),d.output||(d=o(s,i)),r.compileRe(d,i,c,a)},r.toRegex=(s,i)=>{try{let c=i||{};return new RegExp(s,c.flags||(c.nocase?"i":""))}catch(c){if(i&&i.debug===!0)throw c;return/$^/}},r.constants=n,u.exports=r}),ZA=ye((e,u)=>{"use strict";u.exports=qA()}),YA=ye((e,u)=>{"use strict";var h=require("util"),p=zA(),o=ZA(),l=ws(),n=se(s=>s===""||s==="./","isEmptyString"),t=se(s=>{let i=s.indexOf("{");return i>-1&&s.indexOf("}",i)>-1},"hasBraces"),r=se((s,i,c)=>{i=[].concat(i),s=[].concat(s);let a=new Set,d=new Set,g=new Set,m=0,f=se(S=>{g.add(S.output),c&&c.onResult&&c.onResult(S)},"onResult");for(let S=0;S<i.length;S++){let b=o(String(i[S]),{...c,onResult:f},!0),E=b.state.negated||b.state.negatedExtglob;E&&m++;for(let _ of s){let w=b(_,!0);(E?!w.isMatch:w.isMatch)&&(E?a.add(w.output):(a.delete(w.output),d.add(w.output)))}}let y=(m===i.length?[...g]:[...d]).filter(S=>!a.has(S));if(c&&y.length===0){if(c.failglob===!0)throw new Error(`No matches found for "${i.join(", ")}"`);if(c.nonull===!0||c.nullglob===!0)return c.unescape?i.map(S=>S.replace(/\\/g,"")):i}return y},"micromatch");r.match=r,r.matcher=(s,i)=>o(s,i),r.isMatch=(s,i,c)=>o(i,c)(s),r.any=r.isMatch,r.not=(s,i,c={})=>{i=[].concat(i).map(String);let a=new Set,d=[],g=se(f=>{c.onResult&&c.onResult(f),d.push(f.output)},"onResult"),m=new Set(r(s,i,{...c,onResult:g}));for(let f of d)m.has(f)||a.add(f);return[...a]},r.contains=(s,i,c)=>{if(typeof s!="string")throw new TypeError(`Expected a string: "${h.inspect(s)}"`);if(Array.isArray(i))return i.some(a=>r.contains(s,a,c));if(typeof i=="string"){if(n(s)||n(i))return!1;if(s.includes(i)||s.startsWith("./")&&s.slice(2).includes(i))return!0}return r.isMatch(s,i,{...c,contains:!0})},r.matchKeys=(s,i,c)=>{if(!l.isObject(s))throw new TypeError("Expected the first argument to be an object");let a=r(Object.keys(s),i,c),d={};for(let g of a)d[g]=s[g];return d},r.some=(s,i,c)=>{let a=[].concat(s);for(let d of[].concat(i)){let g=o(String(d),c);if(a.some(m=>g(m)))return!0}return!1},r.every=(s,i,c)=>{let a=[].concat(s);for(let d of[].concat(i)){let g=o(String(d),c);if(!a.every(m=>g(m)))return!1}return!0},r.all=(s,i,c)=>{if(typeof s!="string")throw new TypeError(`Expected a string: "${h.inspect(s)}"`);return[].concat(i).every(a=>o(a,c)(s))},r.capture=(s,i,c)=>{let a=l.isWindows(c),d=o.makeRe(String(s),{...c,capture:!0}).exec(a?l.toPosixSlashes(i):i);if(d)return d.slice(1).map(g=>g===void 0?"":g)},r.makeRe=(...s)=>o.makeRe(...s),r.scan=(...s)=>o.scan(...s),r.parse=(s,i)=>{let c=[];for(let a of[].concat(s||[]))for(let d of p(String(a),i))c.push(o.parse(d,i));return c},r.braces=(s,i)=>{if(typeof s!="string")throw new TypeError("Expected a string");return i&&i.nobrace===!0||!t(s)?[s]:p(s,i)},r.braceExpand=(s,i)=>{if(typeof s!="string")throw new TypeError("Expected a string");return r.braces(s,{...i,expand:!0})},r.hasBraces=t,u.exports=r}),XA=ye(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isAbsolute=e.partitionAbsoluteAndRelative=e.removeDuplicateSlashes=e.matchAny=e.convertPatternsToRe=e.makeRe=e.getPatternParts=e.expandBraceExpansion=e.expandPatternsWithBraceExpansion=e.isAffectDepthOfReadingPattern=e.endsWithSlashGlobStar=e.hasGlobStar=e.getBaseDirectory=e.isPatternRelatedToParentDirectory=e.getPatternsOutsideCurrentDirectory=e.getPatternsInsideCurrentDirectory=e.getPositivePatterns=e.getNegativePatterns=e.isPositivePattern=e.isNegativePattern=e.convertToNegativePattern=e.convertToPositivePattern=e.isDynamicPattern=e.isStaticPattern=void 0;var u=require("path"),h=BA(),p=YA(),o="**",l="\\",n=/[*?]|^!/,t=/\[[^[]*]/,r=/(?:^|[^!*+?@])\([^(]*\|[^|]*\)/,s=/[!*+?@]\([^(]*\)/,i=/,|\.\./,c=/(?!^)\/{2,}/g;function a(D,T={}){return!d(D,T)}se(a,"isStaticPattern"),e.isStaticPattern=a;function d(D,T={}){return D===""?!1:!!(T.caseSensitiveMatch===!1||D.includes(l)||n.test(D)||t.test(D)||r.test(D)||T.extglob!==!1&&s.test(D)||T.braceExpansion!==!1&&g(D))}se(d,"isDynamicPattern"),e.isDynamicPattern=d;function g(D){let T=D.indexOf("{");if(T===-1)return!1;let C=D.indexOf("}",T+1);if(C===-1)return!1;let Z=D.slice(T,C);return i.test(Z)}se(g,"hasBraceExpansion");function m(D){return y(D)?D.slice(1):D}se(m,"convertToPositivePattern"),e.convertToPositivePattern=m;function f(D){return"!"+D}se(f,"convertToNegativePattern"),e.convertToNegativePattern=f;function y(D){return D.startsWith("!")&&D[1]!=="("}se(y,"isNegativePattern"),e.isNegativePattern=y;function S(D){return!y(D)}se(S,"isPositivePattern"),e.isPositivePattern=S;function b(D){return D.filter(y)}se(b,"getNegativePatterns"),e.getNegativePatterns=b;function E(D){return D.filter(S)}se(E,"getPositivePatterns"),e.getPositivePatterns=E;function _(D){return D.filter(T=>!O(T))}se(_,"getPatternsInsideCurrentDirectory"),e.getPatternsInsideCurrentDirectory=_;function w(D){return D.filter(O)}se(w,"getPatternsOutsideCurrentDirectory"),e.getPatternsOutsideCurrentDirectory=w;function O(D){return D.startsWith("..")||D.startsWith("./..")}se(O,"isPatternRelatedToParentDirectory"),e.isPatternRelatedToParentDirectory=O;function R(D){return h(D,{flipBackslashes:!1})}se(R,"getBaseDirectory"),e.getBaseDirectory=R;function I(D){return D.includes(o)}se(I,"hasGlobStar"),e.hasGlobStar=I;function P(D){return D.endsWith("/"+o)}se(P,"endsWithSlashGlobStar"),e.endsWithSlashGlobStar=P;function L(D){let T=u.basename(D);return P(D)||a(T)}se(L,"isAffectDepthOfReadingPattern"),e.isAffectDepthOfReadingPattern=L;function M(D){return D.reduce((T,C)=>T.concat(x(C)),[])}se(M,"expandPatternsWithBraceExpansion"),e.expandPatternsWithBraceExpansion=M;function x(D){let T=p.braces(D,{expand:!0,nodupes:!0,keepEscaping:!0});return T.sort((C,Z)=>C.length-Z.length),T.filter(C=>C!=="")}se(x,"expandBraceExpansion"),e.expandBraceExpansion=x;function j(D,T){let{parts:C}=p.scan(D,Object.assign(Object.assign({},T),{parts:!0}));return C.length===0&&(C=[D]),C[0].startsWith("/")&&(C[0]=C[0].slice(1),C.unshift("")),C}se(j,"getPatternParts"),e.getPatternParts=j;function U(D,T){return p.makeRe(D,T)}se(U,"makeRe"),e.makeRe=U;function V(D,T){return D.map(C=>U(C,T))}se(V,"convertPatternsToRe"),e.convertPatternsToRe=V;function B(D,T){return T.some(C=>C.test(D))}se(B,"matchAny"),e.matchAny=B;function G(D){return D.replace(c,"/")}se(G,"removeDuplicateSlashes"),e.removeDuplicateSlashes=G;function W(D){let T=[],C=[];for(let Z of D)k(Z)?T.push(Z):C.push(Z);return[T,C]}se(W,"partitionAbsoluteAndRelative"),e.partitionAbsoluteAndRelative=W;function k(D){return u.isAbsolute(D)}se(k,"isAbsolute"),e.isAbsolute=k}),QA=ye((e,u)=>{"use strict";var h=require("stream"),p=h.PassThrough,o=Array.prototype.slice;u.exports=l;function l(){let t=[],r=o.call(arguments),s=!1,i=r[r.length-1];i&&!Array.isArray(i)&&i.pipe==null?r.pop():i={};let c=i.end!==!1,a=i.pipeError===!0;i.objectMode==null&&(i.objectMode=!0),i.highWaterMark==null&&(i.highWaterMark=64*1024);let d=p(i);function g(){for(let y=0,S=arguments.length;y<S;y++)t.push(n(arguments[y],i));return m(),this}se(g,"addStream");function m(){if(s)return;s=!0;let y=t.shift();if(!y){process.nextTick(f);return}Array.isArray(y)||(y=[y]);let S=y.length+1;function b(){--S>0||(s=!1,m())}se(b,"next");function E(_){function w(){_.removeListener("merge2UnpipeEnd",w),_.removeListener("end",w),a&&_.removeListener("error",O),b()}se(w,"onend");function O(R){d.emit("error",R)}if(se(O,"onerror"),_._readableState.endEmitted)return b();_.on("merge2UnpipeEnd",w),_.on("end",w),a&&_.on("error",O),_.pipe(d,{end:!1}),_.resume()}se(E,"pipe");for(let _=0;_<y.length;_++)E(y[_]);b()}se(m,"mergeStream");function f(){s=!1,d.emit("queueDrain"),c&&d.end()}return se(f,"endStream"),d.setMaxListeners(0),d.add=g,d.on("unpipe",function(y){y.emit("merge2UnpipeEnd")}),r.length&&g.apply(null,r),d}se(l,"merge2");function n(t,r){if(Array.isArray(t))for(let s=0,i=t.length;s<i;s++)t[s]=n(t[s],r);else{if(!t._readableState&&t.pipe&&(t=t.pipe(p(r))),!t._readableState||!t.pause||!t.pipe)throw new Error("Only readable stream can be merged.");t.pause()}return t}se(n,"pauseStreams")}),eR=ye(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.merge=void 0;var u=QA();function h(o){let l=u(o);return o.forEach(n=>{n.once("error",t=>l.emit("error",t))}),l.once("close",()=>p(o)),l.once("end",()=>p(o)),l}se(h,"merge"),e.merge=h;function p(o){o.forEach(l=>l.emit("close"))}se(p,"propagateCloseEventToSources")}),tR=ye(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isEmpty=e.isString=void 0;function u(p){return typeof p=="string"}se(u,"isString"),e.isString=u;function h(p){return p===""}se(h,"isEmpty"),e.isEmpty=h}),ct=ye(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.string=e.stream=e.pattern=e.path=e.fs=e.errno=e.array=void 0;var u=LA();e.array=u;var h=DA();e.errno=h;var p=MA();e.fs=p;var o=jA();e.path=o;var l=XA();e.pattern=l;var n=eR();e.stream=n;var t=tR();e.string=t}),rR=ye(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.convertPatternGroupToTask=e.convertPatternGroupsToTasks=e.groupPatternsByBaseDirectory=e.getNegativePatternsAsPositive=e.getPositivePatterns=e.convertPatternsToTasks=e.generate=void 0;var u=ct();function h(i,c){let a=p(i,c),d=p(c.ignore,c),g=l(a),m=n(a,d),f=g.filter(E=>u.pattern.isStaticPattern(E,c)),y=g.filter(E=>u.pattern.isDynamicPattern(E,c)),S=o(f,m,!1),b=o(y,m,!0);return S.concat(b)}se(h,"generate"),e.generate=h;function p(i,c){let a=i;return c.braceExpansion&&(a=u.pattern.expandPatternsWithBraceExpansion(a)),c.baseNameMatch&&(a=a.map(d=>d.includes("/")?d:`**/${d}`)),a.map(d=>u.pattern.removeDuplicateSlashes(d))}se(p,"processPatterns");function o(i,c,a){let d=[],g=u.pattern.getPatternsOutsideCurrentDirectory(i),m=u.pattern.getPatternsInsideCurrentDirectory(i),f=t(g),y=t(m);return d.push(...r(f,c,a)),"."in y?d.push(s(".",m,c,a)):d.push(...r(y,c,a)),d}se(o,"convertPatternsToTasks"),e.convertPatternsToTasks=o;function l(i){return u.pattern.getPositivePatterns(i)}se(l,"getPositivePatterns"),e.getPositivePatterns=l;function n(i,c){return u.pattern.getNegativePatterns(i).concat(c).map(u.pattern.convertToPositivePattern)}se(n,"getNegativePatternsAsPositive"),e.getNegativePatternsAsPositive=n;function t(i){let c={};return i.reduce((a,d)=>{let g=u.pattern.getBaseDirectory(d);return g in a?a[g].push(d):a[g]=[d],a},c)}se(t,"groupPatternsByBaseDirectory"),e.groupPatternsByBaseDirectory=t;function r(i,c,a){return Object.keys(i).map(d=>s(d,i[d],c,a))}se(r,"convertPatternGroupsToTasks"),e.convertPatternGroupsToTasks=r;function s(i,c,a,d){return{dynamic:d,positive:c,negative:a,base:i,patterns:[].concat(c,a.map(u.pattern.convertToNegativePattern))}}se(s,"convertPatternGroupToTask"),e.convertPatternGroupToTask=s}),sR=ye(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.read=void 0;function u(o,l,n){l.fs.lstat(o,(t,r)=>{if(t!==null){h(n,t);return}if(!r.isSymbolicLink()||!l.followSymbolicLink){p(n,r);return}l.fs.stat(o,(s,i)=>{if(s!==null){if(l.throwErrorOnBrokenSymbolicLink){h(n,s);return}p(n,r);return}l.markSymbolicLink&&(i.isSymbolicLink=()=>!0),p(n,i)})})}se(u,"read"),e.read=u;function h(o,l){o(l)}se(h,"callFailureCallback");function p(o,l){o(null,l)}se(p,"callSuccessCallback")}),iR=ye(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.read=void 0;function u(h,p){let o=p.fs.lstatSync(h);if(!o.isSymbolicLink()||!p.followSymbolicLink)return o;try{let l=p.fs.statSync(h);return p.markSymbolicLink&&(l.isSymbolicLink=()=>!0),l}catch(l){if(!p.throwErrorOnBrokenSymbolicLink)return o;throw l}}se(u,"read"),e.read=u}),nR=ye(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createFileSystemAdapter=e.FILE_SYSTEM_ADAPTER=void 0;var u=require("fs");e.FILE_SYSTEM_ADAPTER={lstat:u.lstat,stat:u.stat,lstatSync:u.lstatSync,statSync:u.statSync};function h(p){return p===void 0?e.FILE_SYSTEM_ADAPTER:Object.assign(Object.assign({},e.FILE_SYSTEM_ADAPTER),p)}se(h,"createFileSystemAdapter"),e.createFileSystemAdapter=h}),oR=ye(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var u=nR(),h=class{static{se(this,"Settings")}constructor(p={}){this._options=p,this.followSymbolicLink=this._getValue(this._options.followSymbolicLink,!0),this.fs=u.createFileSystemAdapter(this._options.fs),this.markSymbolicLink=this._getValue(this._options.markSymbolicLink,!1),this.throwErrorOnBrokenSymbolicLink=this._getValue(this._options.throwErrorOnBrokenSymbolicLink,!0)}_getValue(p,o){return p??o}};e.default=h}),$t=ye(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.statSync=e.stat=e.Settings=void 0;var u=sR(),h=iR(),p=oR();e.Settings=p.default;function o(t,r,s){if(typeof r=="function"){u.read(t,n(),r);return}u.read(t,n(r),s)}se(o,"stat"),e.stat=o;function l(t,r){let s=n(r);return h.read(t,s)}se(l,"statSync"),e.statSync=l;function n(t={}){return t instanceof p.default?t:new p.default(t)}se(n,"getSettings")}),aR=ye((e,u)=>{var h;u.exports=typeof queueMicrotask=="function"?queueMicrotask.bind(global):p=>(h||(h=Promise.resolve())).then(p).catch(o=>setTimeout(()=>{throw o},0))}),lR=ye((e,u)=>{u.exports=p;var h=aR();function p(o,l){let n,t,r,s=!0;Array.isArray(o)?(n=[],t=o.length):(r=Object.keys(o),n={},t=r.length);function i(a){function d(){l&&l(a,n),l=null}se(d,"end"),s?h(d):d()}se(i,"done");function c(a,d,g){n[a]=g,(--t===0||d)&&i(d)}se(c,"each"),t?r?r.forEach(function(a){o[a](function(d,g){c(a,d,g)})}):o.forEach(function(a,d){a(function(g,m){c(d,g,m)})}):i(null),s=!1}se(p,"runParallel")}),gh=ye(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IS_SUPPORT_READDIR_WITH_FILE_TYPES=void 0;var u=process.versions.node.split(".");if(u[0]===void 0||u[1]===void 0)throw new Error(`Unexpected behavior. The 'process.versions.node' variable has invalid value: ${process.versions.node}`);var h=Number.parseInt(u[0],10),p=Number.parseInt(u[1],10),o=10,l=10,n=h>o,t=h===o&&p>=l;e.IS_SUPPORT_READDIR_WITH_FILE_TYPES=n||t}),cR=ye(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createDirentFromStats=void 0;var u=class{static{se(this,"DirentFromStats")}constructor(p,o){this.name=p,this.isBlockDevice=o.isBlockDevice.bind(o),this.isCharacterDevice=o.isCharacterDevice.bind(o),this.isDirectory=o.isDirectory.bind(o),this.isFIFO=o.isFIFO.bind(o),this.isFile=o.isFile.bind(o),this.isSocket=o.isSocket.bind(o),this.isSymbolicLink=o.isSymbolicLink.bind(o)}};function h(p,o){return new u(p,o)}se(h,"createDirentFromStats"),e.createDirentFromStats=h}),mh=ye(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.fs=void 0;var u=cR();e.fs=u}),yh=ye(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.joinPathSegments=void 0;function u(h,p,o){return h.endsWith(o)?h+p:h+o+p}se(u,"joinPathSegments"),e.joinPathSegments=u}),uR=ye(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.readdir=e.readdirWithFileTypes=e.read=void 0;var u=$t(),h=lR(),p=gh(),o=mh(),l=yh();function n(a,d,g){if(!d.stats&&p.IS_SUPPORT_READDIR_WITH_FILE_TYPES){t(a,d,g);return}s(a,d,g)}se(n,"read"),e.read=n;function t(a,d,g){d.fs.readdir(a,{withFileTypes:!0},(m,f)=>{if(m!==null){i(g,m);return}let y=f.map(b=>({dirent:b,name:b.name,path:l.joinPathSegments(a,b.name,d.pathSegmentSeparator)}));if(!d.followSymbolicLinks){c(g,y);return}let S=y.map(b=>r(b,d));h(S,(b,E)=>{if(b!==null){i(g,b);return}c(g,E)})})}se(t,"readdirWithFileTypes"),e.readdirWithFileTypes=t;function r(a,d){return g=>{if(!a.dirent.isSymbolicLink()){g(null,a);return}d.fs.stat(a.path,(m,f)=>{if(m!==null){if(d.throwErrorOnBrokenSymbolicLink){g(m);return}g(null,a);return}a.dirent=o.fs.createDirentFromStats(a.name,f),g(null,a)})}}se(r,"makeRplTaskEntry");function s(a,d,g){d.fs.readdir(a,(m,f)=>{if(m!==null){i(g,m);return}let y=f.map(S=>{let b=l.joinPathSegments(a,S,d.pathSegmentSeparator);return E=>{u.stat(b,d.fsStatSettings,(_,w)=>{if(_!==null){E(_);return}let O={name:S,path:b,dirent:o.fs.createDirentFromStats(S,w)};d.stats&&(O.stats=w),E(null,O)})}});h(y,(S,b)=>{if(S!==null){i(g,S);return}c(g,b)})})}se(s,"readdir"),e.readdir=s;function i(a,d){a(d)}se(i,"callFailureCallback");function c(a,d){a(null,d)}se(c,"callSuccessCallback")}),hR=ye(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.readdir=e.readdirWithFileTypes=e.read=void 0;var u=$t(),h=gh(),p=mh(),o=yh();function l(r,s){return!s.stats&&h.IS_SUPPORT_READDIR_WITH_FILE_TYPES?n(r,s):t(r,s)}se(l,"read"),e.read=l;function n(r,s){return s.fs.readdirSync(r,{withFileTypes:!0}).map(i=>{let c={dirent:i,name:i.name,path:o.joinPathSegments(r,i.name,s.pathSegmentSeparator)};if(c.dirent.isSymbolicLink()&&s.followSymbolicLinks)try{let a=s.fs.statSync(c.path);c.dirent=p.fs.createDirentFromStats(c.name,a)}catch(a){if(s.throwErrorOnBrokenSymbolicLink)throw a}return c})}se(n,"readdirWithFileTypes"),e.readdirWithFileTypes=n;function t(r,s){return s.fs.readdirSync(r).map(i=>{let c=o.joinPathSegments(r,i,s.pathSegmentSeparator),a=u.statSync(c,s.fsStatSettings),d={name:i,path:c,dirent:p.fs.createDirentFromStats(i,a)};return s.stats&&(d.stats=a),d})}se(t,"readdir"),e.readdir=t}),pR=ye(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createFileSystemAdapter=e.FILE_SYSTEM_ADAPTER=void 0;var u=require("fs");e.FILE_SYSTEM_ADAPTER={lstat:u.lstat,stat:u.stat,lstatSync:u.lstatSync,statSync:u.statSync,readdir:u.readdir,readdirSync:u.readdirSync};function h(p){return p===void 0?e.FILE_SYSTEM_ADAPTER:Object.assign(Object.assign({},e.FILE_SYSTEM_ADAPTER),p)}se(h,"createFileSystemAdapter"),e.createFileSystemAdapter=h}),dR=ye(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var u=require("path"),h=$t(),p=pR(),o=class{static{se(this,"Settings")}constructor(l={}){this._options=l,this.followSymbolicLinks=this._getValue(this._options.followSymbolicLinks,!1),this.fs=p.createFileSystemAdapter(this._options.fs),this.pathSegmentSeparator=this._getValue(this._options.pathSegmentSeparator,u.sep),this.stats=this._getValue(this._options.stats,!1),this.throwErrorOnBrokenSymbolicLink=this._getValue(this._options.throwErrorOnBrokenSymbolicLink,!0),this.fsStatSettings=new h.Settings({followSymbolicLink:this.followSymbolicLinks,fs:this.fs,throwErrorOnBrokenSymbolicLink:this.throwErrorOnBrokenSymbolicLink})}_getValue(l,n){return l??n}};e.default=o}),vo=ye(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Settings=e.scandirSync=e.scandir=void 0;var u=uR(),h=hR(),p=dR();e.Settings=p.default;function o(t,r,s){if(typeof r=="function"){u.read(t,n(),r);return}u.read(t,n(r),s)}se(o,"scandir"),e.scandir=o;function l(t,r){let s=n(r);return h.read(t,s)}se(l,"scandirSync"),e.scandirSync=l;function n(t={}){return t instanceof p.default?t:new p.default(t)}se(n,"getSettings")}),fR=ye((e,u)=>{"use strict";function h(p){var o=new p,l=o;function n(){var r=o;return r.next?o=r.next:(o=new p,l=o),r.next=null,r}se(n,"get");function t(r){l.next=r,l=r}return se(t,"release"),{get:n,release:t}}se(h,"reusify"),u.exports=h}),gR=ye((e,u)=>{"use strict";var h=fR();function p(t,r,s){if(typeof t=="function"&&(s=r,r=t,t=null),!(s>=1))throw new Error("fastqueue concurrency must be equal to or greater than 1");var i=h(l),c=null,a=null,d=0,g=null,m={push:w,drain:o,saturated:o,pause:y,paused:!1,get concurrency(){return s},set concurrency(M){if(!(M>=1))throw new Error("fastqueue concurrency must be equal to or greater than 1");if(s=M,!m.paused)for(;c&&d<s;)d++,R()},running:f,resume:E,idle:_,length:S,getQueue:b,unshift:O,empty:o,kill:I,killAndDrain:P,error:L};return m;function f(){return d}function y(){m.paused=!0}function S(){for(var M=c,x=0;M;)M=M.next,x++;return x}function b(){for(var M=c,x=[];M;)x.push(M.value),M=M.next;return x}function E(){if(m.paused){if(m.paused=!1,c===null){d++,R();return}for(;c&&d<s;)d++,R()}}function _(){return d===0&&m.length()===0}function w(M,x){var j=i.get();j.context=t,j.release=R,j.value=M,j.callback=x||o,j.errorHandler=g,d>=s||m.paused?a?(a.next=j,a=j):(c=j,a=j,m.saturated()):(d++,r.call(t,j.value,j.worked))}function O(M,x){var j=i.get();j.context=t,j.release=R,j.value=M,j.callback=x||o,j.errorHandler=g,d>=s||m.paused?c?(j.next=c,c=j):(c=j,a=j,m.saturated()):(d++,r.call(t,j.value,j.worked))}function R(M){M&&i.release(M);var x=c;x&&d<=s?m.paused?d--:(a===c&&(a=null),c=x.next,x.next=null,r.call(t,x.value,x.worked),a===null&&m.empty()):--d===0&&m.drain()}function I(){c=null,a=null,m.drain=o}function P(){c=null,a=null,m.drain(),m.drain=o}function L(M){g=M}}se(p,"fastqueue");function o(){}se(o,"noop");function l(){this.value=null,this.callback=o,this.next=null,this.release=o,this.context=null,this.errorHandler=null;var t=this;this.worked=se(function(r,s){var i=t.callback,c=t.errorHandler,a=t.value;t.value=null,t.callback=o,t.errorHandler&&c(r,a),i.call(t.context,r,s),t.release(t)},"worked")}se(l,"Task");function n(t,r,s){typeof t=="function"&&(s=r,r=t,t=null);function i(y,S){r.call(this,y).then(function(b){S(null,b)},S)}se(i,"asyncWrapper");var c=p(t,i,s),a=c.push,d=c.unshift;return c.push=g,c.unshift=m,c.drained=f,c;function g(y){var S=new Promise(function(b,E){a(y,function(_,w){if(_){E(_);return}b(w)})});return S.catch(o),S}function m(y){var S=new Promise(function(b,E){d(y,function(_,w){if(_){E(_);return}b(w)})});return S.catch(o),S}function f(){var y=new Promise(function(S){process.nextTick(function(){if(c.idle())S();else{var b=c.drain;c.drain=function(){typeof b=="function"&&b(),S(),c.drain=b}}})});return y}}se(n,"queueAsPromised"),u.exports=p,u.exports.promise=n}),So=ye(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.joinPathSegments=e.replacePathSegmentSeparator=e.isAppliedFilter=e.isFatalError=void 0;function u(l,n){return l.errorFilter===null?!0:!l.errorFilter(n)}se(u,"isFatalError"),e.isFatalError=u;function h(l,n){return l===null||l(n)}se(h,"isAppliedFilter"),e.isAppliedFilter=h;function p(l,n){return l.split(/[/\\]/).join(n)}se(p,"replacePathSegmentSeparator"),e.replacePathSegmentSeparator=p;function o(l,n,t){return l===""?n:l.endsWith(t)?l+n:l+t+n}se(o,"joinPathSegments"),e.joinPathSegments=o}),vh=ye(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var u=So(),h=class{static{se(this,"Reader")}constructor(p,o){this._root=p,this._settings=o,this._root=u.replacePathSegmentSeparator(p,o.pathSegmentSeparator)}};e.default=h}),Sh=ye(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var u=require("events"),h=vo(),p=gR(),o=So(),l=vh(),n=class extends l.default{static{se(this,"AsyncReader")}constructor(t,r){super(t,r),this._settings=r,this._scandir=h.scandir,this._emitter=new u.EventEmitter,this._queue=p(this._worker.bind(this),this._settings.concurrency),this._isFatalError=!1,this._isDestroyed=!1,this._queue.drain=()=>{this._isFatalError||this._emitter.emit("end")}}read(){return this._isFatalError=!1,this._isDestroyed=!1,setImmediate(()=>{this._pushToQueue(this._root,this._settings.basePath)}),this._emitter}get isDestroyed(){return this._isDestroyed}destroy(){if(this._isDestroyed)throw new Error("The reader is already destroyed");this._isDestroyed=!0,this._queue.killAndDrain()}onEntry(t){this._emitter.on("entry",t)}onError(t){this._emitter.once("error",t)}onEnd(t){this._emitter.once("end",t)}_pushToQueue(t,r){let s={directory:t,base:r};this._queue.push(s,i=>{i!==null&&this._handleError(i)})}_worker(t,r){this._scandir(t.directory,this._settings.fsScandirSettings,(s,i)=>{if(s!==null){r(s,void 0);return}for(let c of i)this._handleEntry(c,t.base);r(null,void 0)})}_handleError(t){this._isDestroyed||!o.isFatalError(this._settings,t)||(this._isFatalError=!0,this._isDestroyed=!0,this._emitter.emit("error",t))}_handleEntry(t,r){if(this._isDestroyed||this._isFatalError)return;let s=t.path;r!==void 0&&(t.path=o.joinPathSegments(r,t.name,this._settings.pathSegmentSeparator)),o.isAppliedFilter(this._settings.entryFilter,t)&&this._emitEntry(t),t.dirent.isDirectory()&&o.isAppliedFilter(this._settings.deepFilter,t)&&this._pushToQueue(s,r===void 0?void 0:t.path)}_emitEntry(t){this._emitter.emit("entry",t)}};e.default=n}),mR=ye(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var u=Sh(),h=class{static{se(this,"AsyncProvider")}constructor(l,n){this._root=l,this._settings=n,this._reader=new u.default(this._root,this._settings),this._storage=[]}read(l){this._reader.onError(n=>{p(l,n)}),this._reader.onEntry(n=>{this._storage.push(n)}),this._reader.onEnd(()=>{o(l,this._storage)}),this._reader.read()}};e.default=h;function p(l,n){l(n)}se(p,"callFailureCallback");function o(l,n){l(null,n)}se(o,"callSuccessCallback")}),yR=ye(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var u=require("stream"),h=Sh(),p=class{static{se(this,"StreamProvider")}constructor(o,l){this._root=o,this._settings=l,this._reader=new h.default(this._root,this._settings),this._stream=new u.Readable({objectMode:!0,read:se(()=>{},"read"),destroy:se(()=>{this._reader.isDestroyed||this._reader.destroy()},"destroy")})}read(){return this._reader.onError(o=>{this._stream.emit("error",o)}),this._reader.onEntry(o=>{this._stream.push(o)}),this._reader.onEnd(()=>{this._stream.push(null)}),this._reader.read(),this._stream}};e.default=p}),vR=ye(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var u=vo(),h=So(),p=vh(),o=class extends p.default{static{se(this,"SyncReader")}constructor(){super(...arguments),this._scandir=u.scandirSync,this._storage=[],this._queue=new Set}read(){return this._pushToQueue(this._root,this._settings.basePath),this._handleQueue(),this._storage}_pushToQueue(l,n){this._queue.add({directory:l,base:n})}_handleQueue(){for(let l of this._queue.values())this._handleDirectory(l.directory,l.base)}_handleDirectory(l,n){try{let t=this._scandir(l,this._settings.fsScandirSettings);for(let r of t)this._handleEntry(r,n)}catch(t){this._handleError(t)}}_handleError(l){if(h.isFatalError(this._settings,l))throw l}_handleEntry(l,n){let t=l.path;n!==void 0&&(l.path=h.joinPathSegments(n,l.name,this._settings.pathSegmentSeparator)),h.isAppliedFilter(this._settings.entryFilter,l)&&this._pushToStorage(l),l.dirent.isDirectory()&&h.isAppliedFilter(this._settings.deepFilter,l)&&this._pushToQueue(t,n===void 0?void 0:l.path)}_pushToStorage(l){this._storage.push(l)}};e.default=o}),SR=ye(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var u=vR(),h=class{static{se(this,"SyncProvider")}constructor(p,o){this._root=p,this._settings=o,this._reader=new u.default(this._root,this._settings)}read(){return this._reader.read()}};e.default=h}),bR=ye(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var u=require("path"),h=vo(),p=class{static{se(this,"Settings")}constructor(o={}){this._options=o,this.basePath=this._getValue(this._options.basePath,void 0),this.concurrency=this._getValue(this._options.concurrency,Number.POSITIVE_INFINITY),this.deepFilter=this._getValue(this._options.deepFilter,null),this.entryFilter=this._getValue(this._options.entryFilter,null),this.errorFilter=this._getValue(this._options.errorFilter,null),this.pathSegmentSeparator=this._getValue(this._options.pathSegmentSeparator,u.sep),this.fsScandirSettings=new h.Settings({followSymbolicLinks:this._options.followSymbolicLinks,fs:this._options.fs,pathSegmentSeparator:this._options.pathSegmentSeparator,stats:this._options.stats,throwErrorOnBrokenSymbolicLink:this._options.throwErrorOnBrokenSymbolicLink})}_getValue(o,l){return o??l}};e.default=p}),bo=ye(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Settings=e.walkStream=e.walkSync=e.walk=void 0;var u=mR(),h=yR(),p=SR(),o=bR();e.Settings=o.default;function l(s,i,c){if(typeof i=="function"){new u.default(s,r()).read(i);return}new u.default(s,r(i)).read(c)}se(l,"walk"),e.walk=l;function n(s,i){let c=r(i);return new p.default(s,c).read()}se(n,"walkSync"),e.walkSync=n;function t(s,i){let c=r(i);return new h.default(s,c).read()}se(t,"walkStream"),e.walkStream=t;function r(s={}){return s instanceof o.default?s:new o.default(s)}se(r,"getSettings")}),Eo=ye(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var u=require("path"),h=$t(),p=ct(),o=class{static{se(this,"Reader")}constructor(l){this._settings=l,this._fsStatSettings=new h.Settings({followSymbolicLink:this._settings.followSymbolicLinks,fs:this._settings.fs,throwErrorOnBrokenSymbolicLink:this._settings.followSymbolicLinks})}_getFullEntryPath(l){return u.resolve(this._settings.cwd,l)}_makeEntry(l,n){let t={name:n,path:n,dirent:p.fs.createDirentFromStats(n,l)};return this._settings.stats&&(t.stats=l),t}_isFatalError(l){return!p.errno.isEnoentCodeError(l)&&!this._settings.suppressErrors}};e.default=o}),bh=ye(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var u=require("stream"),h=$t(),p=bo(),o=Eo(),l=class extends o.default{static{se(this,"ReaderStream")}constructor(){super(...arguments),this._walkStream=p.walkStream,this._stat=h.stat}dynamic(n,t){return this._walkStream(n,t)}static(n,t){let r=n.map(this._getFullEntryPath,this),s=new u.PassThrough({objectMode:!0});s._write=(i,c,a)=>this._getEntry(r[i],n[i],t).then(d=>{d!==null&&t.entryFilter(d)&&s.push(d),i===r.length-1&&s.end(),a()}).catch(a);for(let i=0;i<r.length;i++)s.write(i);return s}_getEntry(n,t,r){return this._getStat(n).then(s=>this._makeEntry(s,t)).catch(s=>{if(r.errorFilter(s))return null;throw s})}_getStat(n){return new Promise((t,r)=>{this._stat(n,this._fsStatSettings,(s,i)=>s===null?t(i):r(s))})}};e.default=l}),ER=ye(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var u=bo(),h=Eo(),p=bh(),o=class extends h.default{static{se(this,"ReaderAsync")}constructor(){super(...arguments),this._walkAsync=u.walk,this._readerStream=new p.default(this._settings)}dynamic(l,n){return new Promise((t,r)=>{this._walkAsync(l,n,(s,i)=>{s===null?t(i):r(s)})})}async static(l,n){let t=[],r=this._readerStream.static(l,n);return new Promise((s,i)=>{r.once("error",i),r.on("data",c=>t.push(c)),r.once("end",()=>s(t))})}};e.default=o}),_R=ye(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var u=ct(),h=class{static{se(this,"Matcher")}constructor(p,o,l){this._patterns=p,this._settings=o,this._micromatchOptions=l,this._storage=[],this._fillStorage()}_fillStorage(){for(let p of this._patterns){let o=this._getPatternSegments(p),l=this._splitSegmentsIntoSections(o);this._storage.push({complete:l.length<=1,pattern:p,segments:o,sections:l})}}_getPatternSegments(p){return u.pattern.getPatternParts(p,this._micromatchOptions).map(o=>u.pattern.isDynamicPattern(o,this._settings)?{dynamic:!0,pattern:o,patternRe:u.pattern.makeRe(o,this._micromatchOptions)}:{dynamic:!1,pattern:o})}_splitSegmentsIntoSections(p){return u.array.splitWhen(p,o=>o.dynamic&&u.pattern.hasGlobStar(o.pattern))}};e.default=h}),wR=ye(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var u=_R(),h=class extends u.default{static{se(this,"PartialMatcher")}match(p){let o=p.split("/"),l=o.length,n=this._storage.filter(t=>!t.complete||t.segments.length>l);for(let t of n){let r=t.sections[0];if(!t.complete&&l>r.length||o.every((s,i)=>{let c=t.segments[i];return!!(c.dynamic&&c.patternRe.test(s)||!c.dynamic&&c.pattern===s)}))return!0}return!1}};e.default=h}),OR=ye(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var u=ct(),h=wR(),p=class{static{se(this,"DeepFilter")}constructor(o,l){this._settings=o,this._micromatchOptions=l}getFilter(o,l,n){let t=this._getMatcher(l),r=this._getNegativePatternsRe(n);return s=>this._filter(o,s,t,r)}_getMatcher(o){return new h.default(o,this._settings,this._micromatchOptions)}_getNegativePatternsRe(o){let l=o.filter(u.pattern.isAffectDepthOfReadingPattern);return u.pattern.convertPatternsToRe(l,this._micromatchOptions)}_filter(o,l,n,t){if(this._isSkippedByDeep(o,l.path)||this._isSkippedSymbolicLink(l))return!1;let r=u.path.removeLeadingDotSegment(l.path);return this._isSkippedByPositivePatterns(r,n)?!1:this._isSkippedByNegativePatterns(r,t)}_isSkippedByDeep(o,l){return this._settings.deep===1/0?!1:this._getEntryLevel(o,l)>=this._settings.deep}_getEntryLevel(o,l){let n=l.split("/").length;if(o==="")return n;let t=o.split("/").length;return n-t}_isSkippedSymbolicLink(o){return!this._settings.followSymbolicLinks&&o.dirent.isSymbolicLink()}_isSkippedByPositivePatterns(o,l){return!this._settings.baseNameMatch&&!l.match(o)}_isSkippedByNegativePatterns(o,l){return!u.pattern.matchAny(o,l)}};e.default=p}),AR=ye(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var u=ct(),h=class{static{se(this,"EntryFilter")}constructor(p,o){this._settings=p,this._micromatchOptions=o,this.index=new Map}getFilter(p,o){let[l,n]=u.pattern.partitionAbsoluteAndRelative(o),t={positive:{all:u.pattern.convertPatternsToRe(p,this._micromatchOptions)},negative:{absolute:u.pattern.convertPatternsToRe(l,Object.assign(Object.assign({},this._micromatchOptions),{dot:!0})),relative:u.pattern.convertPatternsToRe(n,Object.assign(Object.assign({},this._micromatchOptions),{dot:!0}))}};return r=>this._filter(r,t)}_filter(p,o){let l=u.path.removeLeadingDotSegment(p.path);if(this._settings.unique&&this._isDuplicateEntry(l)||this._onlyFileFilter(p)||this._onlyDirectoryFilter(p))return!1;let n=this._isMatchToPatternsSet(l,o,p.dirent.isDirectory());return this._settings.unique&&n&&this._createIndexRecord(l),n}_isDuplicateEntry(p){return this.index.has(p)}_createIndexRecord(p){this.index.set(p,void 0)}_onlyFileFilter(p){return this._settings.onlyFiles&&!p.dirent.isFile()}_onlyDirectoryFilter(p){return this._settings.onlyDirectories&&!p.dirent.isDirectory()}_isMatchToPatternsSet(p,o,l){return!(!this._isMatchToPatterns(p,o.positive.all,l)||this._isMatchToPatterns(p,o.negative.relative,l)||this._isMatchToAbsoluteNegative(p,o.negative.absolute,l))}_isMatchToAbsoluteNegative(p,o,l){if(o.length===0)return!1;let n=u.path.makeAbsolute(this._settings.cwd,p);return this._isMatchToPatterns(n,o,l)}_isMatchToPatterns(p,o,l){if(o.length===0)return!1;let n=u.pattern.matchAny(p,o);return!n&&l?u.pattern.matchAny(p+"/",o):n}};e.default=h}),RR=ye(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var u=ct(),h=class{static{se(this,"ErrorFilter")}constructor(p){this._settings=p}getFilter(){return p=>this._isNonFatalError(p)}_isNonFatalError(p){return u.errno.isEnoentCodeError(p)||this._settings.suppressErrors}};e.default=h}),CR=ye(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var u=ct(),h=class{static{se(this,"EntryTransformer")}constructor(p){this._settings=p}getTransformer(){return p=>this._transform(p)}_transform(p){let o=p.path;return this._settings.absolute&&(o=u.path.makeAbsolute(this._settings.cwd,o),o=u.path.unixify(o)),this._settings.markDirectories&&p.dirent.isDirectory()&&(o+="/"),this._settings.objectMode?Object.assign(Object.assign({},p),{path:o}):o}};e.default=h}),_o=ye(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var u=require("path"),h=OR(),p=AR(),o=RR(),l=CR(),n=class{static{se(this,"Provider")}constructor(t){this._settings=t,this.errorFilter=new o.default(this._settings),this.entryFilter=new p.default(this._settings,this._getMicromatchOptions()),this.deepFilter=new h.default(this._settings,this._getMicromatchOptions()),this.entryTransformer=new l.default(this._settings)}_getRootDirectory(t){return u.resolve(this._settings.cwd,t.base)}_getReaderOptions(t){let r=t.base==="."?"":t.base;return{basePath:r,pathSegmentSeparator:"/",concurrency:this._settings.concurrency,deepFilter:this.deepFilter.getFilter(r,t.positive,t.negative),entryFilter:this.entryFilter.getFilter(t.positive,t.negative),errorFilter:this.errorFilter.getFilter(),followSymbolicLinks:this._settings.followSymbolicLinks,fs:this._settings.fs,stats:this._settings.stats,throwErrorOnBrokenSymbolicLink:this._settings.throwErrorOnBrokenSymbolicLink,transform:this.entryTransformer.getTransformer()}}_getMicromatchOptions(){return{dot:this._settings.dot,matchBase:this._settings.baseNameMatch,nobrace:!this._settings.braceExpansion,nocase:!this._settings.caseSensitiveMatch,noext:!this._settings.extglob,noglobstar:!this._settings.globstar,posix:!0,strictSlashes:!1}}};e.default=n}),IR=ye(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var u=ER(),h=_o(),p=class extends h.default{static{se(this,"ProviderAsync")}constructor(){super(...arguments),this._reader=new u.default(this._settings)}async read(o){let l=this._getRootDirectory(o),n=this._getReaderOptions(o);return(await this.api(l,o,n)).map(t=>n.transform(t))}api(o,l,n){return l.dynamic?this._reader.dynamic(o,n):this._reader.static(l.patterns,n)}};e.default=p}),TR=ye(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var u=require("stream"),h=bh(),p=_o(),o=class extends p.default{static{se(this,"ProviderStream")}constructor(){super(...arguments),this._reader=new h.default(this._settings)}read(l){let n=this._getRootDirectory(l),t=this._getReaderOptions(l),r=this.api(n,l,t),s=new u.Readable({objectMode:!0,read:se(()=>{},"read")});return r.once("error",i=>s.emit("error",i)).on("data",i=>s.emit("data",t.transform(i))).once("end",()=>s.emit("end")),s.once("close",()=>r.destroy()),s}api(l,n,t){return n.dynamic?this._reader.dynamic(l,t):this._reader.static(n.patterns,t)}};e.default=o}),PR=ye(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var u=$t(),h=bo(),p=Eo(),o=class extends p.default{static{se(this,"ReaderSync")}constructor(){super(...arguments),this._walkSync=h.walkSync,this._statSync=u.statSync}dynamic(l,n){return this._walkSync(l,n)}static(l,n){let t=[];for(let r of l){let s=this._getFullEntryPath(r),i=this._getEntry(s,r,n);i===null||!n.entryFilter(i)||t.push(i)}return t}_getEntry(l,n,t){try{let r=this._getStat(l);return this._makeEntry(r,n)}catch(r){if(t.errorFilter(r))return null;throw r}}_getStat(l){return this._statSync(l,this._fsStatSettings)}};e.default=o}),xR=ye(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var u=PR(),h=_o(),p=class extends h.default{static{se(this,"ProviderSync")}constructor(){super(...arguments),this._reader=new u.default(this._settings)}read(o){let l=this._getRootDirectory(o),n=this._getReaderOptions(o);return this.api(l,o,n).map(n.transform)}api(o,l,n){return l.dynamic?this._reader.dynamic(o,n):this._reader.static(l.patterns,n)}};e.default=p}),kR=ye(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DEFAULT_FILE_SYSTEM_ADAPTER=void 0;var u=require("fs"),h=require("os"),p=Math.max(h.cpus().length,1);e.DEFAULT_FILE_SYSTEM_ADAPTER={lstat:u.lstat,lstatSync:u.lstatSync,stat:u.stat,statSync:u.statSync,readdir:u.readdir,readdirSync:u.readdirSync};var o=class{static{se(this,"Settings")}constructor(l={}){this._options=l,this.absolute=this._getValue(this._options.absolute,!1),this.baseNameMatch=this._getValue(this._options.baseNameMatch,!1),this.braceExpansion=this._getValue(this._options.braceExpansion,!0),this.caseSensitiveMatch=this._getValue(this._options.caseSensitiveMatch,!0),this.concurrency=this._getValue(this._options.concurrency,p),this.cwd=this._getValue(this._options.cwd,process.cwd()),this.deep=this._getValue(this._options.deep,1/0),this.dot=this._getValue(this._options.dot,!1),this.extglob=this._getValue(this._options.extglob,!0),this.followSymbolicLinks=this._getValue(this._options.followSymbolicLinks,!0),this.fs=this._getFileSystemMethods(this._options.fs),this.globstar=this._getValue(this._options.globstar,!0),this.ignore=this._getValue(this._options.ignore,[]),this.markDirectories=this._getValue(this._options.markDirectories,!1),this.objectMode=this._getValue(this._options.objectMode,!1),this.onlyDirectories=this._getValue(this._options.onlyDirectories,!1),this.onlyFiles=this._getValue(this._options.onlyFiles,!0),this.stats=this._getValue(this._options.stats,!1),this.suppressErrors=this._getValue(this._options.suppressErrors,!1),this.throwErrorOnBrokenSymbolicLink=this._getValue(this._options.throwErrorOnBrokenSymbolicLink,!1),this.unique=this._getValue(this._options.unique,!0),this.onlyDirectories&&(this.onlyFiles=!1),this.stats&&(this.objectMode=!0),this.ignore=[].concat(this.ignore)}_getValue(l,n){return l===void 0?n:l}_getFileSystemMethods(l={}){return Object.assign(Object.assign({},e.DEFAULT_FILE_SYSTEM_ADAPTER),l)}};e.default=o}),Eh=ye((e,u)=>{"use strict";var h=rR(),p=IR(),o=TR(),l=xR(),n=kR(),t=ct();async function r(c,a){i(c);let d=s(c,p.default,a),g=await Promise.all(d);return t.array.flatten(g)}se(r,"FastGlob"),function(c){c.glob=c,c.globSync=a,c.globStream=d,c.async=c;function a(E,_){i(E);let w=s(E,l.default,_);return t.array.flatten(w)}se(a,"sync"),c.sync=a;function d(E,_){i(E);let w=s(E,o.default,_);return t.stream.merge(w)}se(d,"stream"),c.stream=d;function g(E,_){i(E);let w=[].concat(E),O=new n.default(_);return h.generate(w,O)}se(g,"generateTasks"),c.generateTasks=g;function m(E,_){i(E);let w=new n.default(_);return t.pattern.isDynamicPattern(E,w)}se(m,"isDynamicPattern"),c.isDynamicPattern=m;function f(E){return i(E),t.path.escape(E)}se(f,"escapePath"),c.escapePath=f;function y(E){return i(E),t.path.convertPathToPattern(E)}se(y,"convertPathToPattern"),c.convertPathToPattern=y;let S;(function(E){function _(O){return i(O),t.path.escapePosixPath(O)}se(_,"escapePath"),E.escapePath=_;function w(O){return i(O),t.path.convertPosixPathToPattern(O)}se(w,"convertPathToPattern"),E.convertPathToPattern=w})(S=c.posix||(c.posix={}));let b;(function(E){function _(O){return i(O),t.path.escapeWindowsPath(O)}se(_,"escapePath"),E.escapePath=_;function w(O){return i(O),t.path.convertWindowsPathToPattern(O)}se(w,"convertPathToPattern"),E.convertPathToPattern=w})(b=c.win32||(c.win32={}))}(r||(r={}));function s(c,a,d){let g=[].concat(c),m=new n.default(d),f=h.generate(g,m),y=new a(m);return f.map(y.read,y)}se(s,"getWorks");function i(c){if(![].concat(c).every(a=>t.string.isString(a)&&!t.string.isEmpty(a)))throw new TypeError("Patterns must be a string (non empty) or an array of strings")}se(i,"assertPatternsInput"),u.exports=r}),NR=ye((e,u)=>{function h(Q){return Array.isArray(Q)?Q:[Q]}se(h,"makeArray");var p=void 0,o="",l=" ",n="\\",t=/^\s+$/,r=/(?:[^\\]|^)\\$/,s=/^\\!/,i=/^\\#/,c=/\r?\n/g,a=/^\.{0,2}\/|^\.{1,2}$/,d=/\/$/,g="/",m="node-ignore";typeof Symbol<"u"&&(m=Symbol.for("node-ignore"));var f=m,y=se((Q,N,F)=>(Object.defineProperty(Q,N,{value:F}),F),"define"),S=/([0-z])-([0-z])/g,b=se(()=>!1,"RETURN_FALSE"),E=se(Q=>Q.replace(S,(N,F,z)=>F.charCodeAt(0)<=z.charCodeAt(0)?N:o),"sanitizeRange"),_=se(Q=>{let{length:N}=Q;return Q.slice(0,N-N%2)},"cleanRangeBackSlash"),w=[[/^\uFEFF/,()=>o],[/((?:\\\\)*?)(\\?\s+)$/,(Q,N,F)=>N+(F.indexOf("\\")===0?l:o)],[/(\\+?)\s/g,(Q,N)=>{let{length:F}=N;return N.slice(0,F-F%2)+l}],[/[\\$.|*+(){^]/g,Q=>`\\${Q}`],[/(?!\\)\?/g,()=>"[^/]"],[/^\//,()=>"^"],[/\//g,()=>"\\/"],[/^\^*\\\*\\\*\\\//,()=>"^(?:.*\\/)?"],[/^(?=[^^])/,se(function(){return/\/(?!$)/.test(this)?"^":"(?:^|\\/)"},"startingReplacer")],[/\\\/\\\*\\\*(?=\\\/|$)/g,(Q,N,F)=>N+6<F.length?"(?:\\/[^\\/]+)*":"\\/.+"],[/(^|[^\\]+)(\\\*)+(?=.+)/g,(Q,N,F)=>{let z=F.replace(/\\\*/g,"[^\\/]*");return N+z}],[/\\\\\\(?=[$.|*+(){^])/g,()=>n],[/\\\\/g,()=>n],[/(\\)?\[([^\]/]*?)(\\*)($|\])/g,(Q,N,F,z,$)=>N===n?`\\[${F}${_(z)}${$}`:$==="]"&&z.length%2===0?`[${E(F)}${z}]`:"[]"],[/(?:[^*])$/,Q=>/\/$/.test(Q)?`${Q}$`:`${Q}(?=$|\\/$)`]],O=/(^|\\\/)?\\\*$/,R="regex",I="checkRegex",P="_",L={[R](Q,N){return`${N?`${N}[^/]+`:"[^/]*"}(?=$|\\/$)`},[I](Q,N){return`${N?`${N}[^/]*`:"[^/]*"}(?=$|\\/$)`}},M=se(Q=>w.reduce((N,[F,z])=>N.replace(F,z.bind(Q)),Q),"makeRegexPrefix"),x=se(Q=>typeof Q=="string","isString"),j=se(Q=>Q&&x(Q)&&!t.test(Q)&&!r.test(Q)&&Q.indexOf("#")!==0,"checkPattern"),U=se(Q=>Q.split(c).filter(Boolean),"splitPattern"),V=class{static{se(this,"IgnoreRule")}constructor(Q,N,F,z,$,K){this.pattern=Q,this.mark=N,this.negative=$,y(this,"body",F),y(this,"ignoreCase",z),y(this,"regexPrefix",K)}get regex(){let Q=P+R;return this[Q]?this[Q]:this._make(R,Q)}get checkRegex(){let Q=P+I;return this[Q]?this[Q]:this._make(I,Q)}_make(Q,N){let F=this.regexPrefix.replace(O,L[Q]),z=this.ignoreCase?new RegExp(F,"i"):new RegExp(F);return y(this,N,z)}},B=se(({pattern:Q,mark:N},F)=>{let z=!1,$=Q;$.indexOf("!")===0&&(z=!0,$=$.substr(1)),$=$.replace(s,"!").replace(i,"#");let K=M($);return new V(Q,N,$,F,z,K)},"createRule"),G=class{static{se(this,"RuleManager")}constructor(Q){this._ignoreCase=Q,this._rules=[]}_add(Q){if(Q&&Q[f]){this._rules=this._rules.concat(Q._rules._rules),this._added=!0;return}if(x(Q)&&(Q={pattern:Q}),j(Q.pattern)){let N=B(Q,this._ignoreCase);this._added=!0,this._rules.push(N)}}add(Q){return this._added=!1,h(x(Q)?U(Q):Q).forEach(this._add,this),this._added}test(Q,N,F){let z=!1,$=!1,K;this._rules.forEach(X=>{let{negative:A}=X;$===A&&z!==$||A&&!z&&!$&&!N||!X[F].test(Q)||(z=!A,$=A,K=A?p:X)});let q={ignored:z,unignored:$};return K&&(q.rule=K),q}},W=se((Q,N)=>{throw new N(Q)},"throwError"),k=se((Q,N,F)=>x(Q)?Q?k.isNotRelative(Q)?F(`path should be a \`path.relative()\`d string, but got "${N}"`,RangeError):!0:F("path must not be empty",TypeError):F(`path must be a string, but got \`${N}\``,TypeError),"checkPath"),D=se(Q=>a.test(Q),"isNotRelative");k.isNotRelative=D,k.convert=Q=>Q;var T=class{static{se(this,"Ignore")}constructor({ignorecase:Q=!0,ignoreCase:N=Q,allowRelativePaths:F=!1}={}){y(this,f,!0),this._rules=new G(N),this._strictPathCheck=!F,this._initCache()}_initCache(){this._ignoreCache=Object.create(null),this._testCache=Object.create(null)}add(Q){return this._rules.add(Q)&&this._initCache(),this}addPattern(Q){return this.add(Q)}_test(Q,N,F,z){let $=Q&&k.convert(Q);return k($,Q,this._strictPathCheck?W:b),this._t($,N,F,z)}checkIgnore(Q){if(!d.test(Q))return this.test(Q);let N=Q.split(g).filter(Boolean);if(N.pop(),N.length){let F=this._t(N.join(g)+g,this._testCache,!0,N);if(F.ignored)return F}return this._rules.test(Q,!1,I)}_t(Q,N,F,z){if(Q in N)return N[Q];if(z||(z=Q.split(g).filter(Boolean)),z.pop(),!z.length)return N[Q]=this._rules.test(Q,F,R);let $=this._t(z.join(g)+g,N,F,z);return N[Q]=$.ignored?$:this._rules.test(Q,F,R)}ignores(Q){return this._test(Q,this._ignoreCache,!1).ignored}createFilter(){return Q=>!this.ignores(Q)}filter(Q){return h(Q).filter(this.createFilter())}test(Q){return this._test(Q,this._testCache,!0)}},C=se(Q=>new T(Q),"factory"),Z=se(Q=>k(Q&&k.convert(Q),Q,b),"isPathValid"),Y=se(()=>{let Q=se(F=>/^\\\\\?\\/.test(F)||/["<>|\u0000-\u001F]+/u.test(F)?F:F.replace(/\\/g,"/"),"makePosix");k.convert=Q;let N=/^[a-z]:\//i;k.isNotRelative=F=>N.test(F)||D(F)},"setupWindows");typeof process<"u"&&process.platform==="win32"&&Y(),u.exports=C,C.default=C,u.exports.isPathValid=Z,y(u.exports,Symbol.for("setupWindows"),Y)}),_h={};kA(_h,{deleteAsync:()=>Yh,deleteSync:()=>Xh});Qh.exports=NA(_h);var LR=Ce(require("fs"),1),DR=Ce(require("internal/fs/promises"),1),wh=Ce(require("path"),1),wo=Ce(require("process"),1),Oh=Ce(require("process"),1),MR=Ce(require("fs"),1),Dt=Ce(require("path"),1),Ah=require("events"),jR=require("stream"),Rh=require("internal/streams/promises");function Ch(e){if(!Array.isArray(e))throw new TypeError(`Expected an array, got \`${typeof e}\`.`);for(let o of e)fo(o);let u=e.some(({readableObjectMode:o})=>o),h=$R(e,u),p=new BR({objectMode:u,writableHighWaterMark:h,readableHighWaterMark:h});for(let o of e)p.add(o);return e.length===0&&Ph(p),p}se(Ch,"mergeStreams");var $R=se((e,u)=>{if(e.length===0)return 16384;let h=e.filter(({readableObjectMode:p})=>p===u).map(({readableHighWaterMark:p})=>p);return Math.max(...h)},"getHighWaterMark"),BR=class extends jR.PassThrough{static{se(this,"MergedStream")}#e=new Set([]);#t=new Set([]);#r=new Set([]);#s;add(e){fo(e),!this.#e.has(e)&&(this.#e.add(e),this.#s??=UR(this,this.#e),GR({passThroughStream:this,stream:e,streams:this.#e,ended:this.#t,aborted:this.#r,onFinished:this.#s}),e.pipe(this,{end:!1}))}remove(e){return fo(e),this.#e.has(e)?(e.unpipe(this),!0):!1}},UR=se(async(e,u)=>{Es(e,nh);let h=new AbortController;try{await Promise.race([FR(e,h),HR(e,u,h)])}finally{h.abort(),Es(e,-nh)}},"onMergedStreamFinished"),FR=se(async(e,{signal:u})=>{await(0,Rh.finished)(e,{signal:u,cleanup:!0})},"onMergedStreamEnd"),HR=se(async(e,u,{signal:h})=>{for await(let[p]of(0,Ah.on)(e,"unpipe",{signal:h}))u.has(p)&&p.emit(Th)},"onInputStreamsUnpipe"),fo=se(e=>{if(typeof e?.pipe!="function")throw new TypeError(`Expected a readable stream, got: \`${typeof e}\`.`)},"validateStream"),GR=se(async({passThroughStream:e,stream:u,streams:h,ended:p,aborted:o,onFinished:l})=>{Es(e,oh);let n=new AbortController;try{await Promise.race([VR(l,u),WR({passThroughStream:e,stream:u,streams:h,ended:p,aborted:o,controller:n}),zR({stream:u,streams:h,ended:p,aborted:o,controller:n})])}finally{n.abort(),Es(e,-oh)}h.size===p.size+o.size&&(p.size===0&&o.size>0?go(e):Ph(e))},"endWhenStreamsDone"),Ih=se(e=>e?.code==="ERR_STREAM_PREMATURE_CLOSE","isAbortError"),VR=se(async(e,u)=>{try{await e,go(u)}catch(h){Ih(h)?go(u):xh(u,h)}},"afterMergedStreamFinished"),WR=se(async({passThroughStream:e,stream:u,streams:h,ended:p,aborted:o,controller:{signal:l}})=>{try{await(0,Rh.finished)(u,{signal:l,cleanup:!0,readable:!0,writable:!1}),h.has(u)&&p.add(u)}catch(n){if(l.aborted||!h.has(u))return;Ih(n)?o.add(u):xh(e,n)}},"onInputStreamEnd"),zR=se(async({stream:e,streams:u,ended:h,aborted:p,controller:{signal:o}})=>{await(0,Ah.once)(e,Th,{signal:o}),u.delete(e),h.delete(e),p.delete(e)},"onInputStreamUnpipe"),Th=Symbol("unpipe"),Ph=se(e=>{e.writable&&e.end()},"endStream"),go=se(e=>{(e.readable||e.writable)&&e.destroy()},"abortStream"),xh=se((e,u)=>{e.destroyed||(e.once("error",KR),e.destroy(u))},"errorStream"),KR=se(()=>{},"noop"),Es=se((e,u)=>{let h=e.getMaxListeners();h!==0&&h!==Number.POSITIVE_INFINITY&&e.setMaxListeners(h+u)},"updateMaxListeners"),nh=2,oh=1,gr=Ce(Eh(),1),JR=Ce(require("fs"),1),qR=Ce(require("internal/fs/promises"),1);async function Os(e,u,h){if(typeof h!="string")throw new TypeError(`Expected a string, got ${typeof h}`);try{return(await qR.default[e](h))[u]()}catch(p){if(p.code==="ENOENT")return!1;throw p}}se(Os,"isType");function As(e,u,h){if(typeof h!="string")throw new TypeError(`Expected a string, got ${typeof h}`);try{return JR.default[e](h)[u]()}catch(p){if(p.code==="ENOENT")return!1;throw p}}se(As,"isTypeSync");var bk=Os.bind(void 0,"stat","isFile"),ZR=Os.bind(void 0,"stat","isDirectory"),Ek=Os.bind(void 0,"lstat","isSymbolicLink"),_k=As.bind(void 0,"statSync","isFile"),YR=As.bind(void 0,"statSync","isDirectory"),wk=As.bind(void 0,"lstatSync","isSymbolicLink"),XR=require("util"),QR=require("internal/child_process"),Ok=Ce(require("path"),1),eC=require("url"),Ak=(0,XR.promisify)(QR.execFile);function Rs(e){return e instanceof URL?(0,eC.fileURLToPath)(e):e}se(Rs,"toPath");var Rk=10*1024*1024,tC=Ce(require("process"),1),rC=Ce(require("fs"),1),sC=Ce(require("internal/fs/promises"),1),Mt=Ce(require("path"),1),kh=Ce(Eh(),1),iC=Ce(NR(),1);function jt(e){return e.startsWith("\\\\?\\")?e:e.replace(/\\/g,"/")}se(jt,"slash");var Oo=se(e=>e[0]==="!","isNegativePattern"),nC=["**/node_modules","**/flow-typed","**/coverage","**/.git"],Nh={absolute:!0,dot:!0},oC="**/.gitignore",aC=se((e,u)=>Oo(e)?"!"+Mt.default.posix.join(u,e.slice(1)):Mt.default.posix.join(u,e),"applyBaseToPattern"),lC=se((e,u)=>{let h=jt(Mt.default.relative(u,Mt.default.dirname(e.filePath)));return e.content.split(/\r?\n/).filter(p=>p&&!p.startsWith("#")).map(p=>aC(p,h))},"parseIgnoreFile"),cC=se((e,u)=>{if(u=jt(u),Mt.default.isAbsolute(e)){if(jt(e).startsWith(u))return Mt.default.relative(u,e);throw new Error(`Path ${e} is not in cwd ${u}`)}return e},"toRelativePath"),Lh=se((e,u)=>{let h=e.flatMap(o=>lC(o,u)),p=(0,iC.default)().add(h);return o=>(o=Rs(o),o=cC(o,u),o?p.ignores(jt(o)):!1)},"getIsIgnoredPredicate"),Dh=se((e={})=>({cwd:Rs(e.cwd)??tC.default.cwd(),suppressErrors:!!e.suppressErrors,deep:typeof e.deep=="number"?e.deep:Number.POSITIVE_INFINITY,ignore:[...e.ignore??[],...nC]}),"normalizeOptions"),uC=se(async(e,u)=>{let{cwd:h,suppressErrors:p,deep:o,ignore:l}=Dh(u),n=await(0,kh.default)(e,{cwd:h,suppressErrors:p,deep:o,ignore:l,...Nh}),t=await Promise.all(n.map(async r=>({filePath:r,content:await sC.default.readFile(r,"utf8")})));return Lh(t,h)},"isIgnoredByIgnoreFiles"),hC=se((e,u)=>{let{cwd:h,suppressErrors:p,deep:o,ignore:l}=Dh(u),n=kh.default.sync(e,{cwd:h,suppressErrors:p,deep:o,ignore:l,...Nh}).map(t=>({filePath:t,content:rC.default.readFileSync(t,"utf8")}));return Lh(n,h)},"isIgnoredByIgnoreFilesSync"),pC=se(e=>{if(e.some(u=>typeof u!="string"))throw new TypeError("Patterns must be a string or an array of strings")},"assertPatternsInput"),Mh=se((e,u)=>{let h=Oo(e)?e.slice(1):e;return Dt.default.isAbsolute(h)?h:Dt.default.join(u,h)},"normalizePathForDirectoryGlob"),jh=se(({directoryPath:e,files:u,extensions:h})=>{let p=h?.length>0?`.${h.length>1?`{${h.join(",")}}`:h[0]}`:"";return u?u.map(o=>Dt.default.posix.join(e,`**/${Dt.default.extname(o)?o:`${o}${p}`}`)):[Dt.default.posix.join(e,`**${p?`/*${p}`:""}`)]},"getDirectoryGlob"),ah=se(async(e,{cwd:u=Oh.default.cwd(),files:h,extensions:p}={})=>(await Promise.all(e.map(async o=>await ZR(Mh(o,u))?jh({directoryPath:o,files:h,extensions:p}):o))).flat(),"directoryToGlob"),lh=se((e,{cwd:u=Oh.default.cwd(),files:h,extensions:p}={})=>e.flatMap(o=>YR(Mh(o,u))?jh({directoryPath:o,files:h,extensions:p}):o),"directoryToGlobSync"),Ao=se(e=>(e=[...new Set([e].flat())],pC(e),e),"toPatternsArray"),dC=se(e=>{if(!e)return;let u;try{u=MR.default.statSync(e)}catch{return}if(!u.isDirectory())throw new Error("The `cwd` option must be a path to a directory")},"checkCwdOption"),$h=se((e={})=>(e={...e,ignore:e.ignore??[],expandDirectories:e.expandDirectories??!0,cwd:Rs(e.cwd)},dC(e.cwd),e),"normalizeOptions"),Bh=se(e=>async(u,h)=>e(Ao(u),$h(h)),"normalizeArguments"),Cs=se(e=>(u,h)=>e(Ao(u),$h(h)),"normalizeArgumentsSync"),Uh=se(e=>{let{ignoreFiles:u,gitignore:h}=e,p=u?Ao(u):[];return h&&p.push(oC),p},"getIgnoreFilesPatterns"),fC=se(async e=>{let u=Uh(e);return Hh(u.length>0&&await uC(u,e))},"getFilter"),Fh=se(e=>{let u=Uh(e);return Hh(u.length>0&&hC(u,e))},"getFilterSync"),Hh=se(e=>{let u=new Set;return h=>{let p=Dt.default.normalize(h.path??h);return u.has(p)||e&&e(p)?!1:(u.add(p),!0)}},"createFilterFunction"),Gh=se((e,u)=>e.flat().filter(h=>u(h)),"unionFastGlobResults"),Vh=se((e,u)=>{let h=[];for(;e.length>0;){let p=e.findIndex(l=>Oo(l));if(p===-1){h.push({patterns:e,options:u});break}let o=e[p].slice(1);for(let l of h)l.options.ignore.push(o);p!==0&&h.push({patterns:e.slice(0,p),options:{...u,ignore:[...u.ignore,o]}}),e=e.slice(p+1)}return h},"convertNegativePatterns"),Wh=se((e,u)=>({...u?{cwd:u}:{},...Array.isArray(e)?{files:e}:e}),"normalizeExpandDirectoriesOption"),zh=se(async(e,u)=>{let h=Vh(e,u),{cwd:p,expandDirectories:o}=u;if(!o)return h;let l=Wh(o,p);return Promise.all(h.map(async n=>{let{patterns:t,options:r}=n;return[t,r.ignore]=await Promise.all([ah(t,l),ah(r.ignore,{cwd:p})]),{patterns:t,options:r}}))},"generateTasks"),Ro=se((e,u)=>{let h=Vh(e,u),{cwd:p,expandDirectories:o}=u;if(!o)return h;let l=Wh(o,p);return h.map(n=>{let{patterns:t,options:r}=n;return t=lh(t,l),r.ignore=lh(r.ignore,{cwd:p}),{patterns:t,options:r}})},"generateTasksSync"),gC=Bh(async(e,u)=>{let[h,p]=await Promise.all([zh(e,u),fC(u)]),o=await Promise.all(h.map(l=>(0,gr.default)(l.patterns,l.options)));return Gh(o,p)}),mC=Cs((e,u)=>{let h=Ro(e,u),p=Fh(u),o=h.map(l=>gr.default.sync(l.patterns,l.options));return Gh(o,p)}),Ck=Cs((e,u)=>{let h=Ro(e,u),p=Fh(u),o=h.map(l=>gr.default.stream(l.patterns,l.options));return Ch(o).filter(l=>p(l))}),Ik=Cs((e,u)=>e.some(h=>gr.default.isDynamicPattern(h,u))),Tk=Bh(zh),Pk=Cs(Ro),{convertPathToPattern:xk}=gr.default,yC=Ce(dh(),1),ch=Ce(require("process"),1),vC=Ce(require("path"),1);function Kh(e){let u=ch.default.cwd();return e=vC.default.resolve(e),ch.default.platform==="win32"&&(u=u.toLowerCase(),e=e.toLowerCase()),e===u}se(Kh,"isPathCwd");var po=Ce(require("path"),1);function Jh(e,u){let h=po.default.relative(u,e);return!!(h&&h!==".."&&!h.startsWith(`..${po.default.sep}`)&&h!==po.default.resolve(e))}se(Jh,"isPathInside");async function qh(e,u,{concurrency:h=Number.POSITIVE_INFINITY,stopOnError:p=!0,signal:o}={}){return new Promise((l,n)=>{if(e[Symbol.iterator]===void 0&&e[Symbol.asyncIterator]===void 0)throw new TypeError(`Expected \`input\` to be either an \`Iterable\` or \`AsyncIterable\`, got (${typeof e})`);if(typeof u!="function")throw new TypeError("Mapper function is required");if(!(Number.isSafeInteger(h)&&h>=1||h===Number.POSITIVE_INFINITY))throw new TypeError(`Expected \`concurrency\` to be an integer from 1 and up or \`Infinity\`, got \`${h}\` (${typeof h})`);let t=[],r=[],s=new Map,i=!1,c=!1,a=!1,d=0,g=0,m=e[Symbol.iterator]===void 0?e[Symbol.asyncIterator]():e[Symbol.iterator](),f=se(()=>{b(o.reason)},"signalListener"),y=se(()=>{o?.removeEventListener("abort",f)},"cleanup"),S=se(_=>{l(_),y()},"resolve"),b=se(_=>{i=!0,c=!0,n(_),y()},"reject");o&&(o.aborted&&b(o.reason),o.addEventListener("abort",f,{once:!0}));let E=se(async()=>{if(c)return;let _=await m.next(),w=g;if(g++,_.done){if(a=!0,d===0&&!c){if(!p&&r.length>0){b(new AggregateError(r));return}if(c=!0,s.size===0){S(t);return}let O=[];for(let[R,I]of t.entries())s.get(R)!==uh&&O.push(I);S(O)}return}d++,(async()=>{try{let O=await _.value;if(c)return;let R=await u(O,w);R===uh&&s.set(w,R),t[w]=R,d--,await E()}catch(O){if(p)b(O);else{r.push(O),d--;try{await E()}catch(R){b(R)}}}})()},"next");(async()=>{for(let _=0;_<h;_++){try{await E()}catch(w){b(w);break}if(a||i)break}})()})}se(qh,"pMap");var uh=Symbol("skip"),{toString:kk}=Object.prototype,hh=class Zh extends Error{static{se(this,"PresentableError")}constructor(u,{cause:h}={}){if(super(),u instanceof Zh)return u;if(typeof u!="string")throw new TypeError("Message required.");this.name="PresentableError",this.message=u,this.cause=h}get isPresentable(){return!0}};function Co(e,u){if(Kh(e))throw new hh("Cannot delete the current working directory. Can be overridden with the `force` option.");if(!Jh(e,u))throw new hh("Cannot delete files/directories outside the current working directory. Can be overridden with the `force` option.")}se(Co,"safeCheck");function Io(e){return e=Array.isArray(e)?e:[e],e=e.map(u=>wo.default.platform==="win32"&&(0,yC.default)(u)===!1?jt(u):u),e}se(Io,"normalizePatterns");async function Yh(e,{force:u,dryRun:h,cwd:p=wo.default.cwd(),onProgress:o=se(()=>{},"onProgress"),...l}={}){l={expandDirectories:!1,onlyFiles:!1,followSymbolicLinks:!1,cwd:p,...l},e=Io(e);let n=(await gC(e,l)).sort((s,i)=>i.localeCompare(s));n.length===0&&o({totalCount:0,deletedCount:0,percent:1});let t=0,r=await qh(n,se(async s=>(s=wh.default.resolve(p,s),u||Co(s,p),h||await DR.default.rm(s,{recursive:!0,force:!0}),t+=1,o({totalCount:n.length,deletedCount:t,percent:t/n.length,path:s}),s),"mapper"),l);return r.sort((s,i)=>s.localeCompare(i)),r}se(Yh,"deleteAsync");function Xh(e,{force:u,dryRun:h,cwd:p=wo.default.cwd(),...o}={}){o={expandDirectories:!1,onlyFiles:!1,followSymbolicLinks:!1,cwd:p,...o},e=Io(e);let l=mC(e,o).sort((n,t)=>t.localeCompare(n)).map(n=>(n=wh.default.resolve(p,n),u||Co(n,p),h||LR.default.rmSync(n,{recursive:!0,force:!0}),n));return l.sort((n,t)=>n.localeCompare(t)),l}se(Xh,"deleteSync");});var pp=_e((uN,hp)=>{var ko=Object.defineProperty,SC=Object.getOwnPropertyDescriptor,bC=Object.getOwnPropertyNames,EC=Object.prototype.hasOwnProperty,_C=(e,u)=>{for(var h in u)ko(e,h,{get:u[h],enumerable:!0})},wC=(e,u,h,p)=>{if(u&&typeof u=="object"||typeof u=="function")for(let o of bC(u))!EC.call(e,o)&&o!==h&&ko(e,o,{get:()=>u[o],enumerable:!(p=SC(u,o))||p.enumerable});return e},OC=e=>wC(ko({},"__esModule",{value:!0}),e),tp={};_C(tp,{findUp:()=>TC,findUpSync:()=>PC,invalidatePathCache:()=>lp,isDir:()=>xC,isDirEmptySync:()=>op,isDirSync:()=>kC,isSymLinkSync:()=>NC,readDirNames:()=>DC,readDirNamesSync:()=>MC,readFileBinary:()=>jC,readFileBinarySync:()=>BC,readFileUtf8:()=>$C,readFileUtf8Sync:()=>UC,readJson:()=>FC,readJsonSync:()=>HC,safeDelete:()=>GC,safeDeleteSync:()=>VC,safeReadFile:()=>WC,safeReadFileSync:()=>zC,safeStats:()=>cp,safeStatsSync:()=>up,uniqueSync:()=>KC,validateFiles:()=>LC,writeJson:()=>JC,writeJsonSync:()=>qC});hp.exports=OC(tp);var AC=Qi(),Ts=Gr(),ep=nu(),rp=Eu(),RC=Qr(),$e=ps(),CC=so(),IC=En(),Ps=(0,AC.getAbortSignal)(),sp=(0,RC.objectFreeze)({__proto__:null,force:!0,maxRetries:3,recursive:!0,retryDelay:200}),Po;function Ie(){return Po===void 0&&(Po=require("fs")),Po}var xo;function ft(){return xo===void 0&&(xo=require("path")),xo}function ip(e,u,h){let{ignore:p,includeEmpty:o=!0,sort:l=!0}={__proto__:null,...h},n=ft(),t=e.filter(r=>r.isDirectory()&&(o||!op(n.join(u||r.parentPath,r.name),{ignore:p}))).map(r=>r.name);return l?t.sort(IC.naturalCompare):t}function np(e,u,h,p,o=2){let l=h?u:"";return`${JSON.stringify(e,p,o).replace(/\n/g,u)}${l}`}async function TC(e,u){let{cwd:h=process.cwd(),signal:p=Ps}={__proto__:null,...u},{onlyDirectories:o=!1,onlyFiles:l=!0}={__proto__:null,...u};o&&(l=!1),l&&(o=!1);let n=Ie(),t=ft(),r=t.resolve(h),{root:s}=t.parse(r),i=(0,Ts.isArray)(e)?e:[e];for(;r&&r!==s;){for(let c of i){if(p?.aborted)return;let a=t.join(r,c);try{let d=await n.promises.stat(a);if(!o&&d.isFile()||!l&&d.isDirectory())return(0,$e.normalizePath)(a)}catch{}}r=t.dirname(r)}}function PC(e,u){let{cwd:h=process.cwd(),stopAt:p}={__proto__:null,...u},{onlyDirectories:o=!1,onlyFiles:l=!0}={__proto__:null,...u};o&&(l=!1),l&&(o=!1);let n=Ie(),t=ft(),r=t.resolve(h),{root:s}=t.parse(r),i=p?t.resolve(p):void 0,c=(0,Ts.isArray)(e)?e:[e];for(;r&&r!==s;){if(i&&r===i){for(let a of c){let d=t.join(r,a);try{let g=n.statSync(d);if(!o&&g.isFile()||!l&&g.isDirectory())return(0,$e.normalizePath)(d)}catch{}}return}for(let a of c){let d=t.join(r,a);try{let g=n.statSync(d);if(!o&&g.isFile()||!l&&g.isDirectory())return(0,$e.normalizePath)(d)}catch{}}r=t.dirname(r)}}async function xC(e){return!!(await cp(e))?.isDirectory()}function kC(e){return!!up(e)?.isDirectory()}function op(e,u){let{ignore:h=ep.defaultIgnore}={__proto__:null,...u},p=Ie();try{let o=p.readdirSync(e),{length:l}=o;if(l===0)return!0;let n=(0,ep.getGlobMatcher)(h,{cwd:(0,$e.pathLikeToString)(e)}),t=0;for(let r=0;r<l;r+=1){let s=o[r];s&&n(s)&&(t+=1)}return t===l}catch{return!1}}function NC(e){let u=Ie();try{return u.lstatSync(e).isSymbolicLink()}catch{}return!1}function LC(e){let u=Ie(),h=[],p=[],{R_OK:o}=u.constants;for(let l of e)try{u.accessSync(l,o),h.push(l)}catch{p.push(l)}return{__proto__:null,validPaths:h,invalidPaths:p}}async function DC(e,u){let h=Ie();try{return ip(await h.promises.readdir(e,{__proto__:null,encoding:"utf8",withFileTypes:!0}),String(e),u)}catch{}return[]}function MC(e,u){let h=Ie();try{return ip(h.readdirSync(e,{__proto__:null,encoding:"utf8",withFileTypes:!0}),String(e),u)}catch{}return[]}async function jC(e,u){let h=typeof u=="string"?{encoding:u}:u;return await Ie().promises.readFile(e,{signal:Ps,...h,encoding:null})}async function $C(e,u){let h=typeof u=="string"?{encoding:u}:u;return await Ie().promises.readFile(e,{signal:Ps,...h,encoding:"utf8"})}function BC(e,u){let h=typeof u=="string"?{encoding:u}:u;return Ie().readFileSync(e,{...h,encoding:null})}function UC(e,u){let h=typeof u=="string"?{encoding:u}:u;return Ie().readFileSync(e,{...h,encoding:"utf8"})}async function FC(e,u){let h=typeof u=="string"?{encoding:u}:u,{reviver:p,throws:o,...l}={__proto__:null,...h},n=o===void 0||!!o,t=Ie(),r="";try{r=await t.promises.readFile(e,{__proto__:null,encoding:"utf8",...l})}catch(s){if(n)throw s;return}return(0,rp.jsonParse)(r,{filepath:String(e),reviver:p,throws:n})}function HC(e,u){let h=typeof u=="string"?{encoding:u}:u,{reviver:p,throws:o,...l}={__proto__:null,...h},n=o===void 0||!!o,t=Ie(),r="";try{r=t.readFileSync(e,{__proto__:null,encoding:"utf8",...l})}catch(s){if(n)throw s;return}return(0,rp.jsonParse)(r,{filepath:String(e),reviver:p,throws:n})}var Is;function ap(){if(Is===void 0){let e=ft(),{getOsTmpDir:u,getSocketCacacheDir:h,getSocketUserDir:p}=ho();Is=[e.resolve(u()),e.resolve(h()),e.resolve(p())]}return Is}function lp(){Is=void 0}(0,CC.registerCacheInvalidation)(lp);async function GC(e,u){let h=To(),{deleteAsync:p}=h,o={__proto__:null,...u},l=(0,Ts.isArray)(e)?e.map($e.pathLikeToString):[(0,$e.pathLikeToString)(e)],n=o.force!==!1;if(!n&&l.length>0){let t=ft(),r=ap();l.every(s=>{let i=t.resolve(s);for(let c of r){let a=i.startsWith(c+t.sep)||i===c,d=t.relative(c,i).startsWith("..");if(a&&!d)return!0}return!1})&&(n=!0)}await p(l,{concurrency:o.maxRetries||sp.maxRetries,dryRun:!1,force:n,onlyFiles:!1})}function VC(e,u){let h=To(),{deleteSync:p}=h,o={__proto__:null,...u},l=(0,Ts.isArray)(e)?e.map($e.pathLikeToString):[(0,$e.pathLikeToString)(e)],n=o.force!==!1;if(!n&&l.length>0){let t=ft(),r=ap();l.every(s=>{let i=t.resolve(s);for(let c of r){let a=i.startsWith(c+t.sep)||i===c,d=t.relative(c,i).startsWith("..");if(a&&!d)return!0}return!1})&&(n=!0)}p(l,{concurrency:o.maxRetries||sp.maxRetries,dryRun:!1,force:n,onlyFiles:!1})}async function WC(e,u){let h=typeof u=="string"?{encoding:u}:u,p=Ie();try{return await p.promises.readFile(e,{signal:Ps,...h})}catch{}}async function cp(e){let u=Ie();try{return await u.promises.stat(e)}catch{}}function up(e,u){let h=typeof u=="string"?{encoding:u}:u,p=Ie();try{return p.statSync(e,{__proto__:null,throwIfNoEntry:!1,...h})}catch{}}function zC(e,u){let h=typeof u=="string"?{encoding:u}:u,p=Ie();try{return p.readFileSync(e,{__proto__:null,...h})}catch{}}function KC(e){let u=Ie(),h=ft(),p=String(e);if(!u.existsSync(p))return(0,$e.normalizePath)(p);let o=h.dirname(p),l=h.extname(p),n=h.basename(p,l),t=1,r;do r=h.join(o,`${n}-${t}${l}`),t++;while(u.existsSync(r));return(0,$e.normalizePath)(r)}async function JC(e,u,h){let p=typeof h=="string"?{encoding:h}:h,{EOL:o,finalEOL:l,replacer:n,spaces:t,...r}={__proto__:null,...p},s=Ie(),i=np(u,o||`
`,l!==void 0?l:!0,n,t);await s.promises.writeFile(e,i,{encoding:"utf8",...r,__proto__:null})}function qC(e,u,h){let p=typeof h=="string"?{encoding:h}:h,{EOL:o,finalEOL:l,replacer:n,spaces:t,...r}={__proto__:null,...p},s=Ie(),i=np(u,o||`
`,l!==void 0?l:!0,n,t);s.writeFileSync(e,i,{encoding:"utf8",...r,__proto__:null})}});var yp=_e((hN,mp)=>{"use strict";var ZC=Object.defineProperty,Re=(e,u)=>ZC(e,"name",{value:u,configurable:!0}),Bt=(e,u)=>()=>(u||e((u={exports:{}}).exports,u),u.exports),YC=Bt(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.sync=e.isexe=void 0;var u=require("fs"),h=require("internal/fs/promises"),p=Re(async(t,r={})=>{let{ignoreErrors:s=!1}=r;try{return l(await(0,h.stat)(t),r)}catch(i){let c=i;if(s||c.code==="EACCES")return!1;throw c}},"isexe");e.isexe=p;var o=Re((t,r={})=>{let{ignoreErrors:s=!1}=r;try{return l((0,u.statSync)(t),r)}catch(i){let c=i;if(s||c.code==="EACCES")return!1;throw c}},"sync");e.sync=o;var l=Re((t,r)=>t.isFile()&&n(t,r),"checkStat"),n=Re((t,r)=>{let s=r.uid??process.getuid?.(),i=r.groups??process.getgroups?.()??[],c=r.gid??process.getgid?.()??i[0];if(s===void 0||c===void 0)throw new Error("cannot get uid or gid");let a=new Set([c,...i]),d=t.mode,g=t.uid,m=t.gid,f=parseInt("100",8),y=parseInt("010",8),S=parseInt("001",8),b=f|y;return!!(d&S||d&y&&a.has(m)||d&f&&g===s||d&b&&s===0)},"checkMode")}),XC=Bt(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.sync=e.isexe=void 0;var u=require("fs"),h=require("internal/fs/promises"),p=Re(async(t,r={})=>{let{ignoreErrors:s=!1}=r;try{return n(await(0,h.stat)(t),t,r)}catch(i){let c=i;if(s||c.code==="EACCES")return!1;throw c}},"isexe");e.isexe=p;var o=Re((t,r={})=>{let{ignoreErrors:s=!1}=r;try{return n((0,u.statSync)(t),t,r)}catch(i){let c=i;if(s||c.code==="EACCES")return!1;throw c}},"sync");e.sync=o;var l=Re((t,r)=>{let{pathExt:s=process.env.PATHEXT||""}=r,i=s.split(";");if(i.indexOf("")!==-1)return!0;for(let c=0;c<i.length;c++){let a=i[c].toLowerCase(),d=t.substring(t.length-a.length).toLowerCase();if(a&&d===a)return!0}return!1},"checkPathExt"),n=Re((t,r,s)=>t.isFile()&&l(r,s),"checkStat")}),QC=Bt(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})}),e1=Bt(e=>{"use strict";var u=e&&e.__createBinding||(Object.create?function(s,i,c,a){a===void 0&&(a=c);var d=Object.getOwnPropertyDescriptor(i,c);(!d||("get"in d?!i.__esModule:d.writable||d.configurable))&&(d={enumerable:!0,get:Re(function(){return i[c]},"get")}),Object.defineProperty(s,a,d)}:function(s,i,c,a){a===void 0&&(a=c),s[a]=i[c]}),h=e&&e.__setModuleDefault||(Object.create?function(s,i){Object.defineProperty(s,"default",{enumerable:!0,value:i})}:function(s,i){s.default=i}),p=e&&e.__importStar||function(s){if(s&&s.__esModule)return s;var i={};if(s!=null)for(var c in s)c!=="default"&&Object.prototype.hasOwnProperty.call(s,c)&&u(i,s,c);return h(i,s),i},o=e&&e.__exportStar||function(s,i){for(var c in s)c!=="default"&&!Object.prototype.hasOwnProperty.call(i,c)&&u(i,s,c)};Object.defineProperty(e,"__esModule",{value:!0}),e.sync=e.isexe=e.posix=e.win32=void 0;var l=p(YC());e.posix=l;var n=p(XC());e.win32=n,o(QC(),e);var t=process.env._ISEXE_TEST_PLATFORM_||process.platform,r=t==="win32"?n:l;e.isexe=r.isexe,e.sync=r.sync}),t1=Bt((e,u)=>{var{isexe:h,sync:p}=e1(),{join:o,delimiter:l,sep:n,posix:t}=require("path"),r=process.platform==="win32",s=new RegExp(`[${t.sep}${n===t.sep?"":n}]`.replace(/(\\)/g,"\\$1")),i=new RegExp(`^\\.${s.source}`),c=Re(f=>Object.assign(new Error(`not found: ${f}`),{code:"ENOENT"}),"getNotFoundError"),a=Re((f,{path:y=process.env.PATH,pathExt:S=process.env.PATHEXT,delimiter:b=l})=>{let E=f.match(s)?[""]:[...r?[process.cwd()]:[],...(y||"").split(b)];if(r){let _=S||[".EXE",".CMD",".BAT",".COM"].join(b),w=_.split(b).flatMap(O=>[O,O.toLowerCase()]);return f.includes(".")&&w[0]!==""&&w.unshift(""),{pathEnv:E,pathExt:w,pathExtExe:_}}return{pathEnv:E,pathExt:[""]}},"getPathInfo"),d=Re((f,y)=>{let S=/^".*"$/.test(f)?f.slice(1,-1):f;return(!S&&i.test(y)?y.slice(0,2):"")+o(S,y)},"getPathPart"),g=Re(async(f,y={})=>{let{pathEnv:S,pathExt:b,pathExtExe:E}=a(f,y),_=[];for(let w of S){let O=d(w,f);for(let R of b){let I=O+R;if(await h(I,{pathExt:E,ignoreErrors:!0})){if(!y.all)return I;_.push(I)}}}if(y.all&&_.length)return _;if(y.nothrow)return null;throw c(f)},"which"),m=Re((f,y={})=>{let{pathEnv:S,pathExt:b,pathExtExe:E}=a(f,y),_=[];for(let w of S){let O=d(w,f);for(let R of b){let I=O+R;if(p(I,{pathExt:E,ignoreErrors:!0})){if(!y.all)return I;_.push(I)}}}if(y.all&&_.length)return _;if(y.nothrow)return null;throw c(f)},"whichSync");u.exports=g,g.sync=m}),r1=Bt((e,u)=>{"use strict";var h=Re((o,l)=>{if(!o.length)return'""';let n;if(!/[ \t\n\v"]/.test(o))n=o;else{n='"';for(let t=0;t<=o.length;++t){let r=0;for(;o[t]==="\\";)++t,++r;if(t===o.length){n+="\\".repeat(r*2);break}o[t]==='"'?(n+="\\".repeat(r*2+1),n+=o[t]):(n+="\\".repeat(r),n+=o[t])}n+='"'}return n=n.replace(/[ !%^&()<>|"]/g,"^$&"),l&&(n=n.replace(/[ !%^&()<>|"]/g,"^$&")),n},"cmd"),p=Re(o=>o.length?/[\t\n\r "#$&'()*;<>?\\`|~]/.test(o)?`'${o.replace(/'/g,"'\\''")}'`.replace(/^(?:'')+(?!$)/,"").replace(/\\'''/g,"\\'"):o:"''","sh");u.exports={cmd:h,sh:p}}),{spawn:s1}=require("internal/child_process"),i1=require("os"),n1=t1(),dp=r1(),Lo=Re((e,u,h={},p={})=>{if(h.shell)return gp(e,u,h,p);let o,l,n=new Promise((d,g)=>{o=d,l=g}),t=new Error("command failed"),r=[],s=[],i=Re(d=>({cmd:e,args:u,...d,...a1(r,s,h),...p}),"getResult"),c=Re((d,g)=>{let m=i(g);l(Object.assign(d,m))},"rejectWithOpts"),a=s1(e,u,h);return n.stdin=a.stdin,n.process=a,a.on("error",c),a.stdout&&(a.stdout.on("data",d=>r.push(d)),a.stdout.on("error",c)),a.stderr&&(a.stderr.on("data",d=>s.push(d)),a.stderr.on("error",c)),a.on("close",(d,g)=>{d||g?c(t,{code:d,signal:g}):o(i({code:d,signal:g}))}),n},"promiseSpawn"),gp=Re((e,u,h,p)=>{let o=h.shell;o===!0&&(o=process.platform==="win32"?process.env.ComSpec||"cmd.exe":"sh");let l={...h,shell:!1},n=[],t=e;if(/(?:^|\\)cmd(?:\.exe)?$/i.test(o)){let r=!1,s="",i=!1;for(let a=0;a<e.length;++a){let d=e.charAt(a);if(d===" "&&!i)break;s+=d,(d==='"'||d==="'")&&(i=!i)}let c;try{c=n1.sync(s,{path:l.env&&fp(l.env,"PATH")||process.env.PATH,pathext:l.env&&fp(l.env,"PATHEXT")||process.env.PATHEXT}).toLowerCase()}catch{c=s.toLowerCase()}r=c.endsWith(".cmd")||c.endsWith(".bat");for(let a of u)t+=` ${dp.cmd(a,r)}`;n.push("/d","/s","/c",t),l.windowsVerbatimArguments=!0}else{for(let r of u)t+=` ${dp.sh(r)}`;n.push("-c",t)}return Lo(o,n,l,p)},"spawnWithShell"),o1=Re((e,u={},h={})=>{let p={...u,shell:!0},o=[].concat(e),l=process.platform;if(l==="linux"&&i1.release().toLowerCase().includes("microsoft")&&(l="wsl",!process.env.BROWSER))return Promise.reject(new Error("Set the BROWSER environment variable to your desired browser."));let n=p.command;return n||(l==="win32"?(p.shell=process.env.ComSpec,n='start ""'):l==="wsl"?n="sensible-browser":l==="darwin"?n="open":n="xdg-open"),gp(n,o,p,h)},"open");Lo.open=o1;var No=Re((e="pipe",u)=>e==="pipe"||e===null?!0:Array.isArray(e)?No(e[u],u):!1,"isPipe"),a1=Re((e,u,{stdioString:h=!0,stdio:p})=>{let o={stdout:null,stderr:null};return No(p,1)&&(o.stdout=Buffer.concat(e),h&&(o.stdout=o.stdout.toString().trim())),No(p,2)&&(o.stderr=Buffer.concat(u),h&&(o.stderr=o.stderr.toString().trim())),o},"stdioResult"),fp=Re((e,u)=>{u=u.toLowerCase();for(let h of Object.keys(e).sort())if(h.toLowerCase()===u)return e[h]},"findInObject");mp.exports=Lo});var Op=_e((pN,wp)=>{var Uo=Object.defineProperty,l1=Object.getOwnPropertyDescriptor,c1=Object.getOwnPropertyNames,u1=Object.prototype.hasOwnProperty,h1=(e,u)=>{for(var h in u)Uo(e,h,{get:u[h],enumerable:!0})},p1=(e,u,h,p)=>{if(u&&typeof u=="object"||typeof u=="function")for(let o of c1(u))!u1.call(e,o)&&o!==h&&Uo(e,o,{get:()=>u[o],enumerable:!(p=l1(u,o))||p.enumerable});return e},d1=e=>p1(Uo({},"__esModule",{value:!0}),e),Sp={};h1(Sp,{isSpawnError:()=>S1,isStdioType:()=>$o,spawn:()=>b1,spawnSync:()=>E1});wp.exports=d1(Sp);var bp=Qi(),f1=Gr(),mr=Qr(),vp=cs(),g1=(0,bp.getAbortSignal)(),m1=(0,bp.getSpinner)(),Ep=/\.(?:cmd|bat|ps1)$/i,Do;function y1(){return Do===void 0&&(Do=require("internal/child_process")),Do}var Mo;function v1(){return Mo===void 0&&(Mo=yp()),Mo}var jo;function _p(){return jo===void 0&&(jo=require("path")),jo}function S1(e){if(e===null||typeof e!="object")return!1;let u=e;return(0,mr.hasOwn)(u,"code")&&typeof u.code<"u"||(0,mr.hasOwn)(u,"errno")&&typeof u.errno<"u"||(0,mr.hasOwn)(u,"syscall")&&typeof u.syscall=="string"}function $o(e,u){return arguments.length===1?typeof e=="string"&&["pipe","ignore","inherit","overlapped"].includes(e):e===u||e==null&&u==="pipe"||(0,f1.isArray)(e)&&e.length>2&&e[0]===u&&e[1]===u&&e[2]===u}function Bo(e){let u=e,{stderr:h,stdout:p}=u;return typeof p=="string"&&(u.stdout=(0,vp.stripAnsi)(p)),typeof h=="string"&&(u.stderr=(0,vp.stripAnsi)(h)),u}function b1(e,u,h,p){let o=(0,mr.getOwn)(h,"shell"),l=process.platform==="win32",n=e;if(l&&o&&Ep.test(n)){let w=_p();n=w.basename(n,w.extname(n))}let{spinner:t=m1,stripAnsi:r=!0,...s}={__proto__:null,...h},i=t,{env:c,stdio:a,stdioString:d=!0}=s,g=!!i?.isSpinning&&!$o(a,"ignore")&&!$o(a,"pipe"),m=g;g&&i.stop();let f=v1(),y=c?{__proto__:null,...process.env,...c}:process.env,S={__proto__:null,cwd:typeof s.cwd=="string"?s.cwd:void 0,env:y,signal:g1,stdio:s.stdio,stdioString:d,shell:s.shell,timeout:s.timeout,uid:s.uid,gid:s.gid},b=f(n,u?[...u]:[],S,p),E=b,_;return r&&d?_=b.then(w=>{let O=Bo(w);return"code"in O&&(O.exitCode=O.code),O}).catch(w=>{throw Bo(w)}):_=b.then(w=>{if("code"in w){let O=w;return O.exitCode=w.code,O}return w}),m&&(_=_.finally(()=>{i.start()})),_.process=E.process,_.stdin=E.stdin,_}function E1(e,u,h){let p=(0,mr.getOwn)(h,"shell"),o=process.platform==="win32",l=e;if(o&&p&&Ep.test(l)){let a=_p();l=a.basename(l,a.extname(l))}let{stripAnsi:n=!0,...t}={__proto__:null,...h},{stdioString:r=!0}=t,s={encoding:r?"utf8":"buffer",...t},i=s.encoding!=="buffer",c=y1().spawnSync(l,u,s);if(i){let{stderr:a,stdout:d}=c;d&&(c.stdout=d.toString().trim()),a&&(c.stderr=a.toString().trim())}return n&&i?Bo(c):c}});var xp=_e((dN,Pp)=>{var _1=Object.create,Ns=Object.defineProperty,w1=Object.getOwnPropertyDescriptor,O1=Object.getOwnPropertyNames,A1=Object.getPrototypeOf,R1=Object.prototype.hasOwnProperty,C1=(e,u)=>{for(var h in u)Ns(e,h,{get:u[h],enumerable:!0})},Ap=(e,u,h,p)=>{if(u&&typeof u=="object"||typeof u=="function")for(let o of O1(u))!R1.call(e,o)&&o!==h&&Ns(e,o,{get:()=>u[o],enumerable:!(p=w1(u,o))||p.enumerable});return e},Rp=(e,u,h)=>(h=e!=null?_1(A1(e)):{},Ap(u||!e||!e.__esModule?Ns(h,"default",{value:e,enumerable:!0}):h,e)),I1=e=>Ap(Ns({},"__esModule",{value:!0}),e),Cp={};C1(Cp,{dlxPackage:()=>F1,downloadPackage:()=>Ip,executePackage:()=>Tp});Pp.exports=I1(Cp);var T1=require("crypto"),xs=require("fs"),gt=Rp(require("path")),P1=Rp(Vi()),x1=zi(),k1=uc(),N1=pp(),ks=ps(),L1=ho(),D1=Op(),M1=/[~^><=xX* ]|\|\|/;function j1(e){return(0,T1.createHash)("sha256").update(e).digest("hex").slice(0,16)}function $1(e){if(e.startsWith("@")){let h=e.split("@");return h.length===3?{name:h[1],version:h[2]}:h.length===2?{name:`@${h[1]}`,version:void 0}:{name:`@${h[1]}`,version:h[2]}}let u=e.lastIndexOf("@");return u===-1?{name:e,version:void 0}:{name:e.slice(0,u),version:e.slice(u+1)}}async function B1(e,u,h){let p=j1(e),o=(0,ks.normalizePath)(gt.default.join((0,L1.getSocketDlxDir)(),p)),l=(0,ks.normalizePath)(gt.default.join(o,"node_modules",u));if(!h&&(0,xs.existsSync)(l)){let t=gt.default.join(l,"package.json");if((0,xs.existsSync)(t))return{installed:!1,packageDir:o}}await xs.promises.mkdir(o,{recursive:!0});let n=(0,k1.getPacoteCachePath)();return await P1.default.extract(e,l,{cache:n||gt.default.join(o,".cache")}),{installed:!0,packageDir:o}}function U1(e,u,h){let p=(0,ks.normalizePath)(gt.default.join(e,"node_modules",u)),o=gt.default.join(p,"package.json"),l=(0,N1.readJsonSync)(o).bin,n;if(typeof l=="string")n=l;else if(typeof l=="object"&&l!==null){let t=h||u.split("/").pop();n=l[t]}if(!n)throw new Error(`No binary found for package "${u}"`);return(0,ks.normalizePath)(gt.default.join(p,n))}async function F1(e,u,h){let p=await Ip(u),o=Tp(p.binaryPath,e,u?.spawnOptions,h);return{...p,spawnPromise:o}}async function Ip(e){let{force:u,package:h}={__proto__:null,...e},{name:p,version:o}=$1(h),l=o!==void 0&&M1.test(o),n=u!==void 0?u:l,t=o?`${p}@${o}`:p,{installed:r,packageDir:s}=await B1(t,p,n),i=U1(s,p);if(!x1.WIN32&&(0,xs.existsSync)(i)){let{chmodSync:c}=require("fs");try{c(i,493)}catch{}}return{binaryPath:i,installed:r,packageDir:s}}function Tp(e,u,h,p){return(0,D1.spawn)(e,u,h,p)}});var kp=require("internal/child_process"),Ze=require("fs"),Ls=require("os"),yr=Ds(require("path"),1),Np=require("zlib"),Lp=Ds(xp(),1),H1=yr.default.join((0,Ls.homedir)(),".socket","_dlx");function G1(e){if(!e)throw new Error("CLI package directory not initialized");return{cliEntry:yr.default.join(e,"node_modules","@socketsecurity","cli","dist","index.js"),cliEntryBz:yr.default.join(e,"node_modules","@socketsecurity","cli","dist","cli.js.bz")}}function Dp(){return process.argv?process.argv.slice(2):[]}function Mp(e,u){let h=(0,kp.spawnSync)(process.execPath,[e,...u],{env:{...process.env,PKG_EXECPATH:process.env.PKG_EXECPATH||"PKG_INVOKE_NODEJS"},stdio:"inherit"});process.exit(h.status??0)}function V1(e,u){let h=(0,Ze.readFileSync)(e),p=(0,Np.brotliDecompressSync)(h),o=yr.default.join((0,Ls.tmpdir)(),`socket-cli-${process.pid}.js`);(0,Ze.writeFileSync)(o,p);try{Mp(o,u)}finally{try{(0,Ze.unlinkSync)(o)}catch{}}}async function W1(){process.stderr.write(`\u{1F4E6} Socket CLI not found, downloading...
`),process.stderr.write(`
`),(0,Ze.mkdirSync)(H1,{recursive:!0});try{let e=await(0,Lp.dlxPackage)([],{force:!1,package:"@socketsecurity/cli",spawnOptions:{stdio:"pipe"}});process.stderr.write(`   Installed to: ${e.packageDir}
`);try{await e.spawnPromise}catch{}return process.stderr.write(`\u2705 Socket CLI installed successfully
`),process.stderr.write(`
`),e}catch(e){process.stderr.write(`\u274C Failed to download Socket CLI
`),process.stderr.write(`   Error: ${e instanceof Error?e.message:String(e)}
`),process.exit(1)}}async function jp(e){let h=(await W1()).packageDir,{cliEntry:p,cliEntryBz:o}=G1(h);(0,Ze.existsSync)(o)&&V1(o,e),(0,Ze.existsSync)(p)&&Mp(p,e),process.stderr.write(`\u274C Socket CLI installation failed
`),process.stderr.write(`   CLI entry point not found after installation
`),process.stderr.write(`   Looked in: ${p}
`),process.exit(1)}async function z1(){let e=Dp();await jp(e)}z1().catch(e=>{process.stderr.write(`\u274C Bootstrap error: ${e instanceof Error?e.message:String(e)}
`),process.exit(1)});
/*! Bundled license information:

@socketsecurity/lib/dist/external/pacote.js:
  (*! Bundled license information:
  
  imurmurhash/imurmurhash.js:
    (**
     * @preserve
     * JS Implementation of incremental MurmurHash3 (r150) (as of May 10, 2013)
     *
     * @author <a href="mailto:jensyt@gmail.com">Jens Taylor</a>
     * @see http://github.com/homebrewing/brauhaus-diff
     * @author <a href="mailto:gary.court@gmail.com">Gary Court</a>
     * @see http://github.com/garycourt/murmurhash-js
     * @author <a href="mailto:aappleby@gmail.com">Austin Appleby</a>
     * @see http://sites.google.com/site/murmurhash/
     *)
  
  negotiator/index.js:
    (*!
     * negotiator
     * Copyright(c) 2012 Federico Romero
     * Copyright(c) 2012-2014 Isaac Z. Schlueter
     * Copyright(c) 2015 Douglas Christopher Wilson
     * MIT Licensed
     *)
  
  make-fetch-happen/lib/fetch.js:
    (**
     * @license
     * Copyright (c) 2010-2012 Mikeal Rogers
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     * http://www.apache.org/licenses/LICENSE-2.0
     * Unless required by applicable law or agreed to in writing,
     * software distributed under the License is distributed on an "AS
     * IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either
     * express or implied. See the License for the specific language
     * governing permissions and limitations under the License.
     *)
  *)

@socketsecurity/lib/dist/external/fast-glob.js:
  (*! Bundled license information:
  
  is-extglob/index.js:
    (*!
     * is-extglob <https://github.com/jonschlinkert/is-extglob>
     *
     * Copyright (c) 2014-2016, Jon Schlinkert.
     * Licensed under the MIT License.
     *)
  
  is-glob/index.js:
    (*!
     * is-glob <https://github.com/jonschlinkert/is-glob>
     *
     * Copyright (c) 2014-2017, Jon Schlinkert.
     * Released under the MIT License.
     *)
  
  is-number/index.js:
    (*!
     * is-number <https://github.com/jonschlinkert/is-number>
     *
     * Copyright (c) 2014-present, Jon Schlinkert.
     * Released under the MIT License.
     *)
  
  to-regex-range/index.js:
    (*!
     * to-regex-range <https://github.com/micromatch/to-regex-range>
     *
     * Copyright (c) 2015-present, Jon Schlinkert.
     * Released under the MIT License.
     *)
  
  fill-range/index.js:
    (*!
     * fill-range <https://github.com/jonschlinkert/fill-range>
     *
     * Copyright (c) 2014-present, Jon Schlinkert.
     * Licensed under the MIT License.
     *)
  
  queue-microtask/index.js:
    (*! queue-microtask. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> *)
  
  run-parallel/index.js:
    (*! run-parallel. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> *)
  *)

@socketsecurity/lib/dist/external/del.js:
  (*! Bundled license information:
  
  is-extglob/index.js:
    (*!
     * is-extglob <https://github.com/jonschlinkert/is-extglob>
     *
     * Copyright (c) 2014-2016, Jon Schlinkert.
     * Licensed under the MIT License.
     *)
  
  is-glob/index.js:
    (*!
     * is-glob <https://github.com/jonschlinkert/is-glob>
     *
     * Copyright (c) 2014-2017, Jon Schlinkert.
     * Released under the MIT License.
     *)
  
  is-number/index.js:
    (*!
     * is-number <https://github.com/jonschlinkert/is-number>
     *
     * Copyright (c) 2014-present, Jon Schlinkert.
     * Released under the MIT License.
     *)
  
  to-regex-range/index.js:
    (*!
     * to-regex-range <https://github.com/micromatch/to-regex-range>
     *
     * Copyright (c) 2015-present, Jon Schlinkert.
     * Released under the MIT License.
     *)
  
  fill-range/index.js:
    (*!
     * fill-range <https://github.com/jonschlinkert/fill-range>
     *
     * Copyright (c) 2014-present, Jon Schlinkert.
     * Licensed under the MIT License.
     *)
  
  queue-microtask/index.js:
    (*! queue-microtask. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> *)
  
  run-parallel/index.js:
    (*! run-parallel. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> *)
  *)
*/
